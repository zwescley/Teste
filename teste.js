(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[167], {
    86167: function(e, t, i) {
        "use strict";
        let n;
        i.r(t),
        i.d(t, {
            UiContainer: function() {
                return lh
            }
        });
        var a, l, s = i(85893), r = i(67294), o = i(5152), d = i.n(o), c = i(94184), u = i.n(c), m = i(85479), p = i(47414), v = i(53813), h = i(28274), x = i(25617), g = i(67421), _ = i(48583), f = i(31040), j = i(51813), y = i.n(j), b = i(16497), N = i(13169), k = i.n(N), C = i(53059), w = i(64700), S = i(81610), I = i(58206), T = i(34949), P = i.n(T), M = i(79989), D = i.n(M), E = i(35466), A = i(9618), B = i(57295);
        let L = e => {
            let {localizationId: t, defaultText: i="", className: n=""} = e
              , {t: a} = (0,
            g.$G)(["game"])
              , l = t ? a(t, i) : i;
            return l && (0,
            s.jsx)("div", {
                className: n,
                style: {
                    fontSize: "8px"
                },
                children: (0,
                s.jsx)(A.Z, {
                    text: l
                })
            })
        }
          , F = e => {
            let {health: t} = e;
            return (0,
            s.jsx)("div", {
                className: D().itemHealthBarContainer,
                children: (0,
                s.jsx)("div", {
                    className: D().itemHealthBar,
                    style: {
                        width: "".concat(t, "%"),
                        backgroundColor: t > 50 ? "green" : t > 20 ? "yellow" : "red"
                    }
                })
            })
        }
          , G = e => {
            var t, i;
            let n, {isSelected: a, isUsable: l, inventorySlot: o, isOnActiveRow: d} = e, {t: c} = (0,
            g.$G)(["game", "ui"]), [m,p] = (0,
            r.useState)(!1), v = (0,
            r.useMemo)( () => {
                var e, t, i, n, a;
                if (!o || !o.item || !o.quantity)
                    return {
                        render: !1
                    };
                let l = C.Z.getGameItem(o.item);
                if (!l)
                    return {
                        render: !0,
                        frame: 0,
                        itemData: l
                    };
                let s = l && B.Z.preloadedBlob(l.image);
                return {
                    render: !0,
                    itemData: l,
                    frame: null !== (a = null === (t = o.state) || void 0 === t ? void 0 : null === (e = t.displayInfo) || void 0 === e ? void 0 : e.frame) && void 0 !== a ? a : 0,
                    health: null === (n = o.state) || void 0 === n ? void 0 : null === (i = n.displayInfo) || void 0 === i ? void 0 : i.health,
                    xtra: (0,
                    b.Kt)(o.state),
                    itemImage: s
                }
            }
            , [!o, null == o ? void 0 : o.item, null == o ? void 0 : o.quantity, m]);
            return ((0,
            r.useEffect)( () => {
                var e;
                !v.itemImage && v.render && (null === (e = v.itemData) || void 0 === e ? void 0 : e.image) && B.Z.preloadOneBlob((0,
                E.b7)(v.itemData.image)).then( () => p(!m)).catch( () => {}
                )
            }
            , [v.itemImage, v.itemData]),
            v.render) ? (v.xtra ? n = v.xtra : v.itemData ? l || (n = c("inventory.unusable", {
                ns: "ui",
                defaultValue: "Move to use"
            })) : n = c("itemLocked.description", {
                ns: "ui",
                defaultValue: "Item not available in this universe"
            }),
            (0,
            s.jsx)(V, {
                item: v.itemData,
                showDetails: l,
                extraText: n,
                placement: "top",
                children: (0,
                s.jsxs)("div", {
                    className: D().inventoryItem,
                    children: [(0,
                    s.jsx)("img", {
                        className: u()(D().inventoryItemBackground, {
                            [D().activeRow]: d
                        }),
                        src: (0,
                        E.Uk)("/game/ui/backpack/backpack_button_slot.png")
                    }), (0,
                    s.jsxs)("div", {
                        className: u()(D().itemImage, {
                            [D().selected]: a
                        }),
                        children: [!a && !!(null === (t = v.itemData) || void 0 === t ? void 0 : t.tier) && (0,
                        s.jsx)("div", {
                            className: D().itemTier,
                            children: (0,
                            b.Qb)(v.itemData.tier)
                        }), (0,
                        s.jsx)("img", {
                            draggable: !1,
                            crossOrigin: "anonymous",
                            style: {
                                left: -32 * v.frame,
                                top: 0
                            },
                            src: null !== (i = v.itemImage) && void 0 !== i ? i : (0,
                            E.Uk)("/game/ui/store_item_lock.png")
                        })]
                    }), (0,
                    s.jsx)("div", {
                        className: D().itemQuantity,
                        children: o.quantity > 1 ? "x".concat(o.quantity) : ""
                    }), void 0 !== v.health && v.health < 100 && (0,
                    s.jsx)(F, {
                        health: v.health
                    })]
                })
            })) : null
        }
          , R = (0,
        w.ZP)(e => {
            let {className: t, isDragging: i, ...n} = e;
            return (0,
            s.jsx)(S.Z, {
                ...n,
                classes: {
                    popper: u()(t, y().toolTip, {
                        [y().hideTooltip]: i
                    })
                }
            })
        }
        )( () => ({
            ["& .".concat(I.Z.tooltip)]: {
                backgroundColor: "#333",
                fontSize: "12px"
            },
            "&": {
                pointerEvents: "none"
            }
        }))
          , V = e => {
            let {showDetails: t, showUtility: i, item: n, extraText: a, ...l} = e
              , {t: r} = (0,
            g.$G)("game");
            return void 0 === i && (i = t),
            (0,
            s.jsx)(R, {
                ...l,
                enterTouchDelay: 0,
                leaveTouchDelay: 4e3,
                title: (0,
                s.jsxs)("span", {
                    className: P().itemTooltip,
                    children: [(0,
                    s.jsx)("span", {
                        className: P().tooltipTitle,
                        children: (null == n ? void 0 : n.id) ? r((0,
                        b.sA)(n.id)) : r("itemLocked.name", "Locked")
                    }), t && n && (0,
                    s.jsx)(L, {
                        className: P().ttDescription,
                        localizationId: (0,
                        b.sA)(n.id, "description")
                    }), t && n && (0,
                    s.jsx)(L, {
                        className: P().ttUtility,
                        localizationId: (0,
                        b.sA)(n.id, "utility")
                    }), a && (0,
                    s.jsx)(L, {
                        className: P().ttUtility,
                        defaultText: a
                    })]
                })
            })
        }
        ;
        var Z = i(68069);
        function W(e, t, i) {
            let n = e.length;
            return n <= i ? t : Math.floor(t * i / n)
        }
        var O = e => {
            var t, i;
            let {currency: n, balance: a, styles: l, iconStyles: o, small: d=!1, fontSize: c, adjustForWidth: m, text: p, short: v} = e
              , {t: h} = (0,
            g.$G)(["game"])
              , [x,_] = (0,
            r.useState)(a || 0);
            if (void 0 !== a && x !== a) {
                let e = Math.abs(x - a);
                setTimeout( () => {
                    let t = Math.ceil(Math.log10(e))
                      , i = 1;
                    if (1 === t)
                        i = 1;
                    else
                        for (t -= 1; t > 0; )
                            i += 10 ** t / 2 - 1,
                            t -= 1;
                    let n = x;
                    n > a ? (n -= i) < a && (n = a) : (n += i) > a && (n = a),
                    _(n)
                }
                , 20)
            }
            let f = null != p ? p : ""
              , j = c;
            void 0 === a || p || (f = v ? (0,
            E.zV)(x, n) : (0,
            E.xG)(x, n)),
            m && j && (j = W(f, j, m));
            let b = (0,
            Z.j)(null !== (i = null == n ? void 0 : null === (t = n.sprite) || void 0 === t ? void 0 : t.image) && void 0 !== i ? i : (0,
            E.Uk)("/game/ui/coin.png"));
            return (0,
            s.jsx)(R, {
                title: (0,
                s.jsx)("span", {
                    className: "pixelFont",
                    children: h("currency.".concat(null == n ? void 0 : n.name), {
                        ns: "game"
                    })
                }),
                placement: "top",
                children: (0,
                s.jsxs)("div", {
                    className: y().balanceDisplay,
                    style: null != l ? l : {},
                    children: [(0,
                    s.jsx)("img", {
                        className: y()["coin-icon"],
                        src: b,
                        style: null != o ? o : {}
                    }), (0,
                    s.jsx)("span", {
                        style: {
                            fontSize: j
                        },
                        className: u()({
                            [y().coinBalance]: !d,
                            [y().coinCost]: d
                        }),
                        children: f
                    })]
                })
            })
        }
          , q = e => {
            let {itemData: t, itemImage: i} = e
              , n = (0,
            Z.j)(i);
            if (n)
                return (0,
                s.jsxs)("div", {
                    className: k()["card-img-wrapper"],
                    children: [!!(null == t ? void 0 : t.tier) && (0,
                    s.jsx)("div", {
                        className: k()["card-tier"],
                        children: (0,
                        b.Qb)(t.tier)
                    }), (0,
                    s.jsx)("img", {
                        crossOrigin: "anonymous",
                        className: k()["card-img"],
                        src: n
                    })]
                })
        }
        ;
        let U = e => {
            let {skill: t, xp: i} = e
              , {t: n} = (0,
            g.$G)("game")
              , a = (0,
            Z.R)(t)
              , l = r.useMemo( () => n(t, {
                ns: "ui",
                defaultValue: (0,
                b.je)(t)
            }), [t]);
            return (0,
            s.jsx)(R, {
                title: (0,
                s.jsx)("span", {
                    className: "pixelFont",
                    children: l
                }),
                placement: "bottom",
                children: (0,
                s.jsxs)("div", {
                    className: y().balanceDisplay,
                    style: {
                        display: "inline"
                    },
                    children: [(0,
                    s.jsx)("img", {
                        className: y()["coin-icon"],
                        src: a
                    }), (0,
                    s.jsx)("span", {
                        className: u()({
                            [y().coinCost]: !0
                        }),
                        children: (0,
                        E.zV)(i)
                    })]
                })
            })
        }
          , H = e => {
            var t;
            let {request: i, reward: n, canFill: a, onFill: l, playerClassId: r} = e
              , {t: o} = (0,
            g.$G)("ui");
            return (0,
            s.jsx)("div", {
                className: u()(k()["store-item-container"], k().order),
                children: (0,
                s.jsx)("div", {
                    className: u()(k()["card-content-wrapper"], k()["store-locked"], {
                        [k()["order-class-".concat(r)]]: !!r
                    }),
                    children: (0,
                    s.jsxs)("div", {
                        className: k()["card-content"],
                        children: [(0,
                        s.jsxs)("div", {
                            className: k()["card-header"],
                            children: [(0,
                            s.jsx)("div", {
                                children: !!n.skill.skillType && (0,
                                s.jsx)(U, {
                                    skill: n.skill.skillType,
                                    xp: n.skill.xp
                                })
                            }), (0,
                            s.jsx)("div", {
                                children: (0,
                                s.jsx)(O, {
                                    currency: C.Z.getGameCurrency(null !== (t = n.currency.currencyId) && void 0 !== t ? t : C.Z.getDefaultCurrency()),
                                    balance: n.currency.amount,
                                    styles: {
                                        display: "inline"
                                    },
                                    small: !0,
                                    short: !0
                                })
                            })]
                        }), (0,
                        s.jsx)(q, {
                            itemData: i.item,
                            itemImage: i.item.image
                        }), (0,
                        s.jsxs)("div", {
                            className: k()["item-quantity"],
                            children: ["x", (0,
                            s.jsx)("span", {
                                children: i.quantity
                            })]
                        }), (0,
                        s.jsxs)("div", {
                            className: k()["card-footer"],
                            children: [(0,
                            s.jsx)("div", {
                                className: k()["card-title"],
                                children: i.item.name
                            }), (0,
                            s.jsx)("button", {
                                type: "button",
                                className: u()(k()["btn-max"], y().pushbutton),
                                disabled: !a,
                                onClick: l,
                                children: o("store.orders.deliver", {
                                    defaultValue: "DELIVER"
                                })
                            })]
                        })]
                    })
                })
            })
        }
        ;
        var z = i(80919)
          , K = i(73913);
        function Q(e) {
            let t = K.l.getInstance().serverTimeDelta
              , [i,n] = r.useState( () => t + e - Date.now());
            return r.useEffect( () => {
                let i = setInterval( () => n(t + e - Date.now()), 1e3);
                return () => clearInterval(i)
            }
            , [e]),
            r.useMemo( () => (0,
            b.Zo)(Math.ceil(i / 1e3)), [i])
        }
        let $ = e => {
            let {timestamp: t} = e
              , i = Q(t);
            return (0,
            s.jsx)("button", {
                type: "button",
                className: u()(k()["btn-max"], y().pushbutton),
                disabled: !0,
                children: i
            })
        }
          , Y = e => {
            let {cooldownEndTimestamp: t} = e
              , {t: i} = (0,
            g.$G)("ui");
            return (0,
            s.jsx)("div", {
                className: u()(k()["store-item-container"], k().order),
                children: (0,
                s.jsx)("div", {
                    className: u()(k()["card-content-wrapper"], k()["store-locked"]),
                    children: (0,
                    s.jsxs)("div", {
                        className: k()["card-content"],
                        children: [(0,
                        s.jsx)("div", {
                            className: k()["card-header"]
                        }), (0,
                        s.jsx)("div", {
                            className: k()["card-img-wrapper"],
                            children: (0,
                            s.jsx)("img", {
                                crossOrigin: "anonymous",
                                className: k()["card-img"],
                                src: (0,
                                E.Uk)("/game/ui/store_item_lock.png")
                            })
                        }), (0,
                        s.jsxs)("div", {
                            className: k()["card-footer"],
                            children: [(0,
                            s.jsx)("div", {
                                className: k()["card-title"],
                                children: i("store.orders.cooldown.caption", {
                                    defaultValue: "NEW TASK IN:"
                                })
                            }), (0,
                            s.jsx)($, {
                                timestamp: t
                            })]
                        })]
                    })
                })
            })
        }
          , X = e => {
            let {lockReason: t} = e
              , {t: i} = (0,
            g.$G)("ui");
            return (0,
            s.jsx)("div", {
                className: u()(k()["store-item-container"], k().order),
                children: (0,
                s.jsx)("div", {
                    className: u()(k()["card-content-wrapper"], k()["store-locked"]),
                    children: (0,
                    s.jsxs)("div", {
                        className: k()["card-content"],
                        children: [(0,
                        s.jsx)("div", {
                            className: k()["card-header"]
                        }), (0,
                        s.jsx)("div", {
                            className: k()["card-img-wrapper"],
                            children: (0,
                            s.jsx)("img", {
                                crossOrigin: "anonymous",
                                className: k()["card-img"],
                                src: (0,
                                E.Uk)("/game/ui/store_item_lock.png")
                            })
                        }), (0,
                        s.jsx)("div", {
                            className: k()["card-footer"],
                            children: (0,
                            s.jsx)("div", {
                                className: k()["card-title"],
                                children: i("store.orders.locked.reason.".concat(t), {
                                    defaultValue: t.toUpperCase()
                                })
                            })
                        })]
                    })
                })
            })
        }
          , J = () => {
            let {t: e} = (0,
            g.$G)("ui");
            return (0,
            s.jsx)("div", {
                className: u()(k()["store-item-container"], k().order),
                children: (0,
                s.jsx)("div", {
                    className: u()(k()["card-content-wrapper"], k()["store-locked"]),
                    children: (0,
                    s.jsxs)("div", {
                        className: k()["card-content"],
                        children: [(0,
                        s.jsx)("div", {
                            className: k()["card-header"]
                        }), (0,
                        s.jsx)("div", {
                            className: k()["card-img-wrapper"],
                            children: (0,
                            s.jsx)("img", {
                                crossOrigin: "anonymous",
                                className: k()["card-img"],
                                src: (0,
                                E.Uk)("/game/ui/store_item_lock.png")
                            })
                        }), (0,
                        s.jsx)("div", {
                            className: k()["card-img-wrapper"],
                            children: e("store.orders.locked.vip.prompt", {
                                defaultValue: "Unlock task?"
                            })
                        }), (0,
                        s.jsx)("div", {
                            className: k()["card-footer"],
                            children: (0,
                            s.jsx)("button", {
                                type: "button",
                                className: u()(k()["btn-max"], y().pushbutton),
                                onClick: () => z.ZP.sendEventDelayed(z.fb.PRESENT_UI, {
                                    ui: "str_vipShop"
                                }),
                                children: e("button.getvip", {
                                    defaultValue: "Get VIP"
                                })
                            })
                        })]
                    })
                })
            })
        }
          , ee = e => {
            let {lockReason: t} = e;
            return "vip" === t ? (0,
            s.jsx)(J, {}) : (0,
            s.jsx)(X, {
                lockReason: t
            })
        }
          , et = e => {
            let {maxDots: t=3, delay: i=700} = e
              , [n,a] = r.useState(0);
            r.useEffect( () => {
                let e = setInterval( () => a(e => (e + 1) % (t + 1)), i);
                return () => clearInterval(e)
            }
            , [t, i]);
            let l = r.useMemo( () => {
                let e = [];
                for (let t = 0; t < n; ++t)
                    e.push(".");
                return e.join("")
            }
            , [n]);
            return (0,
            s.jsx)("div", {
                className: y().loading,
                children: (0,
                s.jsxs)("div", {
                    children: ["Loading", l]
                })
            })
        }
          , ei = e => {
            let {timestamp: t} = e
              , {t: i} = (0,
            g.$G)("ui")
              , n = Q(t);
            return (0,
            s.jsx)("span", {
                children: i("generalStore.sellOrders.timeRemaining", {
                    ns: "ui",
                    defaultValue: "Reset in {{value}}",
                    value: n
                })
            })
        }
          , en = {
            nextReset: 0,
            orders: []
        }
          , ea = e => {
            var t;
            let {storeId: i, inventory: n} = e
              , [a] = (0,
            _.KO)(f.v)
              , {nextReset: l, orders: o, missingMembershipOrders: d, fetching: c} = null !== (t = a[i]) && void 0 !== t ? t : en
              , v = (0,
            m.C)(p.lA)
              , h = (0,
            m.C)(p.ge)
              , x = r.useMemo( () => null == d ? void 0 : d.includes("vip"), [d]);
            !function(e, t, i, n) {
                let a = r.useMemo( () => Math.min(t, ...i.filter(e => {
                    let {completedAt: t} = e;
                    return t > 0
                }
                ).map(e => {
                    let {completedAt: t, cooldown: i} = e;
                    return t + (i || 0)
                }
                )), [t, i]);
                (0,
                r.useEffect)( () => {
                    if (n)
                        return;
                    let t = a + K.l.getInstance().serverTimeDelta
                      , l = Date.now();
                    if ((null == i ? void 0 : i.length) || !(t + 5e3 < l))
                        return clearTimeout.bind(void 0, setTimeout(e => {
                            z.rV.sellOrders.fetch.emit({
                                storeId: e
                            })
                        }
                        , Math.max(t - l + 500, 1e3), e));
                    z.rV.sellOrders.fetch.emit({
                        storeId: e
                    })
                }
                , [e, a, n])
            }(i, h && x ? 0 : l, o, !!c);
            let {t: j} = (0,
            g.$G)("game")
              , N = r.useMemo( () => o.map(e => {
                var t, i;
                let {request: a, reward: l, completedAt: s, cooldown: r} = e
                  , {itemId: o, quantity: d} = a
                  , c = C.Z.getGameItem(o)
                  , u = n.slots instanceof Map ? n.slots : Object.values(n.slots)
                  , m = 0;
                return u.forEach(e => {
                    e.item === o && (m += e.quantity)
                }
                ),
                {
                    request: {
                        item: {
                            image: null !== (i = null === (t = (0,
                            b.J2)(c, !1)) || void 0 === t ? void 0 : t.image) && void 0 !== i ? i : "",
                            name: c ? j((0,
                            b.sA)(c.id), "") : "",
                            tier: null == c ? void 0 : c.tier
                        },
                        quantity: d
                    },
                    reward: l,
                    canFill: m >= d,
                    completed: s ? {
                        cooldownEndTime: s > 0 ? s + (r || 0) : 0
                    } : void 0,
                    playerClassId: e.playerClassId
                }
            }
            ), [n.slots, o]);
            return (0,
            s.jsx)("div", {
                className: k()["store-tab"],
                children: (0,
                s.jsxs)("div", {
                    className: u()(k()["sell-content-wrapper"], y().scrollArea),
                    children: [(0,
                    s.jsxs)("div", {
                        className: k()["items-header"],
                        children: [(0,
                        s.jsx)("div", {
                            children: (0,
                            s.jsx)(ei, {
                                timestamp: l
                            })
                        }), (null == v ? void 0 : v.full.godmode) && (0,
                        s.jsx)("div", {
                            children: (0,
                            s.jsx)("button", {
                                type: "button",
                                className: u()(k()["btn-max"], y().pushbutton),
                                onClick: () => z.rV.sellOrders.reset.emit({
                                    storeId: i
                                }),
                                children: j("store.orders.reset", {
                                    defaultValue: "RESET"
                                })
                            })
                        })]
                    }), c && !N.length ? (0,
                    s.jsx)(et, {}) : N.length ? (0,
                    s.jsxs)("div", {
                        className: k()["items-content"],
                        children: [N.map( (e, t) => e.completed ? (0,
                        s.jsx)(Y, {
                            cooldownEndTimestamp: e.completed.cooldownEndTime
                        }, t) : e.request.item.image && e.request.item.name ? (0,
                        s.jsx)(H, {
                            request: e.request,
                            reward: e.reward,
                            canFill: e.canFill,
                            onFill: () => z.rV.sellOrders.fill.emit({
                                sellOrderIndex: t,
                                storeId: i
                            }),
                            playerClassId: e.playerClassId
                        }, t) : null), null == d ? void 0 : d.map( (e, t) => (0,
                        s.jsx)(ee, {
                            lockReason: e
                        }, "locked_".concat(t)))]
                    }) : (0,
                    s.jsx)("div", {
                        className: k()["no-items-info"],
                        children: j("generalStore.sellOrders.empty", {
                            ns: "ui",
                            defaultValue: "No orders right now. Check back later."
                        })
                    })]
                })
            })
        }
        ;
        var el = e => {
            let {itemData: t, itemImage: i, selectedItem: n, handleCardOnClick: a} = e
              , {t: l} = (0,
            g.$G)(["ui"]);
            if (!t)
                return null;
            let r = t.id === (null == n ? void 0 : n.id)
              , {currency: o, buyPrice: d} = t
              , c = d && d >= 0
              , m = "lock" === t.buyStatus || !c
              , p = C.Z.getGameCurrency(o);
            return p && c && i ? (0,
            s.jsxs)("div", {
                className: k()["store-item-container"],
                children: [(0,
                s.jsx)("div", {
                    className: u()(k()["card-content-wrapper"], {
                        [k().selected]: r,
                        [k()["store-locked"]]: m
                    }, "clickable"),
                    children: (0,
                    s.jsxs)("div", {
                        className: k()["card-content"],
                        onClick: () => a(t),
                        children: [(0,
                        s.jsx)("div", {
                            className: k()["card-title"],
                            children: t.nameValue
                        }), (0,
                        s.jsx)(q, {
                            itemData: t,
                            itemImage: i
                        }), (0,
                        s.jsx)("div", {
                            className: k()["item-price"],
                            children: m ? (0,
                            s.jsx)("span", {
                                style: {
                                    lineHeight: "2rem"
                                },
                                children: "?"
                            }) : (0,
                            s.jsx)(O, {
                                currency: p,
                                balance: d,
                                styles: {
                                    display: "inline"
                                },
                                small: !0
                            })
                        })]
                    })
                }), m && (0,
                s.jsxs)("div", {
                    className: k()["store-item-locked"],
                    children: [(0,
                    s.jsx)("img", {
                        className: k()["lock-icon"],
                        src: (0,
                        E.Uk)("/game/ui/store_item_lock.png")
                    }), (0,
                    s.jsxs)("p", {
                        children: [" ", l("generalStore.buy.itemLockedText", {
                            ns: "ui"
                        })]
                    })]
                })]
            }) : null
        }
          , es = i(96329)
          , er = i(37197)
          , eo = i(83054)
          , ed = i(63534);
        class ec {
            async fetchStoreItemStockSupplyData(e, t) {
                return this.api.getStoreItemStockSupply(e, t)
            }
            constructor(e) {
                this.api = e
            }
        }
        var eu = new ec(ed.Z);
        let em = e => {
            let {isLoading: t, stockData: i} = e
              , {t: n} = (0,
            g.$G)(["ui"]);
            return (0,
            s.jsxs)(s.Fragment, {
                children: [n("generalStore.supplyAndStock"), (0,
                s.jsx)("br", {}), t ? (0,
                s.jsx)("div", {
                    className: k().loading,
                    children: (0,
                    s.jsx)(es.s5, {
                        strokeColor: "white",
                        strokeWidth: "5",
                        animationDuration: "0.75",
                        width: "20",
                        visible: !0
                    })
                }) : (0,
                s.jsxs)("div", {
                    className: k()["item-utility"],
                    children: [i.stock, "/", i.supply]
                })]
            })
        }
          , ep = e => {
            let {tier: t, image: i, width: n, height: a, scale: l} = e
              , r = (0,
            Z.j)(i);
            return (0,
            s.jsxs)("div", {
                className: k()["item-img-wrapper"],
                children: [!!t && (0,
                s.jsx)("div", {
                    className: k()["item-tier"],
                    style: n ? {
                        fontSize: Math.ceil(n / 32 * 6),
                        left: "calc(50% - ".concat(n / 2, "px)")
                    } : void 0,
                    children: (0,
                    b.Qb)(t)
                }), n && a ? (0,
                s.jsx)("div", {
                    style: {
                        width: n,
                        height: a,
                        overflow: "hidden",
                        margin: "auto"
                    },
                    children: (0,
                    s.jsx)("img", {
                        crossOrigin: "anonymous",
                        className: k()["item-img"],
                        style: {
                            width: n,
                            height: a,
                            transform: "scale(".concat(l, ")"),
                            transformOrigin: "top left"
                        },
                        src: r
                    })
                }) : (0,
                s.jsx)("img", {
                    crossOrigin: "anonymous",
                    className: k()["item-img"],
                    style: {
                        width: "auto",
                        height: "auto"
                    },
                    src: r
                })]
            })
        }
        ;
        var ev = e => {
            var t, i, n, a;
            let {coinInventory: l, storeId: o, itemData: d, getItemImage: c, deselectItem: p, open: h} = e
              , x = (0,
            m.T)()
              , {t: _} = (0,
            g.$G)(["game", "ui"])
              , [f,j] = (0,
            r.useState)(0)
              , [b,N] = (0,
            r.useState)(!1)
              , w = (0,
            r.useRef)(null)
              , S = (0,
            r.useRef)(null)
              , {stockData: I, isLoading: T} = function(e) {
                let {storeId: t, storeItemData: i} = e
                  , [n,a] = (0,
                r.useState)(!0)
                  , [l,s] = (0,
                r.useState)({
                    stock: (null == i ? void 0 : i.stock) || 0,
                    supply: (null == i ? void 0 : i.supply) || 0
                });
                return (0,
                r.useEffect)( () => {
                    if (!(null == i ? void 0 : i.supply))
                        return;
                    let e = !0;
                    (async function() {
                        a(!0);
                        try {
                            let n = await eu.fetchStoreItemStockSupplyData(t, i.id);
                            i && n && (i.stock = n.stock),
                            e && s(n)
                        } catch (e) {
                            console.log("failed to get stock/supply data", e)
                        } finally {
                            e && a(!1)
                        }
                    }
                    )()
                }
                , [t, i]),
                {
                    isLoading: n,
                    stockData: l
                }
            }({
                storeId: o,
                storeItemData: d
            })
              , P = C.Z.getGameCurrencies()
              , M = null == P ? void 0 : P[null !== (t = null == d ? void 0 : d.currency) && void 0 !== t ? t : ""]
              , D = M ? l.find(e => e.currencyId === M.id) : void 0
              , B = D ? D.balance : 0;
            (0,
            r.useEffect)( () => {
                if (d) {
                    var e, t;
                    let i = Math.min(1, d.supply ? T ? null !== (e = d.stock) && void 0 !== e ? e : 0 : null !== (t = I.stock) && void 0 !== t ? t : 0 : 1 / 0);
                    j(i),
                    N(i > 0 && !!d.buyPrice && B >= d.buyPrice)
                }
            }
            , [d, T, I, B]);
            let L = r.useMemo( () => {
                var e, t, i, n, a;
                let l = (null == d ? void 0 : null === (e = d.onUse) || void 0 === e ? void 0 : e.types.includes("placeEntity")) && (null === (t = d.onUse.placeEntity) || void 0 === t ? void 0 : t.entity)
                  , s = l && C.Z.getGameEntity(l)
                  , r = s && (null === (i = s.discoverability) || void 0 === i ? void 0 : i.points) || 0
                  , o = (null == d ? void 0 : null === (n = d.onUse) || void 0 === n ? void 0 : n.types.includes("placeObject")) && d.onUse.placeObject
                  , c = o && C.Z.getGameObject(o);
                return r + (c && (null === (a = c.discoverability) || void 0 === a ? void 0 : a.points) || 0)
            }
            , [d]);
            if (!d)
                return null;
            let F = c(d, !0);
            if (!P || !M)
                return null;
            let G = d.buyPrice || 1 / 0
              , R = Math.min(Math.floor(B / G), d.supply ? T ? null !== (i = d.stock) && void 0 !== i ? i : 0 : null !== (n = I.stock) && void 0 !== n ? n : 0 : 1 / 0);
            d.limitBuyQuantity && (R = Math.min(R, d.limitBuyQuantity));
            let V = B >= G
              , Z = e => {
                !e || e < 1 || e > R ? N(!1) : N(!0)
            }
              , W = e => !e || e < 0 ? Math.min(1, R) : e > R ? R : e
              , q = e => {
                j(t => {
                    let i = t + e;
                    return Z(i = W(i)),
                    i
                }
                ),
                S.current = setTimeout( () => {
                    let t = Date.now();
                    w.current = setInterval( () => {
                        let i = Math.floor((Date.now() - t) / 1500);
                        j(t => {
                            let n = t + e * (1 + i);
                            return Z(n = W(n)),
                            n
                        }
                        )
                    }
                    , 50)
                }
                , 250)
            }
              , U = () => {
                S.current && clearTimeout(S.current),
                (null == w ? void 0 : w.current) && clearInterval(w.current)
            }
              , H = e => {
                let t = parseInt(e, 10);
                t < 1 || t > R || (j(t),
                Z(t))
            }
              , z = d.descriptionValue
              , K = d.utilityValue;
            return (0,
            s.jsxs)(er.Z, {
                maxWidth: "sm",
                open: h,
                className: u()(k()["store-item-modal"]),
                onKeyDown: e => {
                    "Escape" === e.key && p()
                }
                ,
                PaperProps: {
                    className: u()(y().uikit, y().frame, y().orange, y().popup)
                },
                children: [(0,
                s.jsxs)(eo.Z, {
                    className: u()(k()["store-dialog-content"]),
                    children: [(0,
                    s.jsxs)("div", {
                        className: u()(y().scrollArea, k()["store-item-modal-container"]),
                        children: [(0,
                        s.jsxs)("div", {
                            className: k()["item-content"],
                            children: [(null == F ? void 0 : F.image) && (0,
                            s.jsx)(ep, {
                                tier: null == d ? void 0 : d.tier,
                                image: F.image,
                                width: F.width,
                                height: F.height,
                                scale: F.scale
                            }), (0,
                            s.jsx)("div", {
                                className: k()["item-title"],
                                children: d.nameValue
                            }), (null == d ? void 0 : d.buyPrice) && M ? (0,
                            s.jsx)(O, {
                                currency: M,
                                balance: null !== (a = d.buyPrice) && void 0 !== a ? a : 0,
                                styles: {
                                    display: "inline"
                                }
                            }) : void 0]
                        }), (0,
                        s.jsxs)("div", {
                            className: k()["item-metadata"],
                            children: [z && (0,
                            s.jsxs)(s.Fragment, {
                                children: [_("generalStore.itemDescriptionTitle", {
                                    ns: "ui"
                                }), ":", (0,
                                s.jsx)("br", {}), (0,
                                s.jsx)("div", {
                                    className: k()["item-description"],
                                    children: (0,
                                    s.jsx)(A.Z, {
                                        text: z
                                    })
                                })]
                            }), K && (0,
                            s.jsxs)(s.Fragment, {
                                children: [_("generalStore.itemUtilityTitle", {
                                    ns: "ui"
                                }), ":", (0,
                                s.jsx)("br", {}), (0,
                                s.jsx)("div", {
                                    className: k()["item-utility"],
                                    children: K
                                })]
                            }), L ? (0,
                            s.jsxs)(s.Fragment, {
                                children: [_("generalStore.itemDiscoverabiltyTitle", {
                                    ns: "ui",
                                    defaultValue: "Discoverability"
                                }), ":", (0,
                                s.jsx)("br", {}), (0,
                                s.jsx)("div", {
                                    className: k()["item-discoverability"],
                                    children: _("generalStore.itemDiscoverabiltyPoints", {
                                        ns: "ui",
                                        count: L,
                                        defaultValue: "".concat(L, " points")
                                    })
                                })]
                            }) : null, d.supply ? (0,
                            s.jsx)(em, {
                                stockData: I,
                                isLoading: T
                            }) : null, d.supply && d.limitBuyQuantity ? (0,
                            s.jsxs)(s.Fragment, {
                                children: [_("generalStore.itemLimitBuyQuantityTitle", {
                                    ns: "ui"
                                }), ":", (0,
                                s.jsx)("br", {}), (0,
                                s.jsx)("div", {
                                    className: k()["item-limit"],
                                    children: (0,
                                    E.uf)(d.limitBuyQuantity)
                                })]
                            }) : null]
                        })]
                    }), V ? (0,
                    s.jsxs)("div", {
                        className: k()["buy-section"],
                        children: [(0,
                        s.jsxs)("div", {
                            className: k()["buy-quantity"],
                            children: [(0,
                            s.jsxs)("div", {
                                className: k().quantityTitle,
                                style: {
                                    margin: "0"
                                },
                                children: [_("generalStore.itemQuantityTitle", {
                                    ns: "ui"
                                }), ":"]
                            }), (0,
                            s.jsx)("button", {
                                className: u()(k()["btn-down"], "clickable"),
                                type: "button",
                                onMouseDown: () => q(-1),
                                onMouseUp: U,
                                onMouseLeave: U,
                                children: (0,
                                s.jsx)("img", {
                                    className: k()["arrow-down"],
                                    src: (0,
                                    E.Uk)("/game/ui/arrow_left_black.png")
                                })
                            }), (0,
                            s.jsx)("div", {
                                className: k()["quantity-val"],
                                children: (0,
                                s.jsx)("input", {
                                    className: u()(k()["quantity-input"], {
                                        "is-error": !b
                                    }),
                                    value: f,
                                    onChange: e => H(e.target.value),
                                    type: "number"
                                })
                            }), (0,
                            s.jsx)("button", {
                                className: u()(k()["btn-up"], "clickable"),
                                type: "button",
                                onMouseDown: () => q(1),
                                onMouseUp: U,
                                onMouseLeave: U,
                                children: (0,
                                s.jsx)("img", {
                                    className: k()["arrow-up"],
                                    src: (0,
                                    E.Uk)("/game/ui/arrow_right_black.png")
                                })
                            }), (0,
                            s.jsx)("button", {
                                className: u()(k()["btn-max"], y().pushbutton),
                                type: "button",
                                onClick: () => {
                                    j(R),
                                    N(R > 0)
                                }
                                ,
                                children: _("generalStore.maxButtonText", {
                                    defaultValue: "MAX",
                                    ns: "ui"
                                })
                            })]
                        }), (0,
                        s.jsxs)("div", {
                            style: {
                                marginBottom: 15,
                                display: "flex",
                                justifyContent: "space-between"
                            },
                            children: [(0,
                            s.jsx)("span", {
                                children: _("generalStore.buy.total", {
                                    ns: "ui"
                                })
                            }), Number.isNaN(f) ? void 0 : (0,
                            s.jsx)(O, {
                                currency: M,
                                balance: f * G,
                                styles: {
                                    display: "inline"
                                }
                            })]
                        }), (0,
                        s.jsxs)("button", {
                            className: u()(k()["buy-btn"], y().pushbutton),
                            type: "button",
                            onClick: () => {
                                x((0,
                                v.NN)({
                                    storeId: o,
                                    itemId: d.id,
                                    quantity: f
                                })),
                                p()
                            }
                            ,
                            disabled: !b || Number.isNaN(f),
                            children: [_("generalStore.buyButtonText", {
                                ns: "ui"
                            }), " ", Number.isNaN(f) ? 0 : f]
                        })]
                    }) : (0,
                    s.jsx)("div", {
                        className: k()["buy-section"],
                        children: (0,
                        s.jsx)("p", {
                            className: k()["not-enough-coins"],
                            children: _("generalStore.buy.notEnoughCoinsText", {
                                ns: "ui",
                                currency: _("currency.".concat(null == M ? void 0 : M.name), {
                                    ns: "game"
                                })
                            })
                        })
                    })]
                }), (0,
                s.jsx)("button", {
                    className: y().closeBtn,
                    type: "button",
                    onClick: p,
                    children: "\xa0"
                })]
            })
        }
          , eh = i(36609);
        let ex = e => {
            let t = {};
            return e.items.forEach(e => {
                let i = C.Z.getGameItem(e.item);
                (null == i ? void 0 : i.id) && (t[i.id] = {
                    ...e,
                    ...i,
                    nameValue: eh.ZP.t((0,
                    b.sA)(i.id), {
                        ns: "game"
                    }),
                    descriptionValue: eh.ZP.t((0,
                    b.sA)(i.id, "description"), {
                        ns: "game",
                        defaultValue: ""
                    }),
                    utilityValue: eh.ZP.t((0,
                    b.sA)(i.id, "utility"), {
                        ns: "game",
                        defaultValue: ""
                    })
                })
            }
            ),
            t
        }
        ;
        function eg(e) {
            let t = C.Z.getStoreData()
              , i = !!e && (null == t ? void 0 : t[e]);
            return i ? {
                ...i,
                localizedItems: ex(i)
            } : i
        }
        var e_ = e => {
            var t;
            let {store: i, coinInventory: n} = e
              , {t: a} = (0,
            g.$G)("ui")
              , [l,o] = r.useState("")
              , d = (0,
            m.C)(p.lA)
              , [c,v] = (0,
            r.useState)([])
              , [h,x] = (0,
            r.useState)(null)
              , _ = i && (null === (t = i.ui) || void 0 === t ? void 0 : t.search) !== !1;
            (0,
            r.useEffect)( () => {
                let e = i ? i.localizedItems : {}
                  , t = e && Object.keys(e).length ? Object.values(e).filter(e => {
                    var t;
                    if (!(null == e ? void 0 : e.id) || !d || "hide" === e.buyStatus)
                        return !1;
                    if (!(null === (t = e.requirements) || void 0 === t ? void 0 : t.levels))
                        return !0;
                    let i = d.full.levels;
                    return e.requirements.levels.every(e => {
                        var t;
                        let n = i[e.levelType];
                        return (null !== (t = null == n ? void 0 : n.level) && void 0 !== t ? t : 0) >= e.level
                    }
                    )
                }
                ) : [];
                return v((null == i ? void 0 : i.sort) && (null == i ? void 0 : i.sort) === "price" ? function(e) {
                    let t = e => !e || "lock" === e.buyStatus || !e.buyPrice
                      , i = e.filter(e => t(e))
                      , n = e.filter(e => !t(e));
                    return i.sort( (e, t) => (e.buyPrice || 0) - (t.buyPrice || 0)),
                    n.sort( (e, t) => (e.buyPrice || 0) - (t.buyPrice || 0)),
                    [...n, ...i]
                }(t) : function(e) {
                    let t = e => !e || "lock" === e.buyStatus || !e.buyPrice
                      , i = e.filter(e => t(e))
                      , n = e.filter(e => !t(e));
                    return i.sort( (e, t) => e.nameValue.localeCompare(t.nameValue)),
                    n.sort( (e, t) => e.nameValue.localeCompare(t.nameValue)),
                    [...n, ...i]
                }(t)),
                () => {
                    v([]),
                    x(null)
                }
            }
            , [i, d]);
            let f = r.useMemo( () => {
                if (!l || !_)
                    return c;
                let e = l.toLocaleLowerCase();
                return c.filter(t => t.nameValue.toLocaleLowerCase().includes(e))
            }
            , [c, l, _])
              , j = e => {
                (null == h ? void 0 : h.id) === e.id ? x(null) : x(e)
            }
            ;
            return (0,
            s.jsxs)("div", {
                className: k()["store-tab"],
                children: [(0,
                s.jsx)("input", {
                    type: "text",
                    className: k().filter,
                    placeholder: a("generalStore.filter", {
                        ns: "ui",
                        defaultValue: "Search"
                    }),
                    value: l,
                    onChange: e => o(e.target.value),
                    style: {
                        display: _ ? "block" : "none"
                    }
                }), (0,
                s.jsxs)("div", {
                    className: u()(k()["category-content-wrapper"], y().scrollArea),
                    children: [(0,
                    s.jsx)("div", {
                        className: k()["category-content"],
                        children: f && f.map(e => {
                            var t;
                            return (0,
                            s.jsx)(el, {
                                itemData: e,
                                itemImage: null === (t = (0,
                                b.J2)(e, !1)) || void 0 === t ? void 0 : t.image,
                                selectedItem: h,
                                handleCardOnClick: j
                            }, e.id)
                        }
                        )
                    }), 0 === c.length && (0,
                    s.jsx)("div", {
                        className: k()["no-items-info"],
                        children: (0,
                        s.jsx)("div", {
                            children: a("generalStore.buy.nothingInACategoryText")
                        })
                    })]
                }), i && (0,
                s.jsx)(ev, {
                    coinInventory: n,
                    storeId: i.id,
                    itemData: h,
                    getItemImage: b.J2,
                    deselectItem: () => {
                        x(null)
                    }
                    ,
                    open: null !== h
                })]
            })
        }
          , ef = e => {
            var t;
            let {itemData: i, itemImage: n, inventorySlotData: a, isSelected: l, handleCardOnClick: r} = e;
            if (!i)
                return null;
            let o = null !== (t = i.currencySell) && void 0 !== t ? t : i.currency
              , d = C.Z.getGameCurrency(o)
              , c = d && i.sellPrice && i.sellPrice >= 0;
            return (0,
            s.jsx)("div", {
                className: k()["store-item-container"],
                children: (0,
                s.jsx)("div", {
                    className: u()(k()["card-content-wrapper"], {
                        [k().selected]: l
                    }, "clickable"),
                    children: (0,
                    s.jsxs)("div", {
                        className: k()["card-content"],
                        onClick: () => r(i, a),
                        children: [(0,
                        s.jsx)("div", {
                            className: k()["card-title"],
                            children: i.nameValue
                        }), (0,
                        s.jsx)(q, {
                            itemData: i,
                            itemImage: n
                        }), (0,
                        s.jsxs)("div", {
                            className: k()["card-footer"],
                            children: [c ? (0,
                            s.jsx)(O, {
                                currency: d,
                                balance: i.sellPrice,
                                styles: {
                                    display: "inline"
                                },
                                small: !0
                            }) : (0,
                            s.jsx)(s.Fragment, {
                                children: "---"
                            }), (0,
                            s.jsxs)("div", {
                                className: k()["item-quantity"],
                                children: ["x", (0,
                                s.jsx)("span", {
                                    children: a.quantity
                                })]
                            })]
                        })]
                    })
                })
            })
        }
          , ej = e => {
            var t, i;
            let {storeId: n, itemData: a, inventorySlotData: l, getItemImage: o, handleModalClose: d, open: c} = e
              , p = (0,
            m.T)()
              , {t: h} = (0,
            g.$G)(["game", "ui"])
              , [x,_] = (0,
            r.useState)(1)
              , [f,j] = (0,
            r.useState)(!0)
              , b = (0,
            r.useRef)(null)
              , N = (0,
            r.useRef)(null);
            if ((0,
            r.useEffect)( () => {
                a && (_(1),
                j(!0))
            }
            , [a]),
            !a || !l)
                return null;
            let w = o(a, !1)
              , S = C.Z.getGameCurrencies();
            if (!S)
                return null;
            let I = S[null !== (i = null !== (t = a.currencySell) && void 0 !== t ? t : a.currency) && void 0 !== i ? i : ""];
            if (!I)
                return null;
            let T = e => {
                !e || e < 1 || e > l.quantity ? j(!1) : j(!0)
            }
              , P = e => !e || e < 0 ? 1 : e > l.quantity ? l.quantity : e
              , M = e => {
                _(t => {
                    let i = t + e;
                    return T(i = P(i)),
                    i
                }
                ),
                N.current = setTimeout( () => {
                    let t = Date.now();
                    b.current = setInterval( () => {
                        let i = Math.floor((Date.now() - t) / 1500);
                        _(t => {
                            let n = t + e * (1 + i);
                            return T(n = P(n)),
                            n
                        }
                        )
                    }
                    , 50)
                }
                , 250)
            }
              , D = () => {
                N.current && clearTimeout(N.current),
                (null == b ? void 0 : b.current) && clearInterval(b.current)
            }
              , B = e => {
                let t = parseInt(e, 10);
                t < 1 || t > l.quantity || (_(t),
                T(t))
            }
              , L = a.descriptionValue
              , F = a.utilityValue;
            return (0,
            s.jsxs)(er.Z, {
                maxWidth: "sm",
                open: c,
                className: u()(k()["store-item-modal"]),
                onKeyDown: e => {
                    "Escape" === e.key && d()
                }
                ,
                PaperProps: {
                    className: u()(y().uikit, y().frame, y().orange, y().popup)
                },
                children: [(0,
                s.jsxs)(eo.Z, {
                    className: k()["store-sell-dialog-content"],
                    children: [(0,
                    s.jsxs)("div", {
                        className: u()(y().scrollArea, k()["store-item-modal-container"]),
                        children: [(0,
                        s.jsxs)("div", {
                            className: k()["item-content"],
                            children: [(0,
                            s.jsx)(q, {
                                itemData: a,
                                itemImage: null == w ? void 0 : w.image
                            }), (0,
                            s.jsx)("div", {
                                className: k()["item-title"],
                                children: a.nameValue
                            }), (0,
                            s.jsxs)("div", {
                                className: k()["item-subtitle"],
                                children: [a.sellPrice && (0,
                                s.jsx)(O, {
                                    currency: I,
                                    balance: a.sellPrice,
                                    styles: {
                                        display: "inline"
                                    }
                                }), "\xa0\xa0", (0,
                                s.jsxs)("div", {
                                    className: k()["item-quantity"],
                                    children: ["x", (0,
                                    s.jsx)("span", {
                                        children: l.quantity || 0
                                    })]
                                })]
                            })]
                        }), (0,
                        s.jsxs)("div", {
                            className: k()["item-metadata"],
                            children: [L && (0,
                            s.jsxs)(s.Fragment, {
                                children: [h("generalStore.itemDescriptionTitle", {
                                    ns: "ui"
                                }), ":", (0,
                                s.jsx)("br", {}), (0,
                                s.jsx)("div", {
                                    className: k()["item-description"],
                                    children: (0,
                                    s.jsx)(A.Z, {
                                        text: L
                                    })
                                })]
                            }), F && (0,
                            s.jsxs)(s.Fragment, {
                                children: [h("generalStore.itemUtilityTitle", {
                                    ns: "ui"
                                }), ":", (0,
                                s.jsx)("br", {}), (0,
                                s.jsx)("div", {
                                    className: k()["item-utility"],
                                    children: F
                                })]
                            })]
                        })]
                    }), a.sellPrice ? (0,
                    s.jsxs)("div", {
                        className: k()["sell-section"],
                        children: [(0,
                        s.jsxs)("div", {
                            className: k()["sell-quantity"],
                            children: [(0,
                            s.jsxs)("div", {
                                className: k().quantityTitle,
                                style: {
                                    margin: "0"
                                },
                                children: [h("generalStore.itemQuantityTitle", {
                                    ns: "ui"
                                }), ":"]
                            }), (0,
                            s.jsx)("button", {
                                className: u()(k()["btn-down"], "clickable"),
                                type: "button",
                                onMouseDown: () => M(-1),
                                onMouseUp: D,
                                onMouseLeave: D,
                                children: (0,
                                s.jsx)("img", {
                                    className: k()["arrow-down"],
                                    src: (0,
                                    E.Uk)("/game/ui/arrow_left_black.png")
                                })
                            }), (0,
                            s.jsx)("div", {
                                className: k()["quantity-val"],
                                children: (0,
                                s.jsx)("input", {
                                    className: u()(k()["quantity-input"], {
                                        "is-error": !f
                                    }),
                                    value: x,
                                    onChange: e => B(e.target.value),
                                    type: "number",
                                    min: "1",
                                    max: l.quantity
                                })
                            }), (0,
                            s.jsx)("button", {
                                className: u()(k()["btn-up"], "clickable"),
                                type: "button",
                                onMouseDown: () => M(1),
                                onMouseUp: D,
                                onMouseLeave: D,
                                children: (0,
                                s.jsx)("img", {
                                    className: k()["arrow-up"],
                                    src: (0,
                                    E.Uk)("/game/ui/arrow_right_black.png")
                                })
                            }), (0,
                            s.jsx)("button", {
                                className: u()(k()["btn-max"], y().pushbutton),
                                type: "button",
                                onClick: () => {
                                    _(l.quantity),
                                    j(!0)
                                }
                                ,
                                children: h("generalStore.maxButtonText", {
                                    ns: "ui",
                                    defaultValue: "MAX"
                                })
                            })]
                        }), (0,
                        s.jsxs)("div", {
                            style: {
                                marginBottom: 15,
                                display: "flex",
                                justifyContent: "space-between"
                            },
                            children: [(0,
                            s.jsx)("span", {
                                children: h("generalStore.sellReceiveTotal", {
                                    ns: "ui"
                                })
                            }), !Number.isNaN(x) && a.sellPrice ? (0,
                            s.jsx)(O, {
                                currency: I,
                                balance: x * a.sellPrice,
                                styles: {
                                    display: "inline"
                                }
                            }) : void 0]
                        }), (0,
                        s.jsxs)("button", {
                            className: u()(k()["sell-btn"], y().pushbutton),
                            type: "button",
                            onClick: () => {
                                p((0,
                                v.IT)({
                                    storeId: n,
                                    itemId: a.id,
                                    quantity: x,
                                    slot: l.slot
                                })),
                                d()
                            }
                            ,
                            disabled: !f || Number.isNaN(x),
                            children: [h("generalStore.sellButtonText", {
                                ns: "ui"
                            }), " ", Number.isNaN(x) ? 0 : x]
                        })]
                    }) : (0,
                    s.jsx)("div", {
                        className: k()["sell-section"],
                        children: (0,
                        s.jsx)("p", {
                            className: k()["no-sell-price"],
                            children: h("generalStore.itemNotForSale", {
                                ns: "ui"
                            })
                        })
                    })]
                }), (0,
                s.jsx)("button", {
                    className: y().closeBtn,
                    type: "button",
                    onClick: d,
                    children: "\xa0"
                })]
            })
        }
          , ey = e => {
            let {store: t, inventory: i} = e
              , [n,a] = (0,
            r.useState)(null)
              , [l,o] = (0,
            r.useState)(null)
              , d = (e, t) => {
                a(e),
                o(t)
            }
            ;
            return (0,
            s.jsxs)("div", {
                className: k()["store-tab"],
                children: [(0,
                s.jsx)("div", {
                    className: u()(k()["sell-content-wrapper"], y().scrollArea),
                    children: (0,
                    s.jsx)("div", {
                        className: k()["items-content"],
                        children: (null == i ? void 0 : i.slots) && t && Object.keys(i.slots).map(e => {
                            let n = i.slots[e];
                            if (!n || !n.item)
                                return null;
                            let a = t.localizedItems[n.item];
                            if (!a)
                                return null;
                            let r = (0,
                            b.J2)(a, !1);
                            return (null == r ? void 0 : r.image) ? (0,
                            s.jsx)(ef, {
                                itemData: a,
                                itemImage: r.image,
                                inventorySlotData: n,
                                isSelected: (null == l ? void 0 : l.slot.toString()) === e,
                                handleCardOnClick: d
                            }, "".concat(n.item, "-").concat(e)) : null
                        }
                        )
                    })
                }), t && (0,
                s.jsx)(ej, {
                    storeId: t.id,
                    itemData: n,
                    inventorySlotData: l,
                    getItemImage: b.J2,
                    handleModalClose: () => {
                        a(null),
                        o(null)
                    }
                    ,
                    open: null !== n
                })]
            })
        }
          , eb = i(52677);
        let eN = 0
          , ek = e => {
            let {onKeyDown: t, depth: i=0, block: n=!0} = e
              , a = (0,
            m.C)(eb.pT);
            return r.useEffect( () => {
                if (!a) {
                    let e = e => {
                        i === eN && (n && e.stopPropagation(),
                        null == t || t(e))
                    }
                      , a = eN;
                    return i > eN && (eN = i),
                    document.body.addEventListener("keydown", e),
                    () => {
                        document.body.removeEventListener("keydown", e),
                        eN = a
                    }
                }
            }
            , [t, a]),
            null
        }
          , eC = () => {
            var e, t, i;
            let n = (0,
            m.C)(v.D2)
              , a = (0,
            m.C)(p.lA)
              , {t: l} = (0,
            g.$G)(["game", "ui"])
              , [o,d] = (0,
            r.useState)(eg(null == n ? void 0 : n.storeId))
              , c = o && (null == o ? void 0 : null === (e = o.ui) || void 0 === e ? void 0 : e.tabs) || ["buy", "sell"]
              , [h,_] = (0,
            r.useState)(c[0])
              , f = (0,
            x.I0)();
            (0,
            r.useEffect)( () => {
                _(c[0])
            }
            , [o && (null == o ? void 0 : null === (t = o.ui) || void 0 === t ? void 0 : t.tabs), n.storeId]);
            let j = c.includes("orders")
              , b = null == a ? void 0 : a.full.coinInventory
              , N = null == a ? void 0 : a.full.inventory;
            if ((0,
            r.useEffect)( () => {
                let e = null == n ? void 0 : n.storeId;
                (null == n ? void 0 : n.isOpen) && e && C.Z.reloadOne({
                    kind: "store",
                    id: e
                }).then(e => {
                    let t = e.items.filter(e => {
                        let t = C.Z.getGameItem(e.item);
                        return !(null == t ? void 0 : t.id)
                    }
                    ).map(e => e.item);
                    return C.Z.updateLibraryItems(t)
                }
                ).then( () => {
                    let t = eg(e);
                    t && d(t)
                }
                ).catch( () => {}
                )
            }
            , [null == n ? void 0 : n.storeId, null == n ? void 0 : n.isOpen]),
            !(null == n ? void 0 : n.isOpen))
                return (0,
                s.jsx)(s.Fragment, {});
            let w = new Set;
            return w.add(C.Z.getDefaultCurrency()),
            null == o || null === (i = o.items) || void 0 === i || i.forEach(e => {
                e.currency && w.add(e.currency),
                e.currencySell && w.add(e.currencySell)
            }
            ),
            (0,
            s.jsxs)("div", {
                className: k().storeDialog,
                style: {
                    zIndex: 1e3
                },
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        "Escape" === e.key && f((0,
                        v.fD)()),
                        e.stopPropagation()
                    }
                }), (0,
                s.jsx)("div", {
                    className: y().modalBackdrop
                }), (0,
                s.jsxs)("div", {
                    className: u()(k().box, k()["modal-box-container"], y().uikit, y().frame, y().purpleinset),
                    children: [(0,
                    s.jsx)("button", {
                        className: y().closeBtn,
                        type: "button",
                        onClick: () => {
                            f((0,
                            v.fD)())
                        }
                        ,
                        children: "\xa0"
                    }), (0,
                    s.jsxs)("div", {
                        className: k()["modal-box-content"],
                        children: [(0,
                        s.jsxs)("div", {
                            className: k().storeHeader,
                            children: [(0,
                            s.jsx)("h1", {
                                className: k()["store-title"],
                                children: o && l(null == o ? void 0 : o.name, {
                                    ns: "game",
                                    defaultValue: "General Store"
                                })
                            }), (0,
                            s.jsx)("div", {
                                className: k()["store-description"],
                                children: o && l(null == o ? void 0 : o.description, {
                                    ns: "game",
                                    defaultValue: ""
                                })
                            })]
                        }), (0,
                        s.jsxs)("div", {
                            className: k().contentDivider,
                            children: [(0,
                            s.jsx)("div", {
                                className: k()["coin-inventory-row"],
                                children: (null == b ? void 0 : b.length) && b.map(e => {
                                    if (!w.has(e.currencyId))
                                        return null;
                                    let t = C.Z.getGameCurrency(e.currencyId);
                                    return t ? (0,
                                    s.jsx)("div", {
                                        className: k().currency,
                                        children: (0,
                                        s.jsx)(O, {
                                            currency: t,
                                            balance: e.balance,
                                            styles: {
                                                display: "inline"
                                            }
                                        })
                                    }, e.currencyId) : null
                                }
                                )
                            }), (0,
                            s.jsxs)("div", {
                                className: k().tabBuySell,
                                children: [c.includes("buy") && (0,
                                s.jsx)("button", {
                                    className: u()(k().buyButton, {
                                        [k().active]: "buy" === h
                                    }),
                                    type: "button",
                                    onClick: () => _("buy"),
                                    children: l("generalStore.buyItems", {
                                        ns: "ui",
                                        defaultValue: "Buy"
                                    })
                                }), c.includes("sell") && (0,
                                s.jsx)("button", {
                                    className: u()(k().sellButton, {
                                        [k().active]: "sell" === h
                                    }),
                                    type: "button",
                                    onClick: () => _("sell"),
                                    children: l("generalStore.sellItems", {
                                        ns: "ui",
                                        defaultValue: "Sell"
                                    })
                                }), j && (0,
                                s.jsx)("button", {
                                    className: u()(k().ordersButton, {
                                        [k().active]: "orders" === h
                                    }),
                                    type: "button",
                                    onClick: () => _("orders"),
                                    children: l("generalStore.ordersTab", {
                                        ns: "ui",
                                        defaultValue: "Orders"
                                    })
                                })]
                            })]
                        }), (0,
                        s.jsxs)("div", {
                            className: k()["store-tabs-wrapper"],
                            children: ["sell" === h && (0,
                            s.jsx)(ey, {
                                store: o,
                                inventory: N
                            }), "buy" === h && (0,
                            s.jsx)(e_, {
                                store: o,
                                coinInventory: b
                            }), "orders" === h && (0,
                            s.jsx)(ea, {
                                storeId: o ? o.id : "",
                                inventory: N
                            })]
                        })]
                    })]
                })]
            })
        }
        ;
        var ew = i(23493)
          , eS = i.n(ew)
          , eI = i(74800)
          , eT = i(43428)
          , eP = i(25206)
          , eM = i(42487)
          , eD = i.n(eM)
          , eE = i(60922)
          , eA = i(16233)
          , eB = i(41087);
        let eL = e => {
            var t;
            let {open: i} = e
              , {dialogMessage: n, isLastDialog: a, isFirstDialog: l} = (0,
            m.C)(p.pB)
              , o = (0,
            m.C)(p.Nz)
              , d = (0,
            m.C)(p.lA)
              , {t: c} = (0,
            g.$G)(["quest", "game", "ui"])
              , v = (0,
            m.T)()
              , [,h] = (0,
            r.useReducer)(e => e + 1, 0)
              , [x,_] = (0,
            r.useState)(!1)
              , f = (0,
            r.useRef)(null)
              , j = (0,
            eA.ob)()
              , y = x
              , {startTime: b, dialogText: N, entity: k, pet: w} = (0,
            r.useMemo)( () => {
                var e;
                return _(!1),
                y = !1,
                {
                    startTime: new Date().getTime(),
                    dialogText: n ? c([n, "game:".concat(n), n]) : "",
                    entity: o.character ? C.Z.getGameEntity(o.character) : void 0,
                    pet: o.pet ? null == d ? void 0 : null === (e = d.full) || void 0 === e ? void 0 : e.pet : void 0
                }
            }
            , [n, o])
              , S = (0,
            r.useMemo)( () => {
                if (k) {
                    var e;
                    return {
                        symbol: k.npc.avatar,
                        selectedTraits: k.npc.avatarPieces,
                        name: (null == k ? void 0 : null === (e = k.npc) || void 0 === e ? void 0 : e.name) || o.character
                    }
                }
                if (w)
                    return {
                        symbol: w.avatar.id,
                        selectedTraits: w.avatar.pieces,
                        name: w.avatar.name,
                        anim: "sit"
                    }
            }
            , [k, w]);
            if (!i)
                return null === eP.default || void 0 === eP.default || eP.default.stopAudio("snd_ui_npctalk"),
                null;
            let I = y ? N.length : Math.min(N.length, Math.max(Math.floor((new Date().getTime() - b) / 35) + 1, 1))
              , T = eP.default.loadAudio("snd_ui_npctalk")
              , P = () => {
                let e = f.current;
                e && (e.scrollTop = e.scrollHeight - e.clientHeight)
            }
            ;
            I < N.length ? (setTimeout( () => {
                h(),
                P()
            }
            , Math.max(1, 35 - (new Date().getTime() - b - 35 * (I - 1)))),
            null == T || T.then(e => {
                e && !e.isPlaying && e.play()
            }
            )) : null == T || T.then(e => null == e ? void 0 : e.stop());
            let M = () => {
                a && z.ZP.emitEventNow(z.Yi.NPCDIALOG_CLOSE, {
                    dialogId: n,
                    event: o.event,
                    npcId: null == k ? void 0 : k.id
                })
            }
              , D = eS()( () => {
                z.rV.playSound.emit("snd_ui_click1"),
                v((0,
                eI.Nb)())
            }
            , 1500)
              , A = eS()( () => {
                z.rV.playSound.emit("snd_ui_click1");
                let e = f.current;
                I < N.length ? _(!0) : e && e.scrollHeight - e.clientHeight - e.scrollTop > 10 ? e.scrollTop = e.scrollTop + e.clientHeight - 10 : (M(),
                v((0,
                eI.nl)()))
            }
            , 1500)
              , B = N.substring(0, I)
              , L = N.substring(I).split(/\s/)[0]
              , F = null !== (t = (0,
            eE.GU)().uiprefix) && void 0 !== t ? t : ""
              , G = N.length > 130
              , R = !F && j.width < innerHeight
              , V = R ? j.height / 340 : j.width / 500;
            return (0,
            s.jsxs)("div", {
                className: u()(eD().dialog5),
                children: [(0,
                s.jsx)(ek, {}), (0,
                s.jsxs)("div", {
                    className: u()(eD().content, {
                        [eD().showVerticalBackground]: R
                    }),
                    style: {
                        backgroundImage: R ? "url('".concat((0,
                        E.Uk)("/assets/ui/dialogue/dialog_background_portrait.png"), "')") : "url('".concat((0,
                        E.Uk)("/assets/ui/dialogue/".concat(F, "dialog_background.png")), "')"),
                        transform: R || (0,
                        eB.tq)(j.width) ? "scale(min(1, ".concat(V / (0,
                        eB.Zm)(), "))") : void 0
                    },
                    children: [(0,
                    s.jsx)("div", {
                        ref: f,
                        className: eD().messageBox,
                        children: n && (0,
                        s.jsxs)("div", {
                            className: u()(eD().message, {
                                [eD().blowhard]: G
                            }),
                            children: [(0,
                            s.jsx)("span", {
                                children: B
                            }), (0,
                            s.jsx)("span", {
                                style: {
                                    opacity: 0
                                },
                                children: L
                            })]
                        })
                    }), S && (0,
                    s.jsxs)(s.Fragment, {
                        children: [(0,
                        s.jsx)("div", {
                            className: eD().avatar,
                            children: (0,
                            s.jsx)(eT.z, {
                                selectedTraits: S.selectedTraits,
                                symbol: S.symbol,
                                height: R ? 50 : 75,
                                flip: !R,
                                anim: S.anim
                            })
                        }), (0,
                        s.jsx)("div", {
                            className: eD().avatarname,
                            children: S.name
                        })]
                    }), (0,
                    s.jsxs)("div", {
                        className: eD().buttons,
                        children: [!l && (0,
                        s.jsx)("button", {
                            type: "button",
                            className: eD().back,
                            onClick: D,
                            children: (0,
                            s.jsx)("img", {})
                        }), (0,
                        s.jsx)("button", {
                            type: "button",
                            className: eD().skip,
                            onClick: A,
                            autoFocus: !0,
                            children: (0,
                            s.jsx)("img", {})
                        })]
                    })]
                })]
            })
        }
        ;
        var eF = i(81189)
          , eG = i.n(eF)
          , eR = i(48058)
          , eV = i.n(eR)
          , eZ = i(72936)
          , eW = i(35910);
        let eO = [{
            e: ":-)",
            o: "\uD83D\uDE00"
        }, {
            e: ";-)",
            o: "\uD83D\uDE09"
        }, {
            e: ":-||",
            o: "\uD83D\uDE20"
        }, {
            e: ":-|",
            o: "\uD83D\uDE20"
        }, {
            e: ":-(",
            o: "\uD83D\uDE1E"
        }, {
            e: ":-((",
            o: "\uD83D\uDE22"
        }, {
            e: ":-O",
            o: "\uD83D\uDE32"
        }, {
            e: ":-P",
            o: "\uD83D\uDE1B"
        }, {
            e: ";-P",
            o: "\uD83D\uDE1C"
        }, {
            e: ":-/",
            o: "\uD83D\uDE15"
        }, {
            e: ":-]",
            o: "\uD83D\uDE37"
        }, {
            e: ":-]",
            o: "\uD83D\uDE37"
        }]
          , eq = (a = () => {
            z.ZP.emitEventNow(z.Yi.SET_TYPING_STATE, {})
        }
        ,
        l = (0,
        b.x9)({
            seconds: 2
        }),
        () => {
            n || (a(),
            n = setTimeout( () => {
                n = void 0
            }
            , l))
        }
        );
        class eU {
            constructor(e) {
                var t;
                this.message = e.message,
                this.creator_id = e.creator_id,
                this.creatorName = e.creatorName,
                this.createdAt = e.createdAt,
                this.isSelf = !1,
                this.isWhisper = null !== (t = e.whisper) && void 0 !== t && t,
                this.isSystem = !e.creator_id || "sys" === e.creator_id || "pixels-bot" === e.creator_id
            }
        }
        let eH = e => {
            let {message: t, username: i, createdAt: n, isSelf: a, isSystem: l, isWhisper: o, onClick: d} = e
              , c = u()(eV().chatmessage, {
                [eV().isSelf]: a,
                [eV().isSystem]: l,
                [eV().whisper]: o
            })
              , m = r.useMemo( () => new Date(n).toLocaleTimeString(void 0, {
                hour: "numeric",
                minute: "2-digit"
            }), [n]);
            return (0,
            s.jsxs)("div", {
                className: c,
                children: [!!i && (0,
                s.jsxs)("div", {
                    className: u()(eV().messageHeader, "clickable"),
                    onClick: d,
                    children: [(0,
                    s.jsx)("span", {
                        className: u()(eV().username),
                        children: i
                    }), (0,
                    s.jsx)("span", {
                        className: u()(eV().timestamp),
                        children: m
                    })]
                }), o ? "*whisper* " : "", (0,
                s.jsx)("span", {
                    className: eV().message,
                    children: function(e) {
                        let t = e;
                        for (let e = 0; e < eO.length; e += 1) {
                            let i = eO[e].o
                              , n = eO[e].e;
                            if (t === n)
                                return i;
                            t.startsWith(n + " ") && (t = i + t.substring(n.length)),
                            t.endsWith(" " + n) && (t = t.slice(0, -1 * n.length) + i),
                            t = t.replaceAll(" " + n + " ", i)
                        }
                        return t
                    }(t)
                })]
            })
        }
          , ez = () => {
            let[e,t] = (0,
            r.useState)("")
              , [i,n] = (0,
            r.useState)(!0)
              , a = (0,
            r.useRef)(null)
              , {t: l} = (0,
            g.$G)("ui")
              , o = (0,
            m.T)()
              , {messages: d, isVisible: c, chatEnabled: v, openedNow: h} = (0,
            m.C)(eZ.tz)
              , x = (0,
            m.C)(p.lA)
              , _ = (0,
            r.useRef)(null)
              , f = () => {
                if (_.current) {
                    let e = _.current;
                    e.scrollTop = e.scrollHeight - e.offsetHeight
                }
            }
            ;
            if ((0,
            r.useEffect)( () => {
                if (h) {
                    var e;
                    null === (e = a.current) || void 0 === e || e.focus()
                }
            }
            , [h]),
            (0,
            r.useEffect)( () => {
                c ? i && f() : n(!0)
            }
            , [d, c]),
            !c || !v)
                return (0,
                s.jsx)(s.Fragment, {});
            let j = "0"
              , y = 0
              , N = null == d ? void 0 : d.map(e => {
                let t = new eU(e);
                return e.creatorName && (e.creator_id !== j || e.createdAt - y > (0,
                b.x9)({
                    minutes: 3
                })) ? t.username = e.creatorName : t.username = "",
                y = e.createdAt,
                j = e.creator_id,
                t.isSelf = e.creator_id === (null == x ? void 0 : x.core.mid),
                t.message = t.isSystem ? e.message : (0,
                E.FL)(e.message),
                t
            }
            )
              , k = () => {
                var i;
                e && z.ZP.emitEventNow(z.Yi.CHAT_MESSAGE_SEND, {
                    message: e
                }),
                t(""),
                null === (i = a.current) || void 0 === i || i.focus()
            }
              , C = e => {
                var i;
                let n = null !== (i = e.target.value) && void 0 !== i ? i : "";
                n && eq(),
                t(n)
            }
              , w = ""
              , S = e => {
                var t;
                "" === e.target.value && (null === (t = e.key) || void 0 === t ? void 0 : t.startsWith("Arrow")) || (w = e.key,
                e.stopPropagation())
            }
              , I = e => {
                var t;
                null !== (t = e.key) && void 0 !== t && t.startsWith("Arrow") || (w === e.key && (e.stopPropagation(),
                w = ""),
                "Enter" === e.key && (e.preventDefault(),
                k()))
            }
            ;
            return (0,
            s.jsxs)("div", {
                className: u()(eG().overlayWindow, eV().chatwindow, "is-active"),
                children: [(0,
                s.jsx)("div", {
                    className: u()("clickable", eV().people),
                    onClick: () => {
                        o((0,
                        eI.GP)())
                    }
                    ,
                    children: (0,
                    s.jsx)(R, {
                        title: l("ui.players", "Players"),
                        placement: "right",
                        children: (0,
                        s.jsx)("span", {
                            children: "\uD83D\uDC65"
                        })
                    })
                }), (0,
                s.jsx)("div", {
                    className: u()(eV().chats, eG().scrollArea),
                    onScroll: e => {
                        n(5 > Math.abs(e.currentTarget.scrollTop - (e.currentTarget.scrollHeight - e.currentTarget.offsetHeight)))
                    }
                    ,
                    ref: _,
                    children: null == N ? void 0 : N.map(e => (0,
                    s.jsx)(eH, {
                        message: e.message,
                        username: e.username,
                        createdAt: e.createdAt,
                        isSelf: e.isSelf,
                        isSystem: e.isSystem,
                        isWhisper: e.isWhisper,
                        onClick: () => {
                            o((0,
                            eI.ol)({
                                mid: e.creator_id,
                                username: e.username || ""
                            }))
                        }
                    }, e.creator_id + e.createdAt))
                }), (0,
                s.jsx)("input", {
                    type: "text",
                    maxLength: 90,
                    className: eV().chatInput,
                    value: e,
                    onInput: e => C(e),
                    onKeyDown: e => S(e),
                    onKeyUp: e => I(e),
                    ref: a
                }), (0,
                s.jsx)("button", {
                    className: eG().closeButton,
                    onClick: () => {
                        o((0,
                        eZ.wt)())
                    }
                    ,
                    type: "button",
                    children: "✖"
                }), (0,
                s.jsx)("button", {
                    onClick: k,
                    type: "button",
                    className: u()(eV().sendButton, "button"),
                    style: {
                        zIndex: 1e4,
                        pointerEvents: "all"
                    },
                    children: (0,
                    s.jsx)(eW.Z, {
                        fontSize: "large",
                        htmlColor: "white"
                    })
                })]
            })
        }
        ;
        var eK = i(14452)
          , eQ = i(59370)
          , e$ = i(56906)
          , eY = i(66382)
          , eX = i.n(eY)
          , eJ = e => {
            let {selected: t, setSelected: i, nft: n, isLargeCard: a} = e
              , l = (0,
            eA.dD)()
              , {imageUrl: r, name: o} = n
              , d = t && t.tokenId === n.tokenId && t.assetContract === n.assetContract
              , c = l ? a ? 110 : 80 : a ? 140 : 100;
            return (0,
            s.jsx)("div", {
                style: {
                    background: "rgba(255,255,255,0.9)",
                    height: c,
                    width: c
                },
                onClick: function() {
                    i && (d ? i(void 0) : i(n))
                },
                children: (0,
                s.jsx)("div", {
                    style: {
                        height: "100%",
                        width: "100%",
                        background: "url('".concat((0,
                        E.b7)(r, !1), "')"),
                        backgroundSize: "contain"
                    },
                    children: (0,
                    s.jsxs)("div", {
                        style: {
                            position: "relative",
                            width: "100%",
                            height: "100%",
                            background: " linear-gradient(0deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.5) 33%, rgba(0,0,0,0.1) 66%, rgba(0,0,0,0) 100%)",
                            boxShadow: d ? "0 0 0 4px #27a792" : "none"
                        },
                        children: [(0,
                        s.jsx)("div", {
                            className: i ? "".concat(eX()["hover-cover"]) : ""
                        }), (0,
                        s.jsx)("div", {
                            style: {
                                position: "absolute",
                                fontSize: "8px",
                                bottom: -8,
                                color: "white",
                                padding: 4,
                                paddingBottom: 0
                            },
                            children: (0,
                            s.jsx)("h3", {
                                style: {
                                    color: "white",
                                    fontSize: "8px",
                                    textShadow: "1px 1px rgb(0,0,0)"
                                },
                                children: o
                            })
                        })]
                    })
                })
            })
        }
          , e0 = e => {
            let {nfts: t, override: i=!1, overrideReloadAt: n=0} = e
              , {t: a} = (0,
            g.$G)("ui")
              , l = "every 3 hours";
            if (t.canReload || i)
                l = "now";
            else if (t.canReloadAt) {
                let e = 0 === n ? t.canReloadAt : n;
                l = "in " + (0,
                b.Zo)(Math.ceil((e - Date.now()) / 1e3))
            }
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)(eK.Z, {}), (0,
                s.jsx)("div", {
                    style: {
                        width: "100%"
                    },
                    children: (0,
                    s.jsx)("div", {
                        style: {
                            display: "flex",
                            flexWrap: "wrap",
                            justifyContent: "center",
                            marginTop: 30
                        },
                        children: (0,
                        s.jsx)(S.Z, {
                            title: "Reload ".concat(l, " (staked and delegated nfts are included)."),
                            children: (0,
                            s.jsx)("span", {
                                children: (0,
                                s.jsx)("button", {
                                    type: "button",
                                    className: u()(y().pushbutton),
                                    disabled: !t.canReload && !i,
                                    onClick: () => {
                                        (t.canReload || i) && t.reload(!0)
                                    }
                                    ,
                                    children: a("button.loadnft", "Find NFTs")
                                })
                            })
                        })
                    })
                })]
            })
        }
        ;
        let e1 = RegExp("[^a-zA-Z0-9#]", "g");
        var e2 = e => {
            var t, i, n, a, l, o, d;
            let {selectedNft: c, setSelectedNft: u, nfts: v} = e
              , h = (0,
            m.C)(p.lA)
              , {t: x} = (0,
            g.$G)(["ui"])
              , _ = (0,
            eA.dD)()
              , f = (0,
            r.useCallback)(e => {
                u(e)
            }
            , [u]);
            return (0,
            r.useEffect)( () => {
                var e, t;
                if (v && !v.loading && (null === (e = v.filteredData) || void 0 === e ? void 0 : e.supported.length)) {
                    if (c)
                        f(c);
                    else if (h) {
                        let {name: e} = (null === (t = h.core.currentAvatar) || void 0 === t ? void 0 : t.pieces) ? JSON.parse(h.core.currentAvatar.pieces) : "";
                        f(e && v.filteredData.supported.find(t => {
                            var i;
                            return ((i = t.name) ? i.replace(e1, "").toLowerCase() : "") === e
                        }
                        ) || v.filteredData.supported[0])
                    }
                }
            }
            , [v, v.loading, c, f]),
            (0,
            s.jsx)("div", {
                style: {
                    padding: 1
                },
                children: v.loading ? (0,
                s.jsxs)("div", {
                    className: "has-text-centered",
                    style: {
                        minHeight: 250
                    },
                    children: [(0,
                    s.jsx)(eQ.Z, {}), (0,
                    s.jsx)("div", {}), (0,
                    s.jsx)("div", {}), (0,
                    s.jsx)("div", {})]
                }) : (0,
                s.jsx)("div", {
                    children: v.error ? (0,
                    s.jsx)("div", {
                        children: x("nftPicker.nftLoadingError")
                    }) : (0,
                    s.jsx)("div", {
                        children: (0,
                        s.jsxs)(e$.Z, {
                            sx: _ ? {
                                p: 2
                            } : {
                                p: 3
                            },
                            children: [!!(null === (t = v.filteredData) || void 0 === t ? void 0 : t.supported.length) && (0,
                            s.jsx)(s.Fragment, {
                                children: (0,
                                s.jsx)("div", {
                                    style: {
                                        marginBottom: 30
                                    },
                                    children: (0,
                                    s.jsx)("div", {
                                        style: {
                                            display: "flex",
                                            flexWrap: "wrap",
                                            justifyContent: "center"
                                        },
                                        children: (null === (o = v.filteredData) || void 0 === o ? void 0 : o.supported) && v.filteredData.supported.map( (e, t) => (0,
                                        s.jsx)("div", {
                                            className: "clickable",
                                            style: {
                                                paddingLeft: 10,
                                                paddingRight: 10,
                                                marginBottom: 10
                                            },
                                            children: (0,
                                            s.jsx)(eJ, {
                                                nft: e,
                                                setSelected: u,
                                                selected: c,
                                                isLargeCard: !0
                                            })
                                        }, "nft-".concat(t)))
                                    })
                                })
                            }), !!(null === (i = v.filteredData) || void 0 === i ? void 0 : i.unsupported.length) && (null === (n = v.filteredData) || void 0 === n ? void 0 : n.supported.length) < 4 && (0,
                            s.jsxs)(s.Fragment, {
                                children: [(0,
                                s.jsx)(eK.Z, {}), (0,
                                s.jsxs)("div", {
                                    style: {
                                        marginTop: 30
                                    },
                                    children: [(0,
                                    s.jsx)("h1", {
                                        style: _ ? {
                                            width: "100%",
                                            fontSize: "20px"
                                        } : void 0,
                                        children: "Unsupported NFTs:"
                                    }), (0,
                                    s.jsxs)("p", {
                                        style: _ ? {
                                            width: "100%",
                                            fontSize: "14px"
                                        } : {
                                            maxWidth: "90%",
                                            margin: "0px auto"
                                        },
                                        children: [x("nftPicker.unsupportedNfts"), (0,
                                        s.jsx)("a", {
                                            href: "https://discord.gg/pixels",
                                            children: "Discord"
                                        }), "."]
                                    }), (0,
                                    s.jsx)("div", {
                                        style: {
                                            display: "flex",
                                            flexWrap: "wrap",
                                            justifyContent: "center"
                                        },
                                        children: (null === (d = v.filteredData) || void 0 === d ? void 0 : d.unsupported) && v.filteredData.unsupported.filter(e => e && e.traits).map( (e, t) => (0,
                                        s.jsx)("div", {
                                            style: {
                                                padding: _ ? 5 : 10
                                            },
                                            children: (0,
                                            s.jsx)(eJ, {
                                                nft: e
                                            })
                                        }, "unsupported-nft-".concat(t)))
                                    })]
                                })]
                            }), !v.canReload && !v.loading && !(null === (a = v.filteredData) || void 0 === a ? void 0 : a.supported.length) && !(null === (l = v.filteredData) || void 0 === l ? void 0 : l.unsupported.length) && (0,
                            s.jsxs)(s.Fragment, {
                                children: [(0,
                                s.jsx)("h1", {
                                    className: "title has-text-centered",
                                    style: _ ? {
                                        width: "100%",
                                        fontSize: "20px"
                                    } : void 0,
                                    children: x("nftPicker.noSupportedNfts")
                                }), (0,
                                s.jsx)("p", {
                                    className: "subtitle has-text-centered",
                                    style: _ ? {
                                        width: "100%",
                                        fontSize: "14px"
                                    } : {
                                        maxWidth: 500,
                                        margin: "0px auto"
                                    },
                                    children: x("nftPicker.buySupportedNft")
                                })]
                            }), (0,
                            s.jsx)(e0, {
                                nfts: v
                            })]
                        })
                    })
                })
            })
        }
        ;
        let e3 = () => {
            let e = (0,
            m.C)(p.QV)
              , t = (0,
            m.T)()
              , {t: i} = (0,
            g.$G)(["ui"])
              , n = () => {
                t((0,
                eI.$J)({
                    dialog: "nftpicker"
                }))
            }
              , a = () => {
                t((0,
                eI.$J)({
                    dialog: "avatar"
                }))
            }
              , l = () => {
                t((0,
                eI.$J)({
                    dialog: "username"
                }))
            }
              , r = () => {
                t((0,
                eI.$J)({
                    dialog: "playerinfo"
                }))
            }
              , o = () => {
                z.ZP.emitEventNow(z.qM.HIDE_OTHERS),
                t((0,
                eI.Mr)())
            }
            ;
            return (0,
            s.jsxs)("div", {
                children: [(0,
                s.jsx)("button", {
                    onClick: e => {
                        e.preventDefault(),
                        a()
                    }
                    ,
                    type: "button",
                    disabled: "avatar" === e,
                    className: y().pushbutton,
                    children: i("onboarding.createAvatar", "Change Avatar")
                }), (0,
                s.jsx)("button", {
                    onClick: e => {
                        e.preventDefault(),
                        n()
                    }
                    ,
                    type: "button",
                    disabled: "nftpicker" === e,
                    className: y().pushbutton,
                    children: i("onboarding.nftavatar", "Choose NFT Avatar")
                }), (0,
                s.jsx)("button", {
                    onClick: e => {
                        e.preventDefault(),
                        l()
                    }
                    ,
                    type: "button",
                    disabled: "username" === e,
                    className: y().pushbutton,
                    children: i("onboarding.setUsername", "Change Username")
                }), (0,
                s.jsx)("button", {
                    onClick: e => {
                        e.preventDefault(),
                        z.ZP.emitEventNow(z.fb.LINK_OPEN, {
                            link: "/dashboard/vip",
                            msgKey: ["link.vipdashboard", "Open Pixels VIP Dashboard?"]
                        })
                    }
                    ,
                    type: "button",
                    style: {
                        display: "none"
                    },
                    className: y().pushbutton,
                    children: i("onboarding.vipPage", "VIP Page")
                }), (0,
                s.jsx)("button", {
                    onClick: e => {
                        e.preventDefault(),
                        r()
                    }
                    ,
                    type: "button",
                    disabled: "playerinfo" === e,
                    className: y().pushbutton,
                    children: i("onboarding.playerinfo", "Player Statistics")
                }), (0,
                s.jsx)("button", {
                    onClick: e => {
                        e.preventDefault(),
                        o()
                    }
                    ,
                    type: "button",
                    className: y().pushbutton,
                    children: i("onboarding.alonemode", "30 Seconds Alone")
                })]
            })
        }
          , e5 = () => {
            let e = (0,
            m.T)()
              , {t} = (0,
            g.$G)(["ui"]);
            return (0,
            s.jsx)("div", {
                children: (0,
                s.jsx)("button", {
                    onClick: t => {
                        t.preventDefault(),
                        e((0,
                        eI.$J)({
                            dialog: "playerprofilecontextmenu"
                        }))
                    }
                    ,
                    type: "button",
                    className: y().pushbutton,
                    style: {
                        minHeight: 48,
                        padding: 15
                    },
                    children: t("onboarding.backtocosmetics", "Back")
                })
            })
        }
        ;
        var e6 = e => {
            let {nfts: t} = e
              , n = (0,
            m.C)(p.o7)
              , a = (0,
            m.T)()
              , {t: l} = (0,
            g.$G)(["ui"])
              , [o,d] = (0,
            r.useState)(void 0)
              , c = e => {
                if (!e.avatarId)
                    return;
                let t = C.Z.getGameAvatar(e.avatarId);
                t && (i.e(704).then(i.bind(i, 34704)).then(i => i.convertToDisplayData(e, t)).then(e => {
                    z.ZP.sendEventDelayed(z.Yi.NFT_SELECTED, {
                        avatar: e
                    })
                }
                ).catch(e => {
                    console.log(e)
                }
                ),
                v())
            }
              , v = () => {
                a((0,
                eI.Mr)())
            }
            ;
            return n ? (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && v()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, y().profilewindow),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("h1", {
                            children: l("ui.SelectNFT", "Select Your NFT")
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: v,
                            children: "\xa0"
                        }), (0,
                        s.jsx)("div", {
                            className: u()(y().fillflex, y().scrollArea),
                            children: (0,
                            s.jsx)(e2, {
                                nfts: t,
                                selectedNft: o,
                                setSelectedNft: d
                            })
                        }), (0,
                        s.jsxs)("div", {
                            className: y().flexsingleline,
                            children: [(0,
                            s.jsx)("button", {
                                onClick: e => {
                                    e.preventDefault(),
                                    o && c(o)
                                }
                                ,
                                disabled: !o,
                                type: "button",
                                className: u()(y().pushbutton, y().yellow),
                                style: {
                                    minHeight: 48,
                                    padding: 15
                                },
                                children: l("onboarding.selectavatar", "Select Avatar")
                            }), (0,
                            s.jsx)("div", {
                                className: y().fillflex,
                                children: (0,
                                s.jsx)(e5, {})
                            })]
                        })]
                    })
                })]
            }) : (0,
            s.jsx)(s.Fragment, {})
        }
          , e4 = i(78157)
          , e8 = i(67622)
          , e9 = i(82499)
          , e7 = i.n(e9)
          , te = i(96721)
          , tt = i(14411);
        function ti(e, t) {
            r.useEffect( () => {
                let i = e.current;
                if (!i)
                    return;
                let n = "transitionend";
                return i.addEventListener(n, t),
                i.addEventListener("transitioncancel", t),
                () => {
                    i.removeEventListener(n, t),
                    i.removeEventListener("transitioncancel", t)
                }
            }
            , [e, t])
        }
        let tn = e => {
            var t, i, n, a, l, o, d, c, v, h, x, _, f, j, y, b, N;
            let {pet: k, enabled: C, current: w, selecting: S, onSelected: I} = e
              , {t: T} = (0,
            g.$G)("ui")
              , P = (0,
            m.C)(p.CO)
              , [M,D] = r.useState(!0)
              , [A,B] = r.useState(0)
              , L = r.useRef(null);
            ti(L, r.useCallback(e => {
                B(e => 1 === e ? 2 : 0),
                1 === A && "transitionend" === e.type && D(e => !e)
            }
            , [A]));
            let F = r.useRef(null);
            return ti(F, I),
            (0,
            r.useEffect)( () => {
                !M && S && I()
            }
            , [M, S, I]),
            (0,
            r.useLayoutEffect)( () => {
                w || M || 0 !== A || B(1)
            }
            , [w, M, A]),
            (0,
            s.jsx)("div", {
                className: e7().pet,
                children: (0,
                s.jsx)("div", {
                    className: u()(e7().box, {
                        [e7().disabled]: !C,
                        [e7().hatching]: "capsule" === P.mode,
                        [e7().space]: (null === (t = k.traits) || void 0 === t ? void 0 : t.Terrain) === "Space",
                        [e7().land]: (null === (i = k.traits) || void 0 === i ? void 0 : i.Terrain) === "Land",
                        [e7().water]: (null === (n = k.traits) || void 0 === n ? void 0 : n.Terrain) === "Water",
                        [e7().back]: w && !M,
                        [e7().transitioning]: 1 === A
                    }),
                    ref: L,
                    onClick: () => "hatched" === P.mode && w && !S && B(e => 0 === e ? 1 : e),
                    children: M ? (0,
                    s.jsxs)(s.Fragment, {
                        children: [(0,
                        s.jsxs)("div", {
                            className: e7().character,
                            children: [(0,
                            s.jsx)("div", {
                                className: e7().logo
                            }), "capsule" === k.stage ? (0,
                            s.jsx)("img", {
                                src: "".concat(tt.LB, "/v1/pets/image/").concat(k.avatar.id, "/").concat(k.tokenId),
                                height: 180
                            }) : (0,
                            s.jsx)("div", {
                                className: u()(e7().petpic, {
                                    [e7().walkoff]: w && S
                                }),
                                ref: F,
                                children: (0,
                                s.jsx)(eT.z, {
                                    symbol: k.avatar.id,
                                    selectedTraits: k.avatar.pieces,
                                    height: 195,
                                    anim: w ? S ? "walk" : "idle" : "sit"
                                })
                            }), (0,
                            s.jsx)("div", {
                                className: e7().stats,
                                children: "hatched" === P.mode && C && (0,
                                s.jsxs)(s.Fragment, {
                                    children: [(0,
                                    s.jsxs)("div", {
                                        className: e7().stat,
                                        children: [(0,
                                        s.jsx)("img", {
                                            src: (0,
                                            E.Uk)("/assets/ui/pets/pet_trait_icon_strength.png")
                                        }), (0,
                                        s.jsx)("span", {
                                            children: (0,
                                            E.uf)(null !== (x = null === (a = k.traits) || void 0 === a ? void 0 : a.Strength) && void 0 !== x ? x : 0)
                                        })]
                                    }), (0,
                                    s.jsxs)("div", {
                                        className: e7().stat,
                                        children: [(0,
                                        s.jsx)("img", {
                                            src: (0,
                                            E.Uk)("/assets/ui/pets/pet_trait_icon_speed.png")
                                        }), (0,
                                        s.jsx)("span", {
                                            children: (0,
                                            E.uf)(null !== (_ = null === (l = k.traits) || void 0 === l ? void 0 : l.Speed) && void 0 !== _ ? _ : 0)
                                        })]
                                    }), (0,
                                    s.jsxs)("div", {
                                        className: e7().stat,
                                        children: [(0,
                                        s.jsx)("img", {
                                            src: (0,
                                            E.Uk)("/assets/ui/pets/pet_trait_icon_luck.png")
                                        }), (0,
                                        s.jsx)("span", {
                                            children: (0,
                                            E.uf)(null !== (f = null === (o = k.traits) || void 0 === o ? void 0 : o.Luck) && void 0 !== f ? f : 0)
                                        })]
                                    })]
                                })
                            })]
                        }), (0,
                        s.jsx)("div", {
                            className: u()({
                                [e7().name]: !0,
                                [e7().longname]: k.avatar.name.length > 9
                            }),
                            children: k.avatar.name
                        })]
                    }) : (0,
                    s.jsxs)(s.Fragment, {
                        children: [(0,
                        s.jsx)("div", {
                            className: u()({
                                [e7().name]: !0,
                                [e7().longname]: k.avatar.name.length > 9
                            }),
                            children: k.avatar.name
                        }), (0,
                        s.jsxs)("div", {
                            className: e7().stats,
                            children: [(0,
                            s.jsx)("div", {
                                className: e7().stat,
                                children: T("pets.stat.token", {
                                    defaultValue: "Token Id: #{{value}}",
                                    value: k.tokenId
                                })
                            }), "capsule" !== k.stage ? (0,
                            s.jsxs)(s.Fragment, {
                                children: [(0,
                                s.jsx)("div", {
                                    className: e7().stat,
                                    children: T("pets.stat.birthday", {
                                        defaultValue: "Birthday: {{value}}",
                                        value: new Date(null !== (j = k.birthday) && void 0 !== j ? j : 0).toLocaleDateString()
                                    })
                                }), (0,
                                s.jsx)("div", {
                                    className: e7().stat,
                                    children: T("pets.stat.speed", {
                                        defaultValue: "Speed: {{value}}",
                                        value: (0,
                                        E.uf)(null !== (y = null === (d = k.traits) || void 0 === d ? void 0 : d.Speed) && void 0 !== y ? y : 0)
                                    })
                                }), (0,
                                s.jsx)("div", {
                                    className: e7().stat,
                                    children: T("pets.stat.strength", {
                                        defaultValue: "Strength: {{value}}",
                                        value: (0,
                                        E.uf)(null !== (b = null === (c = k.traits) || void 0 === c ? void 0 : c.Strength) && void 0 !== b ? b : 0)
                                    })
                                }), (0,
                                s.jsx)("div", {
                                    className: e7().stat,
                                    children: T("pets.stat.luck", {
                                        defaultValue: "Luck: {{value}}",
                                        value: (0,
                                        E.uf)(null !== (N = null === (v = k.traits) || void 0 === v ? void 0 : v.Luck) && void 0 !== N ? N : 0)
                                    })
                                }), (0,
                                s.jsx)("div", {
                                    className: e7().stat,
                                    children: T("pets.stat.terrain", {
                                        defaultValue: "Terrain: {{value}}",
                                        value: null === (h = k.traits) || void 0 === h ? void 0 : h.Terrain
                                    })
                                }), (0,
                                s.jsx)("div", {
                                    className: e7().stat,
                                    children: T("pets.stat.happiness", {
                                        defaultValue: "Happiness: {{value}}%",
                                        value: (0,
                                        E.uf)(k.happiness)
                                    })
                                })]
                            }) : k.hatch ? (0,
                            s.jsx)(s.Fragment, {
                                children: (0,
                                s.jsx)("div", {
                                    className: e7().stat,
                                    children: T("pets.hatch.map", {
                                        defaultValue: "Hatching: {{value}}",
                                        value: k.hatch.mapId
                                    })
                                })
                            }) : (0,
                            s.jsx)("div", {
                                className: e7().stat,
                                children: T("pets.hatch.msg", {
                                    defaultValue: "Hatch in Growth Lab"
                                })
                            })]
                        }), (0,
                        s.jsx)("div", {
                            children: (0,
                            s.jsx)("img", {
                                src: (0,
                                E.Uk)("/environments/icons/land.png")
                            })
                        })]
                    })
                })
            })
        }
          , ta = e => {
            let t, i, {pet: n, selected: a, disabled: l, hatching: r, needhatch: o, onSelect: d} = e, {t: c} = (0,
            g.$G)("ui"), u = (0,
            m.C)(p.CO), v = (0,
            m.T)(), h = () => {
                let e = {
                    entity: "",
                    mid: u.entity,
                    impact: "capsule",
                    inputs: [n.mid]
                };
                z.ZP.sendEventDelayed(te.mY.clickEntity, e),
                v((0,
                eI.iJ)())
            }
            , x = () => {
                z.ZP.sendEventDelayed(z.Yi.PET_SELECTED, {}),
                v((0,
                eI.iJ)())
            }
            ;
            return r ? (t = c("petpicker.hatching", "Hatching..."),
            i = c("button.cannothatch", "This pet is already being hatched")) : "capsule" === u.mode ? t = c("button.hatchpet", "Hatch Pet") : a ? t = c("button.restpet", "Rest Pet") : o ? (t = c("petpicker.needhatch", "Use Growth Lab"),
            i = c("button.cannotselectpet", "Must be hatched in Growth Lab")) : t = c("button.selectpet", "Select Pet"),
            (0,
            s.jsx)(R, {
                title: i,
                children: (0,
                s.jsx)("span", {
                    children: (0,
                    s.jsx)("button", {
                        type: "button",
                        className: e7().petbutton,
                        onClick: e => {
                            e.preventDefault(),
                            "capsule" === u.mode ? h() : a ? x() : d()
                        }
                        ,
                        disabled: l,
                        children: t
                    })
                })
            })
        }
        ;
        var tl = e => {
            var t, i;
            let n, {loading: a, pets: l, selectedPet: o, setSelectedPet: d, mode: c} = e, v = (0,
            m.C)(p.lA), h = (0,
            m.T)();
            r.useEffect( () => {
                if (l && !a && l.length) {
                    if (o)
                        d(o);
                    else {
                        var e;
                        if (null == v ? void 0 : null === (e = v.full.pet) || void 0 === e ? void 0 : e.tokenId) {
                            let e = l.find(e => e.avatar.id === v.full.pet.avatar.id && e.tokenId === v.full.pet.tokenId);
                            d(null != e ? e : l[0])
                        }
                    }
                }
            }
            , [a, o, d]);
            let x = r.useCallback(e => (null == e ? void 0 : e.avatar.id) === (null == o ? void 0 : o.avatar.id) && (null == e ? void 0 : e.tokenId) === (null == o ? void 0 : o.tokenId), [o])
              , g = e => {
                var t;
                return "capsule" !== c ? ["mature", "juvenille"].includes(null == e ? void 0 : e.stage) : !!(v && e && "capsule" === e.stage && (!(null === (t = e.hatch) || void 0 === t ? void 0 : t.entity) || e.hatch.playerId !== v.core.mid))
            }
              , [_,f] = r.useState(0);
            r.useMemo( () => {
                if (!l)
                    return 0;
                let e = l.findIndex(x);
                return e < 0 ? 0 : (f(e),
                e)
            }
            , [l, x]);
            let j = r.useCallback(e => {
                f(t => (null == l ? void 0 : l.length) ? Math.min(Math.max(0, t + e), l.length - 1) : 0)
            }
            , [null == l ? void 0 : l.length])
              , [b,N] = r.useState(!1)
              , k = () => {
                N(!1),
                h((0,
                eI.iJ)())
            }
            ;
            r.useEffect( () => {
                let e;
                if (b)
                    return;
                let t = 0
                  , i = "wheel"
                  , n = i => {
                    !e && Math.abs(t += i.deltaY) > 100 && (j(t > 0 ? 1 : -1),
                    t = 0,
                    e = window.setTimeout( () => {
                        e = void 0
                    }
                    , 200))
                }
                ;
                return window.addEventListener(i, n),
                () => {
                    window.removeEventListener(i, n),
                    window.clearTimeout(e)
                }
            }
            , [l, j, b]);
            let[C,w] = r.useState(1)
              , [S,I] = r.useState(null)
              , T = r.useCallback(e => {
                I(e)
            }
            , []);
            r.useLayoutEffect( () => {
                let e = "resize"
                  , t = () => {
                    if (!S)
                        return;
                    let {clientWidth: e, clientHeight: t} = S;
                    w(Math.min(e / 620, t / 520, 1))
                }
                ;
                return window.addEventListener(e, t),
                t(),
                () => window.removeEventListener(e, t)
            }
            , [S]);
            let P = Math.max(_ - 5, 0);
            function M(e) {
                let t = 32
                  , i = 0;
                for (; e > 0; )
                    i += t,
                    t /= 2,
                    e--;
                return i
            }
            return a ? (0,
            s.jsx)("div", {
                className: u()(y().fillflex, e7().loading),
                children: (0,
                s.jsx)(eQ.Z, {})
            }) : (null == l ? void 0 : l.length) ? (0,
            s.jsx)("div", {
                className: u()(y().fillflex, e7().petwrap),
                ref: T,
                children: (0,
                s.jsxs)("div", {
                    className: e7().cardsAndButton,
                    style: {
                        position: "relative",
                        transformOrigin: "50% 0 0",
                        transform: "scale3d(".concat(C, ", ").concat(C, ", 1)"),
                        width: "100%",
                        height: 520
                    },
                    children: [(0,
                    s.jsx)("div", {
                        className: e7().petlist,
                        children: l.slice(P, Math.min(_ + 6, l.length)).map( (e, t) => {
                            let i = "";
                            if ((t += P) < _) {
                                let e = -220 - M(_ - t);
                                i = "translateX(".concat(e, "px) rotate3d(0, 1, 0, 70deg) scale(90%)")
                            } else if (t > _) {
                                let e = 220 + M(t - _);
                                i = "translateX(".concat(e, "px) rotate3d(0, 1, 0, -70deg) scale(90%)")
                            } else
                                i = "rotateY(0) translateX(0) scale(100%)";
                            if (null == e ? void 0 : e.avatar)
                                return (0,
                                s.jsx)("div", {
                                    className: u()(e7().petposition, "clickable"),
                                    style: {
                                        zIndex: t <= _ ? t + 10 : _ + 10 - (t - _),
                                        transform: i,
                                        transformOrigin: "center center"
                                    },
                                    onClick: () => {
                                        b || j(t - _)
                                    }
                                    ,
                                    children: (0,
                                    s.jsx)(tn, {
                                        pet: e,
                                        enabled: g(e),
                                        current: t === _,
                                        selecting: b,
                                        onSelected: k
                                    })
                                }, "".concat(e.avatar.id, "-").concat(e.tokenId))
                        }
                        )
                    }), l && l.length > 0 && (0,
                    s.jsxs)("div", {
                        className: e7().buttons,
                        children: [(0,
                        s.jsx)("button", {
                            className: e7().arrow,
                            onClick: () => j(-1),
                            disabled: b || _ <= 0,
                            children: "<"
                        }), (0,
                        s.jsx)(ta, {
                            pet: l[_],
                            hatching: !!((null == (t = l[_]) ? void 0 : t.stage) === "capsule" && !(!(null === (i = t.hatch) || void 0 === i ? void 0 : i.entity) || t.hatch.playerId !== (null == v ? void 0 : v.core.mid))),
                            needhatch: (n = l[_],
                            "hatched" === c && (null == n ? void 0 : n.stage) === "capsule"),
                            selected: x(l[_]),
                            disabled: b || !g(l[_]),
                            onSelect: () => {
                                if (!l || !l[_])
                                    return;
                                let e = {
                                    tokenId: l[_].tokenId,
                                    avatarId: l[_].avatar.id
                                };
                                z.ZP.sendEventDelayed(z.Yi.PET_SELECTED, e),
                                N(!0)
                            }
                        }), (0,
                        s.jsx)("button", {
                            className: e7().arrow,
                            onClick: () => j(1),
                            disabled: b || _ >= l.length - 1,
                            children: ">"
                        })]
                    })]
                })
            }) : (0,
            s.jsx)("h2", {
                className: y().center,
                children: "BUY SOME PETS!"
            })
        }
        ;
        let ts = async (e, t) => {
            var i;
            let n = null === (i = e.filteredData) || void 0 === i ? void 0 : i.pets.filter(e => !t.find(t => t.tokenId.toString() === e.tokenId && e.avatarId === t.avatar.id));
            if (n && n.length > 0) {
                let e = await e8.Z.claimPets(n.map(e => ({
                    tokenId: e.tokenId,
                    avatarId: e.avatarId
                })));
                t.push.apply(t, e)
            }
        }
        ;
        var tr = e => {
            var t;
            let {nfts: i} = e
              , n = (0,
            m.C)(p.CO)
              , a = (0,
            m.C)(p.lA)
              , l = (0,
            m.T)()
              , {t: o} = (0,
            g.$G)(["ui"])
              , [d,c] = (0,
            r.useState)(void 0)
              , [v,h] = (0,
            r.useState)(void 0)
              , [x,_] = (0,
            r.useState)(!1)
              , [f,j] = (0,
            r.useState)(0)
              , N = null == a ? void 0 : a.full.pet
              , k = () => {
                l((0,
                eI.iJ)())
            }
              , C = null !== (t = null == a ? void 0 : a.full.cryptoWallets.map(e => e.address).join(",")) && void 0 !== t ? t : "";
            return ((0,
            r.useEffect)( () => {
                if (n.isVisible) {
                    var e;
                    let t = !!(n.refresh && n.refresh > Date.now() && (!i.canReloadAt || i.canReloadAt - Date.now() < 1074e4));
                    _(t);
                    let l = Math.min(36e5, Date.now() - (null !== (e = n.refresh) && void 0 !== e ? e : 0));
                    if ((0,
                    b.HX)("player-pets-".concat(C), async () => {
                        let e = await e8.Z.fetchPlayerPets(C);
                        return await ts(i, e),
                        e
                    }
                    , l).then(e => {
                        h("capsule" === n.mode ? e.filter(e => {
                            var t;
                            return "capsule" === e.stage && (!e.hatch || (null === (t = e.hatch) || void 0 === t ? void 0 : t.playerId) !== (null == a ? void 0 : a.core.mid))
                        }
                        ) : e),
                        N && "hatched" === n.mode ? c(e.find(e => {
                            var t;
                            return N.avatar.id === (null === (t = e.avatar) || void 0 === t ? void 0 : t.id) && N.tokenId === e.tokenId
                        }
                        )) : c(void 0)
                    }
                    ).catch(e => {
                        console.log("error getting pets", e),
                        h([])
                    }
                    ),
                    n.refresh && n.refresh > Date.now() && !t && !i.canReload) {
                        j(Date.now() + 3e4);
                        let e = setTimeout( () => _(!0), 3e4);
                        return () => clearTimeout(e)
                    }
                    j(0)
                }
            }
            , [i, C, n.isVisible, n.mode, n.refresh]),
            n.isVisible) ? (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && k()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, y().profilewindow),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("h1", {
                            children: "capsule" === n.mode ? o("ui.SelectCapsule", "Select Pet to Hatch") : o("ui.SelectPet", "Select Your Pet")
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: k,
                            children: "\xa0"
                        }), (0,
                        s.jsx)(tl, {
                            loading: !v,
                            pets: v,
                            mode: n.mode,
                            selectedPet: d,
                            setSelectedPet: c
                        }), (0,
                        s.jsx)("div", {
                            className: y().flexsingleline,
                            children: (0,
                            s.jsx)(e0, {
                                nfts: i,
                                override: x,
                                overrideReloadAt: f
                            })
                        })]
                    })
                })]
            }) : (0,
            s.jsx)(s.Fragment, {})
        }
          , to = i(53660)
          , td = i(63446)
          , tc = i.n(td);
        let tu = e => {
            if ("string" == typeof e || !e.environ)
                return;
            let t = e.environ.toLowerCase();
            return (0,
            E.Uk)("/environments/icons/".concat(t, ".png"))
        }
          , tm = e => {
            let {title: t, onClose: i, children: n} = e;
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)("div", {
                    className: y().modalBackdrop
                }), (0,
                s.jsxs)("div", {
                    className: u()(tc().container, y().uikit),
                    children: [(0,
                    s.jsx)(ek, {
                        onKeyDown: e => {
                            e.stopPropagation(),
                            e.preventDefault(),
                            "Escape" === e.key && i()
                        }
                    }), (0,
                    s.jsx)("button", {
                        type: "button",
                        className: y().closeBtn,
                        onClick: i
                    }), (0,
                    s.jsx)("div", {
                        className: tc().header,
                        children: (0,
                        s.jsx)("div", {
                            className: tc().title,
                            children: t
                        })
                    }), n]
                })]
            })
        }
          , tp = e => {
            let {children: t} = e;
            return (0,
            s.jsx)("div", {
                className: tc().tabs,
                children: t
            })
        }
          , tv = e => {
            let {onClick: t, children: i} = e;
            return (0,
            s.jsx)("button", {
                className: tc().tab,
                onClick: t,
                children: i
            })
        }
          , th = e => {
            let {children: t} = e;
            return (0,
            s.jsx)("div", {
                className: u()(tc().content, y().scrollArea),
                children: t
            })
        }
          , tx = e => {
            let {mapId: t, mapName: i, icon: n, onTeleport: a, onRemove: l} = e
              , {t: r} = (0,
            g.$G)("ui")
              , o = (0,
            eE.GU)();
            return (0,
            s.jsxs)("div", {
                className: tc().mapSquare,
                children: [(0,
                s.jsx)("div", {
                    children: i || t.replace(o.mapPrefix, "#") || (0,
                    E.r5)(t, !0)
                }), (0,
                s.jsx)("div", {
                    children: (0,
                    s.jsx)("img", {
                        src: (0,
                        E.Uk)(n || o.landIcon || "/environments/icons/land.png")
                    })
                }), (0,
                s.jsx)("button", {
                    type: "button",
                    onClick: a,
                    className: tc().buttonTeleport,
                    children: r("landAndTravel.teleport", "Go")
                }), l && (0,
                s.jsx)("button", {
                    type: "button",
                    onClick: l,
                    className: tc().removeBookmarkButton,
                    children: "✖"
                })]
            }, t)
        }
          , tg = (0,
        E.Uk)("/game/assets/landandtravel")
          , t_ = e => {
            let {active: t, onActivate: i} = e;
            return (0,
            s.jsx)(tv, {
                onClick: () => !t && i(),
                children: (0,
                s.jsx)("img", {
                    src: t ? "".concat(tg, "/bookmark_active.png") : "".concat(tg, "/bookmark_inactive.png")
                })
            })
        }
          , tf = () => {
            let {t: e} = (0,
            g.$G)("ui")
              , t = (0,
            m.T)()
              , i = (0,
            m.C)(p.PD)
              , n = e => {
                z.ZP.emitEventNow(z.fb.ROOM_WARP, {
                    mapId: e
                }),
                t((0,
                to._V)())
            }
              , a = e => {
                z.ZP.sendEventDelayed(z.fb.BOOKMARK_MAP, {
                    mapId: e,
                    bookmark: !1
                })
            }
            ;
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)("div", {
                    className: tc().subtitle,
                    children: e("landAndTravel.bookmarks.title", "My Bookmarks")
                }), (0,
                s.jsx)("div", {
                    className: tc().mapsSquare,
                    children: i.map(e => {
                        let t = "string" == typeof e ? e : e.mapId;
                        return (0,
                        s.jsx)(tx, {
                            mapId: t,
                            icon: tu(e),
                            onTeleport: () => n(t),
                            onRemove: () => a(t)
                        }, t)
                    }
                    )
                })]
            })
        }
          , tj = (0,
        E.Uk)("/game/assets/landandtravel")
          , ty = e => {
            let {active: t, onActivate: i} = e;
            return (0,
            s.jsx)(tv, {
                onClick: () => !t && i(),
                children: (0,
                s.jsx)("img", {
                    src: t ? "".concat(tj, "/house_active.png") : "".concat(tj, "/house_inactive.png")
                })
            })
        }
          , tb = e => {
            let {nfts: t} = e
              , i = (0,
            m.T)()
              , {t: n} = (0,
            g.$G)("ui")
              , a = (0,
            eE.GU)()
              , l = (0,
            m.C)(p.VQ)
              , o = r.useMemo( () => {
                var e, i;
                return t && t.filteredData && null !== (i = null === (e = t.filteredData.tenants[a.name]) || void 0 === e ? void 0 : e.map(e => {
                    var t, i;
                    return {
                        image: e.imageUrl,
                        name: "#".concat(e.tokenId),
                        mapId: "".concat(a.mapPrefix).concat(e.tokenId),
                        environ: null === (i = e.traits) || void 0 === i ? void 0 : null === (t = i.find(e => "environment" === e.traitKey.toLowerCase())) || void 0 === t ? void 0 : t.traitValue
                    }
                }
                )) && void 0 !== i ? i : []
            }
            , [t, a])
              , d = r.useMemo( () => {
                var e, i;
                return t && t.filteredData && null !== (i = null === (e = t.filteredData.realms) || void 0 === e ? void 0 : e.map(e => ({
                    image: e.imageUrl,
                    name: "#Realm".concat(e.tokenId),
                    mapId: "realm".concat(e.tokenId)
                }))) && void 0 !== i ? i : []
            }
            , [t, a]);
            (0,
            r.useEffect)( () => {
                var e;
                t && !t.loading && t.filteredData && (null === (e = a.contracts) || void 0 === e ? void 0 : e.length) && t.canReload && t.reload(!0),
                l && (t.reload(!0),
                i((0,
                eI.dd)()))
            }
            , [t, a, l]);
            let c = K.l.getInstance().currentPlayer
              , u = (0,
            b.Fc)(c.full.farms)
              , v = e => {
                z.ZP.emitEventNow(z.fb.ROOM_WARP, {
                    mapId: e
                }),
                i((0,
                to._V)())
            }
              , h = "pixels" === a.id
              , x = (0,
            E.Uk)(a.landIcon || "/environments/icons/land.png");
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)("div", {
                    className: tc().subtitle,
                    children: n("landAndTravel.myLand.title", "My Land")
                }), !o.length && (!h || !u) && (0,
                s.jsx)("div", {
                    className: tc().description,
                    children: n("plots.noPlots", "YOUR land will show up here")
                }), h && !u && (0,
                s.jsx)("div", {
                    className: tc().description,
                    children: n("plots.getSpeck", "Talk to Karen in PLOT building to receive your Speck")
                }), (0,
                s.jsxs)("div", {
                    className: tc().mapsSquare,
                    children: [h && u && (0,
                    s.jsx)(tx, {
                        icon: x,
                        mapId: u,
                        mapName: n("plot.RentedFarm", "Rented Land"),
                        onTeleport: () => v(u)
                    }, u), o.sort( (e, t) => parseInt((0,
                    E.r5)(e.mapId)) - parseInt((0,
                    E.r5)(t.mapId))).map(e => {
                        var t;
                        return (0,
                        s.jsx)(tx, {
                            mapId: e.mapId,
                            mapName: e.name,
                            icon: null !== (t = tu(e)) && void 0 !== t ? t : x,
                            onTeleport: () => v(e.mapId)
                        }, e.mapId)
                    }
                    ), (null == t ? void 0 : t.loading) && (0,
                    s.jsx)("div", {
                        className: tc().mapSquare,
                        children: (0,
                        s.jsx)(es.s5, {})
                    })]
                }), !!d.length && (0,
                s.jsxs)(s.Fragment, {
                    children: [(0,
                    s.jsx)("div", {
                        className: tc().subtitle,
                        children: n("landAndTravel.myRealm.title", "My Realm")
                    }), !d.length && (0,
                    s.jsx)("div", {
                        className: tc().description,
                        children: n("landAndTravel.myRealm.norealm", "YOUR realm will show up here")
                    }), (0,
                    s.jsx)("div", {
                        className: tc().mapsSquare,
                        children: d.map(e => {
                            var t;
                            return (0,
                            s.jsx)(tx, {
                                mapId: e.mapId,
                                mapName: e.name,
                                icon: null !== (t = tu(e)) && void 0 !== t ? t : x,
                                onTeleport: () => v(e.mapId)
                            }, e.mapId)
                        }
                        )
                    })]
                })]
            })
        }
          , tN = e => {
            let {active: t, onActivate: i} = e
              , n = (0,
            E.Uk)("/game/assets/landandtravel");
            return (0,
            s.jsx)(tv, {
                onClick: () => !t && i(),
                children: (0,
                s.jsx)("img", {
                    src: t ? "".concat(n, "/land_active.png") : "".concat(n, "/land_inactive.png")
                })
            })
        }
          , tk = () => {
            let {t: e} = (0,
            g.$G)("ui");
            return (0,
            s.jsxs)("div", {
                className: tc().option,
                children: [(0,
                s.jsx)("div", {
                    className: tc().optionTitle,
                    children: e("landAndTravel.options.rentTitle", "Rent NFT Farmland")
                }), (0,
                s.jsx)("div", {
                    className: tc().description,
                    children: e("landAndTravel.options.rentDescription", "Renting a Pixels NFT Farmland is the perfect way to dip your toes into the exciting world of virtual land ownership.")
                }), (0,
                s.jsx)("div", {
                    className: tc().optionButtons,
                    children: (0,
                    s.jsx)("button", {
                        type: "button",
                        onClick: () => z.ZP.emitEventNow(z.fb.LINK_OPEN, {
                            link: "https://pixels.xyz/rent",
                            msgKey: "landAndTravel.options.confirm-link"
                        }),
                        children: e("landAndTravel.options.rentButton", "Browse Rentals")
                    })
                })]
            })
        }
          , tC = () => {
            let {t: e} = (0,
            g.$G)("ui")
              , t = (0,
            eE.GU)();
            return t.purchaseLink ? (0,
            s.jsxs)("div", {
                className: tc().option,
                children: [(0,
                s.jsx)("div", {
                    className: tc().optionTitle,
                    children: e("landAndTravel.".concat(t.name, ".options.purchaseTitle"), "Own NFT Farmland")
                }), (0,
                s.jsx)("div", {
                    className: tc().description,
                    children: e("landAndTravel.".concat(t.name, ".options.purchaseDescription"), "Own one of the 5000 Pixels NFT Farmlands. Become a real estate mogul, build an empire, while enjoying many other benefits.")
                }), (0,
                s.jsx)("div", {
                    className: tc().optionButtons,
                    children: (0,
                    s.jsx)("button", {
                        type: "button",
                        onClick: () => {
                            z.ZP.emitEventNow(z.fb.LINK_OPEN, {
                                link: t.purchaseLink,
                                msgKey: "landAndTravel.".concat(t.name, ".options.purchase.confirm-link")
                            })
                        }
                        ,
                        children: e("landAndTravel.".concat(t.name, ".options.purchaseButton"), "Browse Marketplace")
                    })
                })]
            }) : null
        }
          , tw = () => {
            let {t: e} = (0,
            g.$G)("ui");
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)("div", {
                    className: tc().subtitle,
                    children: e("landAndTravel.options.title", "Land Options")
                }), (0,
                s.jsxs)("div", {
                    className: tc().options,
                    children: ["pixels" === (0,
                    eE.F5)() && (0,
                    s.jsx)(tk, {}), (0,
                    s.jsx)(tC, {})]
                })]
            })
        }
        ;
        class tS {
            env() {
                try {
                    return "prod"
                } catch (e) {}
                return "preview"
            }
            async fetchPlayerFarms(e) {
                try {
                    let {freeFarms: t, nftFarms: i} = await this.api.fetchPlayerFarms(e);
                    return [...i, ...t]
                } catch (e) {
                    return console.log(e),
                    []
                }
            }
            async searchFarms(e) {
                try {
                    return await this.api.searchFarms(e)
                } catch (e) {
                    return console.log(e),
                    []
                }
            }
            async getTopFarms() {
                try {
                    return await this.api.getTopFarms()
                } catch (e) {
                    return console.log(e),
                    []
                }
            }
            async getTopNFTFarms() {
                try {
                    return await this.api.getTopNFTFarms()
                } catch (e) {
                    return console.log(e),
                    []
                }
            }
            async getTopFreeFarms() {
                try {
                    return await this.api.getTopFreeFarms()
                } catch (e) {
                    return console.log(e),
                    []
                }
            }
            async getFarmDetails(e) {
                try {
                    return await this.api.farmDetails(e)
                } catch (e) {
                    return console.log(e),
                    null
                }
            }
            constructor(e) {
                this.api = e
            }
        }
        var tI = new tS(ed.Z);
        function tT(e) {
            let[t,i] = r.useState();
            return r.useEffect( () => {
                i("fetching");
                let t = !1;
                return e().then(e => {
                    t || i({
                        data: e
                    })
                }
                , e => {
                    t || i({
                        error: e
                    })
                }
                ),
                () => {
                    t = !0
                }
            }
            , [e]),
            t
        }
        var tP = i(98355);
        function tM(e) {
            e.stopPropagation()
        }
        let tD = () => {
            let e = (0,
            eE.GU)()
              , t = e.maxMaps || 5e3
              , {t: i} = (0,
            g.$G)("ui")
              , [n,a] = r.useState(Math.floor(Math.random() * t))
              , l = (0,
            m.C)(tP.j2)
              , o = r.useRef(null)
              , d = (0,
            m.T)()
              , c = K.l.getInstance().getEntityByUniqueId(l.mid_portal)
              , u = () => {
                if (n >= 1 && n <= t) {
                    if (c) {
                        let e = {
                            mid: l.mid_portal,
                            impact: "setup",
                            entity: c.entity,
                            inputs: [n]
                        };
                        z.ZP.emitEventNow(te.mY.clickEntity, e),
                        d((0,
                        tP.e4)())
                    } else
                        (null == e ? void 0 : e.mapPrefix) && (z.ZP.emitEventNow(z.fb.ROOM_WARP, {
                            mapId: "".concat(e.mapPrefix).concat(n)
                        }),
                        d((0,
                        tP.e4)()))
                }
            }
            ;
            return r.useEffect( () => {
                if (o.current) {
                    var e;
                    null === (e = o.current) || void 0 === e || e.select()
                }
            }
            , []),
            (0,
            s.jsxs)("div", {
                className: tc().option,
                children: [(0,
                s.jsx)("div", {
                    className: tc().optionTitle,
                    children: i("landAndTravel.warp.direct.title", "To Farm")
                }), (0,
                s.jsx)("div", {
                    className: tc().description,
                    children: i("infiniportal.manual.tutorial", "Enter a Farm Number between 0 and 5000 this portal will take you to it.")
                }), (0,
                s.jsxs)("div", {
                    className: tc().optionButtons,
                    children: [(0,
                    s.jsx)("input", {
                        tabIndex: 1,
                        ref: o,
                        className: tc().numberInput,
                        type: "number",
                        value: n,
                        onKeyDown: e => {
                            e.stopPropagation(),
                            "Enter" === e.key && u()
                        }
                        ,
                        onChange: e => {
                            let i = parseInt(e.target.value);
                            for (i < 0 && (i *= -1); i > t; )
                                i = Math.floor(i / 10);
                            a(i),
                            e.stopPropagation(),
                            e.preventDefault()
                        }
                        ,
                        autoFocus: !0
                    }), (0,
                    s.jsx)("button", {
                        type: "button",
                        onClick: e => {
                            e.preventDefault(),
                            u()
                        }
                        ,
                        children: i("landAndTravel.teleport", "Go")
                    })]
                })]
            })
        }
          , tE = e => {
            let {setSearchTerm: t} = e
              , {t: i} = (0,
            g.$G)("ui")
              , [n,a] = r.useState("");
            return r.useEffect( () => {
                let e = setTimeout( () => t(n), (0,
                b.x9)({
                    seconds: 1
                }));
                return () => clearTimeout(e)
            }
            , [n, t]),
            (0,
            s.jsxs)("div", {
                className: tc().option,
                children: [(0,
                s.jsx)("div", {
                    className: tc().optionTitle,
                    children: i("landAndTravel.warp.search.title", "To Player")
                }), (0,
                s.jsx)("div", {
                    className: tc().description,
                    children: i("infiniportal.manual.playerTutorial", "Or, find a player by username or wallet and go to one of their farms.")
                }), (0,
                s.jsx)("div", {
                    className: tc().optionButtons,
                    children: (0,
                    s.jsx)("input", {
                        placeholder: i("infiniportal.manual.searchPlayerPlaceholder", "Username or ETH"),
                        value: n,
                        onKeyDown: tM,
                        onChange: e => a(e.target.value)
                    })
                })]
            })
        }
          , tA = e => {
            let {playerId: t, username: i, delay: n} = e
              , a = (0,
            m.T)()
              , [l,o] = r.useState(!1);
            r.useEffect( () => {
                if (!n)
                    return;
                o(!0);
                let e = setTimeout( () => o(!1), n);
                return () => clearTimeout(e)
            }
            , [n]);
            let d = tT(r.useCallback( () => l ? Promise.resolve([]) : (0,
            b.HX)("farms-by-player-".concat(t), async () => await tI.fetchPlayerFarms(t)), [t, l]));
            return (0,
            s.jsxs)("div", {
                className: u()(tc().option, tc().stretchOption),
                children: [(0,
                s.jsx)("div", {
                    className: tc().optionTitle,
                    children: i
                }), "fetching" === d ? (0,
                s.jsx)("div", {
                    className: tc().description,
                    children: (0,
                    s.jsx)(et, {})
                }) : (0,
                s.jsx)("div", {
                    className: tc().mapsSquare,
                    children: (null == d ? void 0 : d.data) && d.data.map(e => (0,
                    s.jsx)(tx, {
                        mapId: e.id,
                        mapName: e.name,
                        onTeleport: () => {
                            z.ZP.emitEventNow(z.fb.ROOM_WARP, {
                                mapId: e.id
                            }),
                            a((0,
                            to._V)())
                        }
                    }, e.id))
                })]
            })
        }
          , tB = () => {
            var e;
            let {t} = (0,
            g.$G)("ui")
              , [i,n] = r.useState("")
              , a = tT(r.useCallback(async () => i ? await (0,
            b.HX)("username-or-eth-".concat(i), async () => await tI.searchFarms(i)) : Promise.resolve([]), [i]));
            return (0,
            s.jsx)(s.Fragment, {
                children: (0,
                s.jsxs)("div", {
                    className: tc().options,
                    children: [(0,
                    s.jsx)(tD, {}), (0,
                    s.jsx)(tE, {
                        setSearchTerm: n
                    }), !!i && (0,
                    s.jsx)(s.Fragment, {
                        children: "fetching" === a ? (0,
                        s.jsx)("div", {
                            className: u()(tc().option, tc().stretchOption),
                            children: (0,
                            s.jsx)("div", {
                                className: tc().description,
                                children: (0,
                                s.jsx)(et, {})
                            })
                        }) : (null == a ? void 0 : null === (e = a.data) || void 0 === e ? void 0 : e.length) ? a.data.map( (e, t) => (0,
                        s.jsx)(tA, {
                            delay: (0,
                            b.x9)({
                                ms: 200 * t
                            }),
                            playerId: e._id,
                            username: e.username
                        }, e._id)) : (0,
                        s.jsx)("div", {
                            className: u()(tc().option, tc().stretchOption),
                            children: (0,
                            s.jsx)("div", {
                                className: tc().optionTitle,
                                children: (0,
                                s.jsx)("span", {
                                    children: t("landAndTravel.warp.noPlayers", "No players found")
                                })
                            })
                        })
                    })]
                })
            })
        }
          , tL = () => {
            let {t: e} = (0,
            g.$G)("ui")
              , t = (0,
            m.T)()
              , i = (0,
            eE.GU)()
              , n = () => {
                z.ZP.emitEventNow(z.fb.ROOM_WARP, {
                    mapId: i.map
                }),
                t((0,
                to._V)())
            }
            ;
            return (0,
            s.jsx)("div", {
                className: tc().customHeader,
                children: (0,
                s.jsx)("button", {
                    type: "button",
                    onClick: () => n(),
                    children: e("landAndTravel.teleport.defaultMap", {
                        defaultValue: "Go to {{name}}",
                        name: e("landAndTravel.".concat(i.name, ".bookmarks.defaultMap"), (0,
                        b.je)(i.map))
                    })
                })
            })
        }
          , tF = e => {
            let {nfts: t} = e
              , i = function(e) {
                let t = (0,
                m.C)(to.pM)
                  , i = (0,
                m.C)(tP.j2)
                  , {t: n} = (0,
                g.$G)("ui")
                  , a = (0,
                m.T)();
                return r.useMemo( () => {
                    if (t) {
                        var l, s, r;
                        let t = n("landAndTravel.title", "Land & Travel")
                          , i = (0,
                        eE.GU)();
                        return {
                            title: t,
                            onClose: () => {
                                a((0,
                                to._V)())
                            }
                            ,
                            tabs: {
                                options: !0,
                                myLand: !0,
                                bookmarks: !0
                            },
                            defaultTab: ("pixels" === (0,
                            eE.F5)() ? null === (r = K.l.getInstance().currentPlayer.full.farms) || void 0 === r ? void 0 : r.some(e => /rent/gi.test(e)) : null === (s = e.filteredData) || void 0 === s ? void 0 : null === (l = s.tenants[i.name]) || void 0 === l ? void 0 : l.length) ? "myLand" : "options",
                            header: "terravilla"
                        }
                    }
                    if (i.isVisible && "pixels" === i.tenant && "infiniportal" === i.mode)
                        return {
                            title: n("infiniportal.title", "Infiniportal"),
                            onClose: () => {
                                a((0,
                                tP.e4)())
                            }
                            ,
                            defaultTab: "warp"
                        }
                }
                , [e, t, i, n, a])
            }(t)
              , [n,a] = r.useState();
            if (r.useEffect( () => {
                i || a(void 0)
            }
            , [i]),
            !i)
                return null;
            let l = i.tabs
              , o = n || i.defaultTab;
            return (0,
            s.jsxs)(tm, {
                title: i.title,
                onClose: i.onClose,
                children: [(0,
                s.jsx)("div", {
                    className: tc().title
                }), "terravilla" === i.header && (0,
                s.jsx)(tL, {}), l && (0,
                s.jsxs)(tp, {
                    children: [l.options && (0,
                    s.jsx)(tN, {
                        active: "options" === o,
                        onActivate: () => a("options")
                    }), l.myLand && (0,
                    s.jsx)(ty, {
                        active: "myLand" === o,
                        onActivate: () => a("myLand")
                    }), l.bookmarks && (0,
                    s.jsx)(t_, {
                        active: "bookmarks" === o,
                        onActivate: () => a("bookmarks")
                    })]
                }), (0,
                s.jsxs)(th, {
                    children: ["options" === o && (0,
                    s.jsx)(tw, {
                        nfts: t,
                        updateTab: e => {
                            a(e)
                        }
                    }), "myLand" === o && (0,
                    s.jsx)(tb, {
                        nfts: t
                    }), "bookmarks" === o && (0,
                    s.jsx)(tf, {}), "warp" === o && (0,
                    s.jsx)(tB, {})]
                })]
            })
        }
        ;
        var tG = () => {
            let e = (0,
            m.C)(p.lA)
              , t = (0,
            m.C)(p.GO)
              , i = (0,
            m.C)(p.K7)
              , n = (0,
            m.C)(p.wk)
              , a = (0,
            m.C)(to.pM)
              , l = (0,
            e4.n)(e || void 0, n || a)
              , r = (0,
            m.C)(p.ge);
            return t || i ? (0,
            s.jsx)(s.Fragment, {}) : (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)(e6, {
                    nfts: l,
                    vip: r
                }), (0,
                s.jsx)(tF, {
                    nfts: l
                }), (0,
                s.jsx)(tr, {
                    nfts: l
                })]
            })
        }
        ;
        let tR = e => {
            let {children: t} = e
              , [i,n] = r.useState(eB.Zm)
              , a = (0,
            m.C)(eb.pT);
            return r.useEffect( () => {
                let e = () => n((0,
                eB.Zm)());
                return e(),
                window.addEventListener("resize", e),
                () => window.removeEventListener("resize", e)
            }
            , []),
            (0,
            s.jsx)("div", {
                style: {
                    pointerEvents: "none",
                    userSelect: "none",
                    background: "none",
                    overflow: "hidden",
                    display: a ? "none" : "block",
                    position: "absolute",
                    left: 0,
                    top: 0,
                    right: 0,
                    bottom: 0
                },
                children: (0,
                s.jsx)("div", {
                    style: {
                        background: "none",
                        position: "absolute",
                        left: 0,
                        top: 0,
                        imageRendering: "pixelated",
                        width: "".concat(100 / i, "%"),
                        height: "".concat(100 / i, "%"),
                        transformOrigin: "0 0 0",
                        transform: "scale3d(".concat(i, ", ").concat(i, ", 1)")
                    },
                    children: t
                })
            })
        }
        ;
        var tV = i(70697)
          , tZ = i.n(tV)
          , tW = i(53720);
        let tO = e => {
            let {name: t, skill: i, level: n=0, maxPoints: a=100, totalXP: l=0, exp: o=0, isFarm: d=!1} = e
              , [c,m] = r.useState(!1)
              , p = (0,
            Z.R)(i || "")
              , v = (0,
            tW.Xr)((null != n ? n : 0) + 1, d)
              , h = Math.floor(10 * o) / 10
              , x = v - (0,
            tW.Xr)(null != n ? n : 0, d);
            return (0,
            s.jsx)(R, {
                title: (0,
                s.jsxs)("span", {
                    className: "pixelFont",
                    children: [t, (0,
                    s.jsx)("br", {}), (0,
                    E.uf)(h, 1), " XP", (0,
                    s.jsx)("br", {}), n >= 0 && n < a && (0,
                    s.jsxs)(s.Fragment, {
                        children: ["↑ +", (0,
                        E.uf)(v - Math.floor(10 * l) / 10, 1), " XP"]
                    })]
                }),
                placement: "top",
                children: (0,
                s.jsx)("div", {
                    className: u()(y().uikit, tZ().skillSlot),
                    onClick: () => m(e => !e),
                    children: (0,
                    s.jsxs)("div", {
                        className: tZ().skillContent,
                        children: [(0,
                        s.jsx)("div", {
                            style: {
                                marginBottom: "10px"
                            },
                            children: c ? (0,
                            s.jsx)("span", {
                                className: tZ().skillDivider,
                                children: "XP"
                            }) : (0,
                            s.jsx)("img", {
                                crossOrigin: "anonymous",
                                src: p,
                                style: {
                                    filter: "drop-shadow(3px 3px 2px #000000)"
                                }
                            })
                        }), c ? (0,
                        s.jsxs)(s.Fragment, {
                            children: [(0,
                            s.jsx)("div", {
                                className: u()(tZ().skillPoints, tZ().numerator),
                                children: (0,
                                E.uf)(h, 1)
                            }), n < a && (0,
                            s.jsx)("div", {
                                className: u()(tZ().skillPoints, tZ().denominator),
                                children: (0,
                                E.uf)(x)
                            })]
                        }) : (0,
                        s.jsxs)("div", {
                            className: tZ().skillBar,
                            children: [(0,
                            s.jsx)("div", {
                                className: tZ().skillBaseBar,
                                children: (0,
                                s.jsxs)("div", {
                                    className: tZ().skillData,
                                    children: [(0,
                                    s.jsx)("span", {
                                        className: tZ().skillPoints,
                                        children: "".concat(null != n ? n : 0)
                                    }), (0,
                                    s.jsx)("span", {
                                        className: tZ().skillDivider,
                                        children: "/"
                                    }), (0,
                                    s.jsx)("span", {
                                        className: tZ().skillPoints,
                                        children: "".concat(a)
                                    })]
                                })
                            }), (0,
                            s.jsx)("div", {
                                className: tZ().skillFilledBar,
                                style: {
                                    width: "".concat(Math.min(100 * o / x, 100), "%")
                                },
                                children: (0,
                                s.jsxs)("div", {
                                    className: tZ().skillData,
                                    children: [(0,
                                    s.jsx)("span", {
                                        className: tZ().skillPoints,
                                        children: "".concat(null != n ? n : 0)
                                    }), (0,
                                    s.jsx)("span", {
                                        className: tZ().skillDivider,
                                        children: "/"
                                    }), (0,
                                    s.jsx)("span", {
                                        className: tZ().skillPoints,
                                        children: "".concat(a)
                                    })]
                                })
                            })]
                        })]
                    })
                })
            })
        }
        ;
        var tq = i(30908);
        let tU = {
            farming: !0,
            forestry: !0,
            mining: !0
        }
          , tH = {
            ceramicist: !1,
            cooking: !0,
            woodwork: !0,
            granger: !1,
            textiler: !1,
            redifferentiator: !1,
            winemaking: !1,
            forestry: !0,
            beekeeping: !1,
            aviculture: !1,
            metalworking: !0,
            stoneshaping: !0,
            farming: !0,
            mining: !0,
            slugger: !1,
            business: !0,
            petcare: !0,
            fishing: !1,
            exploration: !0
        }
          , tz = e => {
            var t;
            let {getLevelData: i, isFarm: n=!1, showOverall: a=!1} = e
              , {t: l} = (0,
            g.$G)(["ui"])
              , r = n ? tU : tH
              , o = tq.Skills.filter(e => r[e])
              , d = n ? 0 : (3 - o.length % 3) % 3
              , c = a && i("overall");
            return (0,
            s.jsxs)(s.Fragment, {
                children: [c && (0,
                s.jsxs)("div", {
                    className: tZ().skillsOverall,
                    children: [l("overall", "Overall Level"), ": ", null === (t = c.level) || void 0 === t ? void 0 : t.toLocaleString()]
                }), (0,
                s.jsxs)("div", {
                    className: u()(tZ().skillsPanel, y().scrollArea),
                    children: [o.map(e => ({
                        name: l(e, (0,
                        b.je)(e)),
                        skill: e,
                        level: i(e)
                    })).map(e => {
                        let {name: t, skill: i, level: a} = e;
                        return (0,
                        s.jsx)(tO, {
                            name: t,
                            skill: i,
                            level: null == a ? void 0 : a.level,
                            totalXP: null == a ? void 0 : a.totalExp,
                            exp: null == a ? void 0 : a.exp,
                            isFarm: n
                        }, t)
                    }
                    ), Array.from(Array(d)).map( (e, t) => (0,
                    s.jsx)(tO, {
                        name: l("upcoming_tooltip", "Upcoming..."),
                        isFarm: n
                    }, "empty".concat(t)))]
                })]
            })
        }
          , tK = () => {
            let e = (0,
            m.C)(p.qb)
              , t = (0,
            m.C)(p.cV)
              , i = (0,
            x.I0)()
              , {t: n} = (0,
            g.$G)("ui");
            return t ? (0,
            s.jsxs)("div", {
                className: u()(tZ().skillPopup, y().uikit, y().frame, y().orange, y().absolute),
                children: [(0,
                s.jsx)("button", {
                    type: "button",
                    className: y().closeBtn,
                    onClick: () => i((0,
                    eI.po)())
                }), (0,
                s.jsxs)("div", {
                    className: tZ().skillContainer,
                    children: [(0,
                    s.jsx)("h1", {
                        children: n("skilllevels", "Skills")
                    }), (0,
                    s.jsx)(tz, {
                        getLevelData: e
                    })]
                })]
            }) : (0,
            s.jsx)(s.Fragment, {})
        }
        ;
        var tQ = i(29512)
          , t$ = i(86958)
          , tY = i(56633)
          , tX = i(68410)
          , tJ = i(21759)
          , t0 = i(31238)
          , t1 = i(78889)
          , t2 = i.n(t1)
          , t3 = i(57841)
          , t5 = () => {
            var e, t;
            let {t: i} = (0,
            g.$G)("ui")
              , n = (0,
            m.C)(p.Ai);
            if (!(null === (e = n.mapId) || void 0 === e ? void 0 : e.includes("pixelsNFTFarm-")))
                return null;
            let a = null == n ? void 0 : null === (t = n.ownership) || void 0 === t ? void 0 : t.lastClaim
              , l = !a || (Date.now() - a) / 36e5 > 1;
            return (0,
            s.jsx)("div", {
                style: {
                    display: "flex",
                    flexWrap: "wrap",
                    justifyContent: "center",
                    margin: 2
                },
                children: (0,
                s.jsx)(S.Z, {
                    title: "Refetch owner address/staked/renft data from the chain(Will be refetch only if some hours have passed form the last refetch)",
                    children: (0,
                    s.jsx)("span", {
                        children: (0,
                        s.jsx)("button", {
                            type: "button",
                            className: u()([y().uikit, y().button]),
                            disabled: !l,
                            onClick: () => {
                                z.ZP.emitEventNow(z.qM.CLAIM_NFTMAP, {})
                            }
                            ,
                            children: (0,
                            s.jsxs)(s.Fragment, {
                                children: [(0,
                                s.jsx)(t3.Z, {}), (0,
                                s.jsx)("span", {
                                    className: t2().fullbutton,
                                    children: i("button.claimnftMap", "Claim")
                                })]
                            })
                        })
                    })
                })
            })
        }
          , t6 = i(96486)
          , t4 = i.n(t6)
          , t8 = i(15624);
        async function t9(e) {
            let t = K.l.getInstance()
              , i = new Map
              , n = t.getMapEntities()
              , a = C.Z.getMapObjects();
            null == n || n.forEach(t => {
                if (t.player) {
                    i.has(t.player) || i.set(t.player, {
                        playerId: t.player,
                        playerName: "",
                        objects: new Map,
                        self: t.player === e
                    });
                    let n = i.get(t.player);
                    n && (n.objects.has(t.entity) ? n.objects.get(t.entity).count++ : n.objects.set(t.entity, {
                        name: (0,
                        b.sA)(t.entity.replace("ent_", "itm_")),
                        count: 1
                    }))
                }
            }
            ),
            a && Object.values(a).forEach(t => {
                if (t.player) {
                    i.has(t.player) || i.set(t.player, {
                        playerId: t.player,
                        playerName: "",
                        objects: new Map,
                        self: t.player === e
                    });
                    let n = i.get(t.player);
                    n && (n.objects.has(t.object) ? n.objects.get(t.object).count++ : n.objects.set(t.object, {
                        name: (0,
                        b.sA)(t.object.replace("obj_", "itm_")),
                        count: 1
                    }))
                }
            }
            );
            let l = Array.from(i.values()).map(e => e.playerId)
              , s = await ed.Z.fetchPlayersUsernames(l);
            return s && i.forEach(e => {
                var t;
                return e.playerName = null !== (t = s[e.playerId]) && void 0 !== t ? t : e.playerId
            }
            ),
            i
        }
        let t7 = () => {
            let {t: e} = (0,
            g.$G)(["game"])
              , t = (0,
            m.C)(p.lA)
              , i = (0,
            m.C)(p.Ai)
              , [n,a] = (0,
            r.useState)()
              , l = (0,
            m.T)();
            (0,
            r.useEffect)( () => {
                var e, i;
                a(void 0),
                t9(null !== (i = null == t ? void 0 : null === (e = t.core) || void 0 === e ? void 0 : e.mid) && void 0 !== i ? i : "").then(e => {
                    a(e)
                }
                )
            }
            , [i.mapId]);
            let o = () => {
                z.ZP.emitEventNow(te.mY.claimAll),
                l({
                    type: "game/DISMISS_FARM_DETAILS"
                })
            }
              , d = n && Array.from(n.values());
            return (0,
            s.jsxs)("div", {
                className: u()(t2().itemlist, y().scrollArea),
                children: [null == d ? void 0 : d.map(t => (0,
                s.jsxs)("div", {
                    className: t2().playeritems,
                    children: [(0,
                    s.jsxs)("span", {
                        className: t2().playername,
                        children: [t.playerName, t.self && (0,
                        s.jsxs)(s.Fragment, {
                            children: [" (You) ", (0,
                            s.jsx)(S.Z, {
                                title: "Remove Items",
                                children: (0,
                                s.jsx)("span", {
                                    className: "clickable",
                                    onClick: o,
                                    children: (0,
                                    s.jsx)(tQ.Z, {})
                                })
                            })]
                        })]
                    }), Array.from(t.objects.values()).map(t => {
                        let i = t4().upperCase(t.name.replace("itm_", "").replace("_name", "").replace("_", " "));
                        return (0,
                        s.jsxs)("div", {
                            className: t2().playeritem,
                            children: [(0,
                            s.jsx)("span", {
                                className: t2().itemqty,
                                children: "".concat(t.count)
                            }), (0,
                            s.jsx)("span", {
                                className: t2().itemname,
                                children: e(t.name, i)
                            })]
                        }, t.name)
                    }
                    )]
                }, t.playerId)), d && 0 === d.length && (0,
                s.jsx)("span", {
                    className: t2().noitems,
                    children: e("noowneditems", {
                        ns: "ui",
                        defaultValue: "No player owned items."
                    })
                })]
            })
        }
          , ie = () => {
            var e, t, i, n, a, l;
            let o = (0,
            m.C)(p.Ai)
              , d = (0,
            m.C)(p.PD)
              , c = (0,
            m.C)(p.zY)
              , {t: v} = (0,
            g.$G)(["game"])
              , h = (0,
            m.T)()
              , x = (0,
            eb.Ei)(t8.h.getState())
              , _ = d.filter(e => {
                var t;
                return (null !== (t = null == e ? void 0 : e.mapId) && void 0 !== t ? t : e) === o.mapId
            }
            ).length > 0
              , f = (0,
            m.C)(eb.Mt)
              , j = (0,
            m.C)(p.V4)
              , N = K.l.getInstance()
              , k = N.mapLabels.includes("exterior") && ["nft", "pixelsNFTFarm", "player"].includes(N.mapType)
              , C = (0,
            r.useMemo)( () => {
                var e;
                let t = 1;
                for (; null === (e = o.labels) || void 0 === e ? void 0 : e.includes("tier".concat(t + 1)); )
                    t++;
                return t
            }
            , o.labels)
              , w = async () => {
                var e;
                z.ZP.sendEventDelayed(z.fb.BOOKMARK_MAP, {
                    mapId: o.mapId,
                    environ: null === (e = N.mapTraits) || void 0 === e ? void 0 : e.environment,
                    bookmark: !_
                })
            }
              , I = () => {
                h({
                    type: "game/DISMISS_FARM_DETAILS"
                })
            }
              , T = null === (e = o.mapId) || void 0 === e ? void 0 : e.match(/\d+$/)
              , P = T && T[0]
              , M = (0,
            eE.GU)()
              , D = o.mapId === "".concat(M.mapPrefix).concat(P) ? "".concat(window.location.origin, "/").concat(M.id, "/share/").concat(P) : ""
              , E = (null === (t = o.mapId) || void 0 === t ? void 0 : t.includes("shareRent")) || (null === (i = o.mapId) || void 0 === i ? void 0 : i.includes("shareInterior"));
            return (0,
            s.jsx)(s.Fragment, {
                children: o.isActive && (0,
                s.jsxs)("div", {
                    className: u()([t2().FarmDetailsPanel, y().uikit, y().frame, y().scrollArea, y().orangeinset]),
                    children: [(0,
                    s.jsx)(ek, {
                        onKeyDown: e => {
                            e.stopPropagation(),
                            "Escape" === e.key && I()
                        }
                    }), (0,
                    s.jsx)("button", {
                        type: "button",
                        className: u()(y().closeBtn),
                        onClick: I
                    }), (0,
                    s.jsxs)("span", {
                        className: t2().farmNo,
                        children: [!E && (0,
                        s.jsxs)("span", {
                            children: ["#", P]
                        }), (0,
                        s.jsxs)("span", {
                            children: ["Tier ", (0,
                            b.Qb)(C)]
                        }), (0,
                        s.jsx)("span", {
                            children: _ && v("bookmarked_flag", {
                                ns: "ui",
                                defaultValue: "Bookmarked"
                            })
                        }), D && (0,
                        s.jsx)(S.Z, {
                            title: v("shareLand.".concat(M.name), "Share"),
                            children: (0,
                            s.jsx)(t$.Z, {
                                className: "clickable",
                                onClick: () => (0,
                                b.Bf)(D, M.displayName)
                            })
                        })]
                    }), (0,
                    s.jsx)("h2", {
                        children: o.farmName
                    }), (0,
                    s.jsxs)("div", {
                        className: t2().FarmDetailsPanelContent,
                        children: [(0,
                        s.jsxs)("div", {
                            className: t2().FarmDetailsActions,
                            children: [k && (0,
                            s.jsx)(S.Z, {
                                title: _ ? "Remove Bookmark" : "Bookmark this location",
                                children: (0,
                                s.jsx)("button", {
                                    type: "button",
                                    className: u()([y().uikit, y().button]),
                                    disabled: (d.length || 0) >= c && !_,
                                    onClick: w,
                                    children: _ ? (0,
                                    s.jsxs)(s.Fragment, {
                                        children: [(0,
                                        s.jsx)(tY.Z, {}), (0,
                                        s.jsx)("span", {
                                            className: t2().fullbutton,
                                            children: v("farmDetails.remove_bookmark_button", {
                                                ns: "ui",
                                                defaultValue: "Unbookmark"
                                            })
                                        })]
                                    }) : (0,
                                    s.jsxs)(s.Fragment, {
                                        children: [(0,
                                        s.jsx)(tX.Z, {}), (0,
                                        s.jsx)("span", {
                                            className: t2().fullbutton,
                                            children: v("farmDetails.bookmark_button", {
                                                ns: "ui",
                                                defaultValue: "Bookmark"
                                            })
                                        })]
                                    })
                                })
                            }), (0,
                            s.jsx)(t5, {}), f && (0,
                            s.jsx)(S.Z, {
                                title: v("farmDetails.settings_tooltip", {
                                    ns: "ui",
                                    defaultValue: "Location Settings"
                                }),
                                children: (0,
                                s.jsx)("button", {
                                    type: "button",
                                    className: u()([y().uikit, y().button]),
                                    onClick: () => {
                                        h({
                                            type: "game/activateSidePanel"
                                        })
                                    }
                                    ,
                                    children: (0,
                                    s.jsxs)(s.Fragment, {
                                        children: [(0,
                                        s.jsx)(tJ.Z, {}), (0,
                                        s.jsx)("span", {
                                            className: t2().fullbutton,
                                            children: v("farmDetails.settings_button", {
                                                ns: "ui",
                                                defaultValue: "Settings"
                                            })
                                        })]
                                    })
                                })
                            }), E && x && (0,
                            s.jsx)("button", {
                                type: "button",
                                className: u()([y().uikit, y().button]),
                                onClick: () => {
                                    I(),
                                    h({
                                        type: "game/activateFarmUpgradePanel"
                                    })
                                }
                                ,
                                children: (0,
                                s.jsxs)(s.Fragment, {
                                    children: [(0,
                                    s.jsx)(t0.Z, {}), (0,
                                    s.jsx)("span", {
                                        className: t2().fullbutton,
                                        children: v("button.upgrade", "Upgrade")
                                    })]
                                })
                            })]
                        }), (0,
                        s.jsxs)("div", {
                            className: t2().DetailsText,
                            children: [o.ethAddress && (0,
                            s.jsxs)("div", {
                                children: ["Owner: ", o.ethAddress]
                            }), o.guild && (0,
                            s.jsxs)("div", {
                                children: ["Guild: ", o.guild]
                            }), (null == o ? void 0 : null === (n = o.ownership) || void 0 === n ? void 0 : n.forSale) && (0,
                            s.jsx)("p", {
                                children: v("farmDetails.forSale", {
                                    ns: "ui",
                                    defaultValue: "For Sale"
                                })
                            }), (null == o ? void 0 : null === (a = o.ownership) || void 0 === a ? void 0 : a.forRent) && (0,
                            s.jsx)("p", {
                                children: v("farmDetails.forRent", {
                                    ns: "ui",
                                    defaultValue: "For Rent"
                                })
                            })]
                        })]
                    }), (null === (l = o.mapId) || void 0 === l ? void 0 : l.includes("pixelsNFTFarm-")) && (0,
                    s.jsxs)(s.Fragment, {
                        children: [(0,
                        s.jsx)("h2", {
                            children: v("mapskills", {
                                ns: "ui",
                                defaultValue: "Map Skills"
                            })
                        }), (0,
                        s.jsx)(tz, {
                            getLevelData: j,
                            isFarm: !0
                        })]
                    }), (0,
                    s.jsx)("h2", {
                        children: v("objectowners", {
                            ns: "ui",
                            defaultValue: "Object Owners"
                        })
                    }), (0,
                    s.jsx)(t7, {})]
                })
            })
        }
        ;
        var it = i(74674)
          , ii = i.n(it);
        let ia = e => {
            let {roomSettings: t, handleOnchange: i} = e;
            return (0,
            s.jsxs)("div", {
                children: [(0,
                s.jsx)("div", {
                    className: ii().farmSettingsFieldTitle,
                    children: "Farm Name"
                }), (0,
                s.jsx)("input", {
                    className: ii().farmSettingsInput,
                    maxLength: 30,
                    defaultValue: t.name || "",
                    onBlur: e => {
                        var t;
                        i("name", (0,
                        E.FL)((null === (t = e.currentTarget) || void 0 === t ? void 0 : t.value) || ""))
                    }
                })]
            })
        }
        ;
        var il = i(47608)
          , is = i(9304)
          , ir = i(69320)
          , io = i(85469)
          , id = e => {
            var t, i;
            let {player_id: n, mapMember: a} = e
              , [l,o] = (0,
            r.useState)(null)
              , [d,c] = (0,
            r.useState)(!0)
              , {t: u} = (0,
            g.$G)("ui")
              , p = (0,
            m.T)();
            (0,
            r.useEffect)( () => {
                io.Z.fetchPlayer(n).then(e => {
                    o(e),
                    c(!1)
                }
                ).catch( () => {}
                )
            }
            , [n]);
            let v = e => {
                p({
                    type: "mapEditor/addMember",
                    payload: {
                        type: "remove",
                        remove: {
                            member_id: e
                        }
                    }
                })
            }
            ;
            return d || !l ? (0,
            s.jsx)("div", {}) : (0,
            s.jsxs)("div", {
                style: {
                    display: "flex"
                },
                children: [(0,
                s.jsx)(is.Z, {
                    onClick: () => {
                        var e;
                        v(null === (e = l._id) || void 0 === e ? void 0 : e.toString())
                    }
                    ,
                    children: (0,
                    s.jsx)(il.Z, {})
                }), (0,
                s.jsxs)("div", {
                    style: {
                        marginLeft: 4,
                        marginTop: 2
                    },
                    children: [(0,
                    s.jsx)(ir.Z, {
                        style: {
                            fontSize: 13
                        },
                        children: null !== (i = null == l ? void 0 : l.username) && void 0 !== i ? i : n
                    }, "1"), (0,
                    s.jsx)(ir.Z, {
                        style: {
                            fontSize: 12
                        },
                        children: null == a ? void 0 : a.roles.map(e => u("role.".concat(e), e)).join(", ")
                    }, "2"), null == l ? void 0 : null === (t = l.cryptoWallets) || void 0 === t ? void 0 : t.map(e => (null == e ? void 0 : e.type) === "eth" ? (0,
                    s.jsx)(ir.Z, {
                        style: {
                            fontSize: 9
                        },
                        children: e.address
                    }, "3") : (0,
                    s.jsx)("div", {}))]
                })]
            })
        }
        ;
        let ic = e => {
            var t, i, n, a, l, o, d, c, p, v;
            let {roomSettings: h, handleOnchange: x} = e
              , _ = (0,
            m.T)()
              , f = (0,
            m.C)(eb._0)
              , [j,b] = (0,
            r.useState)("")
              , [N,k] = (0,
            r.useState)("Builder")
              , [C,w] = (0,
            r.useState)(h.guild || "")
              , {t: S} = (0,
            g.$G)("ui")
              , [I,T] = (0,
            r.useState)("")
              , P = () => (T(""),
            !0)
              , M = () => {
                _({
                    type: "mapEditor/addMember",
                    payload: {
                        type: "add",
                        add: {
                            ethAddress: j,
                            role: N
                        }
                    }
                })
            }
            ;
            if (!f)
                return (0,
                s.jsx)("div", {
                    className: ii().farmSettingsFieldTitle,
                    children: "Why did the user feel left out? They couldn't access the access tab."
                });
            let D = "ANY";
            return (null === (i = h.permissions) || void 0 === i ? void 0 : null === (t = i.use) || void 0 === t ? void 0 : t.includes("ANY")) || (D = (null === (a = h.permissions) || void 0 === a ? void 0 : null === (n = a.use) || void 0 === n ? void 0 : n.includes("Guild")) ? "Visitor,Manager,OWNER,Builder,Guild" : (null === (o = h.permissions) || void 0 === o ? void 0 : null === (l = o.use) || void 0 === l ? void 0 : l.includes("Guild-Pledger")) ? "Visitor,Manager,OWNER,Builder,Guild-Pledger" : (null === (c = h.permissions) || void 0 === c ? void 0 : null === (d = c.use) || void 0 === d ? void 0 : d.includes("Guild-Member")) ? "Visitor,Manager,OWNER,Builder,Guild-Member" : (null === (v = h.permissions) || void 0 === v ? void 0 : null === (p = v.use) || void 0 === p ? void 0 : p.includes("Guild-Worker")) ? "Visitor,Manager,OWNER,Builder,Guild-Worker" : "Visitor,Manager,OWNER,Builder"),
            (0,
            s.jsxs)("div", {
                children: [(0,
                s.jsxs)("div", {
                    className: ii().farmSettingsFieldTitle,
                    children: [(0,
                    s.jsx)("h2", {
                        children: S("settings.accessmode", "Access Mode")
                    }), (0,
                    s.jsxs)("span", {
                        className: ii().farmSettingsFieldDescription,
                        children: ["Who do you want to be able to use your farm?", (0,
                        s.jsx)("br", {}), 'If you select "People I Add", you can add them as Players.', (0,
                        s.jsx)("br", {}), '"Guild Members" will also include people you add directly.']
                    }), (0,
                    s.jsxs)("select", {
                        style: {
                            height: 40,
                            marginTop: 12,
                            width: "100%",
                            textAlign: "center"
                        },
                        value: D,
                        onChange: e => {
                            x("permissions.use", e.target.value.split(","))
                        }
                        ,
                        children: [(0,
                        s.jsx)("option", {
                            value: "ANY",
                            children: S("settings.everybody", "Everybody")
                        }), (0,
                        s.jsx)("option", {
                            value: "Visitor,Manager,OWNER,Builder",
                            children: S("settings.peopleiadd", "People I Add")
                        }), (0,
                        s.jsx)("option", {
                            value: "Visitor,Manager,OWNER,Builder,Guild-Worker",
                            children: S("settings.guildworkers", "Guild Workers")
                        }), (0,
                        s.jsx)("option", {
                            value: "Visitor,Manager,OWNER,Builder,Guild-Member",
                            children: S("settings.guildmembers", "Guild Members")
                        }), (0,
                        s.jsx)("option", {
                            value: "Visitor,Manager,OWNER,Builder,Guild-Pledger",
                            children: S("settings.guildpledgers", "Guild Pledgers")
                        }), (0,
                        s.jsx)("option", {
                            value: "Visitor,Manager,OWNER,Builder,Guild",
                            children: S("settings.guildsupporters", "Guild Supporters")
                        })]
                    })]
                }), (0,
                s.jsxs)("div", {
                    className: ii().farmSettingsFieldTitle,
                    children: [(0,
                    s.jsx)("h2", {
                        children: S("settings.guildtitle", "Guild Association")
                    }), (0,
                    s.jsx)("div", {
                        className: ii().farmSettingsFieldDescription,
                        children: "You may enter a single guild handle. Your farm will be associated with the guild selected."
                    }), (0,
                    s.jsx)("br", {}), (0,
                    s.jsxs)("div", {
                        className: ii().guildRow,
                        children: [(0,
                        s.jsx)("span", {
                            className: ii().guildPrefix,
                            children: "@"
                        }), (0,
                        s.jsx)("input", {
                            type: "text",
                            className: ii().guildHandle,
                            value: C,
                            onChange: e => w(e.target.value)
                        }), (0,
                        s.jsx)("button", {
                            type: "button",
                            style: {
                                marginTop: "8px"
                            },
                            className: u()(y().uikit, y().button),
                            onClick: () => {
                                x("guild", C)
                            }
                            ,
                            children: S("button.set", "Set")
                        })]
                    })]
                }), f && (0,
                s.jsxs)("div", {
                    className: ii().farmSettingsFieldTitle,
                    children: [(0,
                    s.jsx)("h2", {
                        children: "Add Players by ETH Address"
                    }), (0,
                    s.jsxs)("ul", {
                        className: ii().farmSettingsFieldDescription,
                        children: [(0,
                        s.jsx)("li", {
                            children: "Builders - can add and rearrange objects on your farm "
                        }), (0,
                        s.jsx)("li", {
                            children: "Managers - Add/Remove items. Rename farm and ADD OTHER MEMBERS "
                        }), (0,
                        s.jsx)("li", {
                            children: "Player - People who can use your farm (See Access) "
                        })]
                    }), I && (0,
                    s.jsx)("span", {
                        children: I
                    }), (0,
                    s.jsx)("textarea", {
                        className: ii().farmSettingsInput,
                        rows: 5,
                        value: j,
                        onChange: e => {
                            let t = e.target.value;
                            P(),
                            b(t)
                        }
                        ,
                        placeholder: "Separate addresses with commas"
                    }), (0,
                    s.jsxs)("div", {
                        className: ii().farmSettingsEndedRow,
                        children: [(0,
                        s.jsxs)("select", {
                            style: {
                                height: 40,
                                marginTop: 12,
                                flexGrow: 1
                            },
                            onChange: e => {
                                k(e.target.value)
                            }
                            ,
                            children: [(0,
                            s.jsx)("option", {
                                value: "Builder",
                                children: S("role.Builder", "Builder")
                            }), (0,
                            s.jsx)("option", {
                                value: "Manager",
                                children: S("role.Manager", "Manager")
                            }), (0,
                            s.jsx)("option", {
                                value: "Visitor",
                                children: S("role.Visitor", "Visitor")
                            })]
                        }), (0,
                        s.jsxs)("button", {
                            type: "button",
                            style: {
                                marginTop: "8px"
                            },
                            className: u()(y().uikit, y().button),
                            onClick: () => M(),
                            children: [S("button.add", "Add"), " ", S("role.".concat(N), N)]
                        })]
                    }), (0,
                    s.jsx)("div", {
                        style: {
                            height: 24
                        }
                    }), h.members.length > 0 ? (0,
                    s.jsxs)(s.Fragment, {
                        children: [(0,
                        s.jsx)("span", {
                            children: S("settings.addedplayers", "Added Players")
                        }), (0,
                        s.jsx)("div", {
                            style: {
                                height: 8
                            }
                        }), h.members.map(e => {
                            var t, i;
                            return (0,
                            s.jsx)(s.Fragment, {
                                children: (0,
                                s.jsx)("div", {
                                    children: (0,
                                    s.jsx)(id, {
                                        player_id: null == e ? void 0 : null === (t = e.member) || void 0 === t ? void 0 : t.toString(),
                                        mapMember: e
                                    })
                                }, null == e ? void 0 : null === (i = e.member) || void 0 === i ? void 0 : i.toString())
                            })
                        }
                        )]
                    }) : (0,
                    s.jsx)("span", {})]
                })]
            })
        }
          , iu = () => {
            let e = (0,
            m.C)(eb.Mp)
              , t = (0,
            m.C)(eb._0)
              , [i,n] = r.useState("Info")
              , a = (0,
            m.T)()
              , l = (e, t) => {
                a((0,
                eb.r5)({
                    path: e,
                    value: t
                }))
            }
              , o = {
                Info: ia
            };
            return t && (o.Access = ic),
            (0,
            s.jsx)("div", {
                className: ii().farmSettingsPanel,
                onKeyDown: e => {
                    e.stopPropagation()
                }
                ,
                children: (0,
                s.jsxs)("div", {
                    style: {
                        overflowY: "auto",
                        height: "100%"
                    },
                    className: u()(ii().farmSettingsPanelContent, y().uikit, y().frame, y().orangeinset),
                    children: [(0,
                    s.jsx)("button", {
                        onClick: () => {
                            a((0,
                            eI.Rp)())
                        }
                        ,
                        type: "button",
                        className: u()(y().uikit, y().closeBtn),
                        children: " "
                    }), (0,
                    s.jsx)("div", {
                        className: u()(y().tabs, "pixelFont"),
                        children: (0,
                        s.jsx)("ul", {
                            children: Object.keys(o).map(e => (0,
                            s.jsx)("li", {
                                className: u()({
                                    [y().activetab]: e === i
                                }),
                                children: (0,
                                s.jsx)("button", {
                                    type: "button",
                                    onClick: () => {
                                        n(e)
                                    }
                                    ,
                                    children: e
                                })
                            }, e))
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: y().tabcontent,
                        children: Object.entries(o).filter(e => {
                            let[t] = e;
                            return t === i
                        }
                        ).map(t => {
                            let[i,n] = t;
                            return (0,
                            s.jsx)(n, {
                                roomSettings: e,
                                handleOnchange: l
                            }, i)
                        }
                        )
                    })]
                })
            })
        }
        ;
        var im = i(85950)
          , ip = i.n(im);
        let iv = () => {
            let e = (0,
            m.C)(h.hL)
              , t = (0,
            m.C)(h.ki)
              , {t: i} = (0,
            g.$G)(["game", "ui"]);
            return (0,
            s.jsxs)("div", {
                className: ip().craftHeader,
                children: [(0,
                s.jsx)("div", {
                    className: ip().subheader,
                    children: (0,
                    s.jsx)("div", {
                        className: ip().yetanotherdiv,
                        children: (0,
                        s.jsx)("div", {
                            className: ip().craftingPageTitle,
                            children: i("title_".concat(e), {
                                ns: "ui"
                            })
                        })
                    })
                }), (0,
                s.jsx)("div", {
                    className: ip().craftingPageTier,
                    children: i("format_tier", {
                        ns: "ui",
                        defaultValue: "Tier {{tier}}",
                        tier: (0,
                        b.Qb)(t.tableTier),
                        count: t.tableTier
                    })
                })]
            })
        }
          , ih = e => {
            var t;
            let {achievementId: i, title: n, name: a} = e
              , l = (null === (t = (0,
            m.C)(h.U1)) || void 0 === t ? void 0 : t.achievementId) === i;
            return (0,
            s.jsx)(R, {
                title: n,
                children: (0,
                s.jsx)("div", {
                    className: ip().craftingRecipeItem,
                    children: (0,
                    s.jsxs)("span", {
                        className: u()(ip().craftingFontText, "clickable"),
                        style: {
                            color: l ? "red" : "black",
                            textShadow: l ? "2px 2px 2px yellow" : "none",
                            marginLeft: "4px",
                            display: "block",
                            padding: "4px",
                            width: "100%",
                            overflow: "hidden"
                        },
                        children: [a, " "]
                    })
                })
            })
        }
          , ix = () => {
            var e, t;
            let i = (0,
            m.C)(h.og)
              , n = (0,
            m.C)(p.qb)
              , a = (0,
            m.C)(h.Up)
              , l = (0,
            m.C)(h.ki)
              , [o,d] = (0,
            r.useState)([])
              , c = (0,
            m.T)()
              , {t: v} = (0,
            g.$G)(["game", "ui"])
              , x = e => {
                var t, a, l;
                if (!e)
                    return 100;
                if (i.some(t => t.achievementId === e.id))
                    return 0;
                if ((null === (t = e.craftable) || void 0 === t ? void 0 : t.requiredLevel) && e.craftable.requiredSkill) {
                    let t = (null === (l = n(e.craftable.requiredSkill)) || void 0 === l ? void 0 : l.level) || 0;
                    return Math.max(e.craftable.requiredLevel - t, 0)
                }
                return (null === (a = e.craftable) || void 0 === a ? void 0 : a.autoGrant) ? 0 : 100
            }
              , _ = null !== (t = null === (e = C.Z.getGameAchievements()) || void 0 === e ? void 0 : e.filter(e => e && "craftable" === e.type && !e.archived && e.craftable.type === l.craftType && (!e.craftable.requiredTier || l.tableTier >= e.craftable.requiredTier) && (e.craftable.autoGrant || i.some(t => t.achievementId === e.id))).map(e => ({
                ach: e,
                levels: x(e)
            }))) && void 0 !== t ? t : []
              , f = e => {
                if (!e.allowed) {
                    var t, i;
                    if ((null === (i = e.recipe) || void 0 === i ? void 0 : null === (t = i.craftable) || void 0 === t ? void 0 : t.requiredLevel) && e.recipe.craftable.requiredSkill) {
                        let t = e.recipe.craftable.requiredSkill;
                        return "".concat(v(t, {
                            ns: "ui",
                            defaultValue: (0,
                            b.je)(t)
                        }), " ").concat(v("crafting.levelneeded", {
                            ns: "ui",
                            defaultValue: "Level Needed"
                        }), ": ").concat(e.recipe.craftable.requiredLevel)
                    }
                }
            }
              , j = r.useMemo( () => _.map(e => ({
                recipe: e.ach,
                lvl: e.levels,
                name: v((0,
                b.sA)(e.ach.id)),
                allowed: e.levels <= 0 ? 1 : 0
            })).reduce( (e, t) => {
                var i;
                let n = (null === (i = t.recipe.craftable) || void 0 === i ? void 0 : i.requiredTier) || 1
                  , a = e.find(e => e.tier === n);
                return a ? a.recipes.push(t) : (a = {
                    tier: n,
                    recipes: [t],
                    active: !1
                },
                e.push(a)),
                t.allowed && (a.active = !0),
                e
            }
            , []).map(e => (e.recipes.sort( (e, t) => {
                var i, n, a, l;
                let s = t.allowed - e.allowed;
                return s || (s = (null !== (a = null === (i = e.recipe.craftable) || void 0 === i ? void 0 : i.requiredTier) && void 0 !== a ? a : 0) - (null !== (l = null === (n = t.recipe.craftable) || void 0 === n ? void 0 : n.requiredTier) && void 0 !== l ? l : 0)) ? s : e.name.localeCompare(t.name)
            }
            ),
            e)).sort( (e, t) => t.tier - e.tier), [_]);
            return (0,
            s.jsx)("div", {
                className: ip().recipeSection,
                children: (0,
                s.jsxs)("div", {
                    className: u()(ip().craftingSection, ip().subsection),
                    children: [(0,
                    s.jsx)("div", {
                        className: ip().anotherpointlessdiv,
                        children: (0,
                        s.jsx)("div", {
                            className: ip().craftingFontSubtitle,
                            style: {
                                flexGrow: 1,
                                textAlign: "center"
                            },
                            children: v("recipes_title", {
                                ns: "ui",
                                defaultValue: "Recipes"
                            })
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: u()(y().scrollArea, ip().recipelist),
                        children: j.map(e => {
                            let t = o[e.tier];
                            return void 0 === t && (t = e.active),
                            (0,
                            s.jsxs)(r.Fragment, {
                                children: [(0,
                                s.jsxs)("div", {
                                    className: u()("clickable", ip().tierHeader),
                                    onClick: () => {
                                        var i, n;
                                        return i = e.tier,
                                        n = !t,
                                        void d(e => {
                                            let t = [...e];
                                            return t[i] = n,
                                            t
                                        }
                                        )
                                    }
                                    ,
                                    children: [(0,
                                    s.jsx)("div", {
                                        className: u()(ip().tierToggle, {
                                            [ip().tierExpanded]: t
                                        })
                                    }), v("format_tier", {
                                        ns: "ui",
                                        defaultValue: "Tier {{tier}}",
                                        tier: (0,
                                        b.Qb)(e.tier),
                                        count: e.tier
                                    })]
                                }), t && (0,
                                s.jsx)("ul", {
                                    className: ip().tierSection,
                                    children: e.recipes.map(e => (0,
                                    s.jsx)("li", {
                                        style: {
                                            lineHeight: "18px",
                                            filter: e.allowed ? "none" : "grayscale(100%) opacity(40%)"
                                        },
                                        onClick: () => {
                                            !a && e.allowed && c((0,
                                            h.sY)({
                                                id: e.recipe.id
                                            }))
                                        }
                                        ,
                                        children: (0,
                                        s.jsx)(ih, {
                                            achievementId: e.recipe.id,
                                            name: e.name,
                                            title: f(e)
                                        })
                                    }, e.recipe.id))
                                })]
                            }, "".concat(e.tier))
                        }
                        )
                    })]
                })
            })
        }
          , ig = () => (0,
        s.jsxs)(s.Fragment, {
            children: [(0,
            s.jsx)(iv, {}), (0,
            s.jsx)(ix, {})]
        });
        var i_ = i(66005);
        let ij = e => {
            let {item: t, required: i=1, available: n=0, showPlus: a} = e
              , l = null == t ? void 0 : t.image;
            return (0,
            s.jsx)(V, {
                placement: "top",
                item: t,
                showDetails: !0,
                showUtility: !1,
                children: (0,
                s.jsx)("div", {
                    style: {
                        display: "flex",
                        justifyContent: "space-around",
                        position: "relative",
                        width: "64px",
                        height: "64px"
                    },
                    children: (0,
                    s.jsxs)("div", {
                        style: {
                            backgroundImage: "url('".concat((0,
                            E.Uk)("/game/ui/crafting/crafting_material_border.png"), "')"),
                            backgroundRepeat: "no-repeat",
                            backgroundSize: "contain",
                            backgroundBlendMode: "multiply",
                            flexGrow: 1,
                            display: "flex",
                            padding: "4px"
                        },
                        children: [(0,
                        s.jsxs)("div", {
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                justifyContent: "center",
                                padding: "4px",
                                width: "100%",
                                backgroundColor: i <= n ? "#00FF0020" : "#FF000020"
                            },
                            children: [(0,
                            s.jsx)("div", {
                                style: {
                                    width: "100%",
                                    textAlign: "center"
                                },
                                children: l && (0,
                                s.jsx)("div", {
                                    style: {
                                        position: "relative",
                                        opacity: i <= n ? 1 : .4
                                    },
                                    children: (0,
                                    s.jsx)("img", {
                                        crossOrigin: "anonymous",
                                        src: (0,
                                        E.b7)(l)
                                    })
                                })
                            }), (0,
                            s.jsxs)("div", {
                                className: ip().craftingFontQuantities,
                                style: {
                                    width: "100%",
                                    textAlign: "right",
                                    position: "absolute",
                                    right: 6,
                                    bottom: 4
                                },
                                children: [n, "/", i]
                            })]
                        }), a && (0,
                        s.jsx)("img", {
                            style: {
                                position: "absolute",
                                zIndex: 99,
                                top: "20px",
                                left: "54px"
                            },
                            src: (0,
                            E.Uk)("/game/ui/crafting/crafting_icon_material_plus.png"),
                            width: 20,
                            height: 18
                        })]
                    })
                })
            })
        }
          , iy = e => {
            var t, i;
            let {quantityMultiplier: n=1, craftingCraftable: a} = e
              , l = (0,
            m.C)(h.U1)
              , r = a || l
              , o = (0,
            m.C)(p.RQ)
              , d = (0,
            m.C)(h.Gp)
              , c = r ? C.Z.getGameAchievement(r.achievementId) : null
              , u = null == c ? void 0 : null === (i = c.craftable) || void 0 === i ? void 0 : null === (t = i.result) || void 0 === t ? void 0 : t.items[0].id
              , v = u ? C.Z.getGameItem(u) : null
              , {t: x} = (0,
            g.$G)(["game", "ui"]);
            return (0,
            s.jsx)(s.Fragment, {
                children: (0,
                s.jsxs)("div", {
                    className: ip().craftingSection,
                    style: {
                        display: "flex",
                        flexDirection: "column",
                        justifyContent: "space-between"
                    },
                    children: [v && (0,
                    s.jsx)("div", {
                        style: {
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center",
                            justifyContent: "center",
                            marginBottom: "8px"
                        },
                        children: (0,
                        s.jsx)("div", {
                            className: ip().craftingFontSubtitle,
                            children: x("required_items_title", {
                                ns: "ui"
                            })
                        })
                    }), (0,
                    s.jsxs)("div", {
                        style: {
                            display: "flex",
                            justifyContent: "start",
                            flexWrap: "wrap",
                            width: "100%",
                            overflowY: "auto",
                            overflowX: "hidden",
                            marginRight: "auto",
                            marginLeft: "auto"
                        },
                        children: [c && c.craftable.requiredItems.filter(e => !e.unconsumable).map( (e, t) => ({
                            ...e,
                            position: t,
                            item: C.Z.getGameItem(e.id),
                            available: o(e.id)
                        })).map( (e, t, i) => (0,
                        s.jsx)(ij, {
                            item: e.item,
                            available: e.available,
                            required: e.quantity * n,
                            showPlus: t % 4 < 3 && t < i.length - 1
                        }, e.position)), !!d.length && (0,
                        s.jsxs)("div", {
                            className: ip().craftingFontText,
                            style: {
                                marginTop: "6px"
                            },
                            children: ["You need ", d.map(e => "".concat(x((0,
                            b.sA)(e.id)), " ")), " to craft this."]
                        })]
                    })]
                })
            })
        }
          , ib = e => [Math.floor(e / 864e5), Math.floor(e % 864e5 / 36e5), Math.floor(e % 36e5 / 6e4), Math.floor(e % 6e4 / 1e3)]
          , iN = e => {
            let[t,i] = (0,
            r.useState)(e - new Date().getTime());
            return (0,
            r.useEffect)( () => {
                let t = setInterval( () => {
                    i(e - new Date().getTime())
                }
                , 500);
                return () => clearInterval(t)
            }
            , [e]),
            ib(t)
        }
          , ik = e => e.toString().padStart(2, "0")
          , iC = e => "".concat(ik(Math.floor(e / 60)), ":").concat(ik(Math.floor(e) % 60), ":").concat(ik(Math.round(e % 1 * 60)))
          , iw = e => {
            let {until: t} = e
              , [,i,n,a] = iN(t);
            return i + n + a > 0 ? (0,
            s.jsxs)("span", {
                children: [i.toString().padStart(2, "0"), ":", n.toString().padStart(2, "0"), ":", a.toString().padStart(2, "0")]
            }) : (0,
            s.jsx)("span", {
                children: "00:00:00"
            })
        }
          , iS = 0
          , iI = ""
          , iT = (e, t, i, n) => {
            if (e && !t) {
                let i = K.l.getInstance().getEntityByUniqueId(e);
                t = null == i ? void 0 : i.entity
            }
            if (t && e) {
                if (iI === i && Date.now() - iS < 1e3)
                    return;
                iI = i,
                iS = Date.now(),
                z.ZP.sendEventDelayed(te.mY.clickEntity, {
                    mid: e,
                    impact: i,
                    entity: t,
                    inputs: n
                })
            }
        }
          , iP = () => {
            var e, t, i, n, a, l, o, d, c, p, v, x, _, f, j, y, N;
            let k = (0,
            m.C)(h.ki)
              , w = (0,
            m.C)(h._r)
              , S = (0,
            m.C)(h.qx)
              , {t: I} = (0,
            g.$G)(["game", "ui"])
              , T = K.l.getInstance().serverTimeDelta
              , P = null == k ? void 0 : k.completionTime
              , M = (null == k ? void 0 : k.entityState) === "ready"
              , D = (null == k ? void 0 : k.entityState) && ["crafting", "ready"].includes(k.entityState)
              , B = D ? k.selectedCraftable : void 0
              , L = B || (null == k ? void 0 : k.selectedCraftable)
              , F = B || L
              , G = F ? C.Z.getGameAchievement(F) : null
              , R = null == G ? void 0 : null === (t = G.craftable) || void 0 === t ? void 0 : null === (e = t.result) || void 0 === e ? void 0 : e.items[0].id
              , V = R ? C.Z.getGameItem(R) : null
              , Z = (0,
            m.C)(h.yq)((null == V ? void 0 : V.id) || "")
              , [W,O] = (0,
            r.useState)();
            G && V || (D = !1,
            F = void 0);
            let q = D ? 200 : 66
              , U = (0,
            i_.q_)({
                backgroundImage: "url(".concat((0,
                E.Uk)("/game/ui/crafting/crafting_border_recipe_details.png"), ")"),
                backgroundRepeat: "no-repeat",
                backgroundPosition: "center",
                backgroundSize: "contain",
                height: q,
                width: q,
                display: "flex",
                justifyContent: "center",
                alignItems: "center",
                position: "relative"
            })
              , H = q / 66
              , z = (0,
            i_.q_)({
                position: "absolute",
                fontSize: 12 * H,
                color: "white",
                filter: "drop-shadow(1px 1px 0 black)",
                left: 11 * H,
                top: 11 * H
            })
              , Q = (0,
            i_.q_)({
                backgroundColor: "#FBF4BB",
                borderRadius: "8px",
                padding: "6px",
                fontSize: "".concat(D ? "24" : "12", "px")
            })
              , $ = e => I(e, {
                ns: "ui",
                defaultValue: (0,
                b.je)(e)
            })
              , Y = e => {
                var t;
                e.preventDefault(),
                G && (Date.now() - (null !== (t = k.updated) && void 0 !== t ? t : 0) < 200 || ("busy" === S && (iI = "startCraft",
                iS = Date.now() + 5e3),
                iT(k.table_mid, k.table_entity, "startCraft", [G.id, 1])))
            }
              , X = e => {
                var t;
                e.preventDefault(),
                G && (Date.now() - (null !== (t = k.updated) && void 0 !== t ? t : 0) < 200 || iT(k.table_mid, k.table_entity, "claim"))
            }
              , J = !!(null == G ? void 0 : null === (a = G.craftable) || void 0 === a ? void 0 : null === (n = a.result) || void 0 === n ? void 0 : null === (i = n.benefits) || void 0 === i ? void 0 : i.length);
            return (0,
            s.jsxs)("div", {
                className: ip().PageDetails,
                children: [F && (0,
                s.jsxs)("div", {
                    className: u()(ip().craftingSection, ip().craftingColumn),
                    children: [D ? (0,
                    s.jsxs)("div", {
                        style: {
                            display: "flex",
                            flexDirection: "column",
                            justifyContent: "center",
                            alignItems: "center"
                        },
                        children: [(0,
                        s.jsx)("div", {
                            className: ip().detailsTitle,
                            children: (0,
                            s.jsx)("div", {
                                className: ip().craftingFontText,
                                children: I((0,
                                b.sA)(G.id))
                            })
                        }), (0,
                        s.jsxs)(i_.q.div, {
                            style: U,
                            children: [(0,
                            s.jsx)("img", {
                                crossOrigin: "anonymous",
                                src: (0,
                                E.b7)(null == V ? void 0 : V.image),
                                height: 132
                            }), (null == V ? void 0 : V.tier) ? (0,
                            s.jsx)(i_.q.div, {
                                style: z,
                                children: (0,
                                b.Qb)(V.tier)
                            }) : null]
                        })]
                    }) : (0,
                    s.jsxs)("div", {
                        style: {
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "center",
                            alignItems: "center"
                        },
                        children: [(0,
                        s.jsxs)(i_.q.div, {
                            style: U,
                            children: [(0,
                            s.jsx)("img", {
                                crossOrigin: "anonymous",
                                src: (0,
                                E.b7)(null == V ? void 0 : V.image),
                                height: 44
                            }), (null == V ? void 0 : V.tier) ? (0,
                            s.jsx)(i_.q.div, {
                                style: z,
                                children: (0,
                                b.Qb)(null !== (N = null == V ? void 0 : V.tier) && void 0 !== N ? N : 0)
                            }) : null]
                        }), (0,
                        s.jsx)("div", {
                            className: ip().detailsTitle,
                            children: (0,
                            s.jsx)("div", {
                                className: ip().craftingFontText,
                                children: I((0,
                                b.sA)(G.id))
                            })
                        })]
                    }), (0,
                    s.jsxs)("div", {
                        style: {
                            width: "100%",
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "space-between",
                            marginTop: "6px",
                            paddingRight: "12px",
                            paddingLeft: "12px"
                        },
                        children: [D && M && (0,
                        s.jsxs)("div", {
                            className: ip().craftingFontText,
                            style: {
                                marginTop: "10px",
                                width: "100%",
                                textAlign: "center"
                            },
                            children: [" ", I((0,
                            b.sA)(V.id), ""), " done!"]
                        }), (0,
                        s.jsxs)("div", {
                            style: {
                                display: "flex",
                                flexDirection: "row",
                                alignItems: "center",
                                justifyContent: "space-evenly",
                                flexGrow: 1
                            },
                            children: [!D && (0,
                            s.jsx)("div", {
                                className: ip().craftingFontText,
                                children: I("time_to_craft", {
                                    ns: "ui"
                                })
                            }), D && (0,
                            s.jsx)("div", {
                                style: {
                                    height: "200px"
                                }
                            }), (!D || !M) && (0,
                            s.jsx)(i_.q.div, {
                                style: Q,
                                children: D && P ? (0,
                                s.jsx)(iw, {
                                    until: P + T
                                }) : iC((null == G ? void 0 : null === (l = G.craftable) || void 0 === l ? void 0 : l.minutesRequired) || 0)
                            })]
                        })]
                    }), (null == G ? void 0 : null === (c = G.craftable) || void 0 === c ? void 0 : null === (d = c.result) || void 0 === d ? void 0 : null === (o = d.energyUsage) || void 0 === o ? void 0 : o.value) && (0,
                    s.jsxs)("div", {
                        style: {
                            fontSize: 10,
                            textAlign: "center",
                            paddingTop: 6
                        },
                        children: [null == G ? void 0 : null === (v = G.craftable) || void 0 === v ? void 0 : null === (p = v.result) || void 0 === p ? void 0 : p.energyUsage.value, " ", I("energy_required", {
                            ns: "ui",
                            defaultValue: "Energy Required"
                        })]
                    })]
                }), F && !D && (0,
                s.jsxs)("div", {
                    style: {
                        display: "flex",
                        flexDirection: "column",
                        flexGrow: 1
                    },
                    children: [(0,
                    s.jsxs)("div", {
                        className: u()(ip().craftingSection, ip().craftingFontText),
                        style: {
                            overflowY: "hidden",
                            position: "relative",
                            height: J ? void 0 : "18em"
                        },
                        children: [(0,
                        s.jsx)(A.Z, {
                            text: I((0,
                            b.sA)(null == V ? void 0 : V.id, "description"), "")
                        }), (null == G ? void 0 : null === (_ = G.craftable) || void 0 === _ ? void 0 : null === (x = _.result) || void 0 === x ? void 0 : x.exps) && G.craftable.result.exps.length > 0 && (0,
                        s.jsx)("div", {
                            style: {
                                position: "absolute",
                                bottom: 0,
                                right: 10
                            },
                            children: (0,
                            s.jsx)("ul", {
                                style: {
                                    listStyle: "none",
                                    marginTop: "8px"
                                },
                                children: G.craftable.result.exps.map( (e, t) => (0,
                                s.jsxs)("li", {
                                    style: {
                                        marginTop: "4px"
                                    },
                                    children: [$(e.type), ": ", "+".concat((0,
                                    E.uf)(e.exp), "XP")]
                                }, t))
                            })
                        })]
                    }), G && J && (0,
                    s.jsx)("div", {
                        className: u()(ip().craftingSection, ip().craftingFontText),
                        style: {
                            display: "flex",
                            flexDirection: "column",
                            flexGrow: 1,
                            justifyContent: "space-between",
                            alignItems: "center",
                            overflowY: "hidden"
                        },
                        children: (0,
                        s.jsxs)("div", {
                            className: u()(ip().craftingSectionHighlight, ip().craftingFontText),
                            style: {
                                width: "100%",
                                display: "flex",
                                flexDirection: "row",
                                flexGrow: 1,
                                justifyContent: "space-between"
                            },
                            children: [(0,
                            s.jsxs)("div", {
                                style: {
                                    width: "40%"
                                },
                                children: [(0,
                                s.jsx)("span", {
                                    children: I("result_benefit")
                                }), (0,
                                s.jsx)("ul", {
                                    style: {
                                        listStyle: "none",
                                        marginTop: "8px"
                                    },
                                    children: null === (y = G.craftable) || void 0 === y ? void 0 : null === (j = y.result) || void 0 === j ? void 0 : null === (f = j.benefits) || void 0 === f ? void 0 : f.map(e => (0,
                                    s.jsx)("li", {
                                        style: {
                                            marginTop: "4px"
                                        },
                                        onMouseEnter: () => O(e.description),
                                        onMouseLeave: () => O(void 0),
                                        children: I(e.title)
                                    }, e.title))
                                })]
                            }), W && (0,
                            s.jsx)("div", {
                                className: ip().benefitDescription,
                                children: I(W)
                            })]
                        })
                    })]
                }), F && !D ? (0,
                s.jsx)(iy, {
                    craftingCraftable: B,
                    quantityMultiplier: 1
                }) : (0,
                s.jsx)("div", {
                    className: ip().craftingSection,
                    style: {
                        display: "flex",
                        flexGrow: 1
                    }
                }), (0,
                s.jsx)("div", {
                    style: {
                        display: "flex",
                        flexDirection: "row",
                        justifyContent: "space-around",
                        alignItems: "center"
                    },
                    children: (0,
                    s.jsxs)("button", {
                        type: "button",
                        onClick: e => {
                            D ? X(e) : Y(e)
                        }
                        ,
                        disabled: (D || !G || !w(1)) && !M,
                        className: ip().craftingButton,
                        style: {
                            backgroundColor: "transparent",
                            border: "none",
                            backgroundImage: "url('".concat((0,
                            E.Uk)("/game/ui/crafting/crafting_bg_create.png"), "')"),
                            backgroundRepeat: "no-repeat",
                            backgroundPosition: "center",
                            backgroundSize: "100% 100%",
                            color: "red",
                            padding: "12px",
                            marginTop: "10px"
                        },
                        children: [!D && (0,
                        s.jsx)("span", {
                            children: I("button_create_crafting", {
                                ns: "ui",
                                defaultValue: "Create"
                            })
                        }), D && !M && (0,
                        s.jsx)("span", {
                            children: I("button_crafting", {
                                ns: "ui",
                                defaultValue: "In Progress"
                            })
                        }), D && M && (0,
                        s.jsx)("span", {
                            children: I("button_claim_crafting", {
                                ns: "ui",
                                defaultValue: "Collect"
                            })
                        })]
                    })
                }), !Z && L && (0,
                s.jsxs)("div", {
                    className: ip().craftingFontText,
                    style: {
                        marginTop: "8px",
                        textAlign: "end"
                    },
                    children: ["* ", I("inventory_full", {
                        ns: "ui",
                        defaultValue: "Inventory is full"
                    })]
                })]
            })
        }
          , iM = () => (0,
        s.jsxs)("div", {
            className: ip().craftPages,
            children: [(0,
            s.jsx)("div", {
                className: ip().leftPage,
                children: (0,
                s.jsx)("div", {
                    className: ip().inner,
                    children: (0,
                    s.jsx)(ig, {})
                })
            }), (0,
            s.jsx)("div", {
                className: ip().rightPage,
                children: (0,
                s.jsx)("div", {
                    className: ip().inner,
                    children: (0,
                    s.jsx)(iP, {})
                })
            })]
        })
          , iD = e => {
            let {scale: t} = e;
            return (0,
            s.jsx)("div", {
                style: {
                    width: 1014,
                    height: 676,
                    backgroundImage: "url('".concat((0,
                    E.Uk)("/game/ui/crafting/crafting_background_notabs.png"), "')"),
                    backgroundRepeat: "no-repeat",
                    backgroundSize: "cover",
                    transform: "scale3d(".concat(t, ", ").concat(t, ", 1)")
                },
                children: (0,
                s.jsx)("div", {
                    style: {
                        display: "flex",
                        flexDirection: "row"
                    },
                    children: (0,
                    s.jsx)("div", {
                        style: {
                            marginLeft: "128px",
                            display: "flex",
                            flexDirection: "column",
                            width: "894px"
                        },
                        children: (0,
                        s.jsx)(iM, {})
                    })
                })
            })
        }
          , iE = e => {
            let {style: t} = e
              , i = (0,
            m.T)();
            return (0,
            s.jsx)("button", {
                type: "button",
                onClick: () => {
                    i((0,
                    h.F0)())
                }
                ,
                className: ip().craftingCloseButton,
                style: t,
                children: (0,
                s.jsx)("img", {
                    src: (0,
                    E.Uk)("/game/ui/crafting/crafting_exitbutton.png"),
                    width: "100%"
                })
            })
        }
          , iA = e => {
            let {width: t, scale: i, children: n} = e
              , {t: a} = (0,
            g.$G)("ui")
              , l = (0,
            m.C)(h.U1)
              , r = (0,
            m.C)(h.Up)
              , o = (0,
            m.T)()
              , d = l ? 580 : 170
              , c = t / 2 - d - 172 * i
              , p = 340 * (1 - i)
              , v = -80 * (1 - i)
              , x = l ? v : p
              , _ = d + 316 * i - 32 * i + (l ? x / 15 : -x / 15);
            return (0,
            s.jsxs)("div", {
                style: {
                    position: "absolute",
                    left: c,
                    top: 0,
                    right: 0,
                    bottom: 0,
                    overflow: "hidden"
                },
                children: [(0,
                s.jsx)("div", {
                    style: {
                        position: "relative",
                        left: -x,
                        top: -p
                    },
                    children: n
                }), (0,
                s.jsx)(iE, {
                    style: {
                        left: _,
                        top: l ? 10 - p / 10 : 70 - p / 4,
                        transform: "scale3d(".concat(i, ", ").concat(i, ", 1)")
                    }
                }), l && (0,
                s.jsx)("div", {
                    className: y().uikit,
                    style: {
                        display: "flex",
                        justifyContent: "center",
                        position: "absolute",
                        left: d - 10 - p / 9,
                        top: 2 - p / 13,
                        transform: "scale3d(".concat(i, ", ").concat(i, ", 1)")
                    },
                    children: (0,
                    s.jsx)("button", {
                        type: "button",
                        className: u()(y().pushbutton, y().yellow),
                        onClick: () => {
                            o((0,
                            h.sY)({
                                id: void 0
                            }))
                        }
                        ,
                        style: {
                            width: 100,
                            height: 40,
                            display: r ? "none" : void 0
                        },
                        children: a("crafting.mobile.switchLeft", "Back")
                    })
                })]
            })
        }
          , iB = e => {
            let {scale: t, children: i} = e;
            return (0,
            s.jsxs)("div", {
                style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    width: 670,
                    position: "absolute",
                    top: "calc((100vh - 670px) / 2)",
                    left: "calc((100% - 720px) / 2)"
                },
                children: [(0,
                s.jsx)("div", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        padding: 0
                    },
                    children: i
                }), (0,
                s.jsx)(iE, {
                    style: {
                        top: 15 + 310 * (1 - t),
                        right: -92 + 400 * (1 - t),
                        transform: "scale3d(".concat(t, ", ").concat(t, ", 1)")
                    }
                })]
            })
        }
          , iL = () => {
            let e = (0,
            m.T)()
              , t = (0,
            eA.ob)()
              , i = Math.min(t.width / 344, t.height / 676, 1);
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: t => {
                        "Escape" === t.key && e((0,
                        h.F0)())
                    }
                }), t.width < 1014 * i ? (0,
                s.jsx)(iA, {
                    width: t.width,
                    scale: i,
                    children: (0,
                    s.jsx)(iD, {
                        scale: i
                    })
                }) : (0,
                s.jsx)(iB, {
                    scale: i,
                    children: (0,
                    s.jsx)(iD, {
                        scale: i
                    })
                })]
            })
        }
        ;
        var iF = i(72272)
          , iG = i.n(iF)
          , iR = i(11941)
          , iV = i(28466)
          , iZ = i(69980)
          , iW = i(75268);
        let iO = {
            icon: "".concat(iW.fd, "upcoming.png"),
            text: {
                id: "default_notification_id"
            }
        }
          , iq = {
            error: {
                text: {
                    id: "default_error_notification_id"
                },
                icon: (0,
                E.Uk)("/game/ui/hud/hud_icon_alert.png")
            },
            energy: {
                icon: (0,
                E.Uk)("/game/ui/energy.png")
            },
            coin: {
                icon: (0,
                E.Uk)("/game/ui/hud/hud_icon_coin_berry16.png")
            },
            quest: {
                icon: (0,
                E.Uk)("/game/ui/hud/hud_notification_quest.png")
            },
            mail: {
                icon: (0,
                E.Uk)("/game/ui/hud/hud_icon_mailbox.png")
            }
        };
        function iU(e) {
            return "trade" === e.source
        }
        let iH = e => {
            var t;
            let {notification: i, outgoing: n=!1, onAccept: a, onDecline: l} = e
              , {t: r} = (0,
            g.$G)(["ui", "game"])
              , {uikit: o, frame: d, orange: c, pushbutton: m, orangeinset: p} = y()
              , v = "string" != typeof i.icon || i.icon.includes("/") || "skills" !== i.source && "achievement" !== i.source ? i.icon || i.source && (null === (t = iq[i.source]) || void 0 === t ? void 0 : t.icon) || iO.icon : "".concat(iW.fd).concat(i.icon, ".png")
              , {id: h, ...x} = function(e) {
                var t;
                if (e.text && e.stacking) {
                    let {key: t, textPropertyName: i} = e.stacking
                      , n = C.Z.getGameCurrencies()
                      , a = n && Object.values(n).find(e => {
                        let {id: i} = e;
                        return t.includes(i)
                    }
                    )
                      , l = e.text[i];
                    if (a && "number" == typeof l)
                        return {
                            ...e.text,
                            [i]: (0,
                            E.xG)(l, a)
                        }
                }
                return e.text || e.source && (null === (t = iq[e.source]) || void 0 === t ? void 0 : t.text) || iO.text
            }(i)
              , _ = iU(i)
              , f = (0,
            Z.j)(v);
            return (0,
            s.jsx)("div", {
                className: iG().root,
                children: (0,
                s.jsxs)("div", {
                    className: u()(o, d, c, iG().background, {
                        [iG().backgroundOutgoing]: n
                    }),
                    onMouseDown: _ ? void 0 : l,
                    onClick: _ ? void 0 : l,
                    children: [(0,
                    s.jsx)("div", {
                        className: u()(o, d, p, iG().iconBackground),
                        children: (0,
                        s.jsx)("div", {
                            children: (0,
                            s.jsx)("img", {
                                crossOrigin: "anonymous",
                                src: f,
                                style: {
                                    filter: "drop-shadow(3px 3px 2px #000000)"
                                }
                            })
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: iG().textContainer,
                        children: (0,
                        s.jsx)("span", {
                            className: iG().text,
                            children: r(h, x)
                        })
                    }), !!i.duplicates && (0,
                    s.jsx)("div", {
                        className: iG().duplicatesContainer,
                        children: (0,
                        s.jsxs)("span", {
                            className: iG().text,
                            children: ["x", i.duplicates]
                        })
                    }), _ && (0,
                    s.jsxs)(s.Fragment, {
                        children: [(0,
                        s.jsx)("button", {
                            className: u()(o, m),
                            onClick: a,
                            disabled: n,
                            children: r("yes", "Yes")
                        }), (0,
                        s.jsx)("button", {
                            className: u()(o, m),
                            onClick: l,
                            disabled: n,
                            children: r("no", "No")
                        })]
                    })]
                })
            })
        }
          , iz = () => {
            let[e] = (0,
            _.KO)(iR.wm)
              , [,t] = (0,
            _.KO)(iR.HS)
              , i = (0,
            m.C)(p.x6)
              , [n,a] = r.useState()
              , l = (0,
            m.T)()
              , o = (0,
            m.C)(iV.KU)
              , d = r.useCallback( () => {
                a(e),
                t(e)
            }
            , [e, t])
              , c = r.useCallback( () => {
                l((0,
                iV.V)()),
                d()
            }
            , [d, l])
              , u = r.useCallback( () => {
                e && iU(e) && (0,
                iZ.U)({
                    subcommand: "close",
                    tradeId: o
                }),
                d()
            }
            , [d, o, e]);
            return r.useEffect( () => {
                if (!e)
                    return;
                let t = setTimeout(u, iU(e) ? 7e3 : 4e3);
                return () => clearTimeout(t)
            }
            , [e, u]),
            r.useEffect( () => {
                if (!n)
                    return;
                let e = setTimeout( () => {
                    a(void 0)
                }
                , 1e3);
                return () => clearTimeout(e)
            }
            , [n]),
            (0,
            s.jsxs)(s.Fragment, {
                children: [n && (0,
                s.jsx)(iH, {
                    notification: n,
                    outgoing: !0
                }, null == n ? void 0 : n.reactKey), e && (0,
                s.jsx)(iH, {
                    notification: e,
                    onAccept: c,
                    onDecline: () => {
                        (null == e ? void 0 : e.source) !== "quest" || i || l((0,
                        eI.eW)()),
                        u()
                    }
                }, null == e ? void 0 : e.reactKey)]
            })
        }
        ;
        var iK = i(14556)
          , iQ = i(54902);
        let i$ = e => {
            let {open: t, link: i, msgKey: n} = e
              , a = (0,
            m.T)()
              , [l,o] = (0,
            r.useState)(i)
              , {t: d} = (0,
            g.$G)(["ui"])
              , c = () => {
                a((0,
                eI.Sm)())
            }
            ;
            function p(e) {
                o((0,
                E.b7)(e, !1).replace("//", "").replace(/\/$/, "").replace("/", "/​"))
            }
            let v = t && (!(0,
            E.T1)(i) || !n);
            return (0,
            r.useEffect)( () => {
                v && (p(i),
                (0,
                E.fI)(i) && (0,
                E.Ky)(i).then(e => {
                    e && e !== i && p(e)
                }
                ).catch( () => {
                    p(i)
                }
                ))
            }
            , [i, v]),
            (0,
            s.jsxs)(er.Z, {
                open: t,
                PaperProps: {
                    className: u()(y().uikit, y().frame, y().purple)
                },
                children: [(0,
                s.jsx)(iK.Z, {
                    children: (0,
                    s.jsx)("p", {
                        children: d("externalLink.title", "Navigate to Web Page")
                    })
                }), (0,
                s.jsxs)(eo.Z, {
                    children: [(0,
                    s.jsx)(ek, {
                        onKeyDown: e => {
                            "Escape" === e.key && (e.stopPropagation(),
                            c())
                        }
                    }), (0,
                    s.jsxs)("div", {
                        style: {
                            position: "relative",
                            boxSizing: "border-box",
                            overflowX: "hidden"
                        },
                        className: "is-rounded",
                        children: [(0,
                        s.jsx)("p", {
                            children: n ? d(n) : d("externalLink.defaultMsg", "That object has a link to an external site with content not verified by pixels.")
                        }), (0,
                        s.jsx)("br", {}), (0,
                        s.jsxs)("p", {
                            style: {
                                textAlign: "center"
                            },
                            children: [" ", v && l, " "]
                        })]
                    })]
                }), (0,
                s.jsxs)(iQ.Z, {
                    children: [(0,
                    s.jsx)("button", {
                        type: "button",
                        className: u()(y().pushbutton, y().standard),
                        onClick: () => {
                            if ((0,
                            E.T1)(i))
                                window.location.href = (0,
                                E.Fp)(i);
                            else {
                                var e;
                                null === (e = window.open(i, "_blank")) || void 0 === e || e.focus()
                            }
                            a((0,
                            eI.Sm)())
                        }
                        ,
                        children: d("externalLink.open", "YES")
                    }), (0,
                    s.jsx)("button", {
                        type: "button",
                        className: u()(y().pushbutton, y().standard),
                        onClick: c,
                        children: d("externalLink.cancel", "NO")
                    })]
                })]
            })
        }
        ;
        var iY = i(12385)
          , iX = i.n(iY);
        let iJ = e => {
            let {left: t, top: i, ...n} = e
              , [a,l] = r.useState()
              , [o,d] = r.useState({
                x: t,
                y: i
            })
              , c = r.useRef(null);
            return (0,
            s.jsx)("div", {
                ...n,
                ref: c,
                style: {
                    left: o.x,
                    top: o.y,
                    userSelect: "none",
                    ...n.style
                },
                onPointerDown: e => {
                    var t;
                    l({
                        position: o,
                        mouse: {
                            x: e.clientX,
                            y: e.clientY
                        }
                    }),
                    null === (t = n.onPointerDown) || void 0 === t || t.call(n, e)
                }
                ,
                onPointerMove: e => {
                    var t, i;
                    if (a) {
                        let t = e.clientX - a.mouse.x
                          , n = e.clientY - a.mouse.y;
                        t * t + n * n > 25 && (null === (i = c.current) || void 0 === i || i.setPointerCapture(e.pointerId));
                        let l = a.position.x + t
                          , s = a.position.y + n;
                        d({
                            x: Math.min(Math.max(0, l), window.innerWidth - 50),
                            y: Math.min(Math.max(0, s), window.innerHeight - 50)
                        })
                    }
                    null === (t = n.onPointerMove) || void 0 === t || t.call(n, e)
                }
                ,
                onPointerUp: e => {
                    var t, i;
                    (null === (t = c.current) || void 0 === t ? void 0 : t.hasPointerCapture(e.pointerId)) && c.current.releasePointerCapture(e.pointerId),
                    l(void 0),
                    null === (i = n.onPointerUp) || void 0 === i || i.call(n, e)
                }
            })
        }
          , i0 = e => {
            let {mid: t, username: i} = e
              , n = (0,
            m.T)();
            return (0,
            s.jsx)("div", {
                className: u()("clickable", eG().username),
                onClick: () => {
                    n((0,
                    eI.ol)({
                        mid: t,
                        username: i
                    }))
                }
                ,
                children: i
            })
        }
          , i1 = e => {
            let {open: t, children: i} = e
              , n = (0,
            eA.dD)();
            return t ? n ? (0,
            s.jsx)("div", {
                style: {
                    left: 20,
                    top: 160,
                    width: "calc(100% - 40px)",
                    height: "calc(100% - 300px)"
                },
                className: u()(iX().playersWindow, eG().overlayWindow, "is-active"),
                children: i
            }) : (0,
            s.jsx)(iJ, {
                left: 350,
                top: 120,
                style: {
                    width: 250,
                    height: 400
                },
                className: u()(iX().playersWindow, eG().overlayWindow, "is-active"),
                children: i
            }) : null
        }
          , i2 = e => {
            let {open: t} = e
              , i = (0,
            m.T)();
            (0,
            m.C)(p.$b);
            let {players: n} = K.l.getInstance();
            return (0,
            s.jsxs)(i1, {
                open: t,
                children: [(0,
                s.jsx)("button", {
                    className: eG().closeButton,
                    onClick: () => {
                        i((0,
                        eI.GP)())
                    }
                    ,
                    type: "button",
                    children: "✖"
                }), (0,
                s.jsxs)("h1", {
                    children: [null == n ? void 0 : n.size, " Player(s):"]
                }), (0,
                s.jsx)("div", {
                    className: eG().scrollArea,
                    style: {
                        top: 40,
                        left: 15,
                        overflowX: "hidden"
                    },
                    children: Array.from((null == n ? void 0 : n.values()) || []).filter(e => {
                        var t;
                        return e && !e.isGuest && !["block", "restrict", "mute"].includes(null !== (t = e.status) && void 0 !== t ? t : "")
                    }
                    ).map(e => (0,
                    s.jsx)(i0, {
                        mid: e.mid,
                        username: e.username
                    }, "player-".concat(e.mid)))
                })]
            })
        }
        ;
        var i3 = i(10930)
          , i5 = i.n(i3)
          , i6 = i(17553);
        let i4 = e => {
            let {children: t} = e;
            return (0,
            eA.dD)() ? (0,
            s.jsx)("div", {
                style: {
                    left: "10px",
                    top: 230,
                    width: "calc(100% - 20px)",
                    height: 220
                },
                className: u()(eG().overlayWindow, i5().window, "is-active"),
                children: t
            }) : (0,
            s.jsx)(iJ, {
                left: 610,
                top: 430,
                className: u()(eG().overlayWindow, i5().window, "is-active"),
                children: t
            })
        }
          , i8 = e => {
            let {hasBanPermissions: t} = e
              , i = (0,
            m.C)(i6.fp)
              , [n,a] = r.useState("")
              , l = (0,
            m.T)()
              , o = () => {
                l((0,
                i6.Hg)())
            }
              , d = e => {
                let {kind: t} = e;
                i && (n || t) && z.ZP.emitEventNow(z.fb.REPORT_PLAYER, {
                    mid: i,
                    message: n,
                    kind: t
                }),
                a(""),
                o()
            }
              , c = e => {
                var t;
                a(null !== (t = e.target.value) && void 0 !== t ? t : "")
            }
              , p = ""
              , v = e => {
                var t;
                "" === e.target.value && (null === (t = e.key) || void 0 === t ? void 0 : t.startsWith("Arrow")) || (p = e.key,
                e.stopPropagation())
            }
              , h = e => {
                var t;
                null !== (t = e.key) && void 0 !== t && t.startsWith("Arrow") || p !== e.key || (e.stopPropagation(),
                p = "")
            }
            ;
            return (0,
            s.jsxs)(i4, {
                children: [(0,
                s.jsx)("textarea", {
                    maxLength: 250,
                    className: i5().input,
                    value: n,
                    onChange: e => c(e),
                    onKeyDown: e => v(e),
                    onKeyUp: e => h(e)
                }), (0,
                s.jsxs)("div", {
                    className: i5().buttonbar,
                    children: [(0,
                    s.jsx)("button", {
                        onClick: () => d({}),
                        type: "button",
                        className: u()(i5().send, "button"),
                        style: {
                            fontSize: "1em",
                            pointerEvents: "all"
                        },
                        children: "Send Report"
                    }), (0,
                    s.jsx)("button", {
                        onClick: o,
                        type: "button",
                        className: u()(i5().cancel, "button"),
                        style: {
                            fontSize: "1em",
                            pointerEvents: "all"
                        },
                        children: "Cancel"
                    })]
                }), t && (0,
                s.jsxs)("div", {
                    children: [(0,
                    s.jsx)("button", {
                        onClick: () => d({
                            kind: "block"
                        }),
                        type: "button",
                        className: u()(i5().other, "button"),
                        style: {
                            fontSize: "1em",
                            pointerEvents: "all"
                        },
                        children: "Block from Game"
                    }), (0,
                    s.jsx)("br", {}), (0,
                    s.jsx)("button", {
                        onClick: () => d({
                            kind: "restrict"
                        }),
                        type: "button",
                        className: u()(i5().other, "button"),
                        style: {
                            fontSize: "1em",
                            pointerEvents: "all"
                        },
                        children: "Stop Trading & Mute"
                    }), (0,
                    s.jsx)("br", {}), (0,
                    s.jsx)("button", {
                        onClick: () => d({
                            kind: "mute"
                        }),
                        type: "button",
                        className: u()(i5().other, "button"),
                        style: {
                            fontSize: "1em",
                            pointerEvents: "all"
                        },
                        children: "Mute"
                    })]
                })]
            })
        }
          , i9 = () => {
            let e = (0,
            m.C)(i6.op)
              , t = (0,
            m.C)(p.lA);
            if (!e)
                return null;
            let i = t.full.modmode || t.full.godmode || !1;
            return (0,
            s.jsx)(i8, {
                hasBanPermissions: i
            })
        }
          , i7 = e => {
            let {value: t, captions: i} = e;
            return (0,
            s.jsxs)("div", {
                children: [(0,
                s.jsx)("div", {
                    style: {
                        borderRadius: "16px",
                        width: "16px",
                        height: "16px",
                        display: "inline-block",
                        backgroundColor: t ? "#00ff00" : "#f0f0f0",
                        position: "relative",
                        top: "-1px",
                        marginRight: 10
                    }
                }), (0,
                s.jsx)("span", {
                    children: t ? i.yes : i.no
                })]
            })
        }
          , ne = {}
          , nt = e => {
            var t, i, n;
            let {open: a, mid: l, username: o} = e
              , d = (0,
            m.T)()
              , c = function(e) {
                let[t,i] = r.useState("")
                  , n = r.useCallback( () => {
                    i(K.l.getInstance().getPlayerSessionIdByMid(e) || "")
                }
                , [e]);
                return r.useEffect( () => {
                    n();
                    let e = setInterval(n, 1e3);
                    return () => clearInterval(e)
                }
                , [n]),
                t
            }(l)
              , [p,v] = (0,
            r.useState)(null)
              , [h,x] = (0,
            r.useState)(null)
              , [_,f] = (0,
            r.useState)("about")
              , {t: j} = (0,
            g.$G)("ui")
              , N = () => {
                d((0,
                eI.dM)())
            }
              , k = e => {
                e && (N(),
                z.ZP.emitEventNow(z.fb.ROOM_WARP, {
                    mapId: e
                }))
            }
            ;
            if ((0,
            r.useEffect)( () => {
                if (v(null),
                x(null),
                l)
                    try {
                        if (ne[l]) {
                            var e, t;
                            let i = ne[l];
                            x(i);
                            let n = null === (e = i.cryptoWallets) || void 0 === e ? void 0 : e.filter(e => (null == e ? void 0 : e.type) === "eth");
                            v(null === (t = n[0]) || void 0 === t ? void 0 : t.address)
                        } else
                            io.Z.fetchPlayer(l, 1).then(e => {
                                var t, i;
                                x(e);
                                let n = null === (t = e.cryptoWallets) || void 0 === t ? void 0 : t.filter(e => (null == e ? void 0 : e.type) === "eth");
                                ne[l] = e,
                                v(null === (i = n[0]) || void 0 === i ? void 0 : i.address)
                            }
                            ).catch( () => {}
                            )
                    } catch (e) {
                        console.log("Error getting wallet", e)
                    }
            }
            , [l]),
            !a)
                return null;
            let w = K.l.getInstance()
              , S = w.getSessionId() === c
              , {players: I} = w
              , T = null == I ? void 0 : I.get(l)
              , P = null == T ? void 0 : T.currentAvatar
              , M = {
                id: (null == P ? void 0 : P.id) || iW.ft,
                pieces: null == P ? void 0 : P.pieces
            }
              , D = M.pieces ? JSON.parse(M.pieces) : void 0
              , E = !((null == T ? void 0 : T.status) === "block" || (null == T ? void 0 : T.status) === "restrict") && ["cur_berry", "cur_coins"].includes(C.Z.getDefaultCurrency())
              , A = (null === (t = w.selfPlayer) || void 0 === t ? void 0 : t.modmode) || (null === (i = w.selfPlayer) || void 0 === i ? void 0 : i.godmode)
              , B = (null == T ? void 0 : T.memberships.get("vip")) ? "VIP" : ""
              , L = new Date(null !== (n = null == h ? void 0 : h.createdAt) && void 0 !== n ? n : Date.now()).toLocaleDateString()
              , F = null == h ? void 0 : h.guildHandle
              , G = null == h ? void 0 : h.guildRole
              , R = A ? (0,
            s.jsxs)("div", {
                onPointerDown: e => {
                    e.stopPropagation()
                }
                ,
                className: u()("clickable", iX().modinfo),
                onClick: () => {
                    navigator.clipboard.writeText(l),
                    t8.e.set(iR.W_, [{
                        source: "other",
                        text: {
                            id: "Copied to Clipboard"
                        }
                    }])
                }
                ,
                style: {
                    userSelect: "text"
                },
                children: [l, " ", null == T ? void 0 : T.status]
            }) : void 0
              , V = (0,
            b.Fc)(null == h ? void 0 : h.farms);
            return (0,
            s.jsxs)("div", {
                className: u()(iX().blurbg, y().uikit),
                children: [(0,
                s.jsx)("button", {
                    className: iX().closeButton,
                    onClick: N,
                    type: "button",
                    children: "✖"
                }), (0,
                s.jsx)("div", {
                    className: iX().vipindicator,
                    style: {
                        fontSize: "1.3em",
                        fontWeight: "bold"
                    },
                    children: B
                }), (0,
                s.jsxs)("div", {
                    style: {
                        padding: 12
                    },
                    children: [(0,
                    s.jsx)("div", {
                        className: iX().playericon,
                        children: (0,
                        s.jsx)("div", {
                            children: D ? (0,
                            s.jsx)(eT.z, {
                                selectedTraits: D,
                                symbol: M.id,
                                height: 70
                            }) : (0,
                            s.jsx)("div", {
                                style: {
                                    height: 70
                                }
                            })
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: iX().username,
                        children: (0,
                        s.jsx)(i7, {
                            value: !!c,
                            captions: {
                                yes: o,
                                no: "".concat(o, " (Offline)")
                            }
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: iX().playerbuttons,
                        children: S ? (0,
                        s.jsx)("button", {
                            type: "button",
                            className: u()(y().pushbutton, y().purple),
                            onClick: () => {
                                z.ZP.emitEventNow(z.fb.LINK_OPEN, {
                                    link: "/dashboard/vip",
                                    msgKey: ["link.vipdashboard", "Open Pixels VIP Dashboard?"]
                                })
                            }
                            ,
                            children: j("button.VIP", "VIP Page")
                        }) : (0,
                        s.jsxs)(s.Fragment, {
                            children: [E && (0,
                            s.jsx)("button", {
                                onClick: () => {
                                    (0,
                                    iZ.U)({
                                        subcommand: "open",
                                        otherPlayerSessionId: c
                                    }),
                                    N()
                                }
                                ,
                                className: u()(y().pushbutton, y().purple),
                                disabled: !c,
                                style: {
                                    width: "100%",
                                    backgroundColor: "#622AFF",
                                    padding: 10,
                                    color: "white",
                                    height: "62px"
                                },
                                children: j("button.trade", "Trade")
                            }), (0,
                            s.jsx)("button", {
                                onClick: () => k(V),
                                className: u()(y().pushbutton, y().purple),
                                disabled: !V,
                                style: {
                                    width: "100%",
                                    backgroundColor: "#622AFF",
                                    padding: 10,
                                    color: "white",
                                    marginTop: 6,
                                    height: "62px"
                                },
                                children: j("button.visitspeck", "Visit")
                            }), (0,
                            s.jsx)("button", {
                                onClick: () => {
                                    d((0,
                                    i6.ht)({
                                        mid: l
                                    }))
                                }
                                ,
                                className: u()(y().pushbutton, y().purple),
                                style: {
                                    width: "100%",
                                    backgroundColor: "#622AFF",
                                    padding: 10,
                                    color: "white",
                                    marginTop: 6,
                                    height: "62px"
                                },
                                children: j("button.report", "Report")
                            })]
                        })
                    })]
                }), (0,
                s.jsxs)("div", {
                    className: iX().tabs,
                    children: [(0,
                    s.jsx)("div", {
                        onClick: () => f("about"),
                        className: u()({
                            clickable: "about" !== _,
                            [iX().active]: "about" === _
                        }),
                        children: j("about", "About")
                    }), (0,
                    s.jsx)("div", {
                        onClick: () => f("skills"),
                        className: u()({
                            clickable: "skills" !== _,
                            [iX().active]: "skills" === _
                        }),
                        children: j("skilllevels", "Skills")
                    })]
                }), (0,
                s.jsx)("div", {
                    className: iX().tabarea,
                    children: h && (0,
                    s.jsxs)(s.Fragment, {
                        children: [(0,
                        s.jsxs)("div", {
                            className: u()(iX().aboutframe, {
                                [iX().visible]: "about" === _
                            }),
                            children: [F && (0,
                            s.jsxs)(s.Fragment, {
                                children: [j("guild", "Guild"), ": ", F, " - ", G, (0,
                                s.jsx)("br", {})]
                            }), j("joined", "Joined"), ": ", L, (0,
                            s.jsx)("br", {}), "ETH: ", p, (0,
                            s.jsx)("br", {}), R]
                        }), (0,
                        s.jsx)("div", {
                            className: u()(iX().skillsframe, y().scrollArea, {
                                [iX().visible]: "skills" === _
                            }),
                            children: (0,
                            s.jsx)(tz, {
                                getLevelData: e => {
                                    var t;
                                    return null == h ? void 0 : null === (t = h.levels) || void 0 === t ? void 0 : t[e]
                                }
                                ,
                                showOverall: !0
                            })
                        })]
                    })
                })]
            })
        }
        ;
        var ni = i(51309);
        let nn = () => {
            let {isActive: e, text: t} = (0,
            m.C)(p.px)
              , i = (0,
            m.C)(ni.Gq)
              , n = (0,
            m.C)(p.qB)
              , {t: a} = (0,
            g.$G)(["ui"]);
            return e && t && i && !n ? (0,
            s.jsx)("div", {
                style: {
                    position: "absolute",
                    top: "50%",
                    left: "50%",
                    transform: "translateX(-50%) translateY(-50%)",
                    pointerEvents: "none",
                    maxWidth: "450px",
                    padding: "20px",
                    background: "rgba(255,255,255,0.5)",
                    color: "black",
                    fontFamily: "Kemco pixel",
                    fontSize: "30px",
                    overflow: "hidden",
                    border: "4px solid rgba(0,0,0,0.5)",
                    borderRadius: "8px",
                    textAlign: "center",
                    display: e ? "flex" : "none"
                },
                children: a(t)
            }) : (0,
            s.jsx)(s.Fragment, {})
        }
        ;
        var na = i(60943);
        let nl = e => {
            let {isOnActiveRow: t} = e;
            return (0,
            s.jsx)("div", {
                className: D().inventoryItem,
                children: (0,
                s.jsx)("img", {
                    draggable: !1,
                    className: u()(D().inventoryItemBackground, {
                        [D().activeRow]: t
                    })
                })
            })
        }
          , ns = e => {
            let {onClick: t, inventorySlot: i, isSelected: n, isUsable: a, isOnActiveRow: l} = e;
            return (0,
            s.jsx)("div", {
                draggable: !1,
                onClick: t,
                onContextMenu: t,
                className: u()(D().inventoryBox, {
                    [D().unusableSlot]: !a
                }),
                children: i && i.item && i.quantity ? (0,
                s.jsx)(G, {
                    isSelected: n,
                    isUsable: a,
                    inventorySlot: i,
                    isOnActiveRow: l
                }) : (0,
                s.jsx)(nl, {
                    isOnActiveRow: l
                })
            })
        }
          , nr = e => {
            let {onSwitchPage: t, className: i, children: n} = e;
            return (0,
            s.jsx)("button", {
                type: "button",
                className: u()(D().page, i),
                onClick: t,
                children: n
            })
        }
          , no = e => {
            let {mid: t, inventory: i, maxSlots: n, disabled: a=!1} = e
              , l = (0,
            m.T)()
              , o = (0,
            m.C)(na.pc)
              , d = (0,
            m.C)(na.xM)
              , [c,p] = r.useState(0);
            if (r.useMemo( () => {
                p(0)
            }
            , [t]),
            !(null == i ? void 0 : i.slots))
                return console.log("no slots on inventory"),
                null;
            t && (o = -1);
            let v = JSON.parse(JSON.stringify(i))
              , h = Object.values(v.slots).reduce( (e, t) => Math.max(e, t.slot), -1)
              , x = (null == v ? void 0 : v.size) || 18
              , g = Math.max(x, h + 1);
            n > 0 && g > n && (g = n);
            let _ = Math.floor((g - 1) / 18)
              , f = Math.min(18, g - 18 * c)
              , j = e => {
                if (v && v.slots && 0 !== Object.keys(v.slots).length)
                    return Object.values(v.slots).find(t => t.slot === e)
            }
              , y = (e, i) => {
                if (a)
                    return;
                e.preventDefault(),
                e.stopPropagation();
                let n = j(i);
                !function(e) {
                    var t;
                    let i = null === (t = e.invslot) || void 0 === t ? void 0 : t.item
                      , n = e.selected && e.slot === e.selected.slot && e.selected.storage === e.storageMid
                      , a = 2 === e.button || e.shift
                      , l = e.storageMid
                      , s = e.slot;
                    if (n) {
                        (0,
                        e.dispatch)((0,
                        na.aq)());
                        return
                    }
                    if (e.selected && -1 !== e.selected.slot) {
                        if (!e.usableSlot)
                            return;
                        if (a) {
                            let t = Math.floor(e.selected.quantity / 2);
                            t > 0 && e.dispatch((0,
                            na.oi)({
                                targetIndex: s,
                                targetContainer: e.storageMid,
                                sourceIndex: e.selected.slot,
                                sourceContainer: e.selected.storage,
                                splitQuantity: t
                            }));
                            return
                        }
                        (0,
                        e.dispatch)((0,
                        na.aq)()),
                        e.dispatch((0,
                        na.oi)({
                            targetIndex: s,
                            targetContainer: e.storageMid,
                            sourceIndex: e.selected.slot,
                            sourceContainer: e.selected.storage
                        })),
                        s = e.selected.slot,
                        l = e.selected.storage;
                        return
                    }
                    if (!i)
                        return;
                    let r = C.Z.getGameItem(i);
                    e.storageMid && a && (!e.selected || -1 === e.selected.slot) ? function(e) {
                        var t;
                        let i = null === (t = K.l.getInstance().selfPlayer) || void 0 === t ? void 0 : t.inventory;
                        if (!i)
                            return;
                        let n = i.size || 18
                          , a = i.activeRow || 0
                          , l = -1;
                        for (let e = 0; e < n; e++) {
                            let t = (6 * a + e) % n;
                            if (!i.slots.has("".concat(t))) {
                                l = t;
                                break
                            }
                        }
                        -1 !== l && e.dispatch((0,
                        na.oi)({
                            targetIndex: l,
                            sourceIndex: e.slot,
                            sourceContainer: e.storageMid
                        }))
                    }({
                        storageMid: e.storageMid,
                        dispatch: e.dispatch,
                        slot: e.slot
                    }) : e.dispatch((0,
                    na.$Z)({
                        slot: e.invslot,
                        item: r,
                        mid: l
                    }))
                }({
                    selected: d,
                    slot: i,
                    storageMid: t,
                    invslot: n,
                    usableSlot: i < x,
                    shift: e.shiftKey,
                    alt: e.altKey,
                    meta: e.metaKey,
                    ctrl: e.ctrlKey,
                    button: e.button,
                    dispatch: l
                })
            }
            ;
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)("div", {
                    className: u()(D().inventoryContent, {
                        [D().disabled]: a
                    }),
                    children: (0,
                    s.jsx)("div", {
                        className: D().inventorySlotWrapper,
                        children: [...Array(f)].map( (e, i) => {
                            let n = 18 * c + i
                              , l = j(n)
                              , r = o <= n / 6 && n / 6 < o + 1;
                            if (!(n >= g) && (!(n >= x) || l))
                                return (0,
                                s.jsx)(ns, {
                                    onClick: e => y(e, n),
                                    storageSource: t,
                                    i: n,
                                    isUsable: n < x && !a,
                                    isSelected: (null == d ? void 0 : d.slot) === n && d.storage === t,
                                    inventorySlot: l,
                                    isOnActiveRow: r
                                }, n)
                        }
                        )
                    })
                }), c > 0 && (0,
                s.jsx)(nr, {
                    className: u()("clickable", D().prev),
                    onSwitchPage: () => p(e => Math.max(e - 1, 0)),
                    children: "<"
                }), c < _ && (0,
                s.jsx)(nr, {
                    className: u()("clickable", D().next),
                    onSwitchPage: () => p(e => e + 1),
                    children: ">"
                })]
            })
        }
          , nd = e => {
            let {mid: t, name: i} = e
              , [n,a] = r.useState("");
            return r.useEffect( () => {
                a(i || "")
            }
            , []),
            (0,
            s.jsx)("div", {
                className: D().inventoryName,
                children: (0,
                s.jsxs)(s.Fragment, {
                    children: [(0,
                    s.jsx)("div", {
                        children: "STORAGE NAME: "
                    }), (0,
                    s.jsx)("input", {
                        type: "text",
                        className: D().inventoryNameInput,
                        maxLength: 24,
                        value: n,
                        onChange: e => {
                            a(e.target.value)
                        }
                        ,
                        onBlur: () => {
                            n !== i && z.ZP.sendEventDelayed(z.Yi.SET_STORAGE_NAME, {
                                name: n,
                                mid: t
                            })
                        }
                    })]
                })
            })
        }
          , nc = e => {
            var t, i, n, a, l, r;
            let o, d, {mid: c} = e, p = (0,
            m.T)(), v = (0,
            m.C)(na.xM), {t: h} = (0,
            g.$G)(["ui"]), x = "backpack", _ = K.l.getInstance();
            if (c) {
                if ("wardrobe" === c)
                    o = null === (n = _.selfPlayer) || void 0 === n ? void 0 : n.wardrobe,
                    x = "wardrobe";
                else if (c === _.mapStorageId)
                    o = _.getMapStorage(),
                    x = "mapstorage";
                else if (c === (null === (i = _.selfPlayer) || void 0 === i ? void 0 : null === (t = i.pet) || void 0 === t ? void 0 : t.mid))
                    o = _.selfPlayer.pet.inventory,
                    x = "petstorage";
                else {
                    let e = _.getEntityByUniqueId(c);
                    if (e) {
                        if (e.storage)
                            o = e.storage;
                        else {
                            let t = C.Z.getGameEntity(e.entity);
                            o = {
                                size: (null == t ? void 0 : null === (a = t.storage) || void 0 === a ? void 0 : a.slotCount) || 18,
                                slots: {},
                                transient: (null == t ? void 0 : null === (l = t.storage) || void 0 === l ? void 0 : l.transient) || !1
                            }
                        }
                    } else
                        console.error("specified storage entity not found", c);
                    x = (null == o ? void 0 : o.transient) ? "tempStorage" : "storage"
                }
            } else
                o = null === (r = _.selfPlayer) || void 0 === r ? void 0 : r.inventory,
                x = "backpack";
            if (!(null == o ? void 0 : o.slots))
                return console.log("no slots on inventory"),
                null;
            let f = JSON.parse(JSON.stringify(o))
              , j = Object.values(f.slots).reduce( (e, t) => Math.max(e, t.slot), -1)
              , y = (null == f ? void 0 : f.size) || 18
              , b = "tempStorage" === x ? 6 : 0
              , N = h("inventory.mapstorageCapacity", "Capacity");
            switch (x) {
            case "backpack":
                d = h("inventory.backpack", "Click and move items to arrange. TAB key to change active row.");
                break;
            case "storage":
                d = h("inventory.storage", "Move items between action bar and storage slots.");
                break;
            case "petstorage":
                d = h("inventory.petstorage", "Your pet can carry things for you. Move items between pet and the action bar.");
                break;
            case "tempStorage":
                d = h("inventory.tempStorage", "Move items from action bar to trash slot.");
                break;
            case "mapstorage":
                d = h("inventory.mapstorage", "Bonus collected items. Move items to empty slot on action bar.");
                break;
            case "wardrobe":
                d = h("inventory.storage", "Move cosmetic items between action bar and wardrobe slots.")
            }
            return (0,
            s.jsxs)("div", {
                draggable: !1,
                className: u()(D().inventoryContainer, {
                    [D().backpack]: "backpack" === x
                }, {
                    [D().storage]: "storage" === x || "wardrobe" === x
                }, {
                    [D().tempStorage]: "tempStorage" === x
                }, {
                    [D().mapstorage]: "mapstorage" === x
                }, {
                    [D().petstorage]: "petstorage" === x
                }, {
                    [D().empty]: -1 === j
                }),
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        "Escape" === e.key && -1 === v.slot && p((0,
                        na.me)())
                    }
                    ,
                    block: !0
                }), (0,
                s.jsx)("button", {
                    type: "button",
                    className: D().closeBtn,
                    onClick: () => p((0,
                    na.me)()),
                    children: (0,
                    s.jsx)("img", {
                        src: ""
                    })
                }), (0,
                s.jsxs)("div", {
                    className: D().inventoryHeader,
                    children: [["storage"].includes(x) && (0,
                    s.jsx)(nd, {
                        mid: c,
                        name: null == o ? void 0 : o.name
                    }), d, "mapstorage" === x && " ".concat(N, ": ").concat(y)]
                }), (0,
                s.jsx)(no, {
                    mid: c,
                    inventory: o,
                    maxSlots: b,
                    disabled: !1
                })]
            })
        }
          , nu = () => {
            let e = (0,
            m.C)(na.NS);
            return e.isOpen ? (0,
            s.jsx)(nc, {
                mid: e.mid
            }) : null
        }
        ;
        var nm = i(8143)
          , np = i(13068);
        let nv = () => {
            let e;
            let {isVisible: t} = (0,
            m.C)(p.y4)
              , i = (0,
            m.T)()
              , {t: n} = (0,
            g.$G)(["ui", "quest"])
              , a = (0,
            eA.dD)()
              , l = (0,
            m.C)(p.lA)
              , r = C.Z.getGameQuests()
              , o = (0,
            eE.GU)()
              , d = (e, t) => {
                z.ZP.emitEventNow(z.fb.LINK_OPEN, {
                    link: e,
                    msgKey: t
                })
            }
              , c = Object.values(l.full.quests || {})
              , v = e => c.find(t => t.questId === e)
              , h = e => {
                let t = v(e)
                  , i = null == r ? void 0 : r[e];
                if (t) {
                    var a, l, s, d, c;
                    let e = (null === (a = t.completedSteps) || void 0 === a ? void 0 : a.length) ? t.completedSteps[t.completedSteps.length - 1].step : 0
                      , r = null == i ? void 0 : null === (l = i.steps.find(t => t.step === e + 1)) || void 0 === l ? void 0 : l.hint;
                    return {
                        id: null == i ? void 0 : i.id,
                        kind: null !== (s = null == i ? void 0 : i.kind) && void 0 !== s ? s : "normal",
                        name: n(null !== (d = null == i ? void 0 : i.title) && void 0 !== d ? d : "", {
                            ns: "quest",
                            defaultValue: ""
                        }),
                        description: n(null !== (c = null == i ? void 0 : i.description) && void 0 !== c ? c : "", {
                            ns: "quest",
                            defaultValue: ""
                        }),
                        complete: t.isComplete || !1,
                        hint: r ? n(r, {
                            ns: "quest",
                            defaultValue: ""
                        }) : "",
                        started: t.createdAt,
                        show: i && "hidden" !== i.kind && (!i.expired || t.isComplete) && (!i.tenants || 0 === i.tenants.length || i.tenants.includes(o.name))
                    }
                }
            }
            ;
            if (!t)
                return (0,
                s.jsx)(s.Fragment, {});
            if (l.core.isGuest)
                e = (0,
                s.jsxs)(s.Fragment, {
                    children: [n("guestQuestDialog", "To participate in Quests, log in using your MetaMask wallet"), (0,
                    s.jsx)("br", {}), (0,
                    s.jsx)("button", {
                        className: y().pushbutton,
                        type: "button",
                        onClick: () => d("https://metamask.io", "externalLink.metamask"),
                        children: n("metamaskLink", "Visit MetaMask")
                    })]
                });
            else {
                let t = Object.values(r || {}).map(e => h(e.id)).filter(e => null == e ? void 0 : e.show);
                t.sort( (e, t) => e.complete === t.complete ? e.started - t.started : e.complete ? 1 : -1),
                e = t.map(e => (0,
                s.jsxs)("div", {
                    style: {
                        marginBottom: 15
                    },
                    children: [(0,
                    s.jsxs)("div", {
                        style: {
                            display: "flex",
                            alignItems: "center"
                        },
                        children: [e.complete ? (0,
                        s.jsx)(nm.Z, {
                            fontSize: "large",
                            className: y().colorGreen
                        }) : (0,
                        s.jsx)(np.Z, {
                            fontSize: "large"
                        }), (0,
                        s.jsx)("span", {
                            className: u()(y().brandFontTitle, y().colorOrange),
                            style: {
                                fontSize: "1.3em",
                                paddingLeft: 10
                            },
                            children: e.name
                        })]
                    }), !e.complete && (0,
                    s.jsxs)("div", {
                        className: y().brandFont2,
                        style: {
                            paddingLeft: 50
                        },
                        children: [e.description, (0,
                        s.jsxs)("span", {
                            className: u()(y().colorGreen),
                            children: [" ", e.hint]
                        })]
                    })]
                }, e.id))
            }
            return (0,
            s.jsxs)(er.Z, {
                open: t,
                PaperProps: {
                    className: u()(y().uikit, y().frame, y().purpleinset),
                    style: a ? {
                        marginLeft: 0,
                        marginRight: 0
                    } : void 0
                },
                style: a ? {
                    width: "100%"
                } : {
                    minWidth: 700,
                    maxWidth: 1200,
                    margin: "auto"
                },
                children: [(0,
                s.jsx)(iK.Z, {
                    className: y().dialogTitle,
                    children: (0,
                    s.jsx)("span", {
                        className: y().brandFontTitle,
                        children: n("quests", "Quest Progress")
                    })
                }), (0,
                s.jsx)(eo.Z, {
                    className: u()(y().brandFont2, y().scrollArea),
                    children: e
                }), (0,
                s.jsx)(iQ.Z, {
                    children: (0,
                    s.jsx)("button", {
                        className: y().pushbutton,
                        type: "button",
                        onClick: () => {
                            i((0,
                            eI.eW)())
                        }
                        ,
                        children: n("close", "CLOSE")
                    })
                })]
            })
        }
        ;
        var nh = i(65766);
        let nx = e => {
            let {onYes: t, onNo: i} = e
              , {t: n} = (0,
            g.$G)("ui");
            return (0,
            s.jsx)("div", {
                className: D().confirmationBoxContainer,
                children: (0,
                s.jsxs)("div", {
                    className: u()(y().uikit, y().frame, y().orangeinset, D().confirmationBox),
                    children: [(0,
                    s.jsx)("div", {
                        children: (0,
                        s.jsx)("span", {
                            children: n("trade.areyousure", "Give so much stuff away?")
                        })
                    }), (0,
                    s.jsxs)("div", {
                        className: D().confirmationBoxButtons,
                        children: [(0,
                        s.jsx)("button", {
                            className: u()(y().uikit, y().pushbutton),
                            onClick: t,
                            children: n("trade.yes", "Yes")
                        }), (0,
                        s.jsx)("button", {
                            className: u()(y().uikit, y().pushbutton),
                            onClick: i,
                            children: n("trade.no", "No")
                        })]
                    })]
                })
            })
        }
          , ng = e => {
            let {onClick: t, ...i} = e
              , [n,a] = r.useState(!1);
            r.useEffect( () => {
                let e;
                if (!n)
                    return;
                let i = setTimeout( () => {
                    e = setInterval(t, 50)
                }
                , 250);
                return () => {
                    clearTimeout(i),
                    clearInterval(e)
                }
            }
            , [n, t]);
            let l = () => {
                a(!1)
            }
            ;
            return (0,
            s.jsx)("button", {
                ...i,
                onMouseDown: () => {
                    t(),
                    a(!0)
                }
                ,
                onMouseUp: l,
                onMouseLeave: l
            })
        }
          , n_ = e => {
            let {value: t, setValue: i, allowZero: n, classes: a} = e
              , [l,o] = r.useState(0)
              , d = r.useCallback(e => {
                let t = Number(e);
                "" !== e && (t > 0 || n && 0 === t) && (i(t),
                o(e => e + 1))
            }
            , [i, n]);
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)(ng, {
                    onClick: () => d(t - 1),
                    className: null == a ? void 0 : a.back,
                    children: (0,
                    s.jsx)("img", {
                        src: (0,
                        E.Uk)("/game/ui/arrow_left_black.png")
                    })
                }), (0,
                s.jsx)("input", {
                    defaultValue: t,
                    className: null == a ? void 0 : a.input,
                    onBlur: e => {
                        d(e.target.value)
                    }
                    ,
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Enter" === e.key && d(e.currentTarget.value)
                    }
                    ,
                    type: "number"
                }, l * t), (0,
                s.jsx)(ng, {
                    onClick: () => d(t + 1),
                    className: null == a ? void 0 : a.forward,
                    children: (0,
                    s.jsx)("img", {
                        src: (0,
                        E.Uk)("/game/ui/arrow_right_black.png")
                    })
                })]
            })
        }
          , nf = e => {
            var t, i;
            let {className: n, player: a, items: l, didAgree: o, onClick: d, setItemQuantity: c, taxRate: m, coins: p, setCoins: v, tradeValue: h} = e
              , {t: x} = (0,
            g.$G)("ui")
              , _ = C.Z.getDefaultCurrency()
              , f = null === (t = C.Z.getGameCurrencies()) || void 0 === t ? void 0 : t[_]
              , j = r.useMemo( () => JSON.parse((null == a ? void 0 : a.currentAvatar.pieces) || "{}"), [null == a ? void 0 : a.currentAvatar.pieces])
              , b = (0,
            Z.j)(null == f ? void 0 : null === (i = f.sprite) || void 0 === i ? void 0 : i.image);
            if (!f)
                return null;
            let N = void 0 !== m ? nh.Z.roundDown(p * (1 - m), f) : p;
            return (0,
            s.jsxs)("div", {
                className: n,
                children: [a && (0,
                s.jsxs)(s.Fragment, {
                    children: [(0,
                    s.jsx)("div", {
                        className: D().character,
                        children: (0,
                        s.jsx)(eT.z, {
                            selectedTraits: j,
                            symbol: a.currentAvatar.id,
                            height: 75
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: D().username,
                        children: (0,
                        s.jsx)("span", {
                            children: a.username
                        })
                    })]
                }), h || 0 === h ? (0,
                s.jsxs)("div", {
                    className: D().tradevalue,
                    children: [x("trade-value", "Trade Value"), (0,
                    s.jsx)("br", {}), (0,
                    s.jsx)("span", {
                        children: (0,
                        E.xG)(h, f)
                    })]
                }) : (0,
                s.jsx)("div", {}), (0,
                s.jsxs)("div", {
                    className: D().tradeCoins,
                    children: [(0,
                    s.jsx)("img", {
                        className: y()["coin-icon"],
                        src: b
                    }), v ? (0,
                    s.jsx)(n_, {
                        value: p,
                        setValue: v,
                        classes: {
                            input: D().coinQuantity
                        },
                        allowZero: !0
                    }) : (0,
                    s.jsx)("span", {
                        className: D().receiveCoins,
                        children: (0,
                        E.xG)(p, f)
                    }), N !== p && (0,
                    s.jsx)("span", {
                        className: D().taxedCoins,
                        children: x("taxedCoins", {
                            defaultValue: "({{value}} after tax)",
                            value: (0,
                            E.xG)(N, f)
                        })
                    })]
                }), l && (0,
                s.jsx)("div", {
                    className: D().inventoryContent,
                    children: (0,
                    s.jsx)("div", {
                        className: D().inventorySlotWrapper,
                        children: [...Array(6)].map( (e, t) => {
                            let i = l.find(e => e.slot === t);
                            return (0,
                            s.jsxs)("div", {
                                className: u()(D().tradeSlotWrapper, {
                                    [D().agreeToTradeSlot]: o
                                }),
                                children: [(0,
                                s.jsx)(ns, {
                                    onClick: e => {
                                        e.preventDefault(),
                                        e.stopPropagation(),
                                        d(e.button, t)
                                    }
                                    ,
                                    storageSource: "trade",
                                    isSelected: !1,
                                    isUsable: !0,
                                    i: t,
                                    inventorySlot: i,
                                    isOnActiveRow: !1
                                }), i && c && (0,
                                s.jsx)(n_, {
                                    value: i.quantity,
                                    setValue: e => c(i, e),
                                    classes: {
                                        back: D().tradeArrowLeft,
                                        forward: D().tradeArrowRight,
                                        input: D().tradeQuantity
                                    }
                                })]
                            }, t)
                        }
                        )
                    })
                })]
            })
        }
          , nj = e => {
            let {tradeId: t, trade: i, tradeValue: n} = e;
            r.useEffect( () => {
                let e = setInterval( () => {
                    (0,
                    iZ.U)({
                        subcommand: "update",
                        tradeId: t,
                        trade: {}
                    })
                }
                , 5e3);
                return () => clearInterval(e)
            }
            , [t]);
            let a = (0,
            m.T)()
              , [l,o] = r.useState(!1)
              , d = K.l.getInstance()
              , c = d.getSessionId()
              , [p] = Object.keys(i.players).filter(e => e !== c)
              , v = d.getPlayerCoreBySessionId(c)
              , h = d.getPlayerCoreBySessionId(p)
              , x = C.Z.getDefaultCurrency();
            r.useEffect( () => {
                let e = setInterval( () => {
                    d.getPlayerCoreBySessionId(p) || (0,
                    iZ.U)({
                        subcommand: "close",
                        tradeId: t
                    })
                }
                , 1e3);
                return () => clearInterval(e)
            }
            , []);
            let g = e => {
                (0,
                iZ.U)({
                    subcommand: "update",
                    tradeId: t,
                    trade: {
                        agreedToVersion: e ? i.version : -1
                    }
                })
            }
              , _ = i.players[c]
              , f = (null == _ ? void 0 : _.agreedToVersion) === i.version
              , j = i.players[p];
            return (0,
            s.jsxs)("div", {
                className: u()(D().inventoryContainer, D().storage, D().trade),
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        "Escape" === e.key && (0,
                        iZ.U)({
                            subcommand: "close",
                            tradeId: t
                        })
                    }
                }), (0,
                s.jsx)(nf, {
                    tradeValue: n.tradeValue,
                    isSelf: !0,
                    className: D().selfPlayerWrapper,
                    player: v,
                    items: null == _ ? void 0 : _.items,
                    didAgree: f,
                    onClick: (e, t) => {
                        a((0,
                        iV.gJ)({
                            slot: t,
                            mouseButton: e
                        })),
                        a((0,
                        na.aq)())
                    }
                    ,
                    setItemQuantity: (e, t) => {
                        var i;
                        let n = (0,
                        iZ.V)(e.originalSource, e.originalSlot)
                          , l = Math.floor(Math.min(Math.max(t, 0), null !== (i = null == n ? void 0 : n.quantity) && void 0 !== i ? i : e.quantity));
                        l !== e.quantity && a((0,
                        iV.sU)({
                            slot: e.slot,
                            adjustment: l,
                            sourceSlot: e.originalSlot,
                            item: e.item
                        }))
                    }
                    ,
                    coins: null == _ ? void 0 : _.coins,
                    setCoins: e => {
                        var i, n;
                        let a = Math.min(Math.max(e, 0), (null === (n = d.currentPlayer.full.coinInventory) || void 0 === n ? void 0 : null === (i = n.find(e => e.currencyId === x)) || void 0 === i ? void 0 : i.balance) || 0);
                        a !== _.coins && (0,
                        iZ.U)({
                            tradeId: t,
                            subcommand: "update",
                            trade: {
                                coins: a
                            }
                        })
                    }
                }), (0,
                s.jsx)(nf, {
                    tradeValue: n.otherTradeValue,
                    className: D().otherPlayerWrapper,
                    player: h,
                    items: null == j ? void 0 : j.items,
                    onClick: () => !1,
                    didAgree: (null == j ? void 0 : j.agreedToVersion) === i.version,
                    coins: null == j ? void 0 : j.coins,
                    taxRate: d.currentPlayer.full.taxRate
                }), (0,
                s.jsx)("div", {
                    className: D().tradeButtons,
                    children: (0,
                    s.jsx)("button", {
                        onClick: () => {
                            let e = !!(null == _ ? void 0 : _.items.length) || (null == _ ? void 0 : _.coins) > 0
                              , t = !!(null == j ? void 0 : j.items.length) || (null == j ? void 0 : j.coins) > 0;
                            f || !e || t ? g(!f) : o(!0)
                        }
                        ,
                        children: f ? "Disagree" : "Agree"
                    })
                }), (0,
                s.jsx)("button", {
                    type: "button",
                    className: D().closeBtn,
                    onClick: () => {
                        (0,
                        iZ.U)({
                            subcommand: "close",
                            tradeId: t
                        })
                    }
                    ,
                    children: (0,
                    s.jsx)("img", {
                        src: ""
                    })
                }), l && (0,
                s.jsx)(nx, {
                    onYes: () => {
                        g(!0),
                        o(!1)
                    }
                    ,
                    onNo: () => o(!1)
                })]
            })
        }
        ;
        function ny() {
            let[e] = (0,
            _.KO)(iV.eH)
              , t = (0,
            m.C)(iV.sG);
            return e ? void 0 : t
        }
        let nb = () => {
            let e = ny()
              , t = (0,
            m.C)(iV.KU)
              , i = (0,
            m.C)(iV.$6);
            return e ? (0,
            s.jsx)(nj, {
                trade: e,
                tradeId: t,
                tradeValue: i
            }) : null
        }
        ;
        var nN = i(78009)
          , nk = i.n(nN)
          , nC = i(30211)
          , nw = i.n(nC);
        let nS = () => {
            var e;
            let t = tT(r.useCallback( () => (0,
            b.HX)("farms-active", async () => {
                var e;
                return Object.entries((await (null === (e = K.l.getInstance().client) || void 0 === e ? void 0 : e.getAvailableRooms())).reduce( (e, t) => {
                    let {clients: i, metadata: n} = t;
                    if (((null == n ? void 0 : n.mapId.includes("pixelsNFTFarm-")) || (null == n ? void 0 : n.mapId.includes("shareRent"))) && i) {
                        var a;
                        e[null == n ? void 0 : n.mapId] = {
                            clients: i + ((null === (a = e[null == n ? void 0 : n.mapId]) || void 0 === a ? void 0 : a.clients) || 0),
                            name: null == n ? void 0 : n.name
                        }
                    }
                    return e
                }
                , {})).sort( (e, t) => {
                    let[,i] = e
                      , [,n] = t;
                    return n.clients - i.clients
                }
                ).map(e => {
                    let[t,{name: i, clients: n}] = e;
                    return {
                        id: t,
                        name: null != i ? i : function(e) {
                            let t = e.match(/\d+$/)
                              , i = t && t[0];
                            return e.includes("shareRent") ? "Plot #".concat(i) : "Farm #".concat(i)
                        }(t),
                        clients: n
                    }
                }
                )
            }
            ), []))
              , i = (0,
            m.T)();
            return "fetching" === t ? (0,
            s.jsx)(et, {}) : (0,
            s.jsx)("div", {
                style: {
                    height: "calc(100% - 1px)"
                },
                className: u()(y().scrollArea),
                children: (0,
                s.jsx)("div", {
                    style: {
                        marginTop: 16,
                        marginLeft: 16,
                        marginRight: 16
                    },
                    children: null == t ? void 0 : null === (e = t.data) || void 0 === e ? void 0 : e.map(e => (0,
                    s.jsxs)("div", {
                        style: {
                            width: "100%",
                            display: "flex",
                            justifyContent: "space-between",
                            marginBottom: 8
                        },
                        children: [(0,
                        s.jsx)("div", {
                            style: {
                                textOverflow: "ellipsis",
                                overflow: "hidden",
                                whiteSpace: "nowrap",
                                maxWidth: "65%",
                                fontFamily: "Arial",
                                fontSize: 15,
                                fontWeight: 600
                            },
                            children: e.name
                        }), (0,
                        s.jsx)("div", {
                            style: {
                                width: 24
                            }
                        }), (0,
                        s.jsxs)("div", {
                            style: {
                                display: "flex"
                            },
                            children: [(0,
                            s.jsxs)("div", {
                                style: {
                                    fontFamily: "arial",
                                    fontSize: 14
                                },
                                children: [e.clients, " Players"]
                            }), (0,
                            s.jsx)("div", {
                                style: {
                                    width: 16
                                }
                            }), (0,
                            s.jsx)("button", {
                                className: u()(nw().joinButton),
                                onClick: () => {
                                    z.ZP.emitEventNow(z.fb.ROOM_WARP, {
                                        mapId: e.id
                                    }),
                                    i((0,
                                    tP.e4)())
                                }
                                ,
                                children: "Join"
                            })]
                        })]
                    }, e.id))
                })
            })
        }
        ;
        var nI = e => {
            var t, i, n, a;
            let {farm: l, rank: o, kind: d} = e
              , c = (0,
            m.T)()
              , [p,v] = (0,
            r.useState)(null);
            return (0,
            r.useEffect)( () => {
                l && tI.getFarmDetails(l.id).then(e => {
                    v(e)
                }
                ).catch(e => {
                    console.log(e)
                }
                )
            }
            , []),
            l ? (0,
            s.jsxs)("div", {
                style: {
                    width: "100%",
                    display: "flex",
                    justifyContent: "space-between",
                    marginBottom: 8
                },
                children: [(0,
                s.jsx)("img", {
                    style: {
                        height: "free" === d ? 118 : 162
                    },
                    src: l.thumbnail
                }), (0,
                s.jsxs)("div", {
                    style: {
                        textOverflow: "ellipsis",
                        overflow: "hidden",
                        whiteSpace: "nowrap",
                        maxWidth: "65%",
                        fontFamily: "Arial",
                        fontSize: 15,
                        fontWeight: 600,
                        marginLeft: 12
                    },
                    children: [(0,
                    s.jsxs)("div", {
                        children: ["Rank ", o]
                    }), (0,
                    s.jsx)("div", {
                        style: {
                            fontSize: 14,
                            fontWeight: 500
                        },
                        children: l.name
                    }), "free" !== d && (null == p ? void 0 : null === (t = p.player) || void 0 === t ? void 0 : t.username) && (0,
                    s.jsxs)("div", {
                        style: {
                            fontSize: 12,
                            fontWeight: 300
                        },
                        children: ["Owner: ", null === (i = p.player) || void 0 === i ? void 0 : i.username]
                    }), (0,
                    s.jsx)("div", {
                        style: {
                            height: 8
                        }
                    }), (0,
                    s.jsxs)("div", {
                        style: {
                            fontSize: 12,
                            fontWeight: 300
                        },
                        children: ["Farm Charm Points: ", (0,
                        E.uf)((null === (n = l.discoverability) || void 0 === n ? void 0 : n.totalPoints) || 0)]
                    }), (null == p ? void 0 : p.soilCount) ? (0,
                    s.jsxs)("div", {
                        style: {
                            fontSize: 12,
                            fontWeight: 300
                        },
                        children: ["Soils: ", p.soilCount]
                    }) : (0,
                    s.jsx)(s.Fragment, {}), (null == p ? void 0 : p.treeCount) ? (0,
                    s.jsxs)("div", {
                        style: {
                            fontSize: 12,
                            fontWeight: 300
                        },
                        children: ["Trees: ", p.treeCount]
                    }) : (0,
                    s.jsx)(s.Fragment, {}), (null == p ? void 0 : null === (a = p.entities) || void 0 === a ? void 0 : a.length) ? (0,
                    s.jsxs)("div", {
                        style: {
                            fontSize: 12,
                            fontWeight: 300
                        },
                        children: ["Industries: ", p.entities.map(e => e.id.replace("ent_", "")).join(", ")]
                    }) : (0,
                    s.jsx)(s.Fragment, {})]
                }), (0,
                s.jsx)("div", {
                    style: {
                        flexGrow: 1
                    }
                }), (0,
                s.jsx)("button", {
                    className: u()(nw().goButton),
                    onClick: () => {
                        z.ZP.emitEventNow(z.fb.ROOM_WARP, {
                            mapId: l.id
                        }),
                        c((0,
                        tP.e4)())
                    }
                    ,
                    children: "Go"
                })]
            }) : (0,
            s.jsx)("div", {})
        }
        ;
        let nT = () => {
            var e, t;
            let i = tT(r.useCallback( () => (0,
            b.HX)("top-nft-farms", async () => await tI.getTopNFTFarms()), []))
              , n = tT(r.useCallback( () => (0,
            b.HX)("top-free-farms", async () => await tI.getTopFreeFarms()), []))
              , [a,l] = (0,
            r.useState)("nft");
            if ("fetching" === i || "fetching" === n)
                return (0,
                s.jsx)(et, {});
            let o = e => ({
                fontSize: 12,
                background: a === e ? "#e8e4ff" : "#622aff",
                color: a === e ? "#622aff" : "#e8e4ff"
            });
            return (0,
            s.jsxs)("div", {
                style: {
                    height: "calc(100% - 1px)"
                },
                className: u()(y().scrollArea),
                children: [(0,
                s.jsxs)("div", {
                    style: {
                        marginLeft: 20
                    },
                    children: [(0,
                    s.jsx)("button", {
                        style: o("nft"),
                        onClick: () => l("nft"),
                        children: "NFT Farms"
                    }), (0,
                    s.jsx)("button", {
                        style: o("free"),
                        onClick: () => l("free"),
                        children: "Speck Farms"
                    })]
                }), "nft" === a && (0,
                s.jsx)("div", {
                    style: {
                        marginTop: 16,
                        marginLeft: 16,
                        marginRight: 16
                    },
                    children: null == i ? void 0 : null === (e = i.data) || void 0 === e ? void 0 : e.map( (e, t) => {
                        if (e && e.id)
                            return (0,
                            s.jsx)("div", {
                                children: (0,
                                s.jsx)(nI, {
                                    farm: e,
                                    rank: t + 1
                                })
                            }, e.id)
                    }
                    )
                }), "free" === a && (0,
                s.jsx)("div", {
                    style: {
                        marginTop: 16,
                        marginLeft: 16,
                        marginRight: 16
                    },
                    children: null == n ? void 0 : null === (t = n.data) || void 0 === t ? void 0 : t.map( (e, t) => {
                        if (e && e.id)
                            return (0,
                            s.jsx)("div", {
                                children: (0,
                                s.jsx)(nI, {
                                    kind: "free",
                                    farm: e,
                                    rank: t + 1
                                })
                            }, e.id)
                    }
                    )
                })]
            })
        }
          , nP = e => {
            let {tabs: t, currentTab: i, onSetTab: n} = e;
            return (0,
            s.jsx)("div", {
                className: nw().tabsContainer,
                children: (0,
                s.jsx)("div", {
                    className: nw().tabButtonsContainer,
                    children: t.map(e => {
                        let {id: t, caption: a} = e
                          , l = t === i;
                        return (0,
                        s.jsx)("button", {
                            type: "button",
                            className: u()(nw().tabButton, {
                                [nw().active]: l
                            }),
                            disabled: l,
                            onClick: () => n(t),
                            children: a
                        }, t)
                    }
                    )
                })
            })
        }
          , nM = () => {
            let e = (0,
            m.T)()
              , {t} = (0,
            g.$G)("ui")
              , i = () => {
                e((0,
                tP.e4)())
            }
            ;
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && i()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, nw().container),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("h1", {
                            children: t("infiniportal.activemaps", "Most Active")
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: e => {
                                e.preventDefault(),
                                i()
                            }
                            ,
                            children: "\xa0"
                        }), (0,
                        s.jsx)("div", {
                            className: u()(y().scrollArea, y().fillflex),
                            children: (0,
                            s.jsx)(nS, {})
                        })]
                    })
                })]
            })
        }
          , nD = () => {
            let e = (0,
            m.T)()
              , {t} = (0,
            g.$G)("ui")
              , i = () => {
                e((0,
                tP.e4)())
            }
            ;
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && i()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, nw().container),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("h1", {
                            children: t("infiniportal.topFarms", "Top Farms")
                        }), (0,
                        s.jsx)("h6", {
                            style: {
                                marginLeft: 24,
                                marginRight: 24,
                                marginTop: 12,
                                marginBottom: 8
                            },
                            children: t("infiniportal.howToGetIntoTopFarms", "Want to be a top farm? Purchase Farm Charm Crystals from Hazel and use them on you or your friend's farms!")
                        }), (0,
                        s.jsx)("p", {
                            style: {
                                fontSize: 10,
                                marginLeft: 24,
                                marginRight: 24,
                                marginBottom: 12
                            },
                            children: t("infiniportal.topFarmsUpdatedInterval", "Farm Charms can take up to 10min to start working!")
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: e => {
                                e.preventDefault(),
                                i()
                            }
                            ,
                            children: "\xa0"
                        }), (0,
                        s.jsx)("div", {
                            className: u()(y().scrollArea, y().fillflex),
                            children: (0,
                            s.jsx)(nT, {})
                        })]
                    })
                })]
            })
        }
          , nE = e => {
            let {f: t} = e
              , {t: i} = (0,
            g.$G)("ui")
              , n = (0,
            m.T)();
            return (0,
            s.jsxs)("div", {
                className: nw().featuredMapsWrapper,
                children: [(0,
                s.jsx)("img", {
                    style: {
                        height: 88
                    },
                    src: t.thumbnail
                }), (0,
                s.jsxs)("div", {
                    children: [(0,
                    s.jsx)("div", {
                        className: nw().featuredName,
                        children: t.name
                    }), (0,
                    s.jsx)("div", {
                        style: {
                            height: 8
                        }
                    }), t.description && (0,
                    s.jsx)("div", {
                        className: nw().featuredDescription,
                        children: t.description
                    })]
                }), (0,
                s.jsx)("div", {
                    style: {
                        flexGrow: 1
                    }
                }), (0,
                s.jsx)("button", {
                    className: u()(nw().goButton),
                    style: {
                        marginTop: 8
                    },
                    onClick: () => {
                        z.ZP.emitEventNow(z.fb.ROOM_WARP, {
                            mapId: t.id
                        }),
                        n((0,
                        tP.e4)())
                    }
                    ,
                    children: i(["go", "Go"])
                })]
            }, t.id)
        }
        ;
        var nA = () => {
            let[e,t] = (0,
            r.useState)([])
              , [i,n] = (0,
            r.useState)(!0)
              , a = (0,
            m.T)()
              , {t: l} = (0,
            g.$G)("ui")
              , o = () => {
                a((0,
                tP.e4)())
            }
            ;
            return (0,
            r.useEffect)( () => {
                ed.Z.fetchFeaturedMaps().then(e => {
                    t(e.maps),
                    n(!1)
                }
                ).catch(e => {
                    console.log(e)
                }
                )
            }
            , []),
            (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && o()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, nw().container),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: () => {
                                o()
                            }
                            ,
                            children: "\xa0"
                        }), i ? (0,
                        s.jsx)(et, {}) : (0,
                        s.jsxs)("div", {
                            className: u()(y().scrollArea),
                            style: {
                                height: "100%",
                                overflowY: "auto"
                            },
                            children: [(0,
                            s.jsx)("div", {
                                style: {
                                    height: 16
                                }
                            }), (0,
                            s.jsxs)("h1", {
                                children: [" ", l(["featured_maps.title", "Featured Maps"])]
                            }), (0,
                            s.jsx)("p", {
                                className: nw().featuredSubtitle,
                                children: l(["featured_maps.description", "Take a look at our current featured maps and warp to any of them as you please!"])
                            }), (0,
                            s.jsx)("div", {
                                style: {
                                    height: 20
                                }
                            }), null == e ? void 0 : e.map(e => {
                                if (e && e.id)
                                    return (0,
                                    s.jsx)(nE, {
                                        f: e
                                    }, e.id)
                            }
                            )]
                        })]
                    })
                })]
            })
        }
        ;
        let nB = () => {
            let e = (0,
            m.T)()
              , t = (0,
            eE.GU)().maxMaps || 5e3
              , i = (0,
            m.C)(tP.j2)
              , n = i.tenant
              , {t: a} = (0,
            g.$G)(["ui"])
              , [l,o] = (0,
            r.useState)(Math.floor(Math.random() * t))
              , d = r.useRef(null)
              , c = !!(i.isVisible && i.mid_portal);
            (0,
            r.useMemo)( () => {
                o(Math.floor(Math.random() * t))
            }
            , [i.mid_portal]),
            (0,
            r.useEffect)( () => {
                if (c) {
                    var e, t;
                    null === (e = d.current) || void 0 === e || e.select(),
                    null === (t = d.current) || void 0 === t || t.focus()
                }
            }
            , [c]);
            let p = t => {
                null == t || t.preventDefault(),
                e((0,
                tP.e4)())
            }
              , v = K.l.getInstance().getEntityByUniqueId(i.mid_portal)
              , h = n => {
                null == n || n.preventDefault(),
                l >= 1 && l <= t && v && (z.ZP.emitEventNow(te.mY.clickEntity, {
                    mid: i.mid_portal,
                    impact: "setup",
                    entity: v.entity,
                    inputs: [l]
                }),
                e((0,
                tP.e4)()))
            }
              , x = e => {
                e.stopPropagation(),
                "Enter" === e.key ? h() : "Escape" === e.key && p()
            }
              , _ = "infiniportal" === i.mode
              , f = _ ? a("portalconfig.infinititle", "Infiniportal") : a("portalconfig.title", "Magic Portal")
              , j = _ ? a("go", "Warp Now") : a("save", "Save");
            return c && "featuredmaps" === i.mode ? (0,
            s.jsx)(nA, {}) : c && "discoverablefarms" === i.mode ? (0,
            s.jsx)(nD, {}) : c && "activemaps" === i.mode ? (0,
            s.jsx)(nM, {}) : c && _ && "pixels" === n ? null : (0,
            s.jsx)(s.Fragment, {
                children: c && (0,
                s.jsx)("div", {
                    className: y().modalBackdrop,
                    children: (0,
                    s.jsxs)("div", {
                        style: {
                            maxWidth: 500
                        },
                        className: u()([y().uikit, y().frame, y().purple, y().center]),
                        children: [(0,
                        s.jsx)("h1", {
                            children: f
                        }), (0,
                        s.jsxs)("div", {
                            style: {
                                position: "relative",
                                boxSizing: "border-box",
                                padding: 20
                            },
                            className: "is-rounded",
                            onKeyDown: x,
                            children: [(0,
                            s.jsx)("p", {
                                children: "pixels" === n ? a("portalConfig", "Enter Farm # this portal should take you to.") : a("portalConfigTenant", "Enter Destination # this portal should take you to.")
                            }), (0,
                            s.jsx)("br", {}), (0,
                            s.jsx)("div", {
                                style: {
                                    textAlign: "center"
                                },
                                children: (0,
                                s.jsx)("input", {
                                    tabIndex: 1,
                                    type: "number",
                                    min: 1,
                                    max: t,
                                    maxLength: 4,
                                    style: {
                                        textAlign: "center"
                                    },
                                    value: l,
                                    ref: d,
                                    onKeyDown: x,
                                    onChange: e => {
                                        let i = parseInt(e.target.value);
                                        for (i < 0 && (i *= -1); i > t; )
                                            i = Math.floor(i / 10);
                                        o(i),
                                        e.stopPropagation(),
                                        e.preventDefault()
                                    }
                                })
                            })]
                        }), (0,
                        s.jsx)("br", {}), (0,
                        s.jsx)("br", {}), (0,
                        s.jsxs)("div", {
                            style: {
                                textAlign: "right"
                            },
                            children: [(0,
                            s.jsx)("button", {
                                type: "button",
                                className: y().pushbutton,
                                onClick: h,
                                children: j
                            }), (0,
                            s.jsx)("button", {
                                type: "button",
                                className: y().pushbutton,
                                onClick: p,
                                children: a("cancel", "Cancel")
                            })]
                        })]
                    })
                })
            })
        }
        ;
        var nL = i(33472)
          , nF = i.n(nL)
          , nG = i(71936)
          , nR = i(64065)
          , nV = i.n(nR);
        let nZ = e => {
            var t, i;
            let {size: n, url: a} = e;
            return (0,
            s.jsx)("img", {
                crossOrigin: "anonymous",
                style: {
                    width: null !== (t = null == n ? void 0 : n.width) && void 0 !== t ? t : "auto",
                    height: null !== (i = null == n ? void 0 : n.height) && void 0 !== i ? i : "auto",
                    overflow: "hidden",
                    objectFit: "cover"
                },
                src: a
            })
        }
          , nW = e => {
            var t, i, n, a, l, o;
            let {item: d, onClose: c} = e
              , {t: v} = (0,
            g.$G)(["ui", "game"])
              , [h,x] = r.useState({
                listings: [],
                ownerUsernames: {}
            })
              , [_,f] = r.useState(!1)
              , j = (0,
            m.C)(nG.yW)
              , N = (0,
            m.C)(p.lA)
              , [k,w] = r.useState( () => C.Z.getDefaultCurrency())
              , S = r.useMemo( () => Object.values(C.Z.getGameCurrencies() || {}).filter(e => ["cur_berry", "cur_coins"].includes(e.id)), []);
            r.useEffect( () => {
                var e;
                if ("pending" === j)
                    return;
                f(!0);
                let t = !0;
                return ed.Z.fetchMarketplaceListingsForItem(d.id, null == N ? void 0 : null === (e = N.core) || void 0 === e ? void 0 : e.mid).then(e => t && x(e), e => t && console.error(e)).finally( () => t && f(!1)),
                () => {
                    t = !1
                }
            }
            , [j, d]);
            let I = r.useMemo( () => h.listings.filter(e => e.currency === k && e.quantity > e.purchasedQuantity).sort( (e, t) => e.price - t.price).map(e => ({
                ...e,
                ownerUsername: h.ownerUsernames[e.ownerId]
            })), [h, k])
              , T = r.useMemo( () => {
                let e = {};
                return h.listings.forEach(t => {
                    var i;
                    e[t.currency] = (null !== (i = e[t.currency]) && void 0 !== i ? i : 0) + 1
                }
                , {}),
                e
            }
            , [h])
              , [P,M] = r.useMemo( () => {
                var e;
                let t = C.Z.getGameItem(d.id)
                  , i = (0,
                b.J2)(t, !0);
                return [(null == t ? void 0 : t.id) ? v((0,
                b.sA)(t.id), {
                    ns: "game"
                }) : v("itemLocked.name", {
                    ns: "game",
                    defaultValue: "Locked"
                }), null !== (e = null == i ? void 0 : i.image) && void 0 !== e ? e : (0,
                E.Uk)("/assets/ui/store_item_lock.png")]
            }
            , [d, v])
              , [D,A] = (0,
            r.useState)("");
            r.useEffect( () => {
                var e;
                null === (e = B.Z.preloadOneBlob(M)) || void 0 === e || e.then(e => {
                    A(null != e ? e : "")
                }
                ).catch(e => {
                    console.log("".concat(e, ": failed to load marketplace image"), M)
                }
                )
            }
            , [M]);
            let[L,F] = r.useState();
            r.useEffect( () => F(void 0), [k]);
            let[G,R] = r.useState(0)
              , [W,O] = r.useState(0);
            r.useEffect( () => {
                if (!L || "botbuy" === L)
                    return;
                let e = h.listings.find(e => e._id === L);
                R(e ? e.quantity - e.purchasedQuantity : 0)
            }
            , [L, h]);
            let q = null == S ? void 0 : S.find(e => e.id === k)
              , U = (0,
            Z.j)(null !== (a = null == q ? void 0 : null === (t = q.sprite) || void 0 === t ? void 0 : t.image) && void 0 !== a ? a : (0,
            E.Uk)("/game/ui/coin.png"))
              , H = (null !== (l = null === (i = I[0]) || void 0 === i ? void 0 : i.price) && void 0 !== l ? l : 0) * 1.1
              , z = Math.max(3, Math.floor((null !== (o = null === (n = I[0]) || void 0 === n ? void 0 : n.price) && void 0 !== o ? o : 0) * 1.2));
            return (0,
            s.jsx)("div", {
                className: y().modalBackdrop,
                children: (0,
                s.jsxs)("div", {
                    className: u()(y().uikit, y().frame, y().purpleinset, y().center, nV().container),
                    children: [(0,
                    s.jsx)(ek, {
                        depth: 1,
                        onKeyDown: e => {
                            "Escape" === e.key && c()
                        }
                    }), (0,
                    s.jsx)("button", {
                        className: y().closeBtn,
                        type: "button",
                        onClick: c
                    }), (0,
                    s.jsxs)("div", {
                        className: nV().content,
                        children: [(0,
                        s.jsx)("h1", {
                            children: v("marketplace.buy.title", {
                                ns: "ui",
                                defaultValue: "Buy Items"
                            })
                        }), (0,
                        s.jsx)(V, {
                            item: d,
                            showDetails: !0,
                            placement: "top",
                            children: (0,
                            s.jsxs)("div", {
                                className: nV().item,
                                children: [D && (0,
                                s.jsxs)("div", {
                                    className: nV().imageTierContainer,
                                    children: [(0,
                                    s.jsx)(nZ, {
                                        url: D,
                                        size: {
                                            width: 96,
                                            height: 96
                                        }
                                    }), !!d.tier && (0,
                                    s.jsx)("div", {
                                        className: nV().itemTier,
                                        children: (0,
                                        b.Qb)(d.tier)
                                    })]
                                }), (0,
                                s.jsx)("span", {
                                    children: P
                                })]
                            })
                        }), (0,
                        s.jsx)("div", {
                            className: u()(nV().props),
                            children: (0,
                            s.jsxs)("div", {
                                className: nV().prop,
                                children: [(0,
                                s.jsx)("span", {
                                    children: v("marketplace.add.currency", {
                                        ns: "ui",
                                        defaultValue: "Currency"
                                    })
                                }), (0,
                                s.jsx)("div", {
                                    className: nV().currencies,
                                    children: null == S ? void 0 : S.map(e => (0,
                                    s.jsxs)("button", {
                                        className: u()(nV().currencyButton, {
                                            [nV().active]: e.id === k
                                        }),
                                        disabled: e.id === k,
                                        onClick: () => {
                                            w(e.id)
                                        }
                                        ,
                                        children: [(0,
                                        s.jsx)("img", {
                                            src: e.id === k ? U : e.sprite.image
                                        }), e.id !== k && T[e.id] && (0,
                                        s.jsx)("div", {
                                            className: nV().currencyBadge,
                                            children: T[e.id]
                                        })]
                                    }, e.id))
                                })]
                            })
                        }), (0,
                        s.jsxs)("div", {
                            className: u()(nV().listings, y().scrollArea),
                            children: ["botbuy" === L ? (0,
                            s.jsxs)("div", {
                                className: u()(nV().listing, nV().current),
                                children: [(0,
                                s.jsxs)("div", {
                                    className: nV().amount,
                                    children: [(0,
                                    s.jsx)("span", {
                                        children: v("marketplace.itemListings.maxamount", {
                                            ns: "ui",
                                            defaultValue: "Maximum Amount"
                                        })
                                    }), (0,
                                    s.jsx)("input", {
                                        value: G,
                                        className: nV().buyQuantity,
                                        onChange: e => {
                                            R(Math.min(Math.max(Math.floor(Number(e.target.value)), 0), 99))
                                        }
                                        ,
                                        type: "number"
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: nV().amount,
                                    children: [(0,
                                    s.jsx)("span", {
                                        children: v("marketplace.itemListings.price", {
                                            ns: "ui",
                                            defaultValue: "Maximum Price"
                                        })
                                    }), (0,
                                    s.jsx)("input", {
                                        value: W,
                                        className: nV().botPrice,
                                        onChange: e => {
                                            O(Math.min(Math.max(Math.floor(Number(e.target.value)), 3), z))
                                        }
                                        ,
                                        max: z,
                                        type: "number"
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: nV().buttons,
                                    children: [(0,
                                    s.jsx)("button", {
                                        disabled: _ || !!j || !G,
                                        className: u()(y().pushbutton, nV().buyListing),
                                        onClick: e => {
                                            e.preventDefault(),
                                            nU({
                                                subcommand: "findandpurchase",
                                                itemId: d.id,
                                                quantity: G,
                                                price: W,
                                                currency: (null == q ? void 0 : q.id) || "cur_coins"
                                            })
                                        }
                                        ,
                                        children: v("marketplace.itemListings.yes", {
                                            ns: "ui",
                                            defaultValue: "Buy {{quantity}} for {{price}}",
                                            quantity: G,
                                            price: (0,
                                            E.xG)(W * G, q)
                                        })
                                    }), (0,
                                    s.jsx)("button", {
                                        className: u()(y().pushbutton, nV().buyListing),
                                        onClick: e => {
                                            e.preventDefault(),
                                            F(void 0)
                                        }
                                        ,
                                        children: v("marketplace.itemListings.no", {
                                            ns: "ui",
                                            defaultValue: "Cancel"
                                        })
                                    })]
                                })]
                            }) : (0,
                            s.jsx)("div", {
                                className: nV().listing,
                                children: (0,
                                s.jsx)("button", {
                                    className: u()(y().pushbutton, nV().buyListing),
                                    onClick: e => {
                                        e.preventDefault(),
                                        F("botbuy"),
                                        R(10),
                                        O(z)
                                    }
                                    ,
                                    children: v("marketplace.itemListings.botbuy", {
                                        ns: "ui",
                                        defaultValue: "Automatic Buy"
                                    })
                                })
                            }), I.map(e => {
                                if (L === e._id) {
                                    let t = e.price * G;
                                    return (0,
                                    s.jsxs)("div", {
                                        className: u()(nV().listing, nV().current),
                                        children: [(0,
                                        s.jsxs)("div", {
                                            className: nV().amount,
                                            children: [(0,
                                            s.jsx)("span", {
                                                children: v("marketplace.itemListings.adjust", {
                                                    ns: "ui",
                                                    defaultValue: "Enter Amount"
                                                })
                                            }), (0,
                                            s.jsx)("input", {
                                                value: G,
                                                className: nV().buyQuantity,
                                                onChange: t => {
                                                    let i = e.quantity - e.purchasedQuantity;
                                                    R(Math.min(Math.max(Math.floor(Number(t.target.value)), 0), i))
                                                }
                                                ,
                                                type: "number"
                                            })]
                                        }), (0,
                                        s.jsxs)("div", {
                                            className: nV().buttons,
                                            children: [(0,
                                            s.jsx)("button", {
                                                disabled: _ || !!j || !G,
                                                className: u()(y().pushbutton, nV().buyListing),
                                                onClick: t => {
                                                    t.preventDefault(),
                                                    nU({
                                                        subcommand: "purchase",
                                                        listingId: e._id,
                                                        quantity: G
                                                    })
                                                }
                                                ,
                                                children: v("marketplace.itemListings.yes", {
                                                    ns: "ui",
                                                    defaultValue: "Buy {{quantity}} for {{price}}",
                                                    quantity: G,
                                                    price: (0,
                                                    E.xG)(t, q)
                                                })
                                            }), (0,
                                            s.jsx)("button", {
                                                className: u()(y().pushbutton, nV().buyListing),
                                                onClick: e => {
                                                    e.preventDefault(),
                                                    F(void 0)
                                                }
                                                ,
                                                children: v("marketplace.itemListings.no", {
                                                    ns: "ui",
                                                    defaultValue: "Cancel"
                                                })
                                            })]
                                        })]
                                    }, "".concat(e._id))
                                }
                                {
                                    let t = e.price
                                      , i = e.quantity - e.purchasedQuantity
                                      , n = h.ownerUsernames[e.ownerId] || e.ownerId
                                      , a = e.ownerId === K.l.getInstance().currentPlayer.core.mid;
                                    return (0,
                                    s.jsx)("div", {
                                        className: nV().listing,
                                        children: (0,
                                        s.jsx)("button", {
                                            disabled: _ || !!j || a || e.price > H,
                                            className: u()(y().pushbutton, nV().buyListing),
                                            onClick: t => {
                                                t.preventDefault(),
                                                F(e._id)
                                            }
                                            ,
                                            children: v("marketplace.itemListings.buy", {
                                                ns: "ui",
                                                defaultValue: "{{quantity}} Listed @ {{price}}",
                                                quantity: (0,
                                                E.uf)(i, 0),
                                                price: (0,
                                                E.xG)(t, q),
                                                username: n
                                            })
                                        })
                                    }, "".concat(e._id))
                                }
                            }
                            ), _ && (0,
                            s.jsx)(et, {})]
                        })]
                    })]
                })
            })
        }
          , nO = "--all"
          , nq = "--uncategorized";
        function nU(e) {
            z.ZP.emitEventNow(z.fb.MARKETPLACE_SEND, e)
        }
        let nH = e => {
            var t;
            let {itemId: i, currency: n, price: a, quantity: l} = e
              , {t: o} = (0,
            g.$G)(["ui", "game"])
              , d = (0,
            m.T)()
              , [c,p,v] = r.useMemo( () => {
                var e;
                let t = C.Z.getGameItem(i);
                return [(null == t ? void 0 : t.id) ? o((0,
                b.sA)(t.id), {
                    ns: "game"
                }) : o("itemLocked.name", {
                    ns: "game",
                    defaultValue: "Locked"
                }), null !== (e = null == t ? void 0 : t.image) && void 0 !== e ? e : (0,
                E.Uk)("/assets/ui/store_item_lock.png"), null == t ? void 0 : t.tier]
            }
            , [i, o])
              , h = (0,
            Z.j)(p);
            return (0,
            s.jsx)("div", {
                className: y().modalBackdrop,
                children: (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().frame, y().purpleinset, y().center, nF().buyContainer),
                    children: (0,
                    s.jsxs)("div", {
                        style: {
                            height: "calc(100% - 50px)"
                        },
                        children: [(0,
                        s.jsx)("h1", {
                            children: o("marketplace.buy.success.title", {
                                ns: "ui",
                                defaultValue: "Purchased"
                            })
                        }), (0,
                        s.jsxs)("div", {
                            className: nF().buyContent,
                            children: [(0,
                            s.jsxs)("div", {
                                className: nF().item,
                                children: [(0,
                                s.jsxs)("div", {
                                    className: nF().imageTierContainer,
                                    children: [!!v && (0,
                                    s.jsx)("div", {
                                        className: nF().itemTier,
                                        children: (0,
                                        b.Qb)(v)
                                    }), (0,
                                    s.jsx)("img", {
                                        crossOrigin: "anonymous",
                                        src: h
                                    })]
                                }), (0,
                                s.jsx)("span", {
                                    children: c
                                })]
                            }), (0,
                            s.jsxs)("div", {
                                className: u()(nF().props),
                                children: [(0,
                                s.jsxs)("div", {
                                    className: nF().prop,
                                    children: [(0,
                                    s.jsxs)("span", {
                                        children: [o("marketplace.buy.price", {
                                            ns: "ui",
                                            defaultValue: "Total in"
                                        }), " ", (0,
                                        s.jsx)("img", {
                                            className: y()["coin-icon"],
                                            src: null === (t = C.Z.getGameCurrency(n)) || void 0 === t ? void 0 : t.sprite.image
                                        }), " "]
                                    }), (0,
                                    s.jsx)("span", {
                                        children: a
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: nF().prop,
                                    children: [(0,
                                    s.jsx)("span", {
                                        children: o("marketplace.buy.quantity", {
                                            ns: "ui",
                                            defaultValue: "Quantity"
                                        })
                                    }), (0,
                                    s.jsx)("span", {
                                        children: l
                                    })]
                                })]
                            }), (0,
                            s.jsx)("div", {
                                className: nF().buttons,
                                children: (0,
                                s.jsx)("button", {
                                    className: u()(y().uikit, y().pushbutton, nF().button),
                                    onClick: e => {
                                        e.preventDefault(),
                                        d((0,
                                        nG.Uj)())
                                    }
                                    ,
                                    children: o("marketplace.buy.success.close", {
                                        ns: "ui",
                                        defaultValue: "Close"
                                    })
                                })
                            })]
                        })]
                    })
                })
            })
        }
          , nz = e => {
            let {item: t, buttonText: i, onClick: n} = e
              , {t: a} = (0,
            g.$G)(["ui", "game"])
              , l = a((0,
            b.sA)(t.id), {
                ns: "game"
            })
              , r = (0,
            Z.j)(t.image);
            if (l)
                return (0,
                s.jsxs)("div", {
                    className: nF().item,
                    children: [!!t.tier && (0,
                    s.jsx)("div", {
                        className: nF().itemTier,
                        children: (0,
                        b.Qb)(t.tier)
                    }), (0,
                    s.jsx)("img", {
                        crossOrigin: "anonymous",
                        src: r,
                        className: nF().itemImage
                    }), (0,
                    s.jsx)("div", {
                        className: nF().itemName,
                        children: l
                    }), (0,
                    s.jsx)("button", {
                        className: u()(y().pushbutton, nF().viewListings),
                        onClick: e => {
                            e.preventDefault(),
                            n(t)
                        }
                        ,
                        children: i
                    })]
                }, "".concat(t.id))
        }
          , nK = e => {
            let {initialCategory: t} = e
              , i = (0,
            m.T)()
              , {t: n} = (0,
            g.$G)(["ui", "game"])
              , a = (0,
            m.C)(nG.yW)
              , l = C.Z.getGameItems()
              , o = r.useMemo( () => Object.values(l || {}).reduce( (e, t) => ((t.categories.length ? [nO, ...t.categories] : [nO, nq]).forEach(i => {
                let n = e.get(i);
                n ? n.push(t) : e.set(i, [t])
            }
            ),
            e), new Map), [l])
              , d = r.useMemo( () => Array.from(o.keys()).sort(), [o])
              , [c,p] = r.useState(t && d.includes(t) ? t : ( () => d[0]) || void 0)
              , [v,h] = r.useState()
              , [x,_] = r.useState(!1)
              , [f,j] = r.useState();
            r.useEffect( () => {
                let e = !0;
                return _(!0),
                ed.Z.fetchMarketplaceListingCounts().then(t => e && j(t.counts), t => e && console.error(t)).finally( () => e && _(!1)),
                () => {
                    e = !1
                }
            }
            , []);
            let[N,k] = r.useState("")
              , w = r.useMemo( () => {
                var e;
                if (!c)
                    return [];
                let t = null !== (e = o.get(c)) && void 0 !== e ? e : [];
                if (!f)
                    return [];
                let i = N.toLocaleLowerCase();
                return t.filter(e => {
                    if (!f[e.id])
                        return !1;
                    let t = n((0,
                    b.sA)(e.id), {
                        ns: "game"
                    });
                    return !!t && t.toLocaleLowerCase().includes(i)
                }
                )
            }
            , [o, c, f, N, n])
              , S = e => {
                h(e)
            }
              , I = n("marketplace.viewListings", {
                ns: "ui",
                defaultValue: "View Listings"
            });
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        "Escape" === e.key && i((0,
                        nG.eo)())
                    }
                }), (0,
                s.jsxs)("div", {
                    className: u()(y().uikit, y().frame, y().purpleinset, y().center, nF().container),
                    children: [(0,
                    s.jsxs)("div", {
                        style: {
                            height: "calc(100% - 50px)"
                        },
                        children: [(0,
                        s.jsx)("h1", {
                            children: n("marketplace.title", {
                                ns: "ui",
                                defaultValue: "Marketplace"
                            })
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: e => {
                                e.preventDefault(),
                                i((0,
                                nG.eo)())
                            }
                            ,
                            children: "\xa0"
                        }), (0,
                        s.jsxs)("div", {
                            className: nF().content,
                            children: [(0,
                            s.jsx)("div", {
                                className: u()(nF().categories, y().scrollArea),
                                children: d.map(e => {
                                    var t;
                                    return (0,
                                    s.jsx)("button", {
                                        type: "button",
                                        className: u()(y().pushbutton, nF().category, {
                                            [nF().active]: e === c
                                        }),
                                        disabled: e === c,
                                        onClick: () => p(e),
                                        children: n("marketplace.category.".concat(e), {
                                            ns: "ui",
                                            defaultValue: e === nO ? "All items" : e === nq ? "Other" : (null === (t = e.at(0)) || void 0 === t ? void 0 : t.toLocaleUpperCase()) + e.substring(1)
                                        })
                                    }, e)
                                }
                                )
                            }), (0,
                            s.jsxs)("div", {
                                className: nF().right,
                                children: [(0,
                                s.jsx)("input", {
                                    type: "text",
                                    className: nF().filter,
                                    placeholder: n("marketplace.filter", "Search"),
                                    value: N,
                                    onChange: e => k(e.target.value)
                                }), (0,
                                s.jsx)("div", {
                                    className: u()(nF().items, y().scrollArea),
                                    children: w.map(e => e.id && e.image ? (0,
                                    s.jsx)(nz, {
                                        item: e,
                                        buttonText: I,
                                        onClick: S
                                    }) : null)
                                }), x && (0,
                                s.jsx)(et, {})]
                            })]
                        })]
                    }), v && (0,
                    s.jsx)(nW, {
                        item: v,
                        onClose: () => h(void 0)
                    }), a && "pending" !== a && (0,
                    s.jsx)(nH, {
                        ...a
                    })]
                })]
            })
        }
          , nQ = () => {
            let e = (0,
            m.C)(nG.ww)
              , t = (0,
            m.C)(nG.SY);
            return e ? (0,
            s.jsx)(nK, {
                initialCategory: t
            }) : null
        }
        ;
        var n$ = i(6959)
          , nY = i.n(n$)
          , nX = i(79049)
          , nJ = i.n(nX);
        let n0 = e => {
            let {onClose: t} = e
              , {t: i} = (0,
            g.$G)(["ui", "game"])
              , n = (0,
            m.C)(p.ge)
              , a = e => {
                e.preventDefault(),
                t("cancel")
            }
            ;
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    depth: 1,
                    onKeyDown: e => {
                        "Escape" === e.key && t("cancel")
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().frame, y().purpleinset, y().center, nJ().container),
                    children: (0,
                    s.jsx)("div", {
                        style: {
                            height: "calc(100% - 50px)"
                        },
                        children: (0,
                        s.jsxs)("div", {
                            className: nJ().content,
                            children: [(0,
                            s.jsx)("h1", {
                                children: i("marketplace.cannotlist", {
                                    ns: "ui",
                                    defaultValue: "You cannot list items on marketplace"
                                })
                            }), (0,
                            s.jsx)("h3", {
                                children: i("ui.reputationneeded", {
                                    ns: "ui",
                                    defaultValue: "Keep playing. Your reputation score increases the more you play"
                                })
                            }), (0,
                            s.jsx)("h3", {
                                hidden: n,
                                children: i("ui.getvip", {
                                    ns: "ui",
                                    defaultValue: "You can boost your reputation with VIP!"
                                })
                            }), (0,
                            s.jsxs)("div", {
                                style: {
                                    textAlign: "center",
                                    marginTop: 100
                                },
                                children: [(0,
                                s.jsx)("button", {
                                    hidden: n,
                                    className: u()(y().uikit, y().pushbutton, nJ().button),
                                    onClick: a,
                                    children: i("button.getvip", {
                                        ns: "ui",
                                        defaultValue: "Get VIP"
                                    })
                                }), (0,
                                s.jsx)("button", {
                                    className: u()(y().uikit, y().pushbutton, nJ().button),
                                    onClick: a,
                                    children: i("marketplace.add.cancel", {
                                        ns: "ui",
                                        defaultValue: "Cancel"
                                    })
                                })]
                            })]
                        })
                    })
                })]
            })
        }
          , n1 = e => {
            var t, i;
            let {item: n, onClose: a} = e
              , {t: l} = (0,
            g.$G)(["ui", "game"])
              , o = (0,
            m.C)(p.lA)
              , d = (0,
            m.C)(p.xK)
              , c = r.useMemo( () => (null == d ? void 0 : d.slots) ? Object.values(d.slots).filter(e => e.item === n).reduce( (e, t) => e + t.quantity, 0) : 0, [n, d])
              , [v,h] = r.useState( () => Math.min(1, c))
              , [x,_] = r.useState(C.Z.getDefaultCurrency())
              , [f,j] = r.useState(0)
              , [N,k] = r.useState("")
              , [w,S] = r.useState(!1)
              , [I,T] = r.useState()
              , P = C.Z.getGameCurrency(x)
              , M = (null == o ? void 0 : o.full.taxRate) || 0
              , D = nh.Z.roundDown(f * v * (1 - M))
              , [A,B,L] = r.useMemo( () => {
                let e = C.Z.getGameItem(n);
                return [(null == e ? void 0 : e.id) ? l((0,
                b.sA)(e.id), {
                    ns: "game"
                }) : l("itemLocked.name", {
                    ns: "game",
                    defaultValue: "Locked"
                }), (null == e ? void 0 : e.image) ? (0,
                E.b7)(null == e ? void 0 : e.image) : (0,
                E.Uk)("/game/ui/store_item_lock.png"), null == e ? void 0 : e.tier]
            }
            , [n, l]);
            r.useEffect( () => {
                var e;
                let t = !0;
                return T(void 0),
                ed.Z.fetchMarketplaceListingsForItem(n, null == o ? void 0 : null === (e = o.core) || void 0 === e ? void 0 : e.mid).then(e => {
                    if (t) {
                        var i, n, a;
                        let t = {
                            listings: null !== (a = null === (i = e.listings) || void 0 === i ? void 0 : i.length) && void 0 !== a ? a : 0,
                            floor: Number.MAX_SAFE_INTEGER,
                            max: 0
                        };
                        null === (n = e.listings) || void 0 === n || n.forEach(e => {
                            e.currency === x && (e.price < t.floor && (t.floor = e.price),
                            e.price > t.max && (t.max = e.price))
                        }
                        ),
                        T(t)
                    }
                }
                ).catch(console.error),
                () => {
                    t = !1
                }
            }
            , [n, x]);
            let F = e => {
                let t = Number(e)
                  , i = e.indexOf(".")
                  , n = -1 === i ? 0 : e.length - i - 1
                  , a = isFinite(e) && t > 0 && t < Number.MAX_SAFE_INTEGER && (0 === n || n <= (0,
                E.Sj)(P));
                k(e),
                S(a),
                j((0,
                E.aR)(t, P))
            }
            ;
            r.useMemo( () => {
                F(N)
            }
            , [x]);
            let G = (0,
            Z.j)(null !== (i = null == P ? void 0 : null === (t = P.sprite) || void 0 === t ? void 0 : t.image) && void 0 !== i ? i : (0,
            E.Uk)("/game/ui/coin.png"));
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    depth: 1,
                    onKeyDown: e => {
                        "Escape" === e.key && a("cancel")
                    }
                }), (0,
                s.jsxs)("div", {
                    className: u()(y().uikit, y().frame, y().purpleinset, y().center, nJ().container),
                    children: [(0,
                    s.jsx)("button", {
                        className: y().closeBtn,
                        type: "button",
                        onClick: e => {
                            e.preventDefault(),
                            a("cancel")
                        }
                        ,
                        children: "\xa0"
                    }), (0,
                    s.jsxs)("div", {
                        style: {
                            height: "calc(100% - 50px)"
                        },
                        children: [(0,
                        s.jsx)("h1", {
                            children: l("marketplace.add.title", {
                                ns: "ui",
                                defaultValue: "Add Listing"
                            })
                        }), (0,
                        s.jsxs)("div", {
                            className: nJ().content,
                            children: [(0,
                            s.jsxs)("div", {
                                className: nJ().item,
                                children: [(0,
                                s.jsxs)("div", {
                                    className: nJ().image,
                                    children: [!!L && (0,
                                    s.jsx)("div", {
                                        className: nJ().tier,
                                        children: (0,
                                        b.Qb)(L)
                                    }), (0,
                                    s.jsx)("img", {
                                        crossOrigin: "anonymous",
                                        src: B
                                    })]
                                }), (0,
                                s.jsx)("span", {
                                    children: A
                                })]
                            }), (0,
                            s.jsxs)("div", {
                                className: u()(nJ().props),
                                children: [(0,
                                s.jsxs)("div", {
                                    className: nJ().prop,
                                    children: [(0,
                                    s.jsx)("span", {
                                        children: l("marketplace.add.currency", {
                                            ns: "ui",
                                            defaultValue: "Currency"
                                        })
                                    }), (0,
                                    s.jsx)("div", {
                                        children: Object.entries(C.Z.getGameCurrencies() || {}).filter(e => {
                                            let[t] = e;
                                            return t === x
                                        }
                                        ).map(e => {
                                            let[t] = e;
                                            return (0,
                                            s.jsx)("button", {
                                                className: u()(nJ().currencyButton, {
                                                    [nJ().active]: t === x
                                                }),
                                                disabled: t === x,
                                                onClick: () => {
                                                    _(t)
                                                }
                                                ,
                                                children: (0,
                                                s.jsx)("img", {
                                                    src: G
                                                })
                                            }, t)
                                        }
                                        )
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: nJ().listinginfo,
                                    children: [(0,
                                    s.jsx)("span", {
                                        children: l("marketplace.add.floorprice", {
                                            ns: "ui",
                                            defaultValue: "Floor Price"
                                        })
                                    }), (0,
                                    s.jsx)("span", {
                                        className: nJ().number,
                                        children: (null == I ? void 0 : I.listings) ? (0,
                                        E.aR)(I.floor, P) : "?"
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: nJ().prop,
                                    children: [(0,
                                    s.jsx)("span", {
                                        children: l("marketplace.add.price", {
                                            ns: "ui",
                                            defaultValue: "Price per item"
                                        })
                                    }), (0,
                                    s.jsx)("input", {
                                        value: N,
                                        onChange: e => {
                                            e.preventDefault(),
                                            F(e.target.value)
                                        }
                                        ,
                                        type: "number",
                                        autoFocus: !0
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: nJ().prop,
                                    children: [(0,
                                    s.jsxs)("span", {
                                        children: [l("marketplace.add.quantity", "Quantity"), " (", (0,
                                        s.jsx)("a", {
                                            className: u()("clickable", nJ().hotlink),
                                            onClick: e => {
                                                e.preventDefault(),
                                                h(c)
                                            }
                                            ,
                                            children: l("marketplace.add.max", {
                                                ns: "ui",
                                                defaultValue: "max: ".concat(c),
                                                maxQuantity: (0,
                                                E.uf)(c)
                                            })
                                        }), ")"]
                                    }), (0,
                                    s.jsx)("input", {
                                        value: v,
                                        onChange: e => {
                                            e.preventDefault(),
                                            h(Math.floor(Math.max(0, Math.min(Number(e.target.value), c))))
                                        }
                                        ,
                                        type: "number"
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: nJ().prop,
                                    children: [(0,
                                    s.jsx)("span", {
                                        children: l("marketplace.add.taxedTotal", "Total (after tax)")
                                    }), (0,
                                    s.jsxs)("span", {
                                        children: [P && (0,
                                        s.jsx)("img", {
                                            className: nJ().taxedCurrencyIcon,
                                            src: P.sprite.image
                                        }), D]
                                    })]
                                })]
                            }), (0,
                            s.jsx)("div", {
                                className: nJ().buttons,
                                children: (0,
                                s.jsx)("button", {
                                    className: u()(y().uikit, y().pushbutton, y().green, nJ().button),
                                    onClick: e => {
                                        nU({
                                            subcommand: "create",
                                            itemId: n,
                                            quantity: v,
                                            price: f,
                                            currency: x
                                        }),
                                        e.preventDefault(),
                                        a("create")
                                    }
                                    ,
                                    disabled: !w || v <= 0,
                                    children: l("marketplace.add.create", {
                                        ns: "ui",
                                        defaultValue: "Create"
                                    })
                                })
                            })]
                        })]
                    })]
                })]
            })
        }
          , n2 = e => {
            var t, i, n;
            let {item: a, template: l, onClose: o, fetchItems: d} = e
              , [c,m] = (0,
            r.useState)(null !== (i = l.minCount) && void 0 !== i ? i : 1)
              , {t: p} = (0,
            g.$G)(["ui", "game"])
              , v = C.Z.getGameCurrency(l.mintCurrency)
              , h = c * l.mintCostPerUnit
              , [x,_] = r.useMemo( () => {
                var e;
                let t = C.Z.getGameItem(a.id)
                  , i = (0,
                b.J2)(t, !0);
                return [(null == t ? void 0 : t.id) ? p((0,
                b.sA)(t.id), {
                    ns: "game"
                }) : p("itemLocked.name", {
                    ns: "game",
                    defaultValue: "Locked"
                }), null !== (e = null == i ? void 0 : i.image) && void 0 !== e ? e : (0,
                E.Uk)("/assets/ui/store_item_lock.png"), i.width, i.height, i.scale]
            }
            , [a, p])
              , [f,j] = (0,
            r.useState)("");
            return r.useEffect( () => {
                var e;
                null === (e = B.Z.preloadOneBlob(_)) || void 0 === e || e.then(e => {
                    j(null != e ? e : "")
                }
                ).catch(e => {
                    console.log("".concat(e, ": failed to load minting image"), _)
                }
                )
            }
            , [_]),
            (0,
            s.jsx)("div", {
                style: {
                    zIndex: 99999
                },
                children: (0,
                s.jsxs)("div", {
                    className: y().modalBackdrop,
                    children: [(0,
                    s.jsx)(ek, {
                        depth: 1,
                        onKeyDown: e => {
                            "Escape" === e.key && o()
                        }
                    }), (0,
                    s.jsxs)("div", {
                        className: u()(y().uikit, y().frame, y().purpleinset, y().center, nV().container),
                        children: [(0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: o
                        }), (0,
                        s.jsxs)("div", {
                            className: nV().content,
                            children: [(0,
                            s.jsx)("h1", {
                                children: p("mint.buy.title", {
                                    ns: "ui",
                                    defaultValue: "Mint Item"
                                })
                            }), (0,
                            s.jsxs)("div", {
                                className: nV().item,
                                children: [f && (0,
                                s.jsx)(nZ, {
                                    url: f,
                                    size: {
                                        width: 96,
                                        height: 96
                                    }
                                }), (0,
                                s.jsx)("span", {
                                    children: x
                                })]
                            }), (0,
                            s.jsx)("div", {
                                className: u()(nV().props),
                                children: (0,
                                s.jsxs)("div", {
                                    className: nV().prop,
                                    children: [(0,
                                    s.jsx)("div", {
                                        style: {
                                            fontFamily: "Arial",
                                            fontWeight: 600
                                        },
                                        children: " Cost per Item"
                                    }), (0,
                                    s.jsx)("div", {
                                        className: nV().itemName,
                                        style: {
                                            fontWeight: 400
                                        },
                                        children: (0,
                                        s.jsx)(S.Z, {
                                            title: l.mintCostPerUnit + " " + p((0,
                                            b.sA)("currency.".concat(l.mintCurrency)), {
                                                ns: "game"
                                            }),
                                            children: (0,
                                            s.jsx)(O, {
                                                currency: v,
                                                balance: l.mintCostPerUnit
                                            })
                                        })
                                    })]
                                })
                            }), (0,
                            s.jsx)("div", {
                                className: u()(nV().listings, y().scrollArea),
                                children: (0,
                                s.jsxs)("div", {
                                    className: u()(nV().listing, nV().current),
                                    children: [(0,
                                    s.jsx)("div", {
                                        className: nV().prop,
                                        children: (0,
                                        s.jsxs)("div", {
                                            style: {
                                                fontFamily: "Arial",
                                                fontSize: 12
                                            },
                                            children: [a.ugc.mintCount || 0, "/", l.maxCount || "∞", " Minted"]
                                        })
                                    }), l.minCount && (0,
                                    s.jsx)("div", {
                                        className: nV().prop,
                                        children: (0,
                                        s.jsxs)("div", {
                                            style: {
                                                fontFamily: "Arial",
                                                fontSize: 12
                                            },
                                            children: [" ", "Mint at least ", l.minCount, " items at a time"]
                                        })
                                    }), (0,
                                    s.jsx)("span", {
                                        children: p("marketplace.itemListings.confirmmint", {
                                            ns: "ui",
                                            defaultValue: "Confirm Mint"
                                        })
                                    }), (0,
                                    s.jsxs)("div", {
                                        className: nV().amount,
                                        children: [(0,
                                        s.jsx)("span", {
                                            children: p("marketplace.itemListings.adjustmint", {
                                                ns: "ui",
                                                defaultValue: "Quantity"
                                            })
                                        }), (0,
                                        s.jsx)("input", {
                                            value: c,
                                            className: nV().buyQuantity,
                                            onChange: e => {
                                                let t = l.maxCount || 9999999999;
                                                m(Math.min(Math.max(Math.floor(Number(e.target.value)), 0), t))
                                            }
                                            ,
                                            type: "number"
                                        })]
                                    }), (0,
                                    s.jsx)("div", {
                                        className: nV().buttons,
                                        children: (0,
                                        s.jsxs)("button", {
                                            disabled: !c || !!l.minCount && c < l.minCount || !!l.maxCount && c + (null !== (n = null === (t = a.ugc) || void 0 === t ? void 0 : t.mintCount) && void 0 !== n ? n : 0) > l.maxCount,
                                            className: u()(y().pushbutton, nV().buyListing),
                                            onClick: e => {
                                                var t;
                                                t = {
                                                    quantity: c,
                                                    itemId: a.id
                                                },
                                                z.ZP.emitEventNow(z.Yi.MINT_UGC, t),
                                                setTimeout( () => d(), 2500),
                                                e.preventDefault()
                                            }
                                            ,
                                            children: [p("mint.action.yes", {
                                                ns: "ui",
                                                defaultValue: "Mint ".concat(c, " for"),
                                                quantity: c,
                                                price: h
                                            }), (0,
                                            s.jsx)("br", {}), (0,
                                            s.jsx)("img", {
                                                style: {
                                                    height: 18,
                                                    marginRight: 8
                                                },
                                                src: null == v ? void 0 : v.sprite.image
                                            }), (0,
                                            E.xG)(h)]
                                        })
                                    })]
                                })
                            })]
                        })]
                    })]
                })
            })
        }
        ;
        class n3 {
            async fetchPlayerUGC() {
                try {
                    return await this.api.fetchPlayerUGC()
                } catch (e) {
                    return console.log(e),
                    {
                        items: [],
                        templates: []
                    }
                }
            }
            constructor(e) {
                this.api = e
            }
        }
        var n5 = new n3(ed.Z)
          , n6 = () => {
            var e, t;
            let[i,n] = (0,
            r.useState)(!0)
              , [a,l] = (0,
            r.useState)([])
              , [o,d] = (0,
            r.useState)([])
              , c = (0,
            r.useMemo)( () => (0,
            b.xn)(o, "_id"), [o])
              , [m,p] = (0,
            r.useState)(null)
              , v = (null == m ? void 0 : null === (t = m.ugc) || void 0 === t ? void 0 : null === (e = t.template) || void 0 === e ? void 0 : e.toString()) ? c.get(m.ugc.template.toString()) : null
              , {t: h} = (0,
            g.$G)(["ui", "game"])
              , x = async () => {
                n(!0),
                n5.fetchPlayerUGC().then(e => {
                    l(e.items),
                    d(e.templates)
                }
                ).finally( () => {
                    n(!1)
                }
                )
            }
            ;
            return (0,
            r.useEffect)( () => {
                x()
            }
            , []),
            (0,
            s.jsxs)("div", {
                children: [(0,
                s.jsx)("p", {
                    style: {
                        margin: 24,
                        fontSize: 11
                    },
                    children: "Want to mint your own decorations into the Pixels Universe?"
                }), (0,
                s.jsx)("div", {
                    style: {
                        display: "grid",
                        placeItems: "center",
                        marginBottom: 16
                    },
                    children: (0,
                    s.jsx)("button", {
                        className: y().pushbutton,
                        onClick: () => window.location.href = "https://dashboard.pixels.xyz/create",
                        children: "Submit A Custom Decoration"
                    })
                }), (0,
                s.jsxs)("div", {
                    className: u()(nY().listings, y().scrollArea),
                    children: [m && (0,
                    s.jsx)(n2, {
                        item: m,
                        template: v,
                        onClose: () => p(null),
                        fetchItems: x
                    }), i ? (0,
                    s.jsx)(et, {}) : (0,
                    s.jsx)("div", {
                        style: {
                            height: "calc(100vh - 450px)"
                        },
                        children: a.map(e => {
                            let t = c.get(e.ugc.template);
                            if (!t)
                                return;
                            let i = C.Z.getGameCurrency(t.mintCurrency);
                            return (0,
                            s.jsxs)("div", {
                                className: nY().listing,
                                children: [(0,
                                s.jsx)("img", {
                                    crossOrigin: "anonymous",
                                    src: (0,
                                    E.b7)(e.image),
                                    className: nY().itemImage,
                                    style: {
                                        marginRight: 12
                                    }
                                }), (0,
                                s.jsx)("div", {
                                    className: nY().listingName,
                                    children: h((0,
                                    b.sA)(e.id), {
                                        ns: "game"
                                    })
                                }), (0,
                                s.jsx)("div", {
                                    className: nY().listingName,
                                    style: {
                                        fontWeight: 400
                                    },
                                    children: (0,
                                    s.jsx)(S.Z, {
                                        title: (0,
                                        E.xG)(t.mintCostPerUnit, i) + " " + h((0,
                                        b.sA)("currency.".concat(t.mintCurrency)), {
                                            ns: "game"
                                        }),
                                        children: (0,
                                        s.jsxs)("div", {
                                            children: [(0,
                                            s.jsx)("img", {
                                                className: nY().itemImage,
                                                src: null == i ? void 0 : i.sprite.image
                                            }), (0,
                                            E.xG)(t.mintCostPerUnit, i)]
                                        })
                                    })
                                }), (0,
                                s.jsxs)("div", {
                                    className: nY().listingName,
                                    style: {
                                        fontWeight: 400
                                    },
                                    children: [(0,
                                    E.xG)(e.ugc.mintCount || 0, i), t.maxCount ? (0,
                                    E.uf)(t.maxCount) : "∞", " Minted"]
                                }), (0,
                                s.jsx)("button", {
                                    className: u()(y().pushbutton, nY().viewListings),
                                    onClick: () => {
                                        p(e)
                                    }
                                    ,
                                    children: h("mint", "Mint")
                                })]
                            }, e.id)
                        }
                        )
                    })]
                })]
            })
        }
        ;
        let n4 = e => {
            var t, i, n;
            let {listing: a, loading: l, claimOrRemoveListing: r} = e
              , o = C.Z.getGameItem(a.item)
              , {t: d} = (0,
            g.$G)(["ui", "game"])
              , c = (null == o ? void 0 : o.id) ? d((0,
            b.sA)(o.id), {
                ns: "game"
            }) : d("itemLocked.name", {
                ns: "game",
                defaultValue: "Locked"
            })
              , m = (0,
            Z.j)(null !== (i = null == o ? void 0 : o.image) && void 0 !== i ? i : (0,
            E.Uk)("/game/ui/store_item_lock.png"))
              , p = C.Z.getGameCurrency(a.currency)
              , v = (0,
            E.xG)((0,
            E.KG)(Math.max(0, a.fee), p), p)
              , h = null == o ? void 0 : o.tier
              , x = (0,
            Z.j)(null !== (n = null == p ? void 0 : null === (t = p.sprite) || void 0 === t ? void 0 : t.image) && void 0 !== n ? n : (0,
            E.Uk)("/game/ui/coin.png"));
            return (0,
            s.jsxs)("div", {
                className: nY().listing,
                children: [(0,
                s.jsxs)("div", {
                    className: nY().listingName,
                    children: [!!h && (0,
                    s.jsx)("div", {
                        className: nY().listingTier,
                        children: (0,
                        b.Qb)(h)
                    }), (0,
                    s.jsx)("img", {
                        crossOrigin: "anonymous",
                        src: m
                    }), (0,
                    s.jsx)("span", {
                        children: c
                    })]
                }), (0,
                s.jsx)("div", {
                    className: nY().listingQuantity,
                    children: a.claim || a.quantity
                }), (0,
                s.jsxs)("div", {
                    className: nY().listingPrice,
                    children: [(0,
                    s.jsx)("img", {
                        className: y()["coin-icon"],
                        src: x
                    }), (0,
                    s.jsx)("span", {
                        children: (0,
                        E.xG)(a.price, p)
                    })]
                }), (0,
                s.jsxs)("div", {
                    className: nY().listingFee,
                    title: d("marketplace.listing.fee", {
                        ns: "ui",
                        defaultValue: "Fee may vary due to rounding based on how many are sold in each transaction"
                    }),
                    children: [(0,
                    s.jsx)("img", {
                        className: y()["coin-icon"],
                        src: x
                    }), v]
                }), (0,
                s.jsx)("button", {
                    className: u()(y().pushbutton, nY().remove),
                    disabled: !o || l,
                    onClick: () => r(a.id),
                    children: a.claim ? d("marketplace.listings.claim", {
                        ns: "ui",
                        defaultValue: "Claim"
                    }) : d("marketplace.listings.remove", {
                        ns: "ui",
                        defaultValue: "Remove"
                    })
                })]
            }, a.id)
        }
          , n8 = () => {
            let {t: e} = (0,
            g.$G)(["ui", "game"])
              , t = (0,
            m.T)()
              , i = (0,
            m.C)(nG.u4)
              , [n,a] = r.useState([])
              , [l,o] = r.useState(!1);
            r.useEffect( () => {
                o(!0);
                let e = !0;
                return ed.Z.fetchMarketplaceListingsForPlayer(K.l.getInstance().currentPlayer.core.mid).then(t => e && a(t.listings.map(e => {
                    var t, i;
                    return {
                        id: e._id,
                        item: e.itemId,
                        price: e.price,
                        currency: e.currency,
                        fee: e.price * e.quantity * (null !== (t = e.fee) && void 0 !== t ? t : 0) - (null !== (i = e.feeCollected) && void 0 !== i ? i : 0),
                        quantity: e.quantity - e.purchasedQuantity,
                        claim: e.purchasedQuantity - e.claimedQuantity,
                        createdAt: e.createdAt
                    }
                }
                ).sort( (e, t) => t.claim - e.claim || t.createdAt - e.createdAt)), t => e && console.error(t)).finally( () => e && o(!1)),
                () => {
                    e = !1
                }
            }
            , [i]);
            let[d] = (0,
            _.KO)(iR.wm);
            r.useEffect( () => {
                (null == d ? void 0 : d.source) === "error" && t((0,
                nG.Ue)())
            }
            , [d]);
            let c = r.useCallback(e => {
                let t = n.find(t => t.id === e);
                t && (nU({
                    subcommand: "claim",
                    listingId: e
                }),
                t.claim && t.quantity ? t.claim && a(n.map(e => e === t ? {
                    ...e,
                    claim: 0
                } : e)) : a(n.filter(e => e !== t)))
            }
            , [n]);
            return (0,
            s.jsxs)("div", {
                className: u()(nY().listings, y().scrollArea),
                children: [(0,
                s.jsxs)("div", {
                    className: u()(nY().listing, nY().header),
                    children: [(0,
                    s.jsx)("div", {
                        className: nY().listingName,
                        children: e("marketplace.listings.header.name", {
                            ns: "ui",
                            defaultValue: "Item"
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: nY().listingQuantity,
                        children: e("marketplace.listings.header.quantity", {
                            ns: "ui",
                            defaultValue: "Quantity"
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: nY().listingPrice,
                        children: e("marketplace.listings.header.price", {
                            ns: "ui",
                            defaultValue: "Price"
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: nY().listingFee,
                        children: e("marketplace.listings.header.fee", {
                            ns: "ui",
                            defaultValue: "Est. Fee"
                        })
                    }), (0,
                    s.jsx)("div", {
                        style: {
                            width: 100
                        }
                    })]
                }), n.map(e => (0,
                s.jsx)(n4, {
                    listing: e,
                    loading: l,
                    claimOrRemoveListing: c
                })), l && (0,
                s.jsx)(et, {})]
            })
        }
          , n9 = e => {
            let {onItemCreated: t} = e
              , {t: i} = (0,
            g.$G)(["ui", "game"])
              , n = (0,
            m.C)(p.lA)
              , a = K.l.getInstance()
              , l = n && n.core.trustScore > a.marketPlaceSellLimit
              , o = r.useMemo( () => {
                let e = null == n ? void 0 : n.full.inventory.slots;
                return e ? Array.from(Object.values(e).reduce( (e, t) => {
                    var i;
                    let n = (null === (i = e.get(t.item)) || void 0 === i ? void 0 : i.quantity) || 0;
                    return e.set(t.item, {
                        quantity: n + t.quantity
                    }),
                    e
                }
                , new Map).entries()).map(e => {
                    let[t,i] = e
                      , n = C.Z.getGameItem(t);
                    return {
                        id: t,
                        item: n,
                        ...i
                    }
                }
                ).filter(e => {
                    var t, i, n;
                    return (null === (t = e.item) || void 0 === t ? void 0 : t.image) && !(null === (n = e.item) || void 0 === n ? void 0 : null === (i = n.trade) || void 0 === i ? void 0 : i.disableTrading)
                }
                ) : []
            }
            , [n])
              , [d,c] = r.useState(void 0);
            return (0,
            s.jsxs)("div", {
                className: u()(nY().listings, y().scrollArea),
                children: [(0,
                s.jsxs)("div", {
                    className: u()(nY().listing, nY().header),
                    children: [(0,
                    s.jsx)("div", {
                        className: u()(nY().listingName, nY().itemName),
                        children: i("marketplace.listings.header.name", {
                            ns: "ui",
                            defaultValue: "Item"
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: nY().listingQuantity,
                        children: i("marketplace.listings.header.quantity", {
                            ns: "ui",
                            defaultValue: "Quantity"
                        })
                    }), (0,
                    s.jsx)("div", {
                        style: {
                            width: 100
                        }
                    })]
                }), o.map(e => {
                    let {id: t, quantity: n, item: a} = e
                      , l = i((0,
                    b.sA)(t), {
                        ns: "game"
                    })
                      , r = (0,
                    E.b7)(null == a ? void 0 : a.image)
                      , o = null == a ? void 0 : a.tier;
                    return (0,
                    s.jsxs)("div", {
                        className: nY().listing,
                        children: [(0,
                        s.jsxs)("div", {
                            className: u()(nY().listingName, nY().itemName),
                            children: [!!o && (0,
                            s.jsx)("div", {
                                className: nY().listingTier,
                                children: (0,
                                b.Qb)(o)
                            }), (0,
                            s.jsx)("img", {
                                crossOrigin: "anonymous",
                                src: r
                            }), (0,
                            s.jsx)("span", {
                                children: l
                            })]
                        }), (0,
                        s.jsx)("div", {
                            className: nY().listingQuantity,
                            children: n
                        }), (0,
                        s.jsx)("button", {
                            className: u()(y().pushbutton, nY().remove),
                            disabled: !a,
                            onClick: () => c(t),
                            children: i("marketplace.listings.add", {
                                ns: "ui",
                                defaultValue: "Add"
                            })
                        })]
                    }, t)
                }
                ), d && l && (0,
                s.jsx)(n1, {
                    item: d,
                    onClose: e => {
                        c(void 0),
                        "create" === e && t()
                    }
                }), d && !l && (0,
                s.jsx)(n0, {
                    onClose: () => {
                        c(void 0)
                    }
                })]
            })
        }
          , n7 = () => {
            let e = (0,
            m.T)()
              , {t} = (0,
            g.$G)(["ui", "game"])
              , i = r.useMemo( () => [{
                id: "current",
                caption: t("marketplace.listings.tab.current", "Current")
            }, {
                id: "create",
                caption: t("marketplace.listings.tab.create", "Create")
            }, {
                id: "ugc",
                caption: t("marketplace.listings.tab.mintUgc", "Custom Decorations")
            }], [t])
              , [n,a] = r.useState("current");
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: t => {
                        "Escape" === t.key && e((0,
                        nG.eo)())
                    }
                }), (0,
                s.jsxs)("div", {
                    className: u()(y().uikit, y().frame, y().purpleinset, y().center, nY().container, nY().listings),
                    children: [(0,
                    s.jsx)("h1", {
                        children: t("marketplace.listings.title", {
                            ns: "ui",
                            defaultValue: "Marketplace Listings"
                        })
                    }), (0,
                    s.jsx)("button", {
                        className: y().closeBtn,
                        type: "button",
                        onClick: t => {
                            t.preventDefault(),
                            e((0,
                            nG.eo)())
                        }
                        ,
                        children: "\xa0"
                    }), (0,
                    s.jsx)(nP, {
                        tabs: i,
                        currentTab: n,
                        onSetTab: a
                    }), (0,
                    s.jsxs)("div", {
                        className: nY().content,
                        children: ["current" === n && (0,
                        s.jsx)(n8, {}), "create" === n && (0,
                        s.jsx)(n9, {
                            onItemCreated: () => {
                                setTimeout( () => {
                                    a("current")
                                }
                                , 500)
                            }
                        }), "ugc" === n && (0,
                        s.jsx)(n6, {})]
                    })]
                })]
            })
        }
          , ae = () => (0,
        m.C)(nG.oG) ? (0,
        s.jsx)(n7, {}) : null
          , at = () => {
            var e, t, i;
            let n = (0,
            m.C)(ni.ZP)
              , a = (0,
            m.C)(ni.Ec)
              , [l,o] = (0,
            r.useState)(null)
              , [d,c] = (0,
            r.useState)(a)
              , {t: v} = (0,
            g.$G)(["ui"])
              , h = (0,
            m.T)()
              , x = (0,
            m.C)(p.QV)
              , _ = (0,
            m.C)(p.lA)
              , f = null == _ ? void 0 : _.full.coinInventory
              , j = null === (e = C.Z.getStoreData()) || void 0 === e ? void 0 : e.str_plot
              , b = null == j ? void 0 : j.items.find(e => "itm_usernameChange" === e.item)
              , N = (null == f ? void 0 : null === (t = f.find(e => e.currencyId === (null == b ? void 0 : b.currency))) || void 0 === t ? void 0 : t.balance) || 0
              , k = null !== (i = null == b ? void 0 : b.buyPrice) && void 0 !== i ? i : 0
              , w = k > 0
              , S = !w || N >= k
              , I = b ? C.Z.getGameCurrency(b.currency) : void 0
              , T = "username" === x;
            if ((0,
            r.useEffect)( () => {
                a && c(a)
            }
            , [T, a]),
            (0,
            r.useEffect)( () => {
                n && o(v(n))
            }
            , [n, v]),
            !T)
                return (0,
                s.jsx)(s.Fragment, {});
            let P = e => {
                let t = e.target.value;
                return (t = t.trim()) ? t.length >= 20 ? o(v("onboarding.charlimit", "Max {MAX} chars").replace("{MAX}", "20")) : (0,
                E.zB)(t) ? o(v("onboarding.dirtywords", "No Profanity, Please")) : o("") : o(v("onboarding.required")),
                c(t)
            }
              , M = () => {
                h((0,
                eI.Mr)())
            }
            ;
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && M()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, y().profilewindow),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("h1", {
                            children: v("onboarding.entername", "Enter Your Name")
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: M,
                            children: "\xa0"
                        }), (0,
                        s.jsxs)("div", {
                            className: u()(y().fillflex, y().scrollArea),
                            children: [(0,
                            s.jsx)("br", {}), w ? (0,
                            s.jsxs)("div", {
                                style: {
                                    lineHeight: "2.5em",
                                    textAlign: "center"
                                },
                                children: [v("username.feemessage", "Pixels Court charges a fee to change username:"), (0,
                                s.jsx)(O, {
                                    currency: I,
                                    balance: k,
                                    styles: {
                                        display: "inline-block"
                                    }
                                }), (0,
                                s.jsx)("br", {}), (0,
                                s.jsx)("br", {})]
                            }) : "", (0,
                            s.jsxs)("div", {
                                style: {
                                    marginBottom: "0.6rem",
                                    textAlign: "center"
                                },
                                children: [v("onboarding.enterusername", "Enter Username"), ":", (0,
                                s.jsx)("input", {
                                    name: "username",
                                    autoComplete: "off",
                                    placeholder: v("onboarding.entername", "Enter Your Name"),
                                    style: {
                                        backgroundColor: "#f2f2f0",
                                        zIndex: 5e4
                                    },
                                    className: "pixelFont",
                                    type: "text",
                                    maxLength: 20,
                                    disabled: !S,
                                    defaultValue: d,
                                    onChange: e => P(e)
                                }), (0,
                                s.jsx)("br", {}), l && (0,
                                s.jsx)("div", {
                                    className: y().errorMessage,
                                    children: l
                                })]
                            })]
                        }), (0,
                        s.jsxs)("div", {
                            className: y().flexsingleline,
                            children: [(0,
                            s.jsxs)("button", {
                                onClick: e => {
                                    (e.preventDefault(),
                                    d) ? !(0,
                                    E.zB)(d) && z.ZP.sendEventDelayed(z.Yi.NFT_SELECTED, {
                                        username: d
                                    }) : o(v("onboarding.required"))
                                }
                                ,
                                disabled: !S,
                                type: "button",
                                className: u()(y().pushbutton, y().yellow),
                                style: {
                                    minHeight: 48,
                                    padding: 15
                                },
                                children: [v("onboarding.update", "Update"), " ", w && (0,
                                s.jsx)(O, {
                                    currency: I,
                                    balance: k,
                                    styles: {
                                        display: "inline-block"
                                    }
                                })]
                            }), (0,
                            s.jsx)("div", {
                                className: y().fillflex,
                                children: (0,
                                s.jsx)(e5, {})
                            })]
                        })]
                    })
                })]
            })
        }
        ;
        var ai = i(357)
          , an = i.n(ai);
        let aa = e => {
            let {onEscape: t, modal: i, children: n} = e;
            return i ? (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && t()
                    }
                }), n]
            }) : (0,
            s.jsx)(s.Fragment, {
                children: n
            })
        }
          , al = () => {
            var e, t, i, n;
            let a = (0,
            m.T)()
              , l = (0,
            m.C)(tP.OH)
              , o = !!(l.isVisible && l.url)
              , d = (0,
            m.C)(p.lA)
              , [c,v] = (0,
            r.useState)(!1)
              , [h,x] = (0,
            r.useState)({
                x: 0,
                y: 0
            })
              , [g,_] = (0,
            r.useState)({
                w: 0,
                h: 0,
                scale: 1
            })
              , f = (0,
            m.C)(tP.rg)
              , [j,b] = (0,
            r.useState)(null != f ? f : {
                width: 800,
                height: 600
            })
              , N = (0,
            r.useRef)(null)
              , k = () => {
                a((0,
                tP.wR)())
            }
              , C = l.url;
            if (null == C ? void 0 : C.includes("%eth%")) {
                let e = null == d ? void 0 : null === (i = d.full.cryptoWallets.find(e => "eth" === e.type)) || void 0 === i ? void 0 : i.address;
                C = C.replace("%eth%", null != e ? e : "")
            }
            (null == C ? void 0 : C.includes("%username%")) && (C = C.replace("%username%", encodeURIComponent(null !== (n = null == d ? void 0 : d.core.username) && void 0 !== n ? n : "")));
            let w = e => {
                if (!c) {
                    let t = e.currentTarget.getBoundingClientRect()
                      , i = t.width
                      , n = t.height;
                    _({
                        w: i,
                        h: n,
                        scale: 3
                    });
                    let a = i / 2
                      , l = n / 2
                      , s = e.clientX - t.left - a
                      , r = e.clientY - t.top - l;
                    s > 0 && (a - s) * 3 < a && (s = a - a / 3),
                    r > 0 && (l - r) * 3 < l && (r = l - l / 3),
                    s < 0 && (a + s) * 3 < a && (s = a / 3 - a),
                    r < 0 && (l + r) * 3 < l && (r = l / 3 - l),
                    x({
                        x: s,
                        y: r
                    })
                }
                v(!c)
            }
            ;
            function S(e) {
                var t;
                "string" == typeof (null == e ? void 0 : null === (t = e.data) || void 0 === t ? void 0 : t.url) && z.ZP.emitEventNow(z.fb.LINK_OPEN, {
                    link: e.data.url
                })
            }
            return (0,
            r.useEffect)( () => {
                if (o && l.isIframe)
                    return window.addEventListener("message", S, !1),
                    () => {
                        window.removeEventListener("message", S)
                    }
            }
            , [o, l.isIframe]),
            (0,
            r.useEffect)( () => {
                var e, t;
                let i = 0
                  , n = N.current
                  , a = null !== (e = null == f ? void 0 : f.width) && void 0 !== e ? e : 800
                  , l = null !== (t = null == f ? void 0 : f.height) && void 0 !== t ? t : 600;
                if (l > 800 && (l *= .8),
                a > 1e3 && (a *= .8),
                !n) {
                    (a != j.width || l != j.height) && b({
                        width: a,
                        height: l
                    });
                    return
                }
                if (0 === n.naturalWidth) {
                    n.onload = () => {
                        b({
                            width: a,
                            height: l
                        })
                    }
                    ;
                    return
                }
                let s = Math.min(a / n.naturalWidth, l / n.naturalHeight);
                if (a = n.naturalWidth * s,
                l = n.naturalHeight * s,
                (a != j.width || l != j.height) && b({
                    width: a,
                    height: l
                }),
                c) {
                    let e = !1
                      , t = 0
                      , a = 0
                      , l = h.x
                      , s = h.y
                      , r = n => {
                        let l = Date.now();
                        l - i < 400 ? (e = !1,
                        v(!1)) : c && (e = !0,
                        t = n.clientX,
                        a = n.clientY,
                        n.target.setPointerCapture(n.pointerId)),
                        i = l,
                        n.stopPropagation()
                    }
                      , o = t => {
                        c && e && (d(t),
                        e = !1),
                        t.target.hasPointerCapture(t.pointerId) && t.target.releasePointerCapture(t.pointerId)
                    }
                      , d = i => {
                        if (c && e) {
                            let e = i.clientX - t
                              , n = i.clientY - a;
                            t = i.clientX,
                            a = i.clientY;
                            let r = l - e / g.scale
                              , o = s - n / g.scale
                              , d = g.w / 2
                              , c = g.h / 2
                              , u = g.scale;
                            r > 0 && (d - r) * u < d && (r = d - d / u),
                            o > 0 && (c - o) * u < c && (o = c - c / u),
                            r < 0 && (d + r) * u < d && (r = d / u - d),
                            o < 0 && (c + o) * u < c && (o = c / u - c),
                            l = r,
                            s = o,
                            x({
                                x: r,
                                y: o
                            })
                        }
                    }
                    ;
                    return n.addEventListener("pointermove", d),
                    n.addEventListener("pointerdown", r),
                    n.addEventListener("pointerup", o),
                    () => {
                        n.removeEventListener("pointermove", d),
                        n.removeEventListener("pointerdown", r),
                        n.removeEventListener("pointerup", o)
                    }
                }
                {
                    let e = e => {
                        let t = e.timeStamp;
                        t - i < 400 && w(e),
                        i = t,
                        e.stopPropagation()
                    }
                    ;
                    return n.addEventListener("pointerdown", e),
                    () => {
                        n.removeEventListener("pointerdown", e)
                    }
                }
            }
            , [c, o, null == f ? void 0 : f.width, null == f ? void 0 : f.height, null === (e = N.current) || void 0 === e ? void 0 : e.naturalWidth, null === (t = N.current) || void 0 === t ? void 0 : t.naturalHeight]),
            (0,
            s.jsx)(s.Fragment, {
                children: o && (0,
                s.jsx)(aa, {
                    modal: !l.modeless,
                    onEscape: k,
                    children: (0,
                    s.jsxs)("div", {
                        style: l.modeless ? {} : {
                            width: j.width,
                            height: j.height
                        },
                        className: u()(y().uikit, y().frame, y().noborder, {
                            [an().modalframe]: !l.modeless,
                            [an().vertical]: l.vertical,
                            [y().center]: !l.modeless,
                            [y().topcenter]: l.modeless,
                            [an().modelessframe]: l.modeless
                        }),
                        children: [!l.modeless && (0,
                        s.jsx)("button", {
                            type: "button",
                            className: u()(y().closeBtn),
                            style: {
                                zIndex: 10
                            },
                            onClick: e => {
                                e.preventDefault(),
                                k()
                            }
                        }), l.isIframe ? (0,
                        s.jsx)("iframe", {
                            src: (0,
                            E.Fp)((0,
                            E.b7)(C, !1)),
                            className: an().innerframe,
                            allow: "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",
                            allowFullScreen: !!l.modeless,
                            sandbox: "allow-scripts allow-forms allow-same-origin"
                        }) : c ? (0,
                        s.jsx)("img", {
                            draggable: !1,
                            ref: N,
                            src: (0,
                            E.b7)(C),
                            className: an().zoomimage,
                            style: {
                                transform: "scale(".concat(g.scale, ") translate3d(").concat(-1 * h.x, "px, ").concat(-1 * h.y, "px, 0)")
                            }
                        }) : (0,
                        s.jsx)("img", {
                            draggable: !1,
                            ref: N,
                            src: (0,
                            E.b7)(C),
                            className: an().modalimage
                        })]
                    })
                })
            })
        }
        ;
        var as = i(98500)
          , ar = i(67345)
          , ao = i.n(ar);
        let ad = e => {
            let {value: t, onChange: i} = e;
            return (0,
            s.jsx)("div", {
                className: ao().slider,
                children: (0,
                s.jsx)("input", {
                    type: "range",
                    min: 0,
                    max: 100,
                    value: Math.min(100, Math.floor(100 * t)),
                    onChange: e => i(Number(e.target.value) / 100)
                })
            })
        }
          , ac = e => {
            let {soundControlKey: t} = e
              , {t: i} = (0,
            g.$G)("ui")
              , {volume: n} = (0,
            m.C)(p.Kx)[t];
            return (0,
            s.jsxs)("div", {
                className: ao().setting,
                children: [(0,
                s.jsx)("div", {
                    className: ao().name,
                    children: i("settings.volume.".concat(t), (0,
                    b.je)(t))
                }), (0,
                s.jsx)(ad, {
                    value: n,
                    onChange: e => (0,
                    z.D9)({
                        soundControlKey: t,
                        volume: e
                    })
                })]
            })
        }
          , au = () => {
            let {t: e} = (0,
            g.$G)("ui")
              , {enabled: t} = (0,
            m.C)(p.pR);
            return (0,
            s.jsxs)("div", {
                className: ao().setting,
                children: [(0,
                s.jsx)("div", {
                    className: ao().name,
                    children: e("settings.sectionName.enhanced", "Enhanced (App will reload)")
                }), (0,
                s.jsx)("span", {
                    style: {
                        marginTop: -8
                    },
                    children: (0,
                    s.jsx)(as.Z, {
                        checked: t,
                        onChange: () => (0,
                        z.d6)({
                            enabled: !t
                        }),
                        inputProps: {
                            "aria-label": "controlled"
                        },
                        className: y().colorGreen
                    })
                })]
            })
        }
          , am = () => {
            let {t: e} = (0,
            g.$G)("ui")
              , {enabled: t} = (0,
            m.C)(p.b_);
            return K.l.getInstance().hasJoystick() ? (0,
            s.jsxs)("div", {
                className: ao().setting,
                children: [(0,
                s.jsx)("div", {
                    className: ao().name,
                    children: e("settings.sectionName.joystick", "Joystick")
                }), (0,
                s.jsx)("span", {
                    style: {
                        marginTop: -8
                    },
                    children: (0,
                    s.jsx)(as.Z, {
                        checked: t,
                        onChange: () => (0,
                        z.lY)({
                            enabled: !t
                        }),
                        inputProps: {
                            "aria-label": "controlled"
                        },
                        className: y().colorGreen
                    })
                })]
            }) : null
        }
          , ap = () => {
            let {t: e} = (0,
            g.$G)("ui")
              , t = !1 !== (0,
            m.C)(p.Kx).global.mute;
            return (0,
            s.jsxs)("div", {
                className: ao().setting,
                children: [(0,
                s.jsx)("div", {
                    className: ao().name,
                    children: e("settings.mute", "Sound")
                }), (0,
                s.jsx)("span", {
                    style: {
                        marginTop: -8
                    },
                    children: (0,
                    s.jsx)(as.Z, {
                        checked: !t,
                        onChange: () => (0,
                        z.D9)({
                            soundControlKey: "global",
                            mute: !t
                        }),
                        inputProps: {
                            "aria-label": "controlled"
                        },
                        className: y().colorGreen
                    })
                })]
            })
        }
          , av = () => {
            let {t: e} = (0,
            g.$G)("ui")
              , t = !1 !== (0,
            m.C)(p.Kx).music.mute;
            return (0,
            s.jsxs)("div", {
                className: ao().setting,
                children: [(0,
                s.jsx)("div", {
                    className: ao().name,
                    children: e("settings.music", "Music")
                }), (0,
                s.jsx)("span", {
                    style: {
                        marginTop: -8
                    },
                    children: (0,
                    s.jsx)(as.Z, {
                        checked: !t,
                        onChange: () => (0,
                        z.D9)({
                            soundControlKey: "music",
                            mute: !t
                        }),
                        inputProps: {
                            "aria-label": "controlled"
                        },
                        className: y().colorGreen
                    })
                })]
            })
        }
          , ah = () => {
            let {t: e} = (0,
            g.$G)("ui")
              , t = (0,
            m.T)()
              , i = () => t((0,
            eI.E3)());
            return (0,
            s.jsxs)("div", {
                className: ao().container,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => "Escape" === e.key && i()
                }), (0,
                s.jsxs)("div", {
                    className: u()(y().uikit, y().frame, y().orangeinset, ao().box),
                    children: [(0,
                    s.jsx)("div", {
                        className: ao().title,
                        children: e("settings.title", "Settings")
                    }), (0,
                    s.jsx)("button", {
                        type: "button",
                        className: y().closeBtn,
                        onClick: i
                    }), (0,
                    s.jsx)("div", {
                        className: ao().section,
                        children: e("settings.sectionName.sound", "Audio")
                    }), (0,
                    s.jsx)(ac, {
                        soundControlKey: "global"
                    }), (0,
                    s.jsx)(ap, {}), (0,
                    s.jsx)(av, {}), (0,
                    s.jsx)("div", {
                        className: ao().section,
                        children: e("settings.sectionName.graphics", "Graphics")
                    }), (0,
                    s.jsx)(au, {}), (0,
                    s.jsx)(am, {})]
                })]
            })
        }
        ;
        var ax = i(65356)
          , ag = i.n(ax);
        let a_ = () => {
            let {t: e} = (0,
            g.$G)("ui")
              , [t,i] = (0,
            r.useState)(!1);
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {}), (0,
                s.jsxs)("div", {
                    className: u()(y().uikit, y().frame, y().purpleinset, y().center, ag().container),
                    children: [(0,
                    s.jsx)("h1", {
                        children: e("termsOfService.title", "Terms of Service")
                    }), (0,
                    s.jsx)("iframe", {
                        src: "https://www.pixels.xyz/rules-guidelines-text",
                        className: u()(ag().content, y().scrollArea),
                        sandbox: "allow-scripts allow-forms"
                    }), (0,
                    s.jsxs)("div", {
                        className: ag().buttons,
                        children: [(0,
                        s.jsxs)("label", {
                            className: "clickable",
                            style: {
                                paddingTop: 6
                            },
                            children: [(0,
                            s.jsx)("input", {
                                style: {
                                    width: 20,
                                    height: 20
                                },
                                type: "checkbox",
                                checked: t,
                                onChange: e => i(e.target.checked)
                            }), "\xa0", e("termsOfService.checkbox.accept", "I understand and agree to the Terms of Service.")]
                        }), (0,
                        s.jsx)("button", {
                            className: y().pushbutton,
                            type: "button",
                            disabled: !t,
                            onClick: () => z.ZP.emitEventNow(z.fb.SET_TOS_ACCEPTED, {}),
                            children: e("termsOfService.button.accept", "Accept")
                        })]
                    })]
                })]
            })
        }
          , af = () => {
            var e;
            let t = (0,
            m.C)(p.lA);
            return !t || t.core.isGuest ? null : (null !== (e = t.full.tosVersion) && void 0 !== e ? e : 0) >= iW.sV ? null : (0,
            s.jsx)(a_, {})
        }
        ;
        var aj = i(51825)
          , ay = i.n(aj);
        let ab = !1
          , aN = () => {
            var e, t, i, n;
            let a = (0,
            r.useRef)(null)
              , l = (0,
            r.useRef)(null)
              , o = (0,
            m.C)(na.B6)
              , d = (0,
            m.C)(na.xM)
              , c = (0,
            eB.Zm)()
              , u = -1 !== d.slot
              , p = o && d.placeable
              , v = matchMedia("(hover: none)").matches;
            r.useEffect( () => {
                let e = e => {
                    l.current && (v ? (l.current.style.transform = "none",
                    l.current.style.bottom = "".concat(58 * c, "px")) : l.current.style.transform = "translate3d(".concat(e.clientX + 20, "px,").concat(e.clientY - 20, "px,0)"),
                    l.current.style.width = "".concat(32 * c, "px")),
                    l.current && u && (l.current.style.opacity = v || ab || !p ? "100%" : "0%")
                }
                ;
                return a.current && (a.current.style.transform = "scale3d(".concat(c, ", ").concat(c, ", 1)")),
                l.current && u && (l.current.style.opacity = v || ab || !p ? "100%" : "0%"),
                window.addEventListener("mousemove", e),
                () => {
                    window.removeEventListener("mousemove", e)
                }
            }
            , [c, p, u]);
            let h = (null == o ? void 0 : o.image) && (B.Z.preloadedBlob(o.image) || (0,
            E.b7)(o.image));
            return (0,
            s.jsx)("div", {
                ref: l,
                className: ay().selectedItem,
                children: u && (0,
                s.jsxs)(s.Fragment, {
                    children: [(0,
                    s.jsx)("div", {
                        className: ay().selectedClip,
                        ref: a,
                        style: {
                            transformOrigin: "left bottom",
                            transform: "scale3d(".concat(c, ", ").concat(c, ", 1)"),
                            visibility: "visible"
                        },
                        children: (0,
                        s.jsx)("img", {
                            className: ay().selectedItemImg,
                            style: {
                                left: -((null !== (n = null === (i = d.invslot) || void 0 === i ? void 0 : null === (t = i.state) || void 0 === t ? void 0 : null === (e = t.displayInfo) || void 0 === e ? void 0 : e.frame) && void 0 !== n ? n : 0) * 32)
                            },
                            crossOrigin: "anonymous",
                            src: h || (0,
                            E.Uk)("/assets/ui/store_item_lock.png")
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: ay().selectedQuantity,
                        children: (null == d ? void 0 : d.quantity) > 1 ? "x".concat(d.quantity) : ""
                    })]
                })
            })
        }
        ;
        var ak = i(31006)
          , aC = i(36500)
          , aw = i.n(aC);
        let aS = e => {
            var t, i;
            let {m: n, name: a} = e
              , l = n.currencyId ? C.Z.getGameCurrency(n.currencyId) : void 0
              , r = (0,
            Z.j)(null !== (i = null == l ? void 0 : null === (t = l.sprite) || void 0 === t ? void 0 : t.image) && void 0 !== i ? i : (0,
            E.Uk)("/game/ui/coin.png"));
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsxs)("span", {
                    style: {
                        marginRight: 8
                    },
                    children: [" ", (0,
                    E.xG)(n.amount, l)]
                }), a, (0,
                s.jsx)("img", {
                    src: r,
                    style: {
                        marginLeft: 8,
                        width: 24
                    }
                })]
            })
        }
          , aI = e => {
            let {m: t, name: i} = e
              , n = t.skillType
              , a = (0,
            Z.R)(n);
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)("img", {
                    src: a,
                    style: {
                        marginRight: 8,
                        width: 24
                    }
                }), (0,
                s.jsxs)("span", {
                    style: {
                        marginRight: 8
                    },
                    children: [t.exp, " EXP • ", i]
                })]
            })
        }
          , aT = e => {
            var t;
            let {m: i, name: n} = e
              , a = i.itemId ? C.Z.getGameItem(i.itemId) : void 0
              , l = (0,
            Z.j)(null !== (t = null == a ? void 0 : a.image) && void 0 !== t ? t : "");
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsxs)("span", {
                    style: {
                        marginRight: 8
                    },
                    children: [" ", i.amount]
                }), n, (0,
                s.jsx)("img", {
                    src: l,
                    style: {
                        marginLeft: 8,
                        width: 24
                    }
                })]
            })
        }
        ;
        var aP = () => {
            let e = (0,
            m.C)(ak.AK)
              , {t} = (0,
            g.$G)(["game"]);
            return (0,
            s.jsx)("div", {
                className: y().scrollArea,
                children: e.mail.map(e => {
                    let i;
                    "coins" === e.kind ? i = "currency.".concat(e.currencyId) : "item" === e.kind ? i = e.itemId : "exp" === e.kind && (i = e.skillType);
                    let n = i && t((0,
                    b.sA)(i), {
                        ns: "game",
                        default: (0,
                        b.je)(i)
                    });
                    return (0,
                    s.jsxs)("div", {
                        className: aw().mailboxItemWrapper,
                        children: [(0,
                        s.jsxs)("div", {
                            className: aw().title,
                            children: [" ", e.title]
                        }), (0,
                        s.jsx)("div", {
                            className: aw().description,
                            children: e.descriptionTemplate ? t(e.descriptionTemplate.id, {
                                defaultValue: e.description,
                                ...e.descriptionTemplate.args
                            }) : e.description
                        }), (0,
                        s.jsx)("div", {
                            className: aw().rewardText,
                            children: "coins" === e.kind ? (0,
                            s.jsx)(aS, {
                                m: e,
                                name: n
                            }) : "item" === e.kind ? (0,
                            s.jsx)(aT, {
                                m: e,
                                name: n
                            }) : "exp" === e.kind && e.skillType ? (0,
                            s.jsx)(aI, {
                                m: e,
                                name: n
                            }) : (0,
                            s.jsx)("div", {})
                        }), ["coins", "item"].includes(e.kind) && (0,
                        s.jsx)("button", {
                            type: "button",
                            className: aw().collectAllButton,
                            onClick: () => {
                                z.ZP.emitEventNow(z.Yi.COLLECT_MAIL_ITEM, {
                                    mailId: e._id,
                                    similar: !0
                                })
                            }
                            ,
                            children: t("collect-similar-mail", {
                                defaultValue: "Collect All {{name}}",
                                name: n
                            })
                        }), (0,
                        s.jsx)("button", {
                            type: "button",
                            className: aw().collectButton,
                            onClick: () => {
                                z.ZP.emitEventNow(z.Yi.COLLECT_MAIL_ITEM, {
                                    mailId: e._id
                                })
                            }
                            ,
                            children: "message" === e.kind ? t("mark-as-read", "Mark As Read") : t("collect-mail", "Collect Mail")
                        })]
                    }, e._id)
                }
                )
            })
        }
          , aM = () => {
            var e;
            let t = (0,
            m.C)(ak.AK)
              , i = (0,
            m.T)()
              , {t: n} = (0,
            g.$G)("ui")
              , a = () => {
                i((0,
                ak.I_)())
            }
            ;
            return (0,
            r.useEffect)( () => {
                t.isVisible && z.ZP.emitEventNow(z.Yi.FETCH_MAIL)
            }
            , [t.isVisible]),
            t.isVisible ? (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        "Escape" === e.key && a()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, aw().container),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("h1", {
                            children: n("mailbox.title", "Mailbox")
                        }), t.isLoading && (0,
                        s.jsx)(es.s5, {}), t.isLoading || (null === (e = t.mail) || void 0 === e ? void 0 : e.length) ? (0,
                        s.jsx)(aP, {}) : (0,
                        s.jsx)("h2", {
                            className: y().center,
                            children: n("mailbox.nomail", "You have no mail at this time.")
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: a,
                            children: "\xa0"
                        })]
                    })
                })]
            }) : (0,
            s.jsx)(s.Fragment, {})
        }
          , aD = i(37109);
        let aE = ["preload", "fading", "intro", "walkon", "applause", "scaledown", "trait1", "trait2", "trait3"]
          , aA = {
            preload: 0,
            fading: 2e3,
            intro: 8e3,
            walkon: 2e3,
            applause: 2e3,
            scaledown: 2e3,
            trait1: 1e3
        }
          , aB = e => {
            var t, i, n, a, l, r, o;
            let {pet: d, className: c} = e;
            return (0,
            s.jsx)("div", {
                className: c,
                children: (0,
                s.jsx)("table", {
                    children: (0,
                    s.jsxs)("tbody", {
                        children: [(0,
                        s.jsxs)("tr", {
                            children: [(0,
                            s.jsx)("td", {
                                children: "Strength"
                            }), (0,
                            s.jsxs)("td", {
                                children: [(0,
                                E.uf)(null !== (a = null === (t = d.traits) || void 0 === t ? void 0 : t.Strength) && void 0 !== a ? a : 0), " / 100"]
                            })]
                        }), (0,
                        s.jsxs)("tr", {
                            children: [(0,
                            s.jsx)("td", {
                                children: "Speed"
                            }), (0,
                            s.jsxs)("td", {
                                children: [(0,
                                E.uf)(null !== (l = null === (i = d.traits) || void 0 === i ? void 0 : i.Speed) && void 0 !== l ? l : 0), " / 100"]
                            })]
                        }), (0,
                        s.jsxs)("tr", {
                            children: [(0,
                            s.jsx)("td", {
                                children: "Luck"
                            }), (0,
                            s.jsxs)("td", {
                                children: [(0,
                                E.uf)(null !== (r = null === (n = d.traits) || void 0 === n ? void 0 : n.Luck) && void 0 !== r ? r : 0), " / 100"]
                            })]
                        }), (0,
                        s.jsxs)("tr", {
                            children: [(0,
                            s.jsx)("td", {
                                children: "Birthday"
                            }), (0,
                            s.jsx)("td", {
                                children: new Date(null !== (o = d.birthday) && void 0 !== o ? o : 0).toLocaleDateString()
                            })]
                        })]
                    })
                })
            })
        }
          , aL = e => {
            let {petId: t} = e
              , i = (0,
            m.T)()
              , {t: n} = (0,
            g.$G)(["ui", "game"])
              , [a,l] = (0,
            r.useState)(null)
              , [o,d] = (0,
            r.useState)("preload")
              , c = aE.indexOf(o)
              , p = () => {
                console.log("moving to stage ".concat(c + 1)),
                d(aE[c + 1])
            }
            ;
            (0,
            r.useEffect)( () => {
                l(null),
                Promise.all([eP.default.loadAudio("snd_petreveal"), eP.default.loadAudio("snd_petreveal2"), eP.default.loadAudio("snd_petrevealloop")]).then( () => {
                    console.log("setting stage to fading"),
                    d("fading")
                }
                ).catch(console.log)
            }
            , [t]),
            (0,
            r.useEffect)( () => {
                let e = aA[o];
                if ("applause" === o && (eP.default.playAudio("snd_petreveal2"),
                eP.default.fadeInAudio("snd_petrevealloop")),
                "fading" === o)
                    setTimeout( () => {
                        eP.default.playAudio("snd_petreveal"),
                        e8.Z.fetchPet(t).then(e => {
                            (null == e ? void 0 : e.avatar) ? (l(e),
                            p()) : d("cancel")
                        }
                        ).catch(e => {
                            console.log("error getting pet", e),
                            d("cancel")
                        }
                        )
                    }
                    , e);
                else if (e > 0) {
                    let t = setTimeout( () => {
                        p()
                    }
                    , e);
                    return () => {
                        clearTimeout(t)
                    }
                }
            }
            , [o]);
            let v = () => {
                eP.default.stopAudio("snd_petrevealloop"),
                i((0,
                eI.zR)({}))
            }
              , h = () => {
                if (a && t) {
                    let e = {
                        tokenId: a.tokenId,
                        avatarId: a.avatar.id
                    };
                    z.ZP.sendEventDelayed(z.Yi.PET_SELECTED, e)
                }
                v()
            }
              , x = 39 * Math.floor(.66 * Math.min(.8 * window.innerHeight, window.innerWidth) / 39);
            return (0,
            s.jsxs)("div", {
                draggable: !1,
                tabIndex: 0,
                className: u()(e7().petreveal),
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        "Escape" === e.key && c >= aE.indexOf("trait1") && v(),
                        e.stopPropagation(),
                        e.preventDefault()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(e7().petbackground, {
                        [e7().intro]: c >= aE.indexOf("intro")
                    }),
                    children: (0,
                    s.jsx)("div", {
                        className: u()(e7().insetbackground, {
                            [e7().preload]: !a
                        }),
                        style: {
                            backgroundImage: a ? (0,
                            aD.p)(a) : ""
                        },
                        children: a && (0,
                        s.jsxs)(s.Fragment, {
                            children: [(0,
                            s.jsx)(eT.z, {
                                className: u()(e7().petpicshadow, {
                                    [e7().walkon]: c >= aE.indexOf("walkon")
                                }),
                                symbol: a.avatar.id,
                                selectedTraits: a.avatar.pieces,
                                height: x,
                                anim: c > aE.indexOf("applause") ? "sit" : "walk"
                            }), (0,
                            s.jsx)(eT.z, {
                                className: u()(e7().petpic, {
                                    [e7().walkon]: c >= aE.indexOf("walkon")
                                }),
                                symbol: a.avatar.id,
                                selectedTraits: a.avatar.pieces,
                                height: x,
                                anim: c > aE.indexOf("applause") ? "sit" : "walk"
                            })]
                        })
                    })
                }), a && c >= aE.indexOf("trait1") && (0,
                s.jsxs)("div", {
                    className: e7().petnamecontainer,
                    children: [(0,
                    s.jsx)("div", {
                        className: e7().petnameoutline,
                        children: a.avatar.name
                    }), (0,
                    s.jsx)("div", {
                        className: e7().petname,
                        children: a.avatar.name
                    })]
                }), c >= aE.indexOf("trait2") && (0,
                s.jsxs)(s.Fragment, {
                    children: [(0,
                    s.jsx)("button", {
                        className: e7().closeBtn,
                        type: "button",
                        onClick: v
                    }), (0,
                    s.jsx)("button", {
                        onClick: e => {
                            e.preventDefault(),
                            e.stopPropagation(),
                            h()
                        }
                        ,
                        type: "button",
                        className: u()(e7().selectPet),
                        children: n("button.selectpet", "Select Pet")
                    })]
                })]
            })
        }
          , aF = e => {
            let {value: t, maxValue: i, image: n, className: a} = e
              , l = Math.min(100, Math.floor(t / i * 100));
            return (0,
            s.jsx)("div", {
                className: a,
                children: (0,
                s.jsx)("img", {
                    src: n,
                    style: {
                        transform: "translate(".concat((l - 100) / 2, "%) scale(").concat(l, "%, 100%)")
                    }
                })
            })
        }
          , aG = e => {
            var t, i, n, a, l, o, d, c, m, p, v, h, x, _, f, j;
            let {pet: N, active: k} = e
              , {t: C} = (0,
            g.$G)(["ui", "game"])
              , [w,S] = (0,
            r.useState)(null !== (i = null == N ? void 0 : null === (t = N.avatar) || void 0 === t ? void 0 : t.name) && void 0 !== i ? i : "")
              , [I,T] = (0,
            r.useState)(!1)
              , [P,M] = (0,
            r.useState)("")
              , D = (0,
            eB.Zm)()
              , A = () => {
                if (k && I) {
                    var e;
                    if (0 === w.trim().length) {
                        M("Pet must have a name");
                        return
                    }
                    if ((0,
                    E.zB)(w)) {
                        M("Pets only like nice names");
                        return
                    }
                    w.trim() !== (null == N ? void 0 : null === (e = N.avatar) || void 0 === e ? void 0 : e.name) && z.ZP.sendEventDelayed(z.Yi.PET_RENAME, {
                        name: w
                    }),
                    T(!1)
                }
            }
            ;
            return N ? "capsule" !== N.stage ? (0,
            s.jsxs)("div", {
                className: u()(e7().petview, y().scrollArea),
                children: [(0,
                s.jsxs)("div", {
                    className: e7().pettoprow,
                    children: [(0,
                    s.jsx)("div", {
                        className: e7().petname,
                        children: P ? (0,
                        s.jsx)("div", {
                            className: e7().error,
                            onClick: () => M(""),
                            children: P
                        }) : I ? (0,
                        s.jsxs)(s.Fragment, {
                            children: [(0,
                            s.jsx)("span", {
                                className: "clickable",
                                onClick: A,
                                children: "\uD83D\uDCBE"
                            }), (0,
                            s.jsx)("input", {
                                value: w,
                                maxLength: 15,
                                onChange: e => S(e.target.value),
                                onKeyDown: e => {
                                    if ("Escape" === e.key) {
                                        var t, i;
                                        S(null !== (i = null == N ? void 0 : null === (t = N.avatar) || void 0 === t ? void 0 : t.name) && void 0 !== i ? i : ""),
                                        T(!1)
                                    } else
                                        "Enter" === e.key && A();
                                    e.stopPropagation()
                                }
                                ,
                                autoFocus: !0,
                                autoCorrect: "off",
                                autoComplete: "off"
                            })]
                        }) : (0,
                        s.jsxs)(s.Fragment, {
                            children: [!1, w]
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: e7().petbackground,
                        style: {
                            backgroundImage: (0,
                            aD.p)(N)
                        },
                        children: (0,
                        s.jsx)(eT.z, {
                            className: e7().petpic,
                            symbol: N.avatar.id,
                            selectedTraits: N.avatar.pieces,
                            height: 106
                        })
                    }), (0,
                    s.jsxs)("div", {
                        className: e7().happiness,
                        children: [(0,
                        s.jsxs)("div", {
                            className: e7().happinesslabel,
                            children: [C("pet.happiness", "Happiness"), " ", (0,
                            E.uf)(N.happiness), "%"]
                        }), (0,
                        s.jsx)(aF, {
                            value: N.happiness,
                            maxValue: 100,
                            image: (0,
                            E.Uk)("/game/ui/hud/hud_bar_energyfull.png"),
                            className: e7().happinessbar
                        }), (0,
                        s.jsxs)("div", {
                            className: e7().petstreaks,
                            children: [(0,
                            s.jsx)("div", {
                                children: C("pet.streaks.food", {
                                    defaultValue: "Fed last {{count}} days",
                                    count: null !== (x = null === (a = N.streaks) || void 0 === a ? void 0 : null === (n = a.food) || void 0 === n ? void 0 : n.current) && void 0 !== x ? x : 0
                                })
                            }), (0,
                            s.jsx)("div", {
                                children: C("pet.streaks.longest", {
                                    defaultValue: "Longest streak {{count}} days",
                                    count: null !== (_ = null === (o = N.streaks) || void 0 === o ? void 0 : null === (l = o.food) || void 0 === l ? void 0 : l.longest) && void 0 !== _ ? _ : 0
                                })
                            }), (0,
                            s.jsx)("div", {
                                children: C("pet.streaks.water", {
                                    defaultValue: "Watered last {{count}} days",
                                    count: null !== (f = null === (c = N.streaks) || void 0 === c ? void 0 : null === (d = c.water) || void 0 === d ? void 0 : d.current) && void 0 !== f ? f : 0
                                })
                            }), (0,
                            s.jsx)("div", {
                                children: C("pet.streaks.longest", {
                                    defaultValue: "Longest streak {{count}} days",
                                    count: null !== (j = null === (p = N.streaks) || void 0 === p ? void 0 : null === (m = p.water) || void 0 === m ? void 0 : m.longest) && void 0 !== j ? j : 0
                                })
                            })]
                        })]
                    })]
                }), (0,
                s.jsx)("div", {
                    title: (0,
                    aD.N)(null === (v = N.scriptInstance) || void 0 === v ? void 0 : v.trackers),
                    className: e7().petstatus,
                    children: (0,
                    b.Kt)(N.scriptInstance)
                }), k && (0,
                s.jsxs)(s.Fragment, {
                    children: [N.happiness < 50 && (0,
                    s.jsx)("div", {
                        className: e7().inventorystatus,
                        children: C("pet.inventorylocked", "Pet must be happier to access inventory.")
                    }), (0,
                    s.jsx)("div", {
                        className: e7().inventory,
                        style: {
                            width: "".concat(100 / D, "%"),
                            position: "relative",
                            minHeight: 40 * Math.ceil((null === (h = N.inventory) || void 0 === h ? void 0 : h.size) / 6) * D,
                            transformOrigin: "center top 0",
                            transform: "scale3d(".concat(D, ", ").concat(D, ", 1)")
                        },
                        children: (0,
                        s.jsx)(no, {
                            mid: N.mid,
                            inventory: N.inventory,
                            maxSlots: 0,
                            disabled: N.happiness < 50
                        })
                    })]
                }), (0,
                s.jsx)(aB, {
                    pet: N,
                    className: e7().traits
                })]
            }) : (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)("img", {
                    className: e7().petpic,
                    src: "".concat(tt.LB, "/v1/pets/image/").concat(N.avatar.id, "/").concat(N.tokenId),
                    height: 128
                }), (0,
                s.jsx)("div", {
                    className: e7().petname,
                    children: N.avatar.name
                })]
            }) : (0,
            s.jsx)(s.Fragment, {
                children: C("pet.notfound", "Pet Not Found")
            })
        }
          , aR = e => {
            let {petId: t} = e
              , i = (0,
            m.T)()
              , {t: n} = (0,
            g.$G)(["ui", "game"])
              , [a,l] = (0,
            r.useState)()
              , [o,d] = (0,
            r.useState)(!0)
              , c = (0,
            m.C)(na.xM);
            (0,
            r.useEffect)( () => {
                let e = K.l.getInstance().currentPlayer;
                if (d(!0),
                l(null),
                t)
                    setTimeout( () => {
                        e8.Z.fetchPet(t).then(e => {
                            (null == e ? void 0 : e.avatar) && l(e),
                            d(!1)
                        }
                        ).catch(e => {
                            console.log("error getting pet", e),
                            d(!1)
                        }
                        )
                    }
                    , 100);
                else {
                    var i;
                    (null == e ? void 0 : null === (i = e.full) || void 0 === i ? void 0 : i.pet) && l(e.full.pet),
                    d(!1)
                }
            }
            , [t]);
            let p = () => {
                if (a && t) {
                    let e = {
                        tokenId: a.tokenId,
                        avatarId: a.avatar.id
                    };
                    z.ZP.sendEventDelayed(z.Yi.PET_SELECTED, e)
                }
                i((0,
                eI.zR)({}))
            }
              , v = () => {
                a && !t && z.ZP.sendEventDelayed(z.Yi.PET_SELECTED, {}),
                i((0,
                na.aq)()),
                i((0,
                eI.zR)({}))
            }
            ;
            return (0,
            s.jsxs)("div", {
                draggable: !1,
                tabIndex: 0,
                className: u()(e7().petdetails, y().uikit, D().inventoryContainer, D().petstorage),
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        "Escape" === e.key && -1 === c.slot && i((0,
                        eI.zR)({})),
                        e.stopPropagation(),
                        e.preventDefault()
                    }
                }), o ? (0,
                s.jsx)(et, {}) : (0,
                s.jsx)(aG, {
                    pet: null != a ? a : null,
                    active: !t
                }), (0,
                s.jsx)("button", {
                    type: "button",
                    className: y().closeBtn,
                    onClick: () => i((0,
                    eI.zR)({})),
                    children: (0,
                    s.jsx)("img", {
                        src: ""
                    })
                }), (0,
                s.jsx)("div", {
                    className: u()(e7().buttonbar, y().uikit),
                    children: t ? (0,
                    s.jsx)("button", {
                        onClick: e => {
                            e.preventDefault(),
                            p()
                        }
                        ,
                        type: "button",
                        className: u()(y().pushbutton, y().yellow),
                        children: n("button.selectpet", "Select Pet")
                    }) : (0,
                    s.jsx)("button", {
                        onClick: e => {
                            e.preventDefault(),
                            v()
                        }
                        ,
                        type: "button",
                        className: u()(y().pushbutton, y().yellow),
                        children: n("button.restpet", "Rest Pet")
                    })
                })]
            })
        }
          , aV = () => {
            let e = (0,
            m.C)(p._i);
            return e.isVisible && !e.firstReveal ? (0,
            s.jsx)(aR, {
                petId: e.mid
            }) : e.isVisible && e.firstReveal && e.mid ? (0,
            s.jsx)(aL, {
                petId: e.mid
            }) : null
        }
          , aZ = () => {
            var e, t, i, n;
            let a = (0,
            m.T)()
              , l = (0,
            m.C)(tP.JR)
              , {t: o} = (0,
            g.$G)(["ui"])
              , d = r.useRef(null)
              , c = !!(l.isVisible && l.mid_portal);
            (0,
            r.useEffect)( () => {
                if (c) {
                    var e, t;
                    null === (e = d.current) || void 0 === e || e.select(),
                    null === (t = d.current) || void 0 === t || t.focus()
                }
            }
            , [c]);
            let p = e => {
                null == e || e.preventDefault(),
                a((0,
                tP.aP)())
            }
              , v = l.mid_portal && K.l.getInstance().getEntityByUniqueId(l.mid_portal)
              , h = null !== (i = null === (e = l.config) || void 0 === e ? void 0 : e[1]) && void 0 !== i ? i : "setup"
              , x = e => {
                var t;
                null == e || e.preventDefault();
                let i = null === (t = d.current) || void 0 === t ? void 0 : t.value;
                v && (z.ZP.emitEventNow(te.mY.clickEntity, {
                    mid: l.mid_portal,
                    impact: h,
                    entity: v.entity,
                    inputs: [null != i ? i : ""]
                }),
                a((0,
                tP.aP)()))
            }
              , _ = e => {
                e.stopPropagation(),
                "Enter" === e.key ? x() : "Escape" === e.key && p()
            }
              , f = o("save", "Save")
              , j = o("cancel", "Cancel")
              , b = !0;
            return "yesno" === (null === (t = l.config) || void 0 === t ? void 0 : t[0]) && (f = o("yes", "Yes"),
            j = o("no", "No"),
            b = !1),
            (0,
            s.jsx)(s.Fragment, {
                children: c && (0,
                s.jsx)("div", {
                    className: y().modalBackdrop,
                    children: (0,
                    s.jsxs)("div", {
                        style: {
                            maxWidth: 500
                        },
                        className: u()([y().uikit, y().frame, y().purple, y().center]),
                        children: [(0,
                        s.jsxs)("div", {
                            style: {
                                position: "relative",
                                boxSizing: "border-box",
                                padding: 20
                            },
                            className: "is-rounded",
                            onKeyDown: _,
                            children: [(0,
                            s.jsx)("p", {
                                children: o(null !== (n = l.prompt) && void 0 !== n ? n : "")
                            }), (0,
                            s.jsx)("br", {}), b && (0,
                            s.jsx)("div", {
                                style: {
                                    textAlign: "center"
                                },
                                children: (0,
                                s.jsx)("input", {
                                    tabIndex: 1,
                                    type: "text",
                                    maxLength: 128,
                                    style: {
                                        textAlign: "left",
                                        width: "80%"
                                    },
                                    ref: d,
                                    onKeyDown: _
                                })
                            })]
                        }), (0,
                        s.jsx)("br", {}), (0,
                        s.jsx)("br", {}), (0,
                        s.jsxs)("div", {
                            style: {
                                textAlign: "right"
                            },
                            children: [(0,
                            s.jsx)("button", {
                                type: "button",
                                className: u()(y().pushbutton, y().yellow),
                                onClick: x,
                                children: f
                            }), (0,
                            s.jsx)("button", {
                                type: "button",
                                className: u()(y().pushbutton, y().yellow),
                                onClick: p,
                                children: j
                            })]
                        })]
                    })
                })
            })
        }
        ;
        var aW = i(53358)
          , aO = i.n(aW);
        let aq = () => {
            var e, t, i, n;
            let {t: a} = (0,
            g.$G)(["ui", "game"])
              , l = (0,
            m.T)()
              , r = (0,
            m.C)(p.QV)
              , o = (0,
            eE.GU)()
              , d = (0,
            m.C)(p.lA)
              , c = null == d ? void 0 : d.full.coinInventory;
            if ("playerinfo" !== r)
                return (0,
                s.jsx)(s.Fragment, {});
            let v = () => {
                l((0,
                eI.Mr)())
            }
              , h = K.l.getInstance().currentPlayer
              , x = null == h ? void 0 : null === (e = h.core.memberships) || void 0 === e ? void 0 : e.get("vip")
              , _ = null == h ? void 0 : null === (t = h.core.memberships) || void 0 === t ? void 0 : t.get("nftLand-" + o.name)
              , f = null == h ? void 0 : null === (i = h.core.memberships) || void 0 === i ? void 0 : i.get("Twitter")
              , j = null == h ? void 0 : null === (n = h.core.memberships) || void 0 === n ? void 0 : n.get("Discord");
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && v()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, y().profilewindow),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("h1", {
                            children: a("onboarding.playerinfo", "Player Statistics")
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: v,
                            children: "\xa0"
                        }), (0,
                        s.jsx)("div", {
                            className: u()(y().fillflex, y().scrollArea),
                            children: (0,
                            s.jsxs)("div", {
                                className: aO().playerinfo,
                                children: [(0,
                                s.jsxs)("div", {
                                    className: aO().username,
                                    children: [(0,
                                    s.jsx)("span", {
                                        className: aO().label,
                                        children: a("label.username", "Username")
                                    }), (0,
                                    s.jsx)("span", {
                                        className: aO().value,
                                        children: null == d ? void 0 : d.core.username
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: aO().created,
                                    children: [(0,
                                    s.jsx)("span", {
                                        className: aO().label,
                                        children: a("label.createdat", "Started")
                                    }), (0,
                                    s.jsx)("span", {
                                        className: aO().value,
                                        children: (null == d ? void 0 : d.full.createdAt) && new Date(d.full.createdAt).toLocaleDateString()
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: aO().memberships,
                                    children: [(0,
                                    s.jsx)("span", {
                                        children: a("label.memberships", "Memberships")
                                    }), (0,
                                    s.jsxs)("div", {
                                        className: aO().vipSub,
                                        children: [(0,
                                        s.jsx)("span", {
                                            className: aO().label,
                                            children: a("label.vip", "VIP")
                                        }), (0,
                                        s.jsxs)("span", {
                                            className: aO().value,
                                            children: [x ? a("ui.expires", "Expires") : a("ui.no", "No"), " ", x && x.expiration && new Date(x.expiration).toLocaleDateString(), " "]
                                        })]
                                    }), (0,
                                    s.jsxs)("div", {
                                        className: aO().sub,
                                        children: [(0,
                                        s.jsx)("span", {
                                            className: aO().label,
                                            children: a("label.landowner", "Land Owner")
                                        }), (0,
                                        s.jsx)("span", {
                                            className: aO().value,
                                            children: _ ? a("ui.yes", "Yes") : a("ui.no", "No")
                                        })]
                                    }), (0,
                                    s.jsxs)("div", {
                                        className: aO().sub,
                                        children: [(0,
                                        s.jsx)("span", {
                                            className: aO().label,
                                            children: a("label.twitter_connect", "Twitter")
                                        }), (0,
                                        s.jsx)("span", {
                                            className: aO().value,
                                            children: f ? a("ui.connected", "Connected") : a("ui.not_connected", "Not Connected")
                                        })]
                                    }), (0,
                                    s.jsxs)("div", {
                                        className: aO().sub,
                                        children: [(0,
                                        s.jsx)("span", {
                                            className: aO().label,
                                            children: a("label.discord_connect", "Discord")
                                        }), (0,
                                        s.jsx)("span", {
                                            className: aO().value,
                                            children: j ? a("ui.connected", "Connected") : a("ui.not_connected", "Not Connected")
                                        })]
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: aO().balances,
                                    children: [(0,
                                    s.jsx)("span", {
                                        children: a("label.balances", "Balances")
                                    }), null == c ? void 0 : c.map(e => ({
                                        balance: e.balance,
                                        currency: C.Z.getGameCurrency(e.currencyId)
                                    })).filter(e => e.currency && e.balance > 0).map(e => (0,
                                    s.jsxs)("div", {
                                        className: aO().balanceentry,
                                        children: [(0,
                                        s.jsx)("span", {
                                            className: aO().label,
                                            children: a("currency.".concat(e.currency.name), {
                                                ns: "game"
                                            })
                                        }), (0,
                                        s.jsx)(O, {
                                            styles: {
                                                display: "inline-block"
                                            },
                                            currency: e.currency,
                                            balance: e.balance
                                        })]
                                    }, e.currency.id))]
                                })]
                            })
                        }), (0,
                        s.jsxs)("div", {
                            className: y().flexsingleline,
                            children: [(0,
                            s.jsx)("div", {
                                style: {
                                    width: 240,
                                    height: 48
                                },
                                children: "\xa0"
                            }), (0,
                            s.jsx)(e5, {})]
                        })]
                    })
                })]
            })
        }
          , aU = e => {
            let {tabs: t, selectedTabId: i, onSelectedTabChanged: n} = e
              , a = r.useMemo( () => t.find(e => e.id === i), [t, i]);
            return (0,
            s.jsxs)(s.Fragment, {
                children: [(0,
                s.jsx)("div", {
                    className: u()(y().tabs, "pixelFont"),
                    style: {
                        marginBottom: 0
                    },
                    children: (0,
                    s.jsx)("ul", {
                        children: t.map(e => (0,
                        s.jsx)("li", {
                            className: u()({
                                [y().activetab]: e.id === i
                            }),
                            children: (0,
                            s.jsx)("button", {
                                type: "button",
                                onClick: t => {
                                    t.preventDefault(),
                                    n(e.id)
                                }
                                ,
                                children: (0,
                                s.jsx)("span", {
                                    style: {
                                        fontSize: 10
                                    },
                                    children: e.name
                                })
                            })
                        }, e.id))
                    })
                }), (0,
                s.jsx)("div", {
                    className: y().fillflex,
                    style: {
                        marginTop: 0
                    },
                    children: null == a ? void 0 : a.component
                })]
            })
        }
        ;
        var aH = i(96824)
          , az = i.n(aH)
          , aK = i(83742);
        let aQ = e => {
            var t;
            let i, {avatar: n, onChange: a, attribute: l} = e, o = C.Z.getGameAvatar(n.id), d = r.useMemo( () => (0,
            aK.QK)({
                avatarId: n.id,
                attribute: l
            }), [l]), c = l;
            if (l.includes(".")) {
                let[e,t] = l.split(".");
                i = t,
                c = e
            }
            let m = null !== (t = n.pieces[c]) && void 0 !== t ? t : {
                type: c
            }
              , p = e => i ? {
                ...m,
                [i]: e[i]
            } : e;
            return (0,
            s.jsx)("div", {
                className: u()(az().scrollSelector, y().uikit, y().frame, y().purpleinset),
                children: (0,
                s.jsx)("div", {
                    className: az().choiceBox,
                    children: o && d.map( (e, t) => {
                        var i, l, r, d;
                        let v = p(e)
                          , h = Object.keys(m).every(e => m[e] === v[e]);
                        return (0,
                        s.jsx)("div", {
                            onClick: () => a({
                                id: n.id,
                                pieces: {
                                    ...n.pieces,
                                    [v.type]: v
                                }
                            }),
                            className: u()(az().pieceChoice, {
                                [az().choiceActive]: h
                            }),
                            children: (0,
                            s.jsx)(eT.z, {
                                selectedTraits: {
                                    ...n.pieces,
                                    [c]: v
                                },
                                symbol: n.id,
                                height: Math.ceil(80 / ((null === (l = o.sprite) || void 0 === l ? void 0 : null === (i = l.size) || void 0 === i ? void 0 : i.width) || 32)) * ((null === (d = o.sprite) || void 0 === d ? void 0 : null === (r = d.size) || void 0 === r ? void 0 : r.height) || 32)
                            })
                        }, e.id + t)
                    }
                    )
                })
            })
        }
          , a$ = e => {
            let {avatar: t, onChange: i, attribute: n} = e
              , a = (0,
            m.C)(p.Sx)
              , l = C.Z.getGameAvatar(t.id)
              , o = r.useMemo( () => (0,
            aK.F_)({
                avatarId: t.id,
                attribute: n
            }, a), [t.id, n, a])
              , d = r.useMemo( () => (0,
            aK.HQ)({
                avatarId: t.id,
                attribute: n
            }), [t.id, n])
              , c = r.useMemo( () => {
                var e, i;
                let n = {
                    ...t.pieces
                };
                return null == d || null === (e = d.requires) || void 0 === e || e.forEach(e => {
                    if (n[e])
                        return;
                    let i = (0,
                    aK.F_)({
                        avatarId: t.id,
                        attribute: e
                    }, a).at(0);
                    i && (n[e] = {
                        [e]: i.value
                    })
                }
                ),
                null == d || null === (i = d.replaces) || void 0 === i || i.forEach(e => delete n[e]),
                n
            }
            , [t, d, a]);
            return (0,
            s.jsx)("div", {
                className: u()(az().scrollSelector, y().uikit, y().frame, y().purpleinset),
                children: (0,
                s.jsx)("div", {
                    className: az().choiceBox,
                    children: l && o.map(e => {
                        var a, r, o, m, p;
                        let {value: v} = e
                          , h = (null === (a = c[n]) || void 0 === a ? void 0 : a[n]) === v;
                        return (0,
                        s.jsx)("div", {
                            onClick: () => {
                                if (h) {
                                    if (!(null == d ? void 0 : d.irremovable)) {
                                        let e = {
                                            ...c
                                        };
                                        delete e[n],
                                        i({
                                            id: t.id,
                                            pieces: e
                                        })
                                    }
                                } else
                                    i({
                                        id: t.id,
                                        pieces: {
                                            ...c,
                                            [n]: {
                                                [n]: v
                                            }
                                        }
                                    })
                            }
                            ,
                            className: u()(az().pieceChoice, {
                                [az().choiceActive]: h
                            }),
                            children: (0,
                            s.jsx)(eT.z, {
                                selectedTraits: {
                                    ...c,
                                    [n]: {
                                        [n]: v
                                    }
                                },
                                symbol: t.id,
                                height: Math.ceil(80 / ((null === (o = l.sprite) || void 0 === o ? void 0 : null === (r = o.size) || void 0 === r ? void 0 : r.width) || 32)) * ((null === (p = l.sprite) || void 0 === p ? void 0 : null === (m = p.size) || void 0 === m ? void 0 : m.height) || 32)
                            })
                        }, v)
                    }
                    )
                })
            })
        }
          , aY = e => e.avatar.id === iW.ft ? (0,
        s.jsx)(aQ, {
            ...e
        }) : (0,
        s.jsx)(a$, {
            ...e
        })
          , aX = e => {
            let {avatar: t, onChange: i} = e
              , {t: n} = (0,
            g.$G)(["ui"])
              , a = (0,
            m.C)(p.Sx)
              , l = r.useMemo( () => (0,
            aK.HZ)(t.id).filter(e => (0,
            aK.c7)({
                avatarId: t.id,
                attribute: e
            }, a).length), [t.id, a])
              , [o,d] = r.useState("");
            return r.useEffect( () => {
                var e;
                d(null !== (e = l[0]) && void 0 !== e ? e : "")
            }
            , [l]),
            (0,
            s.jsx)("div", {
                className: az().builderContainer,
                children: (0,
                s.jsx)(aU, {
                    tabs: l.map(e => ({
                        id: e,
                        name: n(e, (0,
                        b.je)(e)),
                        component: (0,
                        s.jsx)(aY, {
                            avatar: t,
                            onChange: i,
                            attribute: e
                        })
                    })),
                    selectedTabId: o,
                    onSelectedTabChanged: d
                })
            })
        }
          , aJ = e => {
            let {rectScale: t=1, rect: i, children: n} = e;
            return i ? (0,
            s.jsx)("div", {
                style: {
                    overflow: "hidden",
                    width: i.width ? i.width * t : void 0,
                    height: i.height ? i.height * t : void 0
                },
                children: (0,
                s.jsx)("div", {
                    style: {
                        position: "relative",
                        left: i.left ? -i.left * t : void 0,
                        top: i.top ? -i.top * t : void 0
                    },
                    children: n
                })
            }) : n
        }
          , a0 = e => {
            var t, i, n, a, l, o, d;
            let {avatar: c, setAvatar: v} = e
              , h = (0,
            m.C)(p.Sx)
              , x = r.useMemo( () => (0,
            aK.HZ)(c.id).map(e => ({
                attribute: e,
                cosmetics: (0,
                aK.c7)({
                    avatarId: c.id,
                    attribute: e
                }, h)
            })).filter(e => e.cosmetics.length), [c.id, h])
              , [g,_] = r.useState(0)
              , {attribute: f, cosmetics: j} = x[g]
              , b = r.useMemo( () => (0,
            aK.HQ)({
                avatarId: c.id,
                attribute: f
            }), [c.id, f])
              , N = r.useMemo( () => {
                var e, t;
                let i = {
                    ...c.pieces
                };
                return null == b || null === (e = b.requires) || void 0 === e || e.forEach(e => {
                    if (i[e])
                        return;
                    let t = (0,
                    aK.F_)({
                        avatarId: c.id,
                        attribute: e
                    }, h).at(0);
                    t && (i[e] = {
                        [e]: t.value
                    })
                }
                ),
                null == b || null === (t = b.replaces) || void 0 === t || t.forEach(e => delete i[e]),
                i
            }
            , [c, h, b])
              , k = C.Z.getGameAvatar(c.id)
              , w = (null == k ? void 0 : null === (i = k.sprite) || void 0 === i ? void 0 : null === (t = i.size) || void 0 === t ? void 0 : t.width) || 32
              , S = (null == k ? void 0 : null === (a = k.sprite) || void 0 === a ? void 0 : null === (n = a.size) || void 0 === n ? void 0 : n.height) || 32
              , I = Math.ceil(80 / w)
              , T = null !== (d = null == b ? void 0 : null === (l = b.visibleArea) || void 0 === l ? void 0 : l.width) && void 0 !== d ? d : w
              , P = Math.ceil(80 / T);
            return (0,
            s.jsxs)("div", {
                className: u()(y().fillflex, az().v2),
                children: [(0,
                s.jsx)("div", {
                    className: az().preview,
                    style: {
                        minWidth: I * w,
                        minHeight: I * S
                    },
                    children: (0,
                    s.jsx)(eT.z, {
                        selectedTraits: c.pieces,
                        symbol: c.id,
                        height: I * S
                    }, "".concat(f, "-").concat(null === (o = N[f]) || void 0 === o ? void 0 : o[f]))
                }), (0,
                s.jsxs)("div", {
                    className: u()(y().fillflex, az().selection),
                    children: [(0,
                    s.jsx)("div", {
                        className: u()(y().scrollArea, az().tabs),
                        children: x.map( (e, t) => (0,
                        s.jsx)("button", {
                            className: u()({
                                [az().selected]: f === e.attribute
                            }),
                            onClick: () => _(t),
                            children: (0,
                            s.jsx)("img", {
                                src: (0,
                                E.Uk)("/assets/ui/avatar/".concat(e.attribute.toUpperCase(), ".png"))
                            })
                        }, e.attribute))
                    }), (0,
                    s.jsx)("div", {
                        className: u()(y().fillflex, y().scrollArea, y().uikit, y().frame, y().purpleinset, az().pieces),
                        children: null == j ? void 0 : j.map(e => {
                            var t;
                            let {value: i} = e
                              , n = (null === (t = N[f]) || void 0 === t ? void 0 : t[f]) === i
                              , a = !["body", "mouth", "nose"].includes(f);
                            return (0,
                            s.jsx)("div", {
                                className: u()("clickable", az().pieceChoice, {
                                    [az().choiceActive]: n
                                }),
                                style: {
                                    minHeight: T * P
                                },
                                onClick: () => {
                                    if (n) {
                                        if (!(null == b ? void 0 : b.irremovable)) {
                                            let e = {
                                                ...N
                                            };
                                            delete e[f],
                                            v({
                                                id: c.id,
                                                pieces: e
                                            })
                                        }
                                    } else
                                        v({
                                            id: c.id,
                                            pieces: {
                                                ...N,
                                                [f]: {
                                                    [f]: i
                                                }
                                            }
                                        })
                                }
                                ,
                                children: (0,
                                s.jsx)(aJ, {
                                    rect: null == b ? void 0 : b.visibleArea,
                                    rectScale: P,
                                    children: (0,
                                    s.jsx)(eT.z, {
                                        selectedTraits: {
                                            body: a ? {
                                                body: "white"
                                            } : N.body,
                                            [f]: {
                                                [f]: i
                                            }
                                        },
                                        dimBase: a,
                                        symbol: c.id,
                                        height: S * P,
                                        anim: "none"
                                    })
                                })
                            }, i)
                        }
                        )
                    })]
                })]
            })
        }
          , a1 = () => {
            let {t: e} = (0,
            g.$G)(["ui"])
              , t = (0,
            m.C)(p.SP)
              , i = (0,
            m.C)(p.Sx)
              , n = (0,
            m.C)(ni.cu)
              , [a,l] = (0,
            r.useState)( () => (null == n ? void 0 : n.id) === iW.UM ? n : (0,
            aK.Tm)(iW.UM, i))
              , [o] = (0,
            r.useState)( () => a.id);
            r.useEffect( () => {
                a.id !== o && l((0,
                aK.Tm)(o, i))
            }
            , [a.id, o, i]);
            let d = (0,
            m.T)();
            if ("avatar" !== (0,
            m.C)(p.QV) || !t)
                return (0,
                s.jsx)(s.Fragment, {});
            let c = () => {
                d((0,
                eI.Mr)())
            }
            ;
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && c()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, y().profilewindow),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("h1", {
                            children: e("onboarding.createlook")
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: c,
                            children: "\xa0"
                        }), (0,
                        s.jsx)("div", {
                            className: u()(y().fillflex),
                            children: o === iW.ft ? (0,
                            s.jsx)(aX, {
                                avatar: a,
                                onChange: l
                            }) : (0,
                            s.jsx)(a0, {
                                avatar: a,
                                setAvatar: l
                            })
                        }), (0,
                        s.jsxs)("div", {
                            className: u()(aO().buttonbar),
                            children: [(0,
                            s.jsx)("button", {
                                onClick: e => {
                                    e.preventDefault(),
                                    z.ZP.sendEventDelayed(z.Yi.NFT_SELECTED, {
                                        playerAvatar: a
                                    })
                                }
                                ,
                                type: "button",
                                className: u()(y().pushbutton, y().yellow),
                                style: {
                                    minHeight: 48,
                                    padding: 15
                                },
                                children: e("onboarding.selectavatar", "Select Avatar")
                            }), (0,
                            s.jsx)("div", {
                                className: aO().fillflex,
                                children: (0,
                                s.jsx)(e5, {})
                            })]
                        })]
                    })
                })]
            })
        }
          , a2 = () => {
            var e, t, i;
            let n = (0,
            m.T)()
              , a = (0,
            m.C)(tP.Ep)
              , {t: l} = (0,
            g.$G)(["ui"])
              , o = r.useRef(null)
              , d = a.isVisible;
            (0,
            r.useEffect)( () => {
                if (d) {
                    var e, t;
                    null === (e = o.current) || void 0 === e || e.select(),
                    null === (t = o.current) || void 0 === t || t.focus()
                }
            }
            , [d]);
            let c = e => {
                var t;
                null == e || e.preventDefault(),
                null === (t = a.callback) || void 0 === t || t.call(a, null),
                n((0,
                tP.ex)())
            }
              , p = () => {
                var e, t, i;
                if (a.controls) {
                    let i = null === (e = o.current) || void 0 === e ? void 0 : e.value;
                    null === (t = a.callback) || void 0 === t || t.call(a, i)
                } else
                    null === (i = a.callback) || void 0 === i || i.call(a, a.yesno ? "yes" : "ok");
                n((0,
                tP.ex)())
            }
              , v = e => {
                "Escape" === e.key && (e.stopPropagation(),
                c())
            }
              , h = a.yesno ? l("yes", "Yes") : l("submit", "Submit")
              , x = a.yesno ? l("no", "No") : l("cancel", "Cancel")
              , _ = a.cancel || a.yesno;
            return (0,
            s.jsx)(s.Fragment, {
                children: d && (0,
                s.jsxs)("div", {
                    className: y().modalBackdrop,
                    children: [(0,
                    s.jsx)(ek, {
                        onKeyDown: v
                    }), (0,
                    s.jsxs)("div", {
                        style: {
                            maxWidth: 500
                        },
                        className: u()([y().uikit, y().frame, y().purple, y().center, y().popup]),
                        children: [(0,
                        s.jsxs)("div", {
                            style: {
                                position: "relative",
                                boxSizing: "border-box",
                                padding: 20
                            },
                            className: "is-rounded",
                            onKeyDown: v,
                            children: [(0,
                            s.jsx)("p", {
                                children: l(null !== (e = a.prompt) && void 0 !== e ? e : "")
                            }), (0,
                            s.jsx)("br", {}), a.controls && (0,
                            s.jsx)("div", {
                                style: {
                                    textAlign: "center"
                                },
                                children: (0,
                                s.jsx)("input", {
                                    tabIndex: 1,
                                    type: null !== (t = a.controls.type) && void 0 !== t ? t : "text",
                                    maxLength: null !== (i = a.controls.length) && void 0 !== i ? i : 128,
                                    style: {
                                        textAlign: "left",
                                        width: "80%"
                                    },
                                    ref: o,
                                    onKeyDown: v
                                })
                            })]
                        }), (0,
                        s.jsx)("br", {}), (0,
                        s.jsx)("br", {}), (0,
                        s.jsxs)("div", {
                            style: {
                                textAlign: "right"
                            },
                            children: [(0,
                            s.jsx)("button", {
                                type: "button",
                                className: u()(y().pushbutton, y().standard),
                                onClick: e => {
                                    e.preventDefault(),
                                    p()
                                }
                                ,
                                children: h
                            }), _ && (0,
                            s.jsx)("button", {
                                type: "button",
                                className: u()(y().pushbutton, y().standard),
                                onClick: c,
                                children: x
                            })]
                        })]
                    })]
                })
            })
        }
          , a3 = {
            shareRent: "shareRentTwo",
            shareRentTwo: "shareRentThree",
            shareRentThree: "shareRentFour",
            shareRentFour: "shareRentFive",
            shareRentFive: "shareRentSix",
            shareInterior: "shareInteriorM",
            shareInteriorM: "shareInteriorL"
        }
          , a5 = ["shareRentSix", "shareInteriorL"]
          , a6 = () => {
            let e = (0,
            m.C)(p.h2)
              , t = (0,
            m.C)(p.Wj)
              , i = (0,
            m.T)()
              , {t: n} = (0,
            g.$G)(["ui", "game"])
              , a = a3[t]
              , l = "itm_".concat(a)
              , o = (0,
            m.C)(p.lA)
              , d = r.useMemo( () => {
                var e;
                let t = null === (e = C.Z.getStoreData()) || void 0 === e ? void 0 : e.str_plot;
                return null == t ? void 0 : t.items.find(e => e.item === l)
            }
            , [l])
              , c = r.useMemo( () => C.Z.getGameItem(l), [l])
              , v = a5.includes(t || "")
              , h = function(e, t) {
                var i;
                if (!t || !e)
                    return !1;
                let n = null == e ? void 0 : e.full.coinInventory;
                return ((null == n ? void 0 : null === (i = n.find(e => e.currencyId === t.currency)) || void 0 === i ? void 0 : i.balance) || 0) >= ((null == t ? void 0 : t.buyPrice) || 0)
            }(o, d)
              , {meetsLevelRequired: x, requirementReason: _} = function(e, t) {
                var i;
                if (!t || !e)
                    return {
                        meetsLevelRequired: !1,
                        requirementReason: "something-went-wrong"
                    };
                let n = !0
                  , a = "player-does-not-meet-item-requirements";
                if (null === (i = t.requirements) || void 0 === i ? void 0 : i.types) {
                    for (let i of t.requirements.types)
                        if ("levels" === i && t.requirements.levels)
                            for (let i of t.requirements.levels) {
                                let t = e.full.levels[i.levelType];
                                t && t.level >= i.level || (n = !1,
                                a = "level-".concat(i.level, "-").concat(i.levelType, "-required"))
                            }
                }
                return {
                    meetsLevelRequired: n,
                    requirementReason: a
                }
            }(o, c)
              , f = C.Z.getGameCurrency((null == d ? void 0 : d.currency) || "cur_pixel");
            if (!e || !t)
                return null;
            let j = () => {
                i({
                    type: "game/deactivateFarmUpgradePanel"
                }),
                i({
                    type: "game/PRESENT_FARM_DETAILS"
                })
            }
            ;
            return (0,
            s.jsx)(s.Fragment, {
                children: e && (0,
                s.jsxs)("div", {
                    className: u()([t2().FarmDetailsPanel, y().uikit, y().frame, y().orangeinset]),
                    children: [(0,
                    s.jsx)(ek, {
                        onKeyDown: e => {
                            e.stopPropagation(),
                            "Escape" === e.key && j()
                        }
                    }), (0,
                    s.jsx)("button", {
                        type: "button",
                        className: u()(y().closeBtn),
                        onClick: j
                    }), (0,
                    s.jsx)("h2", {
                        children: n("upgrademodaltitle.".concat(t), {
                            ns: "ui",
                            defaultValue: "MAP UPGRADE"
                        })
                    }), v ? (0,
                    s.jsx)("h2", {
                        children: (0,
                        s.jsx)(A.Z, {
                            text: n("plot.nomoreupgradesbody.".concat(t), {
                                ns: "ui",
                                defaultValue: "No more upgrades available"
                            })
                        })
                    }) : (0,
                    s.jsx)("h2", {
                        children: (0,
                        s.jsx)(A.Z, {
                            text: n("upgrademodalbody.".concat(t), {
                                ns: "ui",
                                defaultValue: "Are you sure you want to upgrade?"
                            })
                        })
                    }), (0,
                    s.jsxs)("div", {
                        className: t2().FarmDetailsPanelContent,
                        children: [!v && (0,
                        s.jsx)("div", {
                            className: t2().optionPrice,
                            style: {
                                margin: "1em"
                            },
                            children: (0,
                            s.jsx)(O, {
                                currency: f,
                                balance: (null == d ? void 0 : d.buyPrice) || 0
                            })
                        }), v && (0,
                        s.jsx)("p", {
                            className: y().errorMessage,
                            children: n("plot.nomoreupgrades.".concat(t), {
                                ns: "ui",
                                defaultValue: "No more upgrades available"
                            })
                        }), !h && !v && (0,
                        s.jsx)("p", {
                            className: y().errorMessage,
                            children: n("plot.insufficientfunds", {
                                ns: "ui",
                                defaultValue: "Insufficient funds"
                            })
                        }), h && !v && !x && (0,
                        s.jsx)("p", {
                            className: y().errorMessage,
                            children: _
                        }), (0,
                        s.jsx)("div", {
                            className: t2().FarmDetailsActions,
                            children: (0,
                            s.jsxs)("button", {
                                type: "button",
                                className: u()([y().uikit, y().button]),
                                onClick: () => {
                                    z.ZP.emitEventNow(z.qM.UPGRADE_FARM, {
                                        mapType: "player"
                                    }),
                                    i((0,
                                    eI.XK)({
                                        newTemplate: a
                                    })),
                                    i({
                                        type: "game/deactivateFarmUpgradePanel"
                                    })
                                }
                                ,
                                disabled: !h || !x || v || !(null == d ? void 0 : d.buyPrice),
                                children: [n("button.upgrade", "Upgrade"), " ", (0,
                                s.jsx)(O, {
                                    currency: f,
                                    balance: (null == d ? void 0 : d.buyPrice) || 0
                                })]
                            })
                        })]
                    })]
                })
            })
        }
        ;
        var a4 = i(67179)
          , a8 = i.n(a4)
          , a9 = () => {
            let e = (0,
            m.C)(p.QV)
              , t = (0,
            m.T)()
              , {t: i} = (0,
            g.$G)("ui")
              , n = () => {
                t((0,
                eI.Mr)())
            }
            ;
            return "help" !== e ? (0,
            s.jsx)(s.Fragment, {}) : (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        "Escape" === e.key && n()
                    }
                }), (0,
                s.jsx)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, a8().container),
                    children: (0,
                    s.jsxs)("div", {
                        className: y().inner,
                        children: [(0,
                        s.jsx)("h1", {
                            children: i("help.title", "Help and Support")
                        }), (0,
                        s.jsx)("button", {
                            className: y().closeBtn,
                            type: "button",
                            onClick: n,
                            children: "\xa0"
                        }), (0,
                        s.jsx)("div", {
                            className: y().scrollArea,
                            children: (0,
                            s.jsxs)("div", {
                                className: a8().flow,
                                children: [(0,
                                s.jsxs)("div", {
                                    className: a8().section,
                                    children: [(0,
                                    s.jsx)("h3", {
                                        children: "Movement"
                                    }), (0,
                                    s.jsxs)("ul", {
                                        children: [(0,
                                        s.jsx)("li", {
                                            children: "Press and hold mouse button or touch screen in the direction you want to move"
                                        }), (0,
                                        s.jsx)("li", {
                                            children: "Or, Use Arrow Keys to move"
                                        }), (0,
                                        s.jsx)("li", {
                                            children: "Or, Use A,S,W,D keys to move"
                                        })]
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: a8().section,
                                    children: [(0,
                                    s.jsx)("h3", {
                                        children: "Quests"
                                    }), (0,
                                    s.jsxs)("ul", {
                                        children: [(0,
                                        s.jsx)("li", {
                                            children: "Active Quests can be seen by clicking or tapping on the Pinned Note in the upper right corner"
                                        }), (0,
                                        s.jsx)("li", {
                                            children: "Quests help you learn how to play"
                                        }), (0,
                                        s.jsx)("li", {
                                            children: "Some quests provide you with rewards, such as Coins or special items"
                                        })]
                                    })]
                                }), (0,
                                s.jsxs)("div", {
                                    className: a8().section,
                                    children: [(0,
                                    s.jsx)("h3", {
                                        children: "Keyboard Shortcuts"
                                    }), (0,
                                    s.jsxs)("ul", {
                                        children: [(0,
                                        s.jsx)("li", {
                                            children: "B - Expand Inventory (Backpack)"
                                        }), (0,
                                        s.jsx)("li", {
                                            children: "C - Open Chat"
                                        }), (0,
                                        s.jsx)("li", {
                                            children: "TAB/SHIFT+TAB - Change Inventory Row"
                                        }), (0,
                                        s.jsx)("li", {
                                            children: "1,2,3,4,5,6 - Select Inventory Item from Current Row"
                                        })]
                                    })]
                                })]
                            })
                        }), (0,
                        s.jsxs)("div", {
                            className: a8().flowlinks,
                            children: [(0,
                            s.jsx)("a", {
                                className: u()(a8().supportLink, y().hotlink),
                                onClick: () => z.ZP.emitEventNow(z.fb.LINK_OPEN, {
                                    link: "https://help.pixels.xyz/"
                                }),
                                children: i("help.supportlink", "Additional Support")
                            }), (0,
                            s.jsx)("a", {
                                className: u()(a8().supportLink, y().hotlink),
                                href: "https://discord.gg/pixels",
                                target: "_blank",
                                children: "Discord"
                            }), (0,
                            s.jsx)("a", {
                                className: u()(a8().supportLink, y().hotlink),
                                href: "https://twitter.com/pixels_online",
                                target: "_blank",
                                children: "Twitter"
                            })]
                        })]
                    })
                })]
            })
        }
          , a7 = i(32701)
          , le = i(4152);
        let lt = e => {
            let {energy: t} = e
              , {t: i} = (0,
            g.$G)("ui")
              , n = (0,
            E.uf)(t, 2)
              , a = 100 * t / le.MAX_ENERGY;
            return (0,
            s.jsx)(R, {
                title: (0,
                s.jsxs)("span", {
                    className: "pixelFont",
                    children: [i("label.energy", "Energy"), ": ", n, " / ", le.MAX_ENERGY]
                }),
                placement: "top",
                children: (0,
                s.jsxs)("div", {
                    className: ay().energy,
                    children: [(0,
                    s.jsxs)("div", {
                        className: u()(y().balanceDisplay, ay().emptybar),
                        children: [(0,
                        s.jsx)("img", {
                            className: y()["coin-icon"],
                            src: (0,
                            E.Uk)("/game/ui/hud/hud_icon_energy.png"),
                            style: {
                                height: 12,
                                marginRight: 2,
                                marginBottom: 0
                            }
                        }), (0,
                        s.jsx)("span", {
                            style: {
                                fontSize: W(n, 10, 8)
                            },
                            className: u()(y().coinBalance, ay().energytext),
                            children: n
                        })]
                    }), (0,
                    s.jsxs)("div", {
                        className: u()(y().balanceDisplay, ay().filledbar),
                        style: {
                            width: "".concat(a, "%")
                        },
                        children: [(0,
                        s.jsx)("img", {
                            className: y()["coin-icon"],
                            src: (0,
                            E.Uk)("/game/ui/hud/hud_icon_energy.png"),
                            style: {
                                height: 12,
                                marginRight: 2,
                                marginBottom: 0
                            }
                        }), (0,
                        s.jsx)("span", {
                            style: {
                                fontSize: W(n, 10, 8)
                            },
                            className: u()(y().coinBalance, ay().energytext),
                            children: n
                        })]
                    })]
                })
            })
        }
          , li = () => {
            var e, t, i, n, a, l, o, d;
            let c;
            let {t: v} = (0,
            g.$G)("ui")
              , h = (0,
            m.C)(p.lA)
              , x = (0,
            m.C)(p.$v)
              , _ = (0,
            m.C)(tP._u)
              , f = (0,
            m.C)(tP.gs)
              , j = (0,
            m.T)()
              , y = (0,
            eE.GU)()
              , b = C.Z.getDefaultCurrency()
              , N = null === (e = C.Z.getGameCurrencies()) || void 0 === e ? void 0 : e[b]
              , k = (null === (i = h.full.coinInventory) || void 0 === i ? void 0 : null === (t = i.find(e => e.currencyId === b)) || void 0 === t ? void 0 : t.balance) || 0
              , w = (null === (a = h.full.coinInventory) || void 0 === a ? void 0 : null === (n = a.find(e => "cur_pixel" === e.currencyId)) || void 0 === n ? void 0 : n.balance) || 0
              , S = !(null == y ? void 0 : y.tutorialQuest) || "tutorial" !== x && "player" !== x || (null == h ? void 0 : null === (o = h.full.quests) || void 0 === o ? void 0 : null === (l = o[y.tutorialQuest]) || void 0 === l ? void 0 : l.isComplete)
              , I = (0,
            r.useMemo)( () => [{
                id: "hud.buttons.land",
                className: u()(ay().bolm, ay().outside),
                title: v("hud.buttons.land", "Land and Bookmarks"),
                disabled: !S,
                onClick: () => {
                    j((0,
                    to.Vu)())
                }
                ,
                image: (0,
                E.Uk)("/game/ui/hud/hud_icon_land.png")
            }, {
                id: "hud.buttons.skills",
                className: u()(ay().landmarks, ay().outside),
                title: v("hud.buttons.skills", "Skills"),
                onClick: () => {
                    j((0,
                    eI.po)())
                }
                ,
                image: (0,
                E.Uk)("/game/ui/hud/hud_temp_icon_skills.png")
            }, {
                id: "hud.buttons.players",
                title: v("hud.buttons.players", "Player"),
                className: u()(ay().social, ay().outside),
                onClick: () => j((0,
                eI.$J)({
                    dialog: "playerprofilecontextmenu"
                })),
                image: (0,
                E.Uk)("/game/ui/hud/hud_icon_social.png")
            }, {
                id: "hud.buttons.pets",
                title: v("hud.buttons.pets", "Pets"),
                className: u()(ay().pets, ay().outside),
                image: (0,
                E.Uk)("/game/ui/hud/PetButton.png"),
                disabled: !1,
                onClick: () => {
                    j((0,
                    eI.lW)({
                        mode: "hatched"
                    }))
                }
            }, {
                id: "hud.buttons.map",
                title: v("hud.buttons.map", "Map View"),
                className: u()(ay().map, ay().outside),
                onClick: () => z.ZP.emitEventNow("TOGGLE_MINIMAP"),
                image: (0,
                E.Uk)("/game/ui/hud/hud_temp_icon_map.png")
            }], [j, S])
              , T = null !== (d = h.full.energy.level) && void 0 !== d ? d : 0
              , P = I.map( (e, t) => {
                let i = Math.PI / (2 * I.length) * (t + .5)
                  , n = 106 * Math.sin(i) - 14
                  , a = 106 * Math.cos(i) - 14;
                return e.id === _ && (c = {
                    x: a,
                    y: n
                }),
                (0,
                s.jsx)("button", {
                    type: "button",
                    style: {
                        left: a,
                        top: n,
                        width: 28,
                        height: 28
                    },
                    disabled: e.disabled,
                    className: e.className,
                    onClick: () => {
                        j((0,
                        tP.je)(e.id)),
                        e.onClick()
                    }
                    ,
                    children: (0,
                    s.jsx)(R, {
                        title: e.title,
                        children: (0,
                        s.jsx)("img", {
                            src: e.image
                        })
                    })
                }, e.image)
            }
            );
            if (f)
                return;
            let M = C.Z.getGameCurrency("cur_pixel");
            return (0,
            s.jsxs)("div", {
                className: u()(ay().top, ay().left),
                children: [(0,
                s.jsxs)("div", {
                    className: u()(ay().topLeftBackground),
                    style: {
                        backgroundImage: "url('".concat((0,
                        E.Uk)("/game/ui/hud/purple/hud_corner_left.png"), "')")
                    },
                    children: [(0,
                    s.jsx)("div", {
                        className: u()(ay().berry, "clickable"),
                        onClick: e => {
                            e.preventDefault(),
                            e.stopPropagation(),
                            "cur_coins" === b && z.ZP.sendEventDelayed(z.fb.PRESENT_UI, {
                                ui: "str_bank"
                            })
                        }
                        ,
                        children: N && (0,
                        s.jsx)(O, {
                            currency: N,
                            balance: k,
                            styles: {},
                            iconStyles: {
                                height: 12,
                                marginRight: 2,
                                marginBottom: 0
                            },
                            fontSize: 10,
                            adjustForWidth: 6,
                            text: 0 === k && (null == N ? void 0 : N.id) === "cur_coins" ? v("hud.getcoins", "Get Coins") : void 0
                        })
                    }), (0,
                    s.jsx)("div", {
                        className: ay().pixelcoin,
                        children: (0,
                        s.jsx)(O, {
                            currency: M,
                            balance: w,
                            styles: {},
                            iconStyles: {
                                height: 12,
                                marginRight: 2,
                                marginBottom: 0
                            },
                            fontSize: 10,
                            adjustForWidth: 5
                        })
                    }), (0,
                    s.jsx)(lt, {
                        energy: T
                    }), P]
                }), c && (0,
                s.jsx)("div", {
                    className: ay().arrowLeft,
                    style: {
                        left: c.x,
                        top: c.y
                    }
                })]
            })
        }
          , ln = () => {
            var e, t, i;
            let n;
            let a = (0,
            m.T)()
              , {t: l} = (0,
            g.$G)("ui")
              , o = (0,
            m.C)(p.lA)
              , d = (0,
            eE.GU)()
              , c = (0,
            m.C)(tP._u)
              , v = (0,
            m.C)(tP.gs)
              , h = (0,
            m.C)(ak.Yy)
              , x = h > 9 ? "".concat(9, "+") : h
              , _ = (0,
            r.useMemo)( () => [{
                id: "hud.buttons.dashboard",
                title: l("hud.buttons.dashboard", "Dashboard"),
                className: u()(ay().dashboard, ay().outside),
                onClick: () => {
                    z.ZP.emitEventNow(z.fb.LINK_OPEN, {
                        link: "/dashboard",
                        msgKey: ["link.dashboard", "Open Pixels Dashboard?"]
                    })
                }
                ,
                image: (0,
                E.Uk)("/game/ui/hud/DashButton.png")
            }, {
                id: "hud.buttons.settings",
                title: l("hud.buttons.settings", "Settings"),
                className: u()(ay().achievements, ay().outside),
                onClick: () => a((0,
                eI.r$)()),
                image: (0,
                E.Uk)("/game/ui/hud/SettingsButton.png")
            }, {
                id: "hud.buttons.mail",
                title: l("hud.buttons.mail", "Mail"),
                className: u()(ay().mailbox, ay().outside),
                onClick: () => {
                    a((0,
                    ak.e4)())
                }
                ,
                image: (0,
                E.Uk)("/game/ui/hud/hud_mail_button.png"),
                badgeCount: x,
                badgePlus: h > 9,
                disabled: !1
            }, {
                id: "hud.buttons.questionmark",
                title: l("hud.buttons.questionmark", "Support"),
                className: u()(ay().skills, ay().outside),
                onClick: () => {
                    a((0,
                    eI.$J)({
                        dialog: "help"
                    }))
                }
                ,
                image: (0,
                E.Uk)("/game/ui/hud/hud_temp_icon_questionmark.png")
            }, {
                id: "hud.buttons.logout",
                title: l("hud.buttons.logout", "Log Out"),
                className: u()(ay().settings, ay().outside),
                onClick: () => {
                    a((0,
                    tP.VG)({
                        prompt: "hud.logout.confirmation",
                        yesno: !0,
                        callback: e => {
                            "yes" === e && a((0,
                            eI.ni)())
                        }
                    }))
                }
                ,
                image: (0,
                E.Uk)("/game/ui/hud/hud_temp_icon_logout.png")
            }], [a, x, h > 9]);
            if (v)
                return;
            let f = C.Z.getGameQuests()
              , j = null === (e = Object.values(null !== (t = null == o ? void 0 : o.full.quests) && void 0 !== t ? t : {})) || void 0 === e ? void 0 : e.reduce( (e, t) => {
                if (!t)
                    return e;
                if (t && !t.isComplete) {
                    let i = null == f ? void 0 : f[t.questId];
                    if (i && "hidden" !== i.kind && !i.expired && !i.archived && (!i.tenants || 0 === i.tenants.length || i.tenants.includes(d.name)))
                        return e + 1
                }
                return e
            }
            , 0)
              , y = _.map( (e, t) => {
                let i = Math.PI / (2 * _.length) * (t + .5)
                  , l = 106 * Math.sin(i) - 14
                  , r = 106 * Math.cos(i) - 14;
                return e.id === c && (n = {
                    x: r,
                    y: l
                }),
                (0,
                s.jsxs)("button", {
                    type: "button",
                    style: {
                        right: r,
                        top: l,
                        width: 28,
                        height: 28
                    },
                    disabled: e.disabled,
                    className: e.className,
                    onClick: () => {
                        a((0,
                        tP.je)(e.id)),
                        e.onClick()
                    }
                    ,
                    children: [e.badgeCount ? (0,
                    s.jsx)("span", {
                        className: u()(ay().mailBadge, {
                            [ay().mailBadgePlus]: e.badgePlus
                        }),
                        children: e.badgeCount
                    }) : null, (0,
                    s.jsx)(R, {
                        title: e.title,
                        children: (0,
                        s.jsx)("img", {
                            src: e.image
                        })
                    })]
                }, e.image)
            }
            );
            "hud.buttons.quests" === c && (n = {
                x: 8,
                y: 20
            });
            let b = null !== (i = (0,
            eE.GU)().uiprefix) && void 0 !== i ? i : "";
            return (0,
            s.jsxs)("div", {
                className: u()(ay().top, ay().right),
                children: [(0,
                s.jsxs)("div", {
                    className: ay().topRightBackground,
                    style: {
                        backgroundImage: "url('".concat((0,
                        E.Uk)("/game/ui/hud/purple/hud_corner_right.png"), "')")
                    },
                    children: [(0,
                    s.jsxs)("button", {
                        type: "button",
                        className: u()(ay().quests),
                        onClick: () => {
                            a((0,
                            tP.je)("hud.buttons.quests")),
                            a((0,
                            eI.eW)())
                        }
                        ,
                        children: [(0,
                        s.jsx)(R, {
                            title: l("hud.buttons.quests", "Quests"),
                            children: (0,
                            s.jsx)("img", {
                                src: (0,
                                E.Uk)("/game/ui/hud/".concat(b, "hud_corner_right_note.png"))
                            })
                        }), (0,
                        s.jsx)("div", {
                            className: ay().questcount,
                            children: j
                        })]
                    }), y]
                }), n && (0,
                s.jsx)("div", {
                    className: ay().arrowRight,
                    style: {
                        right: n.x,
                        top: n.y
                    }
                })]
            })
        }
        ;
        var la = i(96808);
        let ll = e => -32 * e
          , ls = e => {
            let {health: t} = e;
            return (0,
            s.jsx)("div", {
                className: ay().itemHealthBarContainer,
                children: (0,
                s.jsx)("div", {
                    className: ay().itemHealthBar,
                    style: {
                        width: "".concat(t, "%"),
                        backgroundColor: t > 50 ? "green" : t > 20 ? "yellow" : "red"
                    }
                })
            })
        }
          , lr = e => {
            let {image: t, tier: i, quantity: n, selected: a, health: l, frame: r} = e;
            return (0,
            s.jsxs)(s.Fragment, {
                children: [!a && !!i && (0,
                s.jsx)("div", {
                    className: ay().tier,
                    children: (0,
                    b.Qb)(i)
                }), (0,
                s.jsx)("div", {
                    className: "clickable",
                    style: {
                        height: 32,
                        width: 32,
                        overflow: "hidden",
                        position: "relative"
                    },
                    children: (0,
                    s.jsx)("img", {
                        className: ay().itemImage,
                        style: {
                            left: ll(r),
                            top: 0
                        },
                        src: t,
                        crossOrigin: "anonymous"
                    })
                }), (0,
                s.jsx)("div", {
                    className: ay().quantity,
                    children: n > 1 ? "x".concat(n) : ""
                }), void 0 !== l && l < 100 && (0,
                s.jsx)(ls, {
                    health: l
                })]
            })
        }
        ;
        function lo(e, t) {
            if (t && 0 !== t.length)
                return t.find(t => t.slot === e)
        }
        function ld(e, t) {
            var i, n, a, l;
            let s = lo(e, t);
            if (s)
                return {
                    item: C.Z.getGameItem(s.item),
                    quantity: s.quantity,
                    health: null === (n = s.state) || void 0 === n ? void 0 : null === (i = n.displayInfo) || void 0 === i ? void 0 : i.health,
                    frame: null === (l = s.state) || void 0 === l ? void 0 : null === (a = l.displayInfo) || void 0 === a ? void 0 : a.frame,
                    xtra: (0,
                    b.Kt)(s.state),
                    slot: s
                }
        }
        let lc = e => {
            var t;
            let {slot: i, isSelected: n, showDetails: a, attention: l, item: r, locked: o, quantity: d, health: c, xtra: m, frame: p, onClick: v} = e
              , h = r && B.Z.preloadedBlob((0,
            E.b7)(r.image))
              , x = (0,
            s.jsxs)("div", {
                className: u()(ay().item, {
                    [ay().selected]: n
                }),
                onClick: v,
                onContextMenu: v,
                children: [(0,
                s.jsx)("div", {
                    className: ay().shortcut,
                    children: i + 1
                }), l && (0,
                s.jsx)("div", {
                    className: ay().attention
                }), h && (0,
                s.jsx)(lr, {
                    selected: n,
                    image: h,
                    tier: null == r ? void 0 : r.tier,
                    quantity: d || 0,
                    health: (null == r ? void 0 : null === (t = r.inventory) || void 0 === t ? void 0 : t.stateful) ? c : void 0,
                    frame: p
                }), o && (0,
                s.jsx)(lr, {
                    selected: n,
                    image: (0,
                    E.Uk)("/game/ui/store_item_lock.png"),
                    quantity: d || 0,
                    frame: p
                })]
            });
            return r || o ? (0,
            s.jsx)(V, {
                item: r,
                extraText: m,
                showDetails: !!a,
                placement: "top",
                children: x
            }) : x
        }
        ;
        function lu(e) {
            e((0,
            na.aq)())
        }
        let lm = () => {
            var e, t, i;
            let n = (0,
            m.C)(p.lA)
              , {t: a} = (0,
            g.$G)("ui")
              , l = (0,
            m.C)(na.xM)
              , o = (0,
            m.C)(tP.gs)
              , d = (0,
            m.C)(p.x6)
              , c = (0,
            m.C)(eb.Vb)
              , v = !!ny()
              , h = (0,
            m.C)(nG.ww)
              , x = (0,
            m.C)(eb.pT)
              , _ = (0,
            m.C)(eb.sW)
              , {chatEnabled: f, newMessage: j} = (0,
            m.C)(eZ.tz)
              , y = (0,
            m.C)(na.pc)
              , b = (0,
            m.C)(tP.Fd)
              , N = (0,
            m.C)(p.Kx)
              , k = (0,
            m.C)(na.NS)
              , w = k.isOpen
              , S = (0,
            r.useRef)(null)
              , [I,T] = (0,
            r.useState)(0)
              , [P,M] = r.useState(!1)
              , D = Object.values(null !== (i = null == n ? void 0 : null === (e = n.full.inventory) || void 0 === e ? void 0 : e.slots) && void 0 !== i ? i : {})
              , A = null === (t = K.l.getInstance().selfPlayer) || void 0 === t ? void 0 : t.inventory
              , L = JSON.parse(JSON.stringify(null != A ? A : {}))
              , F = (null == L ? void 0 : L.size) || 18
              , G = Math.floor(F / 6)
              , V = (Math.floor(F / 6) - 1) * 40
              , Z = r.useMemo( () => [...Array(F)].map( (e, t) => (t + 1).toString()), [F])
              , W = r.useMemo( () => 0 === I ? 0 : 40 * I, [I]);
            r.useEffect( () => {
                0 !== I && T(0)
            }
            , [I]);
            let O = (0,
            m.T)()
              , q = () => {
                z.ZP.emitEventNow(z.qM.RELEASE_FROM_CURSOR, x),
                x ? z.rV.editor.off.emit() : z.rV.editor.on.emit(),
                z.ZP.emitEventNow("TOGGLE_EDITOR", x)
            }
              , U = r.useMemo( () => {
                var e;
                if (-1 === l.slot || l.storage)
                    return;
                let t = null === (e = ld(l.slot, D)) || void 0 === e ? void 0 : e.item;
                return (0,
                la.PZ)(t, c)
            }
            , [l.slot, c])
              , H = r.useMemo( () => {
                if (l.attention) {
                    let e = D.some(e => e.item === l.attention)
                      , t = e && D.some(e => e.item === l.attention && e.slot >= 6 * y && e.slot < 6 * y + 6);
                    return e && !t
                }
                return !1
            }
            , [l.attention, D])
              , Q = D.map(e => {
                let t = C.Z.getGameItem(e.item);
                return null == t ? void 0 : t.image
            }
            ).filter(e => !!e).sort();
            r.useEffect( () => {
                let e = Q.map(e => {
                    if (B.Z.canPreload(e))
                        return B.Z.preloadOneBlob(e)
                }
                ).filter(e => e);
                e.length > 0 && Promise.all(e).then( () => {
                    M(!P)
                }
                )
            }
            , [Q.join("")]);
            let $ = () => {
                T(e => e ? 0 : 1),
                O((0,
                na.hO)((y + 1) % G))
            }
              , Y = () => {
                T(e => e ? 0 : -1),
                O((0,
                na.hO)((y - 1 + G) % G))
            }
              , X = () => {
                z.rV.playSound.emit("snd_ui_inventoryopen"),
                O((0,
                tP.jz)(void 0))
            }
            ;
            if (r.useEffect( () => {
                if (!d || x || h) {
                    let e = e => {
                        var t;
                        let i = null === (t = e.key) || void 0 === t ? void 0 : t.toLowerCase()
                          , n = e.getModifierState("Shift")
                          , a = e.getModifierState("Alt")
                          , s = e.getModifierState("Meta")
                          , r = e.getModifierState("Control");
                        if ("tab" === i) {
                            n ? Y() : $(),
                            e.preventDefault();
                            return
                        }
                        if (h)
                            return;
                        if (v || w) {
                            if ("escape" === i && -1 !== l.slot) {
                                lu(O);
                                return
                            }
                        } else {
                            if ("e" === i && (a || s)) {
                                _ && q(),
                                e.preventDefault();
                                return
                            }
                            if ("z" !== i || r) {
                                if ("h" === i && r) {
                                    z.ZP.emitEventNow(z.qM.HIDE_OTHERS),
                                    e.preventDefault();
                                    return
                                }
                            } else {
                                z.ZP.emitEventNow("TOGGLE_MINIMAP");
                                return
                            }
                            if (x)
                                return;
                            if (!a && !r && !s) {
                                if ("b" === i) {
                                    e.preventDefault(),
                                    X();
                                    return
                                }
                                if ("c" === i && (e.preventDefault(),
                                O((0,
                                eZ.w2)())),
                                "escape" === i && -1 !== l.slot) {
                                    lu(O);
                                    return
                                }
                            }
                            if ("m" === i && (r || s)) {
                                (0,
                                z.D9)({
                                    soundControlKey: "music",
                                    mute: !N.music.mute
                                });
                                return
                            }
                        }
                        let o = Z.indexOf(i);
                        if (-1 === o)
                            return;
                        e.stopPropagation();
                        let d = o + 6 * y
                          , c = lo(d, D);
                        !function(e) {
                            var t;
                            if (lu(e.dispatch),
                            e.invslot && (null === (t = e.invslot) || void 0 === t ? void 0 : t.quantity) && !e.isSelected) {
                                let t = C.Z.getGameItem(e.invslot.item);
                                e.dispatch((0,
                                na.$Z)({
                                    slot: e.invslot,
                                    item: t
                                }))
                            }
                        }({
                            slot: d,
                            isSelected: l.slot === d && !l.storage,
                            invslot: c,
                            dispatch: O
                        })
                    }
                    ;
                    return document.body.addEventListener("keydown", e),
                    () => {
                        document.body.removeEventListener("keydown", e)
                    }
                }
            }
            ),
            n.core.isGuest || o)
                return null;
            let J = b ? 0 : V;
            return (0,
            s.jsx)(s.Fragment, {
                children: (0,
                s.jsxs)("div", {
                    draggable: !1,
                    className: u()(ay().bottom),
                    style: {
                        height: 53 + V
                    },
                    children: [f && (0,
                    s.jsxs)("button", {
                        type: "button",
                        className: ay().leftButton,
                        onClick: () => O((0,
                        eZ.w2)()),
                        disabled: !f,
                        children: [(0,
                        s.jsx)(R, {
                            title: (0,
                            s.jsx)("span", {
                                className: "pixelFont",
                                children: a("chattip", "Chat (c)")
                            }),
                            placement: "top",
                            children: (0,
                            s.jsx)("img", {
                                src: (0,
                                E.Uk)("/game/ui/hud/chat.png")
                            })
                        }), j && (0,
                        s.jsx)("span", {
                            className: ay().chatIndicator
                        })]
                    }), (0,
                    s.jsxs)("button", {
                        type: "button",
                        className: ay().rightButton,
                        onClick: $,
                        children: [H && (0,
                        s.jsx)("div", {
                            className: ay().attention
                        }), (0,
                        s.jsx)(R, {
                            title: (0,
                            s.jsx)("span", {
                                className: "pixelFont",
                                children: a("hud.tips.left", "Next row (tab)")
                            }),
                            placement: "top",
                            children: (0,
                            s.jsx)("img", {
                                src: (0,
                                E.Uk)("/game/ui/hud/cycle.png")
                            })
                        })]
                    }), U && (0,
                    s.jsx)("div", {
                        className: u()(ay().itemMessageContainer, {
                            [ay().expanded]: b
                        }),
                        style: {
                            transform: "translate3d(0, ".concat(J, "px, 0)")
                        },
                        children: (0,
                        s.jsx)("div", {
                            className: ay().itemMessage,
                            children: U
                        })
                    }), (0,
                    s.jsxs)("div", {
                        className: u()(ay().slidingGroup, {
                            [ay().expanded]: b
                        }),
                        style: {
                            transform: "translate3d(0, ".concat(J, "px, 0)")
                        },
                        children: [(0,
                        s.jsx)("button", {
                            type: "button",
                            className: ay().topButton,
                            onClick: X,
                            children: (0,
                            s.jsx)(R, {
                                title: (0,
                                s.jsx)("span", {
                                    className: "pixelFont",
                                    children: a("backpacktip", "Backpack (b)")
                                }),
                                placement: "top",
                                children: (0,
                                s.jsx)("img", {})
                            })
                        }), (0,
                        s.jsx)("div", {
                            className: ay().itemClip,
                            children: (0,
                            s.jsx)("div", {
                                className: ay().itemList,
                                ref: S,
                                style: {
                                    transform: "translate3d(0, ".concat(W, "px, 0)"),
                                    transition: 0 !== W ? "none" : "transform 0.1s linear"
                                },
                                children: Z.map( (e, t) => {
                                    let i = (6 * y + t) % F
                                      , n = ld(i, D);
                                    return (0,
                                    s.jsx)(lc, {
                                        slot: i,
                                        attention: !!((null == n ? void 0 : n.item) && l.attention === n.item.id),
                                        isSelected: i === l.slot && !l.storage,
                                        locked: !!n && !n.item,
                                        item: null == n ? void 0 : n.item,
                                        showDetails: b,
                                        quantity: null == n ? void 0 : n.quantity,
                                        health: null == n ? void 0 : n.health,
                                        frame: (null == n ? void 0 : n.frame) || 0,
                                        xtra: null == n ? void 0 : n.xtra,
                                        onClick: e => {
                                            e.preventDefault(),
                                            e.stopPropagation(),
                                            function(e) {
                                                var t, i, n;
                                                let a = e.selected && e.slot === e.selected.slot && !e.selected.storage
                                                  , l = null === (t = e.selected) || void 0 === t ? void 0 : t.storage
                                                  , s = 2 === e.button || e.shift
                                                  , r = e.slot;
                                                if (a) {
                                                    lu(e.dispatch);
                                                    return
                                                }
                                                if (-1 !== e.selected.slot) {
                                                    if (s) {
                                                        let t = Math.floor(e.selected.quantity / 2);
                                                        t > 0 && e.dispatch((0,
                                                        na.oi)({
                                                            targetIndex: r,
                                                            sourceIndex: e.selected.slot,
                                                            sourceContainer: l,
                                                            splitQuantity: t
                                                        }));
                                                        return
                                                    }
                                                    lu(e.dispatch),
                                                    e.dispatch((0,
                                                    na.oi)({
                                                        targetIndex: r,
                                                        sourceIndex: e.selected.slot,
                                                        sourceContainer: l
                                                    })),
                                                    r = e.selected.slot;
                                                    return
                                                }
                                                if ((null === (i = e.invslot) || void 0 === i ? void 0 : i.quantity) && e.storageMid) {
                                                    if (s) {
                                                        e.dispatch((0,
                                                        na.oi)({
                                                            targetIndex: -1,
                                                            targetContainer: e.storageMid,
                                                            sourceIndex: r
                                                        }));
                                                        return
                                                    }
                                                    e.dispatch((0,
                                                    tP.jz)(!1))
                                                }
                                                if (!(null === (n = e.invslot) || void 0 === n ? void 0 : n.quantity))
                                                    return;
                                                let o = C.Z.getGameItem(e.invslot.item);
                                                e.dispatch((0,
                                                na.$Z)({
                                                    slot: e.invslot,
                                                    item: o,
                                                    mid: l,
                                                    ctrl: e.ctrl
                                                }))
                                            }({
                                                slot: i,
                                                selected: l,
                                                invslot: null == n ? void 0 : n.slot,
                                                storageMid: w && k.mid || void 0,
                                                shift: e.shiftKey,
                                                alt: e.altKey,
                                                ctrl: e.ctrlKey,
                                                meta: e.metaKey,
                                                button: e.button,
                                                dispatch: O
                                            })
                                        }
                                    }, i)
                                }
                                )
                            })
                        }), (0,
                        s.jsx)("div", {
                            className: ay().itemsTop
                        }), (0,
                        s.jsx)("div", {
                            className: ay().itemsRest,
                            style: {
                                height: V
                            }
                        })]
                    })]
                })
            })
        }
          , lp = () => {
            let {t: e} = (0,
            g.$G)(["ui"])
              , t = (0,
            m.T)();
            if ("playerprofilecontextmenu" !== (0,
            m.C)(p.QV))
                return (0,
                s.jsx)(s.Fragment, {});
            let i = () => {
                t((0,
                eI.Mr)())
            }
            ;
            return (0,
            s.jsxs)("div", {
                className: y().modalBackdrop,
                children: [(0,
                s.jsx)(ek, {
                    onKeyDown: e => {
                        e.stopPropagation(),
                        "Escape" === e.key && i()
                    }
                }), (0,
                s.jsxs)("div", {
                    className: u()(y().uikit, y().pixelbox, y().navy, y().center, y().profilewindow, aO().contextmenu),
                    children: [(0,
                    s.jsx)("h1", {
                        children: e("ui.playerprofile.contextmenu", "Player Options")
                    }), (0,
                    s.jsx)("button", {
                        className: y().closeBtn,
                        type: "button",
                        onClick: i,
                        children: "\xa0"
                    }), (0,
                    s.jsx)("div", {
                        className: aO().playerButtonsContainer,
                        children: (0,
                        s.jsx)(e3, {})
                    })]
                })]
            })
        }
          , lv = d()( () => Promise.all([i.e(543), i.e(912)]).then(i.bind(i, 96912)).then(e => e.Editor), {
            loadableGenerated: {
                webpack: () => [96912]
            }
        })
          , lh = () => {
            let e = (0,
            m.C)(p.oJ)
              , t = (0,
            m.C)(p.O$)
              , i = (0,
            m.C)(p.TR)
              , n = (0,
            m.C)(p.NY)
              , a = (0,
            m.C)(p.iN)
              , l = (0,
            m.C)(p.GO)
              , o = (0,
            m.C)(p.K7)
              , d = (0,
            m.C)(p.Qk)
              , c = (0,
            m.C)(p.RG)
              , x = (0,
            m.C)(p.lA);
            !function(e) {
                let[,t] = (0,
                _.KO)(f.v);
                r.useEffect( () => {
                    t("clear")
                }
                , [e])
            }(c || "");
            let g = (0,
            m.C)(v.D2)
              , j = e => {
                e.stopPropagation()
            }
              , y = (0,
            m.C)(h.XU);
            return (0,
            s.jsxs)("div", {
                className: u()(nk().uiContainer, "pixelfont"),
                onMouseDown: j,
                onMouseUp: j,
                onTouchStart: j,
                onTouchEnd: j,
                onMouseEnter: () => {
                    ab = !0
                }
                ,
                onMouseLeave: () => {
                    ab = !1
                }
                ,
                children: [l || o ? "" : (0,
                s.jsxs)(s.Fragment, {
                    children: [g.isOpen && (0,
                    s.jsx)(eC, {}), (0,
                    s.jsx)(i2, {
                        open: t.isVisible
                    }), (0,
                    s.jsx)(ez, {}), (0,
                    s.jsxs)(tR, {
                        children: [(0,
                        s.jsx)(li, {}), (0,
                        s.jsx)(ln, {}), (0,
                        s.jsx)(nu, {}), (0,
                        s.jsx)(nb, {}), (0,
                        s.jsx)(lm, {}), (0,
                        s.jsx)(nv, {}), (0,
                        s.jsx)(eL, {
                            open: e
                        })]
                    }), (0,
                    s.jsx)(al, {}), (0,
                    s.jsx)(nt, {
                        open: i.isVisible,
                        mid: i.mid,
                        username: i.username
                    }), (0,
                    s.jsx)(i9, {}), n && (0,
                    s.jsx)(ah, {}), (0,
                    s.jsx)(tK, {}), (0,
                    s.jsx)(aV, {}), (0,
                    s.jsx)(ie, {}), (0,
                    s.jsx)(a6, {}), y && (0,
                    s.jsx)(iL, {}), (0,
                    s.jsx)(nB, {}), (0,
                    s.jsx)(aZ, {}), (0,
                    s.jsx)(a2, {}), (0,
                    s.jsx)(aM, {}), (0,
                    s.jsx)(nQ, {}), (0,
                    s.jsx)(ae, {}), (null == x ? void 0 : x.full.godmode) && (0,
                    s.jsx)(r.Suspense, {
                        fallback: "Loading Editor",
                        children: (0,
                        s.jsx)(lv, {
                            horizontal: !1
                        })
                    }), d && (0,
                    s.jsx)(iu, {}), (0,
                    s.jsx)(at, {}), (0,
                    s.jsx)(aq, {}), (0,
                    s.jsx)(a9, {}), (0,
                    s.jsx)(af, {}), (0,
                    s.jsx)(a7.Z, {}), (0,
                    s.jsx)(lp, {})]
                }), (0,
                s.jsx)(tG, {}), (0,
                s.jsx)(a1, {}), (0,
                s.jsx)(nn, {}), (0,
                s.jsx)(i$, {
                    open: !!a.URL && a.isActive,
                    link: a.URL || "",
                    msgKey: a.msgKey || ""
                }), (0,
                s.jsx)(iz, {}), (0,
                s.jsx)(aN, {})]
            })
        }
    },
    48058: function(e) {
        e.exports = {
            chatwindow: "ChatWindow_chatwindow__iDeJq",
            people: "ChatWindow_people__L7Qoq",
            chatInput: "ChatWindow_chatInput__7X2Yi",
            sendButton: "ChatWindow_sendButton__BvPZ0",
            chats: "ChatWindow_chats__ydk5n",
            chatmessage: "ChatWindow_chatmessage__8k5Pg",
            messageHeader: "ChatWindow_messageHeader__LIkiN",
            username: "ChatWindow_username__Htk0E",
            timestamp: "ChatWindow_timestamp__xWEYO",
            message: "ChatWindow_message__TpEIz",
            whisper: "ChatWindow_whisper__mNqx4",
            isSystem: "ChatWindow_isSystem__Sc7B0",
            isSelf: "ChatWindow_isSelf__Jo06u"
        }
    },
    85950: function(e) {
        e.exports = {
            craftHeader: "Crafting_craftHeader__t2kJI",
            subheader: "Crafting_subheader__ueCDG",
            yetanotherdiv: "Crafting_yetanotherdiv__okLWt",
            craftingPageTitle: "Crafting_craftingPageTitle__jdRgM",
            craftingPageTier: "Crafting_craftingPageTier__okQzE",
            craftPages: "Crafting_craftPages__fo3Ez",
            leftPage: "Crafting_leftPage__S3WpY",
            inner: "Crafting_inner__v80ZP",
            rightPage: "Crafting_rightPage__63TP1",
            recipeSection: "Crafting_recipeSection__2_HQt",
            subsection: "Crafting_subsection__86mXJ",
            anotherpointlessdiv: "Crafting_anotherpointlessdiv__vi1Cb",
            recipelist: "Crafting_recipelist__Ls7m5",
            tierHeader: "Crafting_tierHeader__jKRVz",
            tierSection: "Crafting_tierSection__RThnx",
            craftingSectionHighlight: "Crafting_craftingSectionHighlight__G7ImP",
            craftingSection: "Crafting_craftingSection__QPjg4",
            craftingFontText: "Crafting_craftingFontText__EeNSQ",
            craftingInput: "Crafting_craftingInput__0tHnb",
            craftingFontSubtitle: "Crafting_craftingFontSubtitle__RPZ5i",
            craftingFontPoints: "Crafting_craftingFontPoints__Lfxp6",
            craftingFontQuantities: "Crafting_craftingFontQuantities__FDoj9",
            craftingRecipeItem: "Crafting_craftingRecipeItem__vnhBH",
            craftingButton: "Crafting_craftingButton__Qd6Ke",
            craftingCloseButton: "Crafting_craftingCloseButton__ZbHQF",
            craftingColumn: "Crafting_craftingColumn__v6ueF",
            PageDetails: "Crafting_PageDetails__tYqnD",
            detailsTitle: "Crafting_detailsTitle__bGjKU",
            tier: "Crafting_tier__V9sl1",
            benefitDescription: "Crafting_benefitDescription__L5ju3",
            tierToggle: "Crafting_tierToggle__llOAI",
            tierExpanded: "Crafting_tierExpanded__xQ8d2"
        }
    },
    78889: function(e) {
        e.exports = {
            FarmDetailsPanel: "FarmDetails_FarmDetailsPanel__E_VVC",
            farmNo: "FarmDetails_farmNo__avJwu",
            FarmDetailsPanelContent: "FarmDetails_FarmDetailsPanelContent__nxkYe",
            DetailsText: "FarmDetails_DetailsText__IEpKu",
            FarmDetailsActions: "FarmDetails_FarmDetailsActions__5CsOp",
            fullbutton: "FarmDetails_fullbutton__h7pkT",
            itemlist: "FarmDetails_itemlist__J0Day",
            playeritems: "FarmDetails_playeritems__KA7b0",
            playername: "FarmDetails_playername__ab3fp",
            playeritem: "FarmDetails_playeritem__Zw8nH",
            itemqty: "FarmDetails_itemqty__VSmya"
        }
    },
    74674: function(e) {
        e.exports = {
            farmSettingsPanel: "FarmSettings_farmSettingsPanel__E5_aB",
            farmSettingsPanelContent: "FarmSettings_farmSettingsPanelContent__S_6Fd",
            farmSettingsFieldTitle: "FarmSettings_farmSettingsFieldTitle__omNgL",
            guildRow: "FarmSettings_guildRow__S4deM",
            guildHandle: "FarmSettings_guildHandle__tgsnV",
            farmSettingsFieldDescription: "FarmSettings_farmSettingsFieldDescription__57UAc",
            farmSettingsInput: "FarmSettings_farmSettingsInput__2H0j4",
            farmSettingsEndedRow: "FarmSettings_farmSettingsEndedRow__Cd2YT",
            farmSettingsSpacedRow: "FarmSettings_farmSettingsSpacedRow__O4j61",
            farmSettingsTextButton: "FarmSettings_farmSettingsTextButton__uywII"
        }
    },
    13169: function(e) {
        e.exports = {
            "modal-box-container": "Store_modal-box-container__S2ExC",
            "modal-box-content": "Store_modal-box-content__qxHw9",
            buyTitle: "Store_buyTitle__MAQAe",
            contentDivider: "Store_contentDivider__wYet2",
            "coin-inventory-row": "Store_coin-inventory-row__rS4hV",
            currency: "Store_currency__ZMcj1",
            "coin-icon": "Store_coin-icon__pjJJq",
            tabBuySell: "Store_tabBuySell__TPRX5",
            active: "Store_active__gVQBv",
            sellButton: "Store_sellButton__F9vtc",
            buyButton: "Store_buyButton__59uQZ",
            "store-tabs-wrapper": "Store_store-tabs-wrapper__OfH4C",
            storeDialog: "Store_storeDialog__K3NJB",
            box: "Store_box__j6_U4",
            "card-img-wrapper": "Store_card-img-wrapper__hyk51",
            "card-tier": "Store_card-tier__KvnJ1",
            "card-img": "Store_card-img__Gyq_s",
            "store-item-container": "Store_store-item-container__yxJbY",
            "store-item-locked": "Store_store-item-locked__qlRKt",
            "lock-icon": "Store_lock-icon__mdumW",
            "card-footer": "Store_card-footer___FrG4",
            "item-quantity": "Store_item-quantity__cFhDE",
            "card-content-wrapper": "Store_card-content-wrapper__HQ06A",
            selected: "Store_selected__fgreQ",
            "store-locked": "Store_store-locked__qqkX5",
            "order-class-vip": "Store_order-class-vip__x6lUX",
            "order-class-landowner": "Store_order-class-landowner__pkYKB",
            "card-content": "Store_card-content__WhHqh",
            "card-title": "Store_card-title__InPpB",
            "item-price": "Store_item-price__aqw_Q",
            order: "Store_order__c9d4B",
            "card-header": "Store_card-header__FTHH8",
            "btn-max": "Store_btn-max__Vxg7c",
            "store-item-modal": "Store_store-item-modal__XDCfh",
            "store-item-modal-container": "Store_store-item-modal-container__mS8tW",
            "item-content": "Store_item-content__PFP6G",
            "item-img-wrapper": "Store_item-img-wrapper__ag58m",
            "item-tier": "Store_item-tier__Qfnpa",
            "item-img": "Store_item-img__kI_bE",
            "item-title": "Store_item-title__QnLB4",
            "item-metadata": "Store_item-metadata__m7XA6",
            "item-description": "Store_item-description__a_ErT",
            "item-utility": "Store_item-utility__xh0Tb",
            "item-discoverability": "Store_item-discoverability__4eQEn",
            "store-dialog-content": "Store_store-dialog-content__LXk0y",
            "close-btn-wrapper": "Store_close-btn-wrapper__KjC_X",
            "buy-section": "Store_buy-section__tPzEo",
            "buy-quantity": "Store_buy-quantity__G_oJh",
            quantityTitle: "Store_quantityTitle__zsJvP",
            "quanity-val": "Store_quanity-val__Ccv5i",
            "quantity-input": "Store_quantity-input__dNych",
            "btn-up": "Store_btn-up__cCAY0",
            "btn-down": "Store_btn-down__jvGAX",
            "arrow-up": "Store_arrow-up__rds5n",
            "arrow-down": "Store_arrow-down__Q7BH6",
            "buy-btn": "Store_buy-btn__gLsMk",
            "not-enough-coins": "Store_not-enough-coins__kGIXv",
            "store-tab": "Store_store-tab__jrf0Y",
            filter: "Store_filter__qtqd7",
            "sell-content-wrapper": "Store_sell-content-wrapper__MsAMm",
            "items-header": "Store_items-header__Kbpei",
            "items-content": "Store_items-content__FtMRE",
            "items-footer": "Store_items-footer__y5aPk",
            "no-items-info": "Store_no-items-info__w7h8p",
            "category-list-wrapper": "Store_category-list-wrapper__Kjb3_",
            "category-list": "Store_category-list__H7VBV",
            "category-name-wrapper": "Store_category-name-wrapper__FsVxq",
            "category-name": "Store_category-name__GooTT",
            "is-primary": "Store_is-primary__Z_04G",
            "is-dark": "Store_is-dark__Sm4FD",
            "category-content-wrapper": "Store_category-content-wrapper___AIFk",
            "category-content": "Store_category-content__WupRo",
            storeHeader: "Store_storeHeader__egPB5",
            "store-title": "Store_store-title__sJ_pw",
            "store-description": "Store_store-description__uKLZP",
            "exit-btn": "Store_exit-btn__ok6sJ",
            "store-sell-dialog-content": "Store_store-sell-dialog-content__7M91p",
            "item-subtitle": "Store_item-subtitle__6jSul",
            "sell-section": "Store_sell-section__gCrot",
            "sell-quantity": "Store_sell-quantity__rQW5g",
            "sell-btn": "Store_sell-btn__FZOyn",
            "no-sell-price": "Store_no-sell-price__SV5GA"
        }
    },
    67179: function(e) {
        e.exports = {
            container: "HelpDlg_container__f7vXp",
            flow: "HelpDlg_flow__fwCyg",
            section: "HelpDlg_section__nMPSV",
            flowlinks: "HelpDlg_flowlinks__piBWk"
        }
    },
    357: function(e) {
        e.exports = {
            modalframe: "ImagePopup_modalframe__0oxfp",
            modelessframe: "ImagePopup_modelessframe__iS20_",
            innerframe: "ImagePopup_innerframe__vjB4V",
            modalimage: "ImagePopup_modalimage__PZP7E",
            zoomimage: "ImagePopup_zoomimage__ow1Rj"
        }
    },
    30211: function(e) {
        e.exports = {
            container: "Infiniportal_container__pGroD",
            farmsList: "Infiniportal_farmsList__q1kDa",
            tabContent: "Infiniportal_tabContent__kDwtF",
            active: "Infiniportal_active__u3QWd",
            farmsListContainer: "Infiniportal_farmsListContainer__1a8Zu",
            farm: "Infiniportal_farm__jHyB0",
            manualInputContainer: "Infiniportal_manualInputContainer__sC8_t",
            joinButton: "Infiniportal_joinButton__8tR52",
            goButton: "Infiniportal_goButton__SA09N",
            featuredMapsWrapper: "Infiniportal_featuredMapsWrapper__gUfCT",
            featuredName: "Infiniportal_featuredName__QzziC",
            featuredDescription: "Infiniportal_featuredDescription__b9jIh",
            featuredSubtitle: "Infiniportal_featuredSubtitle__HjZBn",
            tabsContainer: "Infiniportal_tabsContainer__9D6ke",
            tabButtonsContainer: "Infiniportal_tabButtonsContainer__0_hT_",
            tabButton: "Infiniportal_tabButton__ngwmO"
        }
    },
    79989: function(e) {
        e.exports = {
            inventoryContainer: "InventoryWindow_inventoryContainer__kDLsJ",
            inventoryHeader: "InventoryWindow_inventoryHeader__ILZMh",
            backpack: "InventoryWindow_backpack__o9lPi",
            inventoryContent: "InventoryWindow_inventoryContent__Sl2au",
            closeBtn: "InventoryWindow_closeBtn__ioczI",
            tempStorage: "InventoryWindow_tempStorage__XEdnC",
            inventoryItemBackground: "InventoryWindow_inventoryItemBackground__gVH_0",
            empty: "InventoryWindow_empty__9DBQT",
            prev: "InventoryWindow_prev__zmxcA",
            next: "InventoryWindow_next__e3Fnc",
            storage: "InventoryWindow_storage__v2sZq",
            mapstorage: "InventoryWindow_mapstorage__pxISk",
            petstorage: "InventoryWindow_petstorage__hvLTT",
            disabled: "InventoryWindow_disabled___wmBw",
            trade: "InventoryWindow_trade__LPFO9",
            otherPlayerWrapper: "InventoryWindow_otherPlayerWrapper___UWv4",
            receiveCoins: "InventoryWindow_receiveCoins__hstP_",
            tradevalue: "InventoryWindow_tradevalue__08Ccj",
            selfPlayerWrapper: "InventoryWindow_selfPlayerWrapper__d1dYI",
            taxedCoins: "InventoryWindow_taxedCoins__1xn8U",
            inventorySlotWrapper: "InventoryWindow_inventorySlotWrapper__gqhxP",
            character: "InventoryWindow_character__m3gHP",
            username: "InventoryWindow_username__jfMo1",
            tradeCoins: "InventoryWindow_tradeCoins__GW9iC",
            tradeSlotWrapper: "InventoryWindow_tradeSlotWrapper__eByzV",
            coinQuantity: "InventoryWindow_coinQuantity__5_jqX",
            tradeQuantity: "InventoryWindow_tradeQuantity__eK6Ic",
            tradeArrowLeft: "InventoryWindow_tradeArrowLeft__Vitmm",
            tradeArrowRight: "InventoryWindow_tradeArrowRight__5Y10E",
            agreeToTradeSlot: "InventoryWindow_agreeToTradeSlot__oGv2d",
            tradeButtons: "InventoryWindow_tradeButtons__Nf8Dd",
            confirmationBoxContainer: "InventoryWindow_confirmationBoxContainer__wGCdp",
            confirmationBox: "InventoryWindow_confirmationBox__WyNhm",
            confirmationBoxButtons: "InventoryWindow_confirmationBoxButtons__B1ts5",
            inventoryEmptyMsg: "InventoryWindow_inventoryEmptyMsg__P2Nlp",
            page: "InventoryWindow_page__e62w5",
            current: "InventoryWindow_current__HVao6",
            inventoryBox: "InventoryWindow_inventoryBox__in74A",
            unusableSlot: "InventoryWindow_unusableSlot__CNvyW",
            inventoryIdx: "InventoryWindow_inventoryIdx__Q4h_r",
            inventoryItem: "InventoryWindow_inventoryItem__z7YhV",
            itemHealthBarContainer: "InventoryWindow_itemHealthBarContainer__dkqO_",
            itemQuantity: "InventoryWindow_itemQuantity__SNjQU",
            itemImage: "InventoryWindow_itemImage__0KLPV",
            itemTier: "InventoryWindow_itemTier__Adyf8",
            itemHealthBar: "InventoryWindow_itemHealthBar__oAJGb",
            activeRow: "InventoryWindow_activeRow__mloTV",
            selected: "InventoryWindow_selected__FU0V1",
            inventoryName: "InventoryWindow_inventoryName__DhIWc",
            inventoryNameInput: "InventoryWindow_inventoryNameInput__R6cxL"
        }
    },
    63446: function(e) {
        e.exports = {
            container: "LandAndTravel_container__WCM6U",
            header: "LandAndTravel_header__irEHu",
            title: "LandAndTravel_title__6WrMk",
            buttonClose: "LandAndTravel_buttonClose__ccrJI",
            customHeader: "LandAndTravel_customHeader__goUPo",
            buttonCancelOption: "LandAndTravel_buttonCancelOption__brQ9g",
            tabs: "LandAndTravel_tabs__L8FHU",
            tab: "LandAndTravel_tab__LD39V",
            content: "LandAndTravel_content__b_dal",
            options: "LandAndTravel_options__CqxIb",
            option: "LandAndTravel_option__P_QSA",
            optionTitle: "LandAndTravel_optionTitle__hL8_4",
            optionPrice: "LandAndTravel_optionPrice__lSnW_",
            optionButtons: "LandAndTravel_optionButtons__5tDIJ",
            numberInput: "LandAndTravel_numberInput__Re9sf",
            mapsSquare: "LandAndTravel_mapsSquare__vG99V",
            stretchOption: "LandAndTravel_stretchOption___KhRt",
            subtitle: "LandAndTravel_subtitle__Uy4zk",
            description: "LandAndTravel_description__5uLmH",
            mapSquare: "LandAndTravel_mapSquare__LuVEh",
            removeBookmarkButton: "LandAndTravel_removeBookmarkButton__0dmfx",
            buttonTeleport: "LandAndTravel_buttonTeleport__Z6fS4",
            myLandRefresh: "LandAndTravel_myLandRefresh__99_ld"
        }
    },
    36500: function(e) {
        e.exports = {
            container: "MailBox_container__W9hXq",
            collectButton: "MailBox_collectButton__g6ERX",
            collectAllButton: "MailBox_collectAllButton__yi4P_",
            mailboxItemWrapper: "MailBox_mailboxItemWrapper__tcY_A",
            title: "MailBox_title__dGyJY",
            description: "MailBox_description__EpTNw",
            rewardText: "MailBox_rewardText__cl2gz"
        }
    },
    33472: function(e) {
        e.exports = {
            container: "Marketplace_container__nQQtb",
            content: "Marketplace_content__MWwNh",
            categories: "Marketplace_categories__c9VZC",
            category: "Marketplace_category__qStmo",
            right: "Marketplace_right__s_US4",
            filter: "Marketplace_filter__3ynr2",
            items: "Marketplace_items__Jw4De",
            item: "Marketplace_item__l__LM",
            itemTier: "Marketplace_itemTier__d_y0l",
            itemImage: "Marketplace_itemImage__n_Wal",
            itemName: "Marketplace_itemName__Recoz",
            viewListings: "Marketplace_viewListings__q_KfD",
            active: "Marketplace_active__KxmXe",
            buyContainer: "Marketplace_buyContainer__ruc_l",
            buyContent: "Marketplace_buyContent__rshYX",
            imageTierContainer: "Marketplace_imageTierContainer__9JiTw",
            props: "Marketplace_props__ZJx5j",
            prop: "Marketplace_prop__fTsfy",
            buttons: "Marketplace_buttons__Imxzy",
            button: "Marketplace_button__x_SGP",
            listings: "Marketplace_listings___IWt_",
            listing: "Marketplace_listing__zE8Bz",
            listingName: "Marketplace_listingName__4LEld",
            listingQuantity: "Marketplace_listingQuantity__S4ZQ6",
            listingPrice: "Marketplace_listingPrice__WQHOB",
            header: "Marketplace_header__OiH_T",
            remove: "Marketplace_remove__vDlE2",
            add: "Marketplace_add__G9bQG"
        }
    },
    79049: function(e) {
        e.exports = {
            container: "MarketplaceAddListing_container__54A37",
            hotlink: "MarketplaceAddListing_hotlink__Cp9YM",
            content: "MarketplaceAddListing_content__8o7Gx",
            item: "MarketplaceAddListing_item__U9_y3",
            image: "MarketplaceAddListing_image__OTPU8",
            tier: "MarketplaceAddListing_tier__jsdii",
            props: "MarketplaceAddListing_props__HTyzi",
            prop: "MarketplaceAddListing_prop__Aqxnc",
            listinginfo: "MarketplaceAddListing_listinginfo__PjDEl",
            taxedCurrencyIcon: "MarketplaceAddListing_taxedCurrencyIcon__qyqew",
            currencyButton: "MarketplaceAddListing_currencyButton__yNbKa",
            buttons: "MarketplaceAddListing_buttons__wSc7Q",
            button: "MarketplaceAddListing_button__Mzvuz",
            active: "MarketplaceAddListing_active___afe8",
            listings: "MarketplaceAddListing_listings__RCDh9",
            listing: "MarketplaceAddListing_listing__M8hPl",
            listingName: "MarketplaceAddListing_listingName__SA7lX",
            listingQuantity: "MarketplaceAddListing_listingQuantity__yhL8t",
            listingPrice: "MarketplaceAddListing_listingPrice__afLvG",
            header: "MarketplaceAddListing_header__Q8oBD",
            remove: "MarketplaceAddListing_remove__0nkiZ",
            add: "MarketplaceAddListing_add__hyrWW"
        }
    },
    64065: function(e) {
        e.exports = {
            container: "MarketplaceItemListings_container__Ta40D",
            content: "MarketplaceItemListings_content__eeHjR",
            item: "MarketplaceItemListings_item__b7bZm",
            imageTierContainer: "MarketplaceItemListings_imageTierContainer__QbrET",
            itemTier: "MarketplaceItemListings_itemTier__Dl3eE",
            listings: "MarketplaceItemListings_listings__UGfIe",
            listing: "MarketplaceItemListings_listing__TyllF",
            buyListing: "MarketplaceItemListings_buyListing__jYwuF",
            active: "MarketplaceItemListings_active__4tFvM",
            current: "MarketplaceItemListings_current__NPRAo",
            amount: "MarketplaceItemListings_amount__IyJRp",
            buttons: "MarketplaceItemListings_buttons__LNftA",
            currencyButton: "MarketplaceItemListings_currencyButton__4Ec06",
            currencyBadge: "MarketplaceItemListings_currencyBadge__XsEz9",
            props: "MarketplaceItemListings_props__LIPKc",
            prop: "MarketplaceItemListings_prop__MnrKV"
        }
    },
    6959: function(e) {
        e.exports = {
            container: "MarketplaceListings_container__FnIzt",
            content: "MarketplaceListings_content__5AGlQ",
            listings: "MarketplaceListings_listings__ptYG9",
            listing: "MarketplaceListings_listing__WlDih",
            listingName: "MarketplaceListings_listingName__raM01",
            listingTier: "MarketplaceListings_listingTier__naUpY",
            itemName: "MarketplaceListings_itemName__cogpO",
            listingQuantity: "MarketplaceListings_listingQuantity__Me78U",
            listingPrice: "MarketplaceListings_listingPrice__FZ_hk",
            listingFee: "MarketplaceListings_listingFee__52FcV",
            header: "MarketplaceListings_header__bOU92",
            remove: "MarketplaceListings_remove__S19ox",
            active: "MarketplaceListings_active__VbhDY"
        }
    },
    66382: function(e) {
        e.exports = {
            "hover-cover": "NFTCard_hover-cover__mIyEq"
        }
    },
    42487: function(e) {
        e.exports = {
            dialog5: "GameDialog_dialog5__ZBFqO",
            content: "GameDialog_content__dE2Xj",
            messageBox: "GameDialog_messageBox___s2tN",
            message: "GameDialog_message__4kY4E",
            blowhard: "GameDialog_blowhard__b0jEk",
            avatar: "GameDialog_avatar__bPdln",
            avatarname: "GameDialog_avatarname__elhuJ",
            buttons: "GameDialog_buttons__AIhXL",
            back: "GameDialog_back__K4Jl4",
            skip: "GameDialog_skip__Y5RGE",
            showVerticalBackground: "GameDialog_showVerticalBackground__HmFLs"
        }
    },
    72272: function(e) {
        e.exports = {
            root: "Notifications_root__T0f32",
            background: "Notifications_background__SB4tT",
            "notification-animation-incoming": "Notifications_notification-animation-incoming__OLu1g",
            backgroundOutgoing: "Notifications_backgroundOutgoing__wJ47I",
            "notification-animation-outgoing": "Notifications_notification-animation-outgoing__9Ms7u",
            iconBackground: "Notifications_iconBackground__qJPdH",
            textContainer: "Notifications_textContainer__7WhG8",
            text: "Notifications_text__ak1FH",
            duplicatesContainer: "Notifications_duplicatesContainer__Pu5t_"
        }
    },
    81189: function(e) {
        e.exports = {
            overlayWindow: "overlay_overlayWindow__c8gaU",
            closeButton: "overlay_closeButton__D9f0h",
            scrollArea: "overlay_scrollArea__99yjI",
            username: "overlay_username__q_OHa"
        }
    },
    82499: function(e) {
        e.exports = {
            loading: "pets_loading__JSqCK",
            pet: "pets_pet__5TvtI",
            box: "pets_box__3GQyu",
            disabled: "pets_disabled__2FUPi",
            space: "pets_space__tCp5D",
            character: "pets_character___OFmt",
            land: "pets_land__BTcJW",
            water: "pets_water__eADiW",
            hatching: "pets_hatching__hDBLE",
            petpic: "pets_petpic__OA9Wk",
            walkoff: "pets_walkoff__EZv4H",
            logo: "pets_logo__u3dzX",
            stats: "pets_stats__v8lsv",
            stat: "pets_stat__BseFR",
            name: "pets_name__35nne",
            longname: "pets_longname__MP6o2",
            transitioning: "pets_transitioning__Bwln8",
            back: "pets_back__bLOBn",
            petwrap: "pets_petwrap__oXczE",
            cardsAndButton: "pets_cardsAndButton__A00vu",
            petlist: "pets_petlist__HPj2b",
            petposition: "pets_petposition__pqEe2",
            buttons: "pets_buttons__VvZmN",
            arrow: "pets_arrow__cF_zE",
            petbutton: "pets_petbutton__N8PzX",
            petdetails: "pets_petdetails__mQrWx",
            petview: "pets_petview__d7HBM",
            pettoprow: "pets_pettoprow__ib_Th",
            petbackground: "pets_petbackground__HCT__",
            petname: "pets_petname__Yfhbo",
            error: "pets_error__RKXXC",
            happiness: "pets_happiness__1HLjv",
            happinesslabel: "pets_happinesslabel__cEoLB",
            happinessbar: "pets_happinessbar__DO_CW",
            petstreaks: "pets_petstreaks__IUpYd",
            petstatus: "pets_petstatus__MRexU",
            inventorystatus: "pets_inventorystatus__ChKw8",
            inventory: "pets_inventory__SMWWE",
            buttonbar: "pets_buttonbar__JS7_N",
            traits: "pets_traits__p705v",
            petreveal: "pets_petreveal__WcmG_",
            fadeon: "pets_fadeon__T6F78",
            closeBtn: "pets_closeBtn__r3u3y",
            fadeono: "pets_fadeono__Xih2e",
            selectPet: "pets_selectPet__zMW0_",
            borderbackground: "pets_borderbackground__HWsnH",
            goldborder: "pets_goldborder__sgKVv",
            insetbackground: "pets_insetbackground___lZcc",
            preload: "pets_preload__x0K0W",
            petpicshadow: "pets_petpicshadow__yYMaA",
            walkon: "pets_walkon__swbio",
            petnamecontainer: "pets_petnamecontainer__cze78",
            zoomin: "pets_zoomin__qgA_I",
            petnameoutline: "pets_petnameoutline__FEl_l",
            goldbg: "pets_goldbg__IiFQe",
            dissolve: "pets_dissolve__XijYb",
            pixel: "pets_pixel__sc8BO",
            fade: "pets_fade__J_Co_"
        }
    },
    53358: function(e) {
        e.exports = {
            buttonbar: "profile_buttonbar__inyAQ",
            fillflex: "profile_fillflex___uSBQ",
            username: "profile_username__LRdwg",
            playerinfo: "profile_playerinfo__7vLtp",
            label: "profile_label__JtBD0",
            value: "profile_value__xnr2v",
            created: "profile_created__gvpSo",
            memberships: "profile_memberships__N840w",
            vipSub: "profile_vipSub__tbWRt",
            sub: "profile_sub__eM058",
            balances: "profile_balances__RbYmn",
            balanceentry: "profile_balanceentry__rzCl3",
            contextmenu: "profile_contextmenu__PtyDG",
            playerButtonsContainer: "profile_playerButtonsContainer__LNEnp"
        }
    },
    12385: function(e) {
        e.exports = {
            playersWindow: "Profile_playersWindow__oaElk",
            blurbg: "Profile_blurbg__VAn2q",
            closeButton: "Profile_closeButton__1n0Um",
            playericon: "Profile_playericon__3UX1y",
            nftimage: "Profile_nftimage__NE6Of",
            username: "Profile_username__3xvNe",
            tabs: "Profile_tabs__3ohNA",
            active: "Profile_active__ISoO3",
            tabarea: "Profile_tabarea__mvGbb",
            visible: "Profile_visible__EQAMc",
            seamframe: "Profile_seamframe__T3oZA",
            aboutframe: "Profile_aboutframe__sNHLv",
            skillsframe: "Profile_skillsframe__uNBs1",
            playerbuttons: "Profile_playerbuttons__pLbjB",
            vipindicator: "Profile_vipindicator___c8vd"
        }
    },
    10930: function(e) {
        e.exports = {
            window: "ReportWindow_window__OzzGM",
            input: "ReportWindow_input__SVdWK",
            buttonbar: "ReportWindow_buttonbar__2ZZ5I",
            send: "ReportWindow_send__UUttD",
            cancel: "ReportWindow_cancel__V3KqP",
            other: "ReportWindow_other__wAovr"
        }
    },
    67345: function(e) {
        e.exports = {
            container: "SettingsWindow_container__n49mI",
            box: "SettingsWindow_box__j8FBV",
            title: "SettingsWindow_title__IL8i1",
            setting: "SettingsWindow_setting__Rqjlp",
            name: "SettingsWindow_name__iA7xz",
            slider: "SettingsWindow_slider__sNczl"
        }
    },
    70697: function(e) {
        e.exports = {
            skillPopup: "Skills_skillPopup__WiCoX",
            skillContainer: "Skills_skillContainer__b6QuI",
            skillsPanel: "Skills_skillsPanel__mVV0r",
            skillSlot: "Skills_skillSlot__A6YVV",
            skillContent: "Skills_skillContent__Pin9G",
            skillBar: "Skills_skillBar__q6qA_",
            skillData: "Skills_skillData__TchNN",
            skillBaseBar: "Skills_skillBaseBar__g5Zqb",
            skillFilledBar: "Skills_skillFilledBar__Ry4WY",
            skillPoints: "Skills_skillPoints__xvU6j",
            numerator: "Skills_numerator__Srgda",
            denominator: "Skills_denominator__JSVAT",
            skillDivider: "Skills_skillDivider__0whMd"
        }
    },
    65356: function(e) {
        e.exports = {
            container: "TermsOfService_container__4O13w",
            content: "TermsOfService_content__77npS",
            buttons: "TermsOfService_buttons__Qyuvz"
        }
    },
    51825: function(e) {
        e.exports = {
            container: "Hud_container__0PwNm",
            top: "Hud_top__nZRRz",
            outside: "Hud_outside__zzIGQ",
            left: "Hud_left__mQoqW",
            topLeftBackground: "Hud_topLeftBackground__OhgQS",
            berry: "Hud_berry__6A2FS",
            pixelcoin: "Hud_pixelcoin__EUbKE",
            energy: "Hud_energy__67nU9",
            emptybar: "Hud_emptybar__O_4oe",
            filledbar: "Hud_filledbar__lT290",
            energytext: "Hud_energytext__3PQZQ",
            profile: "Hud_profile__gxMep",
            craftingDoneBadge: "Hud_craftingDoneBadge__F2_QV",
            right: "Hud_right__QJpt5",
            topRightBackground: "Hud_topRightBackground__z4cEZ",
            arrowLeft: "Hud_arrowLeft__cXlHj",
            arrowRight: "Hud_arrowRight__WSmTI",
            leftarrow: "Hud_leftarrow__dD5Wk",
            rightarrow: "Hud_rightarrow__bqtFY",
            quests: "Hud_quests__DaLW3",
            questcount: "Hud_questcount__MoHmh",
            mailbox: "Hud_mailbox__qj4Ou",
            mailBadge: "Hud_mailBadge__lK4OW",
            mailBadgePlus: "Hud_mailBadgePlus__HuwGe",
            bottom: "Hud_bottom__P9XWZ",
            itemMessageContainer: "Hud_itemMessageContainer__PHpRT",
            itemMessage: "Hud_itemMessage__L0LUm",
            itemImage: "Hud_itemImage__TNSfp",
            slidingGroup: "Hud_slidingGroup__ZaO10",
            leftButton: "Hud_leftButton__1fv1P",
            rightButton: "Hud_rightButton__4AX4I",
            attention: "Hud_attention__7KtP3",
            chat: "Hud_chat__Cf_Ip",
            chatIndicator: "Hud_chatIndicator__2p2qc",
            highlightItem: "Hud_highlightItem__tg_x_",
            topButton: "Hud_topButton__4Z5lK",
            expanded: "Hud_expanded__QJoAM",
            itemsTop: "Hud_itemsTop__cYzyR",
            itemsRest: "Hud_itemsRest___9h8b",
            itemClip: "Hud_itemClip__Ph5Xx",
            itemList: "Hud_itemList__PCP7A",
            item: "Hud_item__YGtIC",
            selected: "Hud_selected__k_eUw",
            tier: "Hud_tier__dxNOH",
            shortcut: "Hud_shortcut__UvE3h",
            quantity: "Hud_quantity__V_YWQ",
            selectedItem: "Hud_selectedItem__2FUeg",
            selectedClip: "Hud_selectedClip__WacmD",
            selectedItemImg: "Hud_selectedItemImg__tGsZg",
            selectedQuantity: "Hud_selectedQuantity__9Jbas",
            itemHealthBarContainer: "Hud_itemHealthBarContainer__G6K1R",
            itemHealthBar: "Hud_itemHealthBar__bNVOW"
        }
    },
    78009: function(e) {
        e.exports = {
            uiContainer: "UIContainer_uiContainer__k_NnG",
            roundButton: "UIContainer_roundButton__1k5Q6",
            roomInfo: "UIContainer_roomInfo__RWXgy",
            infoButton: "UIContainer_infoButton__BXlXa",
            logoutButton: "UIContainer_logoutButton__Re_4x",
            homeButton: "UIContainer_homeButton__2zamy",
            changeNftButton: "UIContainer_changeNftButton__Vo54N"
        }
    },
    34949: function(e) {
        e.exports = {
            itemTooltip: "ItemStyles_itemTooltip__BFgNu",
            tooltipTitle: "ItemStyles_tooltipTitle____kIs",
            ttDescription: "ItemStyles_ttDescription__U1TxW",
            ttUtility: "ItemStyles_ttUtility__R8Z3_"
        }
    }
}]);

(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[346], {
    94184: function(o, _) {
        var n;
        !function() {
            "use strict";
            var e = {}.hasOwnProperty;
            function m() {
                for (var o = [], _ = 0; _ < arguments.length; _++) {
                    var n = arguments[_];
                    if (n) {
                        var r = typeof n;
                        if ("string" === r || "number" === r)
                            o.push(n);
                        else if (Array.isArray(n)) {
                            if (n.length) {
                                var c = m.apply(null, n);
                                c && o.push(c)
                            }
                        } else if ("object" === r) {
                            if (n.toString !== Object.prototype.toString && !n.toString.toString().includes("[native code]")) {
                                o.push(n.toString());
                                continue
                            }
                            for (var s in n)
                                e.call(n, s) && n[s] && o.push(s)
                        }
                    }
                }
                return o.join(" ")
            }
            o.exports ? (m.default = m,
            o.exports = m) : void 0 !== (n = (function() {
                return m
            }
            ).apply(_, [])) && (o.exports = n)
        }()
    },
    51813: function(o) {
        o.exports = {
            colorGreen: "commons_colorGreen__ntSzQ",
            colorGreen2: "commons_colorGreen2__vXOUX",
            colorOrange: "commons_colorOrange__30QqG",
            colorYellow: "commons_colorYellow__N2ixy",
            filterGray: "commons_filterGray___41iM",
            balanceDisplay: "commons_balanceDisplay__NSs8e",
            "coin-icon": "commons_coin-icon__CtrwT",
            coinBalance: "commons_coinBalance__d9sah",
            coinCost: "commons_coinCost__CbysW",
            brandFontTitle: "commons_brandFontTitle___B8se",
            brandFont: "commons_brandFont__FXNW4",
            brandFont2: "commons_brandFont2__oCj9_",
            toolTip: "commons_toolTip__tZzXo",
            hideTooltip: "commons_hideTooltip__R0hem",
            modalBackdrop: "commons_modalBackdrop__EOPaN",
            tabs: "commons_tabs__Zvy9m",
            activetab: "commons_activetab__LMWoM",
            brandedBox: "commons_brandedBox__r1BKn",
            uikit: "commons_uikit__Nmsxg",
            pixelbox: "commons_pixelbox__Pi1bp",
            center: "commons_center__4V2eL",
            inner: "commons_inner__4A1FX",
            closeBtn: "commons_closeBtn__UobaL",
            frame: "commons_frame__f5hXE",
            popup: "commons_popup__jOcGb",
            errorMessage: "commons_errorMessage__pY6Mv",
            scrollArea: "commons_scrollArea__dCnqw",
            fillflex: "commons_fillflex__X9vRl",
            flexsingleline: "commons_flexsingleline__ZKXI1",
            profilewindow: "commons_profilewindow__kLsCU",
            box: "commons_box__z7kQ9",
            green: "commons_green__F7dVP",
            pushbutton: "commons_pushbutton__7Tpa3",
            pink: "commons_pink__GBChl",
            yellow: "commons_yellow__oPrrR",
            navy: "commons_navy__wB4Tu",
            blue: "commons_blue__nUuzu",
            blue2: "commons_blue2__pjuQv",
            orange: "commons_orange__XaKgl",
            black: "commons_black__CSNLQ",
            white: "commons_white__5mrfK",
            purple2: "commons_purple2__YSyJy",
            "pixelbox-inner": "commons_pixelbox-inner__fSULe",
            absolute: "commons_absolute__wPS_f",
            noborder: "commons_noborder__0a6Xt",
            topcenter: "commons_topcenter__Wwkbp",
            orangeinset: "commons_orangeinset__J0Z_n",
            purple: "commons_purple___idw8",
            purpleinset: "commons_purpleinset___KfX2",
            dialogTitle: "commons_dialogTitle__BKwcB",
            standard: "commons_standard__hH3yc",
            arrowBtnLeft: "commons_arrowBtnLeft__vCmJ1",
            arrowBtnRight: "commons_arrowBtnRight__p2FKD",
            hotlink: "commons_hotlink__ZbGVC",
            loading: "commons_loading__tS_BD"
        }
    }
}]);

"use strict";
(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[445], {
    25206: function(t, i, s) {
        s.r(i),
        s.d(i, {
            PixelsSound: function() {
                return h
            },
            phaserAudio: function() {
                return r
            }
        });
        var e = s(82260)
          , o = s.n(e)
          , n = s(80919)
          , a = s(53059)
          , d = s(15624)
          , l = s(35466)
          , u = s(96808);
        class r extends o().Scene {
            preload() {}
            onBlur() {
                this.allPaused = !0
            }
            onFocus() {
                this.allPaused = !1
            }
            create() {
                let t = d.h.getState().game.soundState;
                this.sound.volume = t.global.volume,
                this.musicEnabled = !0 !== t.music.mute,
                t.global.mute ? this.sound.mute = !0 : (this.sound.mute = !1,
                this.mapReady && this.setupMap(!1)),
                n.rV.soundControl.subscribeScene(this, t => {
                    let {soundControlKey: i, mute: s, volume: e} = t;
                    "music" === i && void 0 !== s && !s !== this.musicEnabled && (this.musicEnabled = !s,
                    s ? this.stopMusic() : this.startBackground()),
                    "global" === i && (!0 === s ? this.sound.mute = !0 : !1 === s && this.sound.mute && (this.sound.mute = !1,
                    this.setupMap(!1)),
                    void 0 !== e && (this.sound.volume = null != e ? e : 1))
                }
                ),
                this.game.events.on(o().Core.Events.BLUR, this.onBlur, this),
                this.game.events.on(o().Core.Events.FOCUS, this.onFocus, this),
                this.handleEvent(n.fb.CHAT_MESSAGE_RCV, () => {
                    this.playAudio("snd_ui_chatmsg")
                }
                ),
                this.handleEvent(n.fb.PLAYER_COIN_INVENTORY_CHANGE, t => {
                    t.added > 0 && this.playAudio("snd_ui_coins")
                }
                ),
                this.handleEvent(n.qM.PLAYER_USED_ITEM, t => {
                    this.itemUsed(t)
                }
                ),
                this.handleEvent("CONFIRM_USEITEM", t => {
                    this.itemUseConfirmed(t)
                }
                ),
                this.handleEvent(n.fb.LIBRARY, () => {
                    this.preloadSounds()
                }
                ),
                n.rV.playSound.subscribeScene(this, t => {
                    this.playAudio(t)
                }
                ),
                n.rV.playPositionedSound.subscribeScene(this, t => {
                    this.playAudio(t.id, t.position)
                }
                ),
                this.handleEvent("STOP_SOUND", t => {
                    this.stopAudio(t)
                }
                ),
                this.preloadSounds()
            }
            preloadSounds() {
                if (this.load)
                    return Promise.all([this.loadAudio("snd_ui_click1"), this.loadAudio("snd_ui_coins"), this.loadAudio("snd_ui_inventoryopen"), this.loadAudio("snd_ui_misclick"), this.loadAudio("snd_env_intro"), this.loadAudio("snd_ui_chatmsg")])
            }
            static async loadAudio(t) {
                var i;
                let s = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
                return null === (i = r.instance) || void 0 === i ? void 0 : i.loadAudio(t, s)
            }
            static playAudio(t) {
                var i;
                return null === (i = r.instance) || void 0 === i ? void 0 : i.playAudio(t)
            }
            static fadeInAudio(t) {
                var i;
                return null === (i = r.instance) || void 0 === i ? void 0 : i.fadeInAudio(t)
            }
            static stopAudio(t) {
                var i;
                return null === (i = r.instance) || void 0 === i ? void 0 : i.stopAudio(t)
            }
            handleEvent(t, i) {
                n.ZP.registerEventListener(t, i),
                this.handlers.push({
                    event: t,
                    callback: i
                })
            }
            init(t) {
                console.log("init audio"),
                this.data = t,
                this.events.once("destroy", this.destroy, this)
            }
            destroy() {
                this.handlers.forEach(t => {
                    n.ZP.removeEventListerner(t.event, t.callback)
                }
                ),
                this.handlers = [],
                this.game.events.off(o().Core.Events.BLUR, this.onBlur, this),
                this.game.events.off(o().Core.Events.FOCUS, this.onFocus, this),
                r.instance = void 0
            }
            detune(t) {
                this.sound && this.tweens.add({
                    detune: t,
                    targets: this.sound,
                    duration: 1e3
                })
            }
            async itemUseConfirmed(t) {
                let i = null == t ? void 0 : t.id;
                if (!i)
                    return;
                let s = a.Z.getGameItem(i);
                s && this.playAudio("".concat(s.soundId, ".use"))
            }
            async itemUsed(t) {
                var i, s, e, o;
                let n = null == t ? void 0 : null === (i = t.item) || void 0 === i ? void 0 : i.id;
                if (!n || !t.client)
                    return;
                let l = a.Z.getGameItem(n);
                if (!l)
                    return;
                let r = ["self", "pet"].includes(null === (s = t.target) || void 0 === s ? void 0 : s.type) ? null === (e = t.target) || void 0 === e ? void 0 : e.type : null === (o = t.client) || void 0 === o ? void 0 : o.key;
                if ((0,
                u.ZP)(l, r, t.client.entityType, t.client.cropState, t.mid)) {
                    if (!(0,
                    u.yC)(l, d.h.getState().game.player)) {
                        this.playAudio("snd_ui_lowenergy");
                        return
                    }
                    if (!l.soundId)
                        return;
                    this.playAudio(l.soundId),
                    this.playAudio("".concat(l.soundId, ".click"))
                }
            }
            expandAudio(t) {
                let i = t.match(/^(.*)\.([a-zA-Z0-9]{2,4})(\?.*)$/);
                return (null == i ? void 0 : i[2]) === "ogg" ? ["ogg", "m4a", "ac3", "mp3"].map(t => "".concat(i[1], ".").concat(t).concat(i[3])) : [t]
            }
            async loadSheet(t) {
                let i = (0,
                l.b7)(t)
                  , s = i.lastIndexOf("/")
                  , e = i.substring(s + 1)
                  , n = this.loadedAudio.get(e);
                n || (n = new Promise(t => {
                    let s = this.expandAudio(i);
                    this.load.audio(e, s),
                    this.load.once(o().Loader.Events.COMPLETE, () => {
                        t()
                    }
                    ),
                    this.load.start()
                }
                ),
                this.loadedAudio.set(e, n));
                try {
                    return await n,
                    e
                } catch (t) {
                    console.log("error loading audio", t)
                }
            }
            loadFromSheet(t, i, s) {
                let e = {
                    loop: null == i ? void 0 : i.loop
                };
                try {
                    let o = this.sound.add(t);
                    return s && o.addMarker({
                        name: i.id,
                        start: s.start,
                        duration: s.end - s.start,
                        config: e
                    }),
                    o
                } catch (t) {
                    console.log("audio not loaded", t)
                }
            }
            wipeSound(t) {
                let i = this.loadedSounds.get(t);
                null == i || i.then(t => {
                    null == t || t.free()
                }
                ),
                this.backgroundLoops.delete(t),
                this.loadedSounds.delete(t),
                this.backgroundEffects.delete(t)
            }
            async setupMap(t) {
                if (this.mapReady = !0,
                !this.sound)
                    return;
                let i = a.Z.getMapSounds();
                if (!i || 0 === i.length) {
                    let t = a.Z.getMapLabels();
                    i = (null == t ? void 0 : t.includes("water")) ? ["snd_music_baseline", "snd_env_water", "snd_music_water_mild", "snd_music_water_wild"] : (null == t ? void 0 : t.includes("space")) ? ["snd_music_baseline", "snd_env_space", "snd_music_space_wild", "snd_music_space_mild"] : (null == t ? void 0 : t.includes("land")) ? ["snd_music_baseline", "snd_env_mountain", "snd_music_mild"] : ["snd_music_baseline"]
                }
                if (i) {
                    let s = Array.from(this.backgroundLoops.keys()).filter(t => !i.includes(t));
                    if (s.forEach(t => {
                        this.wipeSound(t)
                    }
                    ),
                    (s = Array.from(this.backgroundEffects.keys()).filter(t => !i.includes(t))).forEach(t => {
                        this.wipeSound(t)
                    }
                    ),
                    this.sound.mute && !1 !== t) {
                        console.log("sound is muted, no music starting");
                        return
                    }
                    let e = i.map(t => this.loadAudio(t))
                      , o = !1
                      , n = !1;
                    Promise.all(e).then(t => {
                        t.forEach(t => {
                            if (t && t.bits) {
                                if ("music" === t.sounddata.kind) {
                                    var i;
                                    this.backgroundLoops.set(t.sounddata.id, t),
                                    (null === (i = t.bits) || void 0 === i ? void 0 : i.isPlaying) ? o = !0 : n = !0
                                } else
                                    "background" === t.sounddata.kind && (t.sounddata.loop ? this.backgroundLoops.set(t.sounddata.id, t) : this.backgroundEffects.set(t.sounddata.id, t))
                            }
                        }
                        ),
                        this.musicEnabled && o && n ? (console.log("resyncing audio"),
                        this.backgroundLoops.forEach(t => {
                            "music" === t.sounddata.kind && t.bits.isPlaying ? t.fade(1e3, 0) : "background" === t.sounddata.kind && (t.bits.isPlaying ? t.fade(5e3) : (t.playSilent(),
                            t.fade(5e3, void 0, 0)))
                        }
                        ),
                        setTimeout( () => {
                            this.backgroundLoops.forEach(t => {
                                "music" === t.sounddata.kind && t.stop(0)
                            }
                            ),
                            this.startBackground()
                        }
                        , 1e3)) : this.startBackground(),
                        this.processBackground()
                    }
                    )
                }
                this.loadAudio("snd_ui_npctalk")
            }
            startBackground() {
                this.backgroundLoops.forEach(t => {
                    var i, s;
                    if (!1 === t.bits.isPlaying) {
                        if (!this.musicEnabled && "music" === t.sounddata.kind)
                            return;
                        t.playSilent(),
                        (null === (i = t.sounddata) || void 0 === i ? void 0 : i.musictype) === "baseline" && t.fade(5e3, void 0, 0)
                    } else
                        console.log("".concat(null === (s = t.sounddata) || void 0 === s ? void 0 : s.id, " already playing"))
                }
                )
            }
            stopMusic() {
                this.backgroundLoops.forEach(t => {
                    t.bits.isPlaying && "music" === t.sounddata.kind && t.stop()
                }
                )
            }
            processBackground() {
                this.timer && (clearInterval(this.timer),
                this.timer = void 0),
                this.timer = setInterval( () => {
                    let t = 0;
                    this.backgroundEffects.forEach(i => {
                        if (i.sounddata && i.bits && Math.random() * (i.sounddata.interval || 60) < 15) {
                            let s, e = i.sounddata.volume || 1;
                            i.position ? (e = this.calcVolume(i),
                            (s = [this.calcPan(i.position)])[1] = s[0]) : (e *= .05 + .95 * Math.random(),
                            (s = [Math.random() - .5])[1] = s[0] + Math.random() - .5),
                            !i.bits.isPlaying && e > .1 && (setTimeout( (t, i, s) => {
                                t.playSilent(),
                                t.fade(0, i),
                                s && t.bits && t.pan(s[0], s[1], 1e3 * t.bits.totalDuration)
                            }
                            , t, i, e, s),
                            t += 5e3)
                        }
                    }
                    ),
                    this.musicEnabled && this.backgroundLoops.forEach(t => {
                        var i;
                        t.bits && (null === (i = t.sounddata) || void 0 === i ? void 0 : i.musictype) !== "baseline" && t.elapsed > 60 && .2 > Math.random() && (t.volume < .1 && !this.positionalPlaying ? t.fade(12e3) : t.fade(12e3, 0))
                    }
                    )
                }
                , 15e3)
            }
            async clearPositional() {
                let t = Array.from(this.positionalSounds.values());
                this.positionalSounds.clear(),
                t.forEach(t => {
                    null == t || t.free()
                }
                ),
                this.lastPosition = void 0,
                this.timer && (clearInterval(this.timer),
                this.timer = void 0)
            }
            addPositional(t, i, s) {
                this.loadAudio(i, !1).then(i => {
                    if (!i || !i.bits)
                        return;
                    i.position = s,
                    i.id = t;
                    let e = this.positionalSounds.get(t);
                    null == e || e.free(),
                    this.positionalSounds.set(t, i),
                    this.lastPosition && this.updatePosition(this.lastPosition)
                }
                )
            }
            removePositional(t) {
                let i = this.positionalSounds.get(t);
                i && (i.free(),
                this.positionalSounds.delete(t))
            }
            calcPan(t) {
                if (!this.lastPosition || !t)
                    return 0;
                let i = (0,
                l._O)(this.lastPosition, t);
                return i > Math.PI ? i = 2 * Math.PI - i : i < 0 && (i = -i),
                .5 - i / Math.PI
            }
            calcVolumeMultiple(t) {
                return this.lastPosition ? Math.min(1, 1e4 / (1 + (0,
                l.DJ)(this.lastPosition, t))) : .1
            }
            calcVolume(t) {
                var i;
                if (!t.position)
                    return 0;
                let s = this.calcVolumeMultiple(t.position) * ((null === (i = t.sounddata) || void 0 === i ? void 0 : i.volume) || 1);
                return s < .002 && (s = 0),
                s
            }
            updatePosition(t) {
                this.lastPosition = t,
                this.positionalPlaying = !1,
                this.positionalSounds.forEach(t => {
                    if (!t.position)
                        return;
                    let i = this.calcVolume(t);
                    if (i > 0) {
                        let e = this.calcPan(t.position);
                        if (!t.isPlaying) {
                            var s;
                            ((null === (s = t.sounddata) || void 0 === s ? void 0 : s.loop) || .02 >= Math.random()) && (t.playSilent(),
                            t.volume = i)
                        }
                        t.fade(0, i),
                        t.setPan(e),
                        this.positionalPlaying = !0
                    } else
                        t.stop()
                }
                ),
                this.positionalPlaying && this.fadeWildTrack()
            }
            fadeWildTrack() {
                this.backgroundLoops.forEach(t => {
                    var i;
                    t.bits && (null === (i = t.sounddata) || void 0 === i ? void 0 : i.musictype) === "wild" && t.fade(2e3, 0)
                }
                )
            }
            stopAudio(t) {
                let i = this.loadedSounds.get(t);
                i || console.log("sound ".concat(t, " not found")),
                null == i || i.then(t => {
                    null == t || t.stop()
                }
                )
            }
            async fadeInAudio(t) {
                let i;
                let s = this.loadedSounds.get(t);
                if (s)
                    i = await s;
                else {
                    var e, n;
                    let s = a.Z.getGameSound(t);
                    if (!s) {
                        console.log("sound ".concat(t, " not found"));
                        return
                    }
                    if ((i = new h).sounddata = s,
                    null === (e = s.sheet) || void 0 === e ? void 0 : e.url) {
                        let e = await this.loadSheet(null === (n = s.sheet) || void 0 === n ? void 0 : n.url);
                        e && (i.bits = this.loadFromSheet(e, s, s.sheet),
                        i.marker = t)
                    } else if (s.url) {
                        let t = await this.loadSheet(s.url);
                        t && (i.bits = this.loadFromSheet(t, s))
                    }
                    i.bits && i.bits.once(o().Sound.Events.COMPLETE, i.bits.destroy, i.bits)
                }
                return (null == i ? void 0 : i.bits) && (i.playSilent(),
                i.fade(2e3, void 0, 0)),
                i
            }
            async playAudio(t, i) {
                var s, e, n, d;
                let l = this.loadedSounds.get(t)
                  , u = i ? this.calcVolumeMultiple(i) : void 0
                  , r = i ? this.calcPan(i) : void 0;
                if (l) {
                    let t = await l;
                    if (!(null == t ? void 0 : null === (e = t.sounddata) || void 0 === e ? void 0 : e.loop) && this.allPaused)
                        return;
                    return null == t || t.play(u, r),
                    t
                }
                let c = a.Z.getGameSound(t);
                if (!c || !c.loop && this.allPaused)
                    return;
                if (c.loop) {
                    let i = await this.loadAudio(t, !0);
                    null == i || i.play(u, r);
                    return
                }
                let v = Date.now();
                if (v - (null !== (n = this.lastPlayed.get(t)) && void 0 !== n ? n : 0) < 30)
                    return;
                this.lastPlayed.set(t, v);
                let p = new h;
                if (p.sounddata = c,
                null === (s = c.sheet) || void 0 === s ? void 0 : s.url) {
                    let i = await this.loadSheet(null === (d = c.sheet) || void 0 === d ? void 0 : d.url);
                    i && (p.bits = this.loadFromSheet(i, c, c.sheet),
                    p.marker = t)
                } else if (c.url) {
                    let t = await this.loadSheet(c.url);
                    t && (p.bits = this.loadFromSheet(t, c))
                }
                return p.bits && (p.bits.once(o().Sound.Events.COMPLETE, p.bits.destroy, p.bits),
                p.play(u, r)),
                p
            }
            async loadNewSound(t) {
                var i;
                let s = a.Z.getGameSound(t);
                if (!s) {
                    console.log("".concat(t, " not found in sound library"));
                    return
                }
                let e = new h;
                if (e.sounddata = {
                    ...s
                },
                null === (i = s.sheet) || void 0 === i ? void 0 : i.url) {
                    let t = await this.loadSheet(s.sheet.url);
                    t && (e.bits = this.loadFromSheet(t, s, s.sheet)),
                    e.marker = s.id
                } else if (s.url) {
                    console.log("".concat(t, " needs encoding"));
                    return
                } else {
                    console.log("sound url not set for ".concat(t));
                    return
                }
                return e
            }
            async loadAudio(t) {
                let i = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
                if (this.loadedSounds.has(t))
                    return i ? this.loadedSounds.get(t) : (console.log("WARNING. ".concat(t, " loaded more than once. Be sure second copy is disposed")),
                    this.loadNewSound(t));
                let s = this.loadNewSound(t);
                return i && (this.loadedSounds.set(t, s),
                s.then(i => {
                    i || this.loadedSounds.delete(t)
                }
                )),
                s
            }
            constructor() {
                super({
                    key: "audio",
                    active: !0,
                    visible: !1
                }),
                this.mapReady = !1,
                this.positionalPlaying = !1,
                this.musicEnabled = !0,
                this.allPaused = !1,
                this.lastPlayed = new Map,
                this.backgroundLoops = new Map,
                this.backgroundEffects = new Map,
                this.loadedAudio = new Map,
                this.positionalSounds = new Map,
                this.loadedSounds = new Map,
                this.handlers = [],
                r.instance = this
            }
        }
        class h {
            get elapsed() {
                return (new Date().getTime() - this.lastFade) / 1e3
            }
            play(t, i) {
                var s, e, o;
                if (!this.bits)
                    return;
                let n = {
                    loop: null === (s = this.sounddata) || void 0 === s ? void 0 : s.loop,
                    volume: null === (e = this.sounddata) || void 0 === e ? void 0 : e.volume
                };
                return void 0 !== t && (n.volume = (null !== (o = n.volume) && void 0 !== o ? o : 1) * t),
                void 0 !== i && (n.pan = i),
                this.marker ? this.bits.play(this.marker, n) : this.bits.play(n),
                this.bits
            }
            playSilent() {
                var t;
                if (!this.bits)
                    return;
                let i = {
                    loop: null === (t = this.sounddata) || void 0 === t ? void 0 : t.loop,
                    volume: 0
                };
                return this.marker ? this.bits.play(this.marker, i) : this.bits.play(i),
                this.bits
            }
            stop() {
                let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100;
                if (this.bits) {
                    if (0 === t)
                        this.bits.stop();
                    else {
                        var i;
                        null === (i = r.instance) || void 0 === i || i.tweens.add({
                            volume: 0,
                            targets: this.bits,
                            duration: t,
                            onComplete: () => {
                                var t;
                                null === (t = this.bits) || void 0 === t || t.stop()
                            }
                        })
                    }
                }
            }
            fade() {
                var t, i, s, e;
                let o = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1e3
                  , n = arguments.length > 1 ? arguments[1] : void 0
                  , a = arguments.length > 2 ? arguments[2] : void 0;
                this.bits && (void 0 === n && (n = null !== (i = null === (t = this.sounddata) || void 0 === t ? void 0 : t.volume) && void 0 !== i ? i : 1),
                this.lastFade = new Date().getTime(),
                o ? void 0 === a ? null === (s = r.instance) || void 0 === s || s.tweens.add({
                    volume: n,
                    targets: this.bits,
                    duration: o
                }) : null === (e = r.instance) || void 0 === e || e.tweens.add({
                    volume: {
                        from: a,
                        to: n
                    },
                    targets: this.bits,
                    duration: o
                }) : this.bits.setVolume(n))
            }
            detune(t) {
                var i;
                let s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1e3;
                this.bits && (null === (i = r.instance) || void 0 === i || i.tweens.add({
                    detune: t,
                    targets: this.bits,
                    duration: s
                }))
            }
            setPan(t) {
                var i;
                null === (i = this.bits) || void 0 === i || i.setPan(t)
            }
            pan(t, i) {
                var s;
                let e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1e3;
                this.bits && (null === (s = r.instance) || void 0 === s || s.tweens.add({
                    pan: {
                        from: t,
                        to: i
                    },
                    targets: this.bits,
                    duration: e
                }))
            }
            get isPlaying() {
                return this.bits && this.bits.isPlaying
            }
            get volume() {
                var t;
                return (null === (t = this.bits) || void 0 === t ? void 0 : t.volume) || 0
            }
            set volume(t) {
                this.bits && this.bits.setVolume(t)
            }
            free() {
                var t, i;
                let s = this.bits;
                this.bits = void 0,
                s && (null === (t = r.instance) || void 0 === t || t.tweens.killTweensOf(s)),
                (null == s ? void 0 : s.isPlaying) ? null === (i = r.instance) || void 0 === i || i.tweens.add({
                    volume: 0,
                    targets: s,
                    duration: 500,
                    onComplete: () => {
                        null == s || s.stop(),
                        null == s || s.destroy()
                    }
                }) : null == s || s.destroy()
            }
            constructor() {
                this.lastFade = 0
            }
        }
        i.default = r
    }
}]);

(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[888], {
    41396: function(e, t) {
        !function(e) {
            "use strict";
            var t, n, r, i, o, a = function(e, t) {
                return (a = Object.setPrototypeOf || ({
                    __proto__: []
                })instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
                }
                )(e, t)
            };
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw TypeError("Class extends value " + String(t) + " is not a constructor or null");
                function n() {
                    this.constructor = e
                }
                a(e, t),
                e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                new n)
            }
            function l(e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                a
            }
            function u(e, t, n) {
                if (n || 2 == arguments.length)
                    for (var r, i = 0, o = t.length; i < o; i++)
                        !r && i in t || (r || (r = Array.prototype.slice.call(t, 0, i)),
                        r[i] = t[i]);
                return e.concat(r || Array.prototype.slice.call(t))
            }
            "function" == typeof SuppressedError && SuppressedError,
            e.OPERATION = void 0,
            (t = e.OPERATION || (e.OPERATION = {}))[t.ADD = 128] = "ADD",
            t[t.REPLACE = 0] = "REPLACE",
            t[t.DELETE = 64] = "DELETE",
            t[t.DELETE_AND_ADD = 192] = "DELETE_AND_ADD",
            t[t.TOUCH = 1] = "TOUCH",
            t[t.CLEAR = 10] = "CLEAR";
            var c = function() {
                function t(e, t, n) {
                    this.changed = !1,
                    this.changes = new Map,
                    this.allChanges = new Set,
                    this.caches = {},
                    this.currentCustomOperation = 0,
                    this.ref = e,
                    this.setParent(t, n)
                }
                return t.prototype.setParent = function(e, t, n) {
                    var r = this;
                    if (this.indexes || (this.indexes = this.ref instanceof el ? this.ref._definition.indexes : {}),
                    this.parent = e,
                    this.parentIndex = n,
                    t) {
                        if (this.root = t,
                        this.ref instanceof el) {
                            var i = this.ref._definition;
                            for (var o in i.schema) {
                                var a = this.ref[o];
                                if (a && a.$changes) {
                                    var s = i.indexes[o];
                                    a.$changes.setParent(this.ref, t, s)
                                }
                            }
                        } else
                            "object" == typeof this.ref && this.ref.forEach(function(e, t) {
                                if (e instanceof el) {
                                    var n = e.$changes
                                      , i = r.ref.$changes.indexes[t];
                                    n.setParent(r.ref, r.root, i)
                                }
                            })
                    }
                }
                ,
                t.prototype.operation = function(e) {
                    this.changes.set(--this.currentCustomOperation, e)
                }
                ,
                t.prototype.change = function(t, n) {
                    void 0 === n && (n = e.OPERATION.ADD);
                    var r = "number" == typeof t ? t : this.indexes[t];
                    this.assertValidIndex(r, t);
                    var i = this.changes.get(r);
                    i && i.op !== e.OPERATION.DELETE && i.op !== e.OPERATION.TOUCH || this.changes.set(r, {
                        op: i && i.op === e.OPERATION.DELETE ? e.OPERATION.DELETE_AND_ADD : n,
                        index: r
                    }),
                    this.allChanges.add(r),
                    this.changed = !0,
                    this.touchParents()
                }
                ,
                t.prototype.touch = function(t) {
                    var n = "number" == typeof t ? t : this.indexes[t];
                    this.assertValidIndex(n, t),
                    this.changes.has(n) || this.changes.set(n, {
                        op: e.OPERATION.TOUCH,
                        index: n
                    }),
                    this.allChanges.add(n),
                    this.touchParents()
                }
                ,
                t.prototype.touchParents = function() {
                    this.parent && this.parent.$changes.touch(this.parentIndex)
                }
                ,
                t.prototype.getType = function(e) {
                    if (this.ref._definition) {
                        var t = this.ref._definition;
                        return t.schema[t.fieldsByIndex[e]]
                    }
                    var t = this.parent._definition;
                    return Object.values(t.schema[t.fieldsByIndex[this.parentIndex]])[0]
                }
                ,
                t.prototype.getChildrenFilter = function() {
                    var e = this.parent._definition.childFilters;
                    return e && e[this.parentIndex]
                }
                ,
                t.prototype.getValue = function(e) {
                    return this.ref.getByIndex(e)
                }
                ,
                t.prototype.delete = function(t) {
                    var n = "number" == typeof t ? t : this.indexes[t];
                    if (void 0 === n) {
                        console.warn("@colyseus/schema ".concat(this.ref.constructor.name, ": trying to delete non-existing index: ").concat(t, " (").concat(n, ")"));
                        return
                    }
                    var r = this.getValue(n);
                    this.changes.set(n, {
                        op: e.OPERATION.DELETE,
                        index: n
                    }),
                    this.allChanges.delete(n),
                    delete this.caches[n],
                    r && r.$changes && (r.$changes.parent = void 0),
                    this.changed = !0,
                    this.touchParents()
                }
                ,
                t.prototype.discard = function(t, n) {
                    var r = this;
                    void 0 === t && (t = !1),
                    void 0 === n && (n = !1),
                    this.ref instanceof el || this.changes.forEach(function(t) {
                        if (t.op === e.OPERATION.DELETE) {
                            var n = r.ref.getIndex(t.index);
                            delete r.indexes[n]
                        }
                    }),
                    this.changes.clear(),
                    this.changed = t,
                    n && this.allChanges.clear(),
                    this.currentCustomOperation = 0
                }
                ,
                t.prototype.discardAll = function() {
                    var e = this;
                    this.changes.forEach(function(t) {
                        var n = e.getValue(t.index);
                        n && n.$changes && n.$changes.discardAll()
                    }),
                    this.discard()
                }
                ,
                t.prototype.cache = function(e, t) {
                    this.caches[e] = t
                }
                ,
                t.prototype.clone = function() {
                    return new t(this.ref,this.parent,this.root)
                }
                ,
                t.prototype.ensureRefId = function() {
                    void 0 === this.refId && (this.refId = this.root.getNextUniqueId())
                }
                ,
                t.prototype.assertValidIndex = function(e, t) {
                    if (void 0 === e)
                        throw Error('ChangeTree: missing index for field "'.concat(t, '"'))
                }
                ,
                t
            }();
            function d(e, t, n, r) {
                return e[t] || (e[t] = []),
                e[t].push(n),
                null == r || r.forEach(function(e, t) {
                    return n(e, t)
                }),
                function() {
                    return h(e[t], e[t].indexOf(n))
                }
            }
            function f(t) {
                var n = this
                  , r = "string" != typeof this.$changes.getType();
                this.$items.forEach(function(i, o) {
                    t.push({
                        refId: n.$changes.refId,
                        op: e.OPERATION.DELETE,
                        field: o,
                        value: void 0,
                        previousValue: i
                    }),
                    r && n.$changes.root.removeRef(i.$changes.refId)
                })
            }
            function h(e, t) {
                if (-1 === t || t >= e.length)
                    return !1;
                for (var n = e.length - 1, r = t; r < n; r++)
                    e[r] = e[r + 1];
                return e.length = n,
                !0
            }
            var p = function(e, t) {
                var n = e.toString()
                  , r = t.toString();
                return n < r ? -1 : n > r ? 1 : 0
            }
              , g = function() {
                function t() {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                    this.$changes = new c(this),
                    this.$items = new Map,
                    this.$indexes = new Map,
                    this.$refId = 0,
                    this.push.apply(this, e)
                }
                return t.prototype.onAdd = function(t, n) {
                    return void 0 === n && (n = !0),
                    d(this.$callbacks || (this.$callbacks = {}), e.OPERATION.ADD, t, n ? this.$items : void 0)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return d(this.$callbacks || (this.$callbacks = {}), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.onChange = function(t) {
                    return d(this.$callbacks || (this.$callbacks = {}), e.OPERATION.REPLACE, t)
                }
                ,
                t.is = function(e) {
                    return Array.isArray(e) || void 0 !== e.array
                }
                ,
                Object.defineProperty(t.prototype, "length", {
                    get: function() {
                        return this.$items.size
                    },
                    set: function(e) {
                        0 === e ? this.clear() : this.splice(e, this.length - e)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.push = function() {
                    for (var e, t = this, n = [], r = 0; r < arguments.length; r++)
                        n[r] = arguments[r];
                    return n.forEach(function(n) {
                        e = t.$refId++,
                        t.setAt(e, n)
                    }),
                    e
                }
                ,
                t.prototype.pop = function() {
                    var e = Array.from(this.$indexes.values()).pop();
                    if (void 0 !== e) {
                        this.$changes.delete(e),
                        this.$indexes.delete(e);
                        var t = this.$items.get(e);
                        return this.$items.delete(e),
                        t
                    }
                }
                ,
                t.prototype.at = function(e) {
                    var t = Array.from(this.$items.keys())[e];
                    return this.$items.get(t)
                }
                ,
                t.prototype.setAt = function(t, n) {
                    if (null == n) {
                        console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");
                        return
                    }
                    if (this.$items.get(t) !== n) {
                        void 0 !== n.$changes && n.$changes.setParent(this, this.$changes.root, t);
                        var r, i, o = null !== (i = null === (r = this.$changes.indexes[t]) || void 0 === r ? void 0 : r.op) && void 0 !== i ? i : e.OPERATION.ADD;
                        this.$changes.indexes[t] = t,
                        this.$indexes.set(t, t),
                        this.$items.set(t, n),
                        this.$changes.change(t, o)
                    }
                }
                ,
                t.prototype.deleteAt = function(e) {
                    var t = Array.from(this.$items.keys())[e];
                    return void 0 !== t && this.$deleteAt(t)
                }
                ,
                t.prototype.$deleteAt = function(e) {
                    return this.$changes.delete(e),
                    this.$indexes.delete(e),
                    this.$items.delete(e)
                }
                ,
                t.prototype.clear = function(t) {
                    this.$changes.discard(!0, !0),
                    this.$changes.indexes = {},
                    this.$indexes.clear(),
                    t && f.call(this, t),
                    this.$items.clear(),
                    this.$changes.operation({
                        index: 0,
                        op: e.OPERATION.CLEAR
                    }),
                    this.$changes.touchParents()
                }
                ,
                t.prototype.concat = function() {
                    for (var e, n = [], r = 0; r < arguments.length; r++)
                        n[r] = arguments[r];
                    return new (t.bind.apply(t, u([void 0], (e = Array.from(this.$items.values())).concat.apply(e, n), !1)))
                }
                ,
                t.prototype.join = function(e) {
                    return Array.from(this.$items.values()).join(e)
                }
                ,
                t.prototype.reverse = function() {
                    var e = this
                      , t = Array.from(this.$items.keys());
                    return Array.from(this.$items.values()).reverse().forEach(function(n, r) {
                        e.setAt(t[r], n)
                    }),
                    this
                }
                ,
                t.prototype.shift = function() {
                    var e = Array.from(this.$items.keys()).shift();
                    if (void 0 !== e) {
                        var t = this.$items.get(e);
                        return this.$deleteAt(e),
                        t
                    }
                }
                ,
                t.prototype.slice = function(e, n) {
                    var r = new t;
                    return r.push.apply(r, Array.from(this.$items.values()).slice(e, n)),
                    r
                }
                ,
                t.prototype.sort = function(e) {
                    var t = this;
                    void 0 === e && (e = p);
                    var n = Array.from(this.$items.keys());
                    return Array.from(this.$items.values()).sort(e).forEach(function(e, r) {
                        t.setAt(n[r], e)
                    }),
                    this
                }
                ,
                t.prototype.splice = function(e, t) {
                    void 0 === t && (t = this.length - e);
                    for (var n = [], r = 2; r < arguments.length; r++)
                        n[r - 2] = arguments[r];
                    for (var i = Array.from(this.$items.keys()), o = [], a = e; a < e + t; a++)
                        o.push(this.$items.get(i[a])),
                        this.$deleteAt(i[a]);
                    for (var a = 0; a < n.length; a++)
                        this.setAt(e + a, n[a]);
                    return o
                }
                ,
                t.prototype.unshift = function() {
                    for (var e = this, t = [], n = 0; n < arguments.length; n++)
                        t[n] = arguments[n];
                    var r = this.length
                      , i = t.length
                      , o = Array.from(this.$items.values());
                    return t.forEach(function(t, n) {
                        e.setAt(n, t)
                    }),
                    o.forEach(function(t, n) {
                        e.setAt(i + n, t)
                    }),
                    r + i
                }
                ,
                t.prototype.indexOf = function(e, t) {
                    return Array.from(this.$items.values()).indexOf(e, t)
                }
                ,
                t.prototype.lastIndexOf = function(e, t) {
                    return void 0 === t && (t = this.length - 1),
                    Array.from(this.$items.values()).lastIndexOf(e, t)
                }
                ,
                t.prototype.every = function(e, t) {
                    return Array.from(this.$items.values()).every(e, t)
                }
                ,
                t.prototype.some = function(e, t) {
                    return Array.from(this.$items.values()).some(e, t)
                }
                ,
                t.prototype.forEach = function(e, t) {
                    Array.from(this.$items.values()).forEach(e, t)
                }
                ,
                t.prototype.map = function(e, t) {
                    return Array.from(this.$items.values()).map(e, t)
                }
                ,
                t.prototype.filter = function(e, t) {
                    return Array.from(this.$items.values()).filter(e, t)
                }
                ,
                t.prototype.reduce = function(e, t) {
                    return Array.prototype.reduce.apply(Array.from(this.$items.values()), arguments)
                }
                ,
                t.prototype.reduceRight = function(e, t) {
                    return Array.prototype.reduceRight.apply(Array.from(this.$items.values()), arguments)
                }
                ,
                t.prototype.find = function(e, t) {
                    return Array.from(this.$items.values()).find(e, t)
                }
                ,
                t.prototype.findIndex = function(e, t) {
                    return Array.from(this.$items.values()).findIndex(e, t)
                }
                ,
                t.prototype.fill = function(e, t, n) {
                    throw Error("ArraySchema#fill() not implemented")
                }
                ,
                t.prototype.copyWithin = function(e, t, n) {
                    throw Error("ArraySchema#copyWithin() not implemented")
                }
                ,
                t.prototype.toString = function() {
                    return this.$items.toString()
                }
                ,
                t.prototype.toLocaleString = function() {
                    return this.$items.toLocaleString()
                }
                ,
                t.prototype[Symbol.iterator] = function() {
                    return Array.from(this.$items.values())[Symbol.iterator]()
                }
                ,
                Object.defineProperty(t, Symbol.species, {
                    get: function() {
                        return t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.entries = function() {
                    return this.$items.entries()
                }
                ,
                t.prototype.keys = function() {
                    return this.$items.keys()
                }
                ,
                t.prototype.values = function() {
                    return this.$items.values()
                }
                ,
                t.prototype.includes = function(e, t) {
                    return Array.from(this.$items.values()).includes(e, t)
                }
                ,
                t.prototype.flatMap = function(e, t) {
                    throw Error("ArraySchema#flatMap() is not supported.")
                }
                ,
                t.prototype.flat = function(e) {
                    throw Error("ArraySchema#flat() is not supported.")
                }
                ,
                t.prototype.findLast = function() {
                    var e = Array.from(this.$items.values());
                    return e.findLast.apply(e, arguments)
                }
                ,
                t.prototype.findLastIndex = function() {
                    var e = Array.from(this.$items.values());
                    return e.findLastIndex.apply(e, arguments)
                }
                ,
                t.prototype.with = function(e, n) {
                    var r = Array.from(this.$items.values());
                    return r[e] = n,
                    new (t.bind.apply(t, u([void 0], r, !1)))
                }
                ,
                t.prototype.toReversed = function() {
                    return Array.from(this.$items.values()).reverse()
                }
                ,
                t.prototype.toSorted = function(e) {
                    return Array.from(this.$items.values()).sort(e)
                }
                ,
                t.prototype.toSpliced = function(e, t) {
                    var n = Array.from(this.$items.values());
                    return n.toSpliced.apply(n, arguments)
                }
                ,
                t.prototype.setIndex = function(e, t) {
                    this.$indexes.set(e, t)
                }
                ,
                t.prototype.getIndex = function(e) {
                    return this.$indexes.get(e)
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this.$items.get(this.$indexes.get(e))
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    var t = this.$indexes.get(e);
                    this.$items.delete(t),
                    this.$indexes.delete(e)
                }
                ,
                t.prototype.toArray = function() {
                    return Array.from(this.$items.values())
                }
                ,
                t.prototype.toJSON = function() {
                    return this.toArray().map(function(e) {
                        return "function" == typeof e.toJSON ? e.toJSON() : e
                    })
                }
                ,
                t.prototype.clone = function(e) {
                    return e ? new (t.bind.apply(t, u([void 0], Array.from(this.$items.values()), !1))) : new (t.bind.apply(t, u([void 0], this.map(function(e) {
                        return e.$changes ? e.clone() : e
                    }), !1)))
                }
                ,
                t
            }()
              , m = function() {
                function t(e) {
                    var n = this;
                    if (this.$changes = new c(this),
                    this.$items = new Map,
                    this.$indexes = new Map,
                    this.$refId = 0,
                    e) {
                        if (e instanceof Map || e instanceof t)
                            e.forEach(function(e, t) {
                                return n.set(t, e)
                            });
                        else
                            for (var r in e)
                                this.set(r, e[r])
                    }
                }
                return t.prototype.onAdd = function(t, n) {
                    return void 0 === n && (n = !0),
                    d(this.$callbacks || (this.$callbacks = {}), e.OPERATION.ADD, t, n ? this.$items : void 0)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return d(this.$callbacks || (this.$callbacks = {}), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.onChange = function(t) {
                    return d(this.$callbacks || (this.$callbacks = {}), e.OPERATION.REPLACE, t)
                }
                ,
                t.is = function(e) {
                    return void 0 !== e.map
                }
                ,
                t.prototype[Symbol.iterator] = function() {
                    return this.$items[Symbol.iterator]()
                }
                ,
                Object.defineProperty(t.prototype, Symbol.toStringTag, {
                    get: function() {
                        return this.$items[Symbol.toStringTag]
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, Symbol.species, {
                    get: function() {
                        return t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.set = function(t, n) {
                    if (null == n)
                        throw Error("MapSchema#set('".concat(t, "', ").concat(n, "): trying to set ").concat(n, " value on '").concat(t, "'."));
                    t = t.toString();
                    var r = void 0 !== this.$changes.indexes[t]
                      , i = r ? this.$changes.indexes[t] : this.$refId++
                      , o = r ? e.OPERATION.REPLACE : e.OPERATION.ADD
                      , a = void 0 !== n.$changes;
                    if (a && n.$changes.setParent(this, this.$changes.root, i),
                    r) {
                        if (!a && this.$items.get(t) === n)
                            return;
                        a && this.$items.get(t) !== n && (o = e.OPERATION.ADD)
                    } else
                        this.$changes.indexes[t] = i,
                        this.$indexes.set(i, t);
                    return this.$items.set(t, n),
                    this.$changes.change(t, o),
                    this
                }
                ,
                t.prototype.get = function(e) {
                    return this.$items.get(e)
                }
                ,
                t.prototype.delete = function(e) {
                    return this.$changes.delete(e),
                    this.$items.delete(e)
                }
                ,
                t.prototype.clear = function(t) {
                    this.$changes.discard(!0, !0),
                    this.$changes.indexes = {},
                    this.$indexes.clear(),
                    t && f.call(this, t),
                    this.$items.clear(),
                    this.$changes.operation({
                        index: 0,
                        op: e.OPERATION.CLEAR
                    }),
                    this.$changes.touchParents()
                }
                ,
                t.prototype.has = function(e) {
                    return this.$items.has(e)
                }
                ,
                t.prototype.forEach = function(e) {
                    this.$items.forEach(e)
                }
                ,
                t.prototype.entries = function() {
                    return this.$items.entries()
                }
                ,
                t.prototype.keys = function() {
                    return this.$items.keys()
                }
                ,
                t.prototype.values = function() {
                    return this.$items.values()
                }
                ,
                Object.defineProperty(t.prototype, "size", {
                    get: function() {
                        return this.$items.size
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.setIndex = function(e, t) {
                    this.$indexes.set(e, t)
                }
                ,
                t.prototype.getIndex = function(e) {
                    return this.$indexes.get(e)
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this.$items.get(this.$indexes.get(e))
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    var t = this.$indexes.get(e);
                    this.$items.delete(t),
                    this.$indexes.delete(e)
                }
                ,
                t.prototype.toJSON = function() {
                    var e = {};
                    return this.forEach(function(t, n) {
                        e[n] = "function" == typeof t.toJSON ? t.toJSON() : t
                    }),
                    e
                }
                ,
                t.prototype.clone = function(e) {
                    var n;
                    return e ? n = Object.assign(new t, this) : (n = new t,
                    this.forEach(function(e, t) {
                        e.$changes ? n.set(t, e.clone()) : n.set(t, e)
                    })),
                    n
                }
                ,
                t
            }()
              , v = {}
              , y = function() {
                function e() {
                    this.indexes = {},
                    this.fieldsByIndex = {},
                    this.deprecated = {},
                    this.descriptors = {}
                }
                return e.create = function(t) {
                    var n = new e;
                    return n.schema = Object.assign({}, t && t.schema || {}),
                    n.indexes = Object.assign({}, t && t.indexes || {}),
                    n.fieldsByIndex = Object.assign({}, t && t.fieldsByIndex || {}),
                    n.descriptors = Object.assign({}, t && t.descriptors || {}),
                    n.deprecated = Object.assign({}, t && t.deprecated || {}),
                    n
                }
                ,
                e.prototype.addField = function(e, t) {
                    var n = this.getNextFieldIndex();
                    this.fieldsByIndex[n] = e,
                    this.indexes[e] = n,
                    this.schema[e] = Array.isArray(t) ? {
                        array: t[0]
                    } : t
                }
                ,
                e.prototype.hasField = function(e) {
                    return void 0 !== this.indexes[e]
                }
                ,
                e.prototype.addFilter = function(e, t) {
                    return this.filters || (this.filters = {},
                    this.indexesWithFilters = []),
                    this.filters[this.indexes[e]] = t,
                    this.indexesWithFilters.push(this.indexes[e]),
                    !0
                }
                ,
                e.prototype.addChildrenFilter = function(e, t) {
                    var n = this.indexes[e];
                    if (v[Object.keys(this.schema[e])[0]])
                        return this.childFilters || (this.childFilters = {}),
                        this.childFilters[n] = t,
                        !0;
                    console.warn("@filterChildren: field '".concat(e, "' can't have children. Ignoring filter."))
                }
                ,
                e.prototype.getChildrenFilter = function(e) {
                    return this.childFilters && this.childFilters[this.indexes[e]]
                }
                ,
                e.prototype.getNextFieldIndex = function() {
                    return Object.keys(this.schema || {}).length
                }
                ,
                e
            }()
              , b = function() {
                function e() {
                    this.types = {},
                    this.schemas = new Map,
                    this.useFilters = !1
                }
                return e.prototype.has = function(e) {
                    return this.schemas.has(e)
                }
                ,
                e.prototype.get = function(e) {
                    return this.types[e]
                }
                ,
                e.prototype.add = function(e, t) {
                    void 0 === t && (t = this.schemas.size),
                    e._definition = y.create(e._definition),
                    e._typeid = t,
                    this.types[t] = e,
                    this.schemas.set(e, t)
                }
                ,
                e.create = function(t) {
                    return void 0 === t && (t = {}),
                    function(n) {
                        return t.context || (t.context = new e),
                        _(n, t)
                    }
                }
                ,
                e
            }()
              , E = new b;
            function _(e, t) {
                return void 0 === t && (t = {}),
                function(n, r) {
                    var i = t.context || E
                      , o = n.constructor;
                    if (o._context = i,
                    !e)
                        throw Error("".concat(o.name, ': @type() reference provided for "').concat(r, "\" is undefined. Make sure you don't have any circular dependencies."));
                    i.has(o) || i.add(o);
                    var a = o._definition;
                    if (a.addField(r, e),
                    a.descriptors[r]) {
                        if (a.deprecated[r])
                            return;
                        try {
                            throw Error("@colyseus/schema: Duplicate '".concat(r, "' definition on '").concat(o.name, "'.\nCheck @type() annotation"))
                        } catch (e) {
                            var s = e.stack.split("\n")[4].trim();
                            throw Error("".concat(e.message, " ").concat(s))
                        }
                    }
                    var l = g.is(e)
                      , c = !l && m.is(e);
                    if ("string" != typeof e && !el.is(e)) {
                        var d = Object.values(e)[0];
                        "string" == typeof d || i.has(d) || i.add(d)
                    }
                    if (t.manual) {
                        a.descriptors[r] = {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        };
                        return
                    }
                    var f = "_".concat(r);
                    a.descriptors[f] = {
                        enumerable: !1,
                        configurable: !1,
                        writable: !0
                    },
                    a.descriptors[r] = {
                        get: function() {
                            return this[f]
                        },
                        set: function(e) {
                            if (e !== this[f]) {
                                if (null != e) {
                                    if (!l || e instanceof g || (e = new (g.bind.apply(g, u([void 0], e, !1)))),
                                    !c || e instanceof m || (e = new m(e)),
                                    void 0 === e.$proxy) {
                                        var t, n;
                                        c ? ((t = e).$proxy = !0,
                                        e = t = new Proxy(t,{
                                            get: function(e, t) {
                                                return "symbol" != typeof t && void 0 === e[t] ? e.get(t) : e[t]
                                            },
                                            set: function(e, t, n) {
                                                return "symbol" != typeof t && -1 === t.indexOf("$") && "onAdd" !== t && "onRemove" !== t && "onChange" !== t ? e.set(t, n) : e[t] = n,
                                                !0
                                            },
                                            deleteProperty: function(e, t) {
                                                return e.delete(t),
                                                !0
                                            }
                                        })) : l && ((n = e).$proxy = !0,
                                        e = n = new Proxy(n,{
                                            get: function(e, t) {
                                                return "symbol" == typeof t || isNaN(t) ? e[t] : e.at(t)
                                            },
                                            set: function(e, t, n) {
                                                if ("symbol" == typeof t || isNaN(t))
                                                    e[t] = n;
                                                else {
                                                    var r = parseInt(Array.from(e.$items.keys())[t] || t);
                                                    null == n ? e.deleteAt(r) : e.setAt(r, n)
                                                }
                                                return !0
                                            },
                                            deleteProperty: function(e, t) {
                                                return "number" == typeof t ? e.deleteAt(t) : delete e[t],
                                                !0
                                            },
                                            has: function(e, t) {
                                                return "symbol" == typeof t || isNaN(Number(t)) ? Reflect.has(e, t) : e.$items.has(Number(t))
                                            }
                                        }))
                                    }
                                    this.$changes.change(r),
                                    e.$changes && e.$changes.setParent(this, this.$changes.root, this._definition.indexes[r])
                                } else
                                    this[f] && this.$changes.delete(r);
                                this[f] = e
                            }
                        },
                        enumerable: !0,
                        configurable: !0
                    }
                }
            }
            function w(e, t, n) {
                for (var r = 0, i = 0, o = n.length; i < o; i++)
                    (r = n.charCodeAt(i)) < 128 ? e[t++] = r : (r < 2048 ? e[t++] = 192 | r >> 6 : (r < 55296 || r >= 57344 ? e[t++] = 224 | r >> 12 : (i++,
                    r = 65536 + ((1023 & r) << 10 | 1023 & n.charCodeAt(i)),
                    e[t++] = 240 | r >> 18,
                    e[t++] = 128 | r >> 12 & 63),
                    e[t++] = 128 | r >> 6 & 63),
                    e[t++] = 128 | 63 & r)
            }
            function O(e, t) {
                e.push(255 & t)
            }
            function A(e, t) {
                e.push(255 & t)
            }
            function S(e, t) {
                e.push(255 & t),
                e.push(t >> 8 & 255)
            }
            function P(e, t) {
                e.push(255 & t),
                e.push(t >> 8 & 255)
            }
            function R(e, t) {
                e.push(255 & t),
                e.push(t >> 8 & 255),
                e.push(t >> 16 & 255),
                e.push(t >> 24 & 255)
            }
            function I(e, t) {
                e.push(255 & t),
                e.push(255 & t >> 8),
                e.push(255 & t >> 16),
                e.push(255 & t >> 24)
            }
            function T(e, t) {
                I(e, t >>> 0),
                I(e, Math.floor(t / 4294967296))
            }
            function x(e, t) {
                I(e, t >>> 0),
                I(e, t / 4294967296 >> 0)
            }
            var k = new Int32Array(2)
              , N = new Float32Array(k.buffer)
              , C = new Float64Array(k.buffer);
            function L(e, t) {
                N[0] = t,
                R(e, k[0])
            }
            function M(e, t) {
                C[0] = t,
                R(e, k[0]),
                R(e, k[1])
            }
            function D(e, t) {
                t || (t = "");
                var n = function(e) {
                    for (var t = 0, n = 0, r = 0, i = e.length; r < i; r++)
                        (t = e.charCodeAt(r)) < 128 ? n += 1 : t < 2048 ? n += 2 : t < 55296 || t >= 57344 ? n += 3 : (r++,
                        n += 4);
                    return n
                }(t)
                  , r = 0;
                if (n < 32)
                    e.push(160 | n),
                    r = 1;
                else if (n < 256)
                    e.push(217),
                    A(e, n),
                    r = 2;
                else if (n < 65536)
                    e.push(218),
                    P(e, n),
                    r = 3;
                else if (n < 4294967296)
                    e.push(219),
                    I(e, n),
                    r = 5;
                else
                    throw Error("String too long");
                return w(e, e.length, t),
                r + n
            }
            function j(e, t) {
                return isNaN(t) ? j(e, 0) : isFinite(t) ? t !== (0 | t) ? (e.push(203),
                M(e, t),
                9) : t >= 0 ? t < 128 ? (A(e, t),
                1) : t < 256 ? (e.push(204),
                A(e, t),
                2) : t < 65536 ? (e.push(205),
                P(e, t),
                3) : t < 4294967296 ? (e.push(206),
                I(e, t),
                5) : (e.push(207),
                x(e, t),
                9) : t >= -32 ? (e.push(224 | t + 32),
                1) : t >= -128 ? (e.push(208),
                O(e, t),
                2) : t >= -32768 ? (e.push(209),
                S(e, t),
                3) : t >= -2147483648 ? (e.push(210),
                R(e, t),
                5) : (e.push(211),
                T(e, t),
                9) : j(e, t > 0 ? Number.MAX_SAFE_INTEGER : -Number.MAX_SAFE_INTEGER)
            }
            var U = Object.freeze({
                __proto__: null,
                utf8Write: w,
                int8: O,
                uint8: A,
                int16: S,
                uint16: P,
                int32: R,
                uint32: I,
                int64: T,
                uint64: x,
                float32: function(e, t) {
                    L(e, t)
                },
                float64: function(e, t) {
                    M(e, t)
                },
                writeFloat32: L,
                writeFloat64: M,
                boolean: function(e, t) {
                    return A(e, t ? 1 : 0)
                },
                string: D,
                number: j
            });
            function $(e, t) {
                return V(e, t) << 24 >> 24
            }
            function V(e, t) {
                return e[t.offset++]
            }
            function B(e, t) {
                return F(e, t) << 16 >> 16
            }
            function F(e, t) {
                return e[t.offset++] | e[t.offset++] << 8
            }
            function q(e, t) {
                return e[t.offset++] | e[t.offset++] << 8 | e[t.offset++] << 16 | e[t.offset++] << 24
            }
            function G(e, t) {
                return q(e, t) >>> 0
            }
            function z(e, t) {
                var n = G(e, t);
                return 4294967296 * q(e, t) + n
            }
            function Y(e, t) {
                var n = G(e, t);
                return 4294967296 * G(e, t) + n
            }
            var H = new Int32Array(2)
              , Z = new Float32Array(H.buffer)
              , W = new Float64Array(H.buffer);
            function J(e, t) {
                return H[0] = q(e, t),
                Z[0]
            }
            function K(e, t) {
                return H[0] = q(e, t),
                H[1] = q(e, t),
                W[0]
            }
            function X(e, t) {
                var n, r = e[t.offset++];
                r < 192 ? n = 31 & r : 217 === r ? n = V(e, t) : 218 === r ? n = F(e, t) : 219 === r && (n = G(e, t));
                var i = function(e, t, n) {
                    for (var r = "", i = 0, o = t, a = t + n; o < a; o++) {
                        var s = e[o];
                        if ((128 & s) == 0) {
                            r += String.fromCharCode(s);
                            continue
                        }
                        if ((224 & s) == 192) {
                            r += String.fromCharCode((31 & s) << 6 | 63 & e[++o]);
                            continue
                        }
                        if ((240 & s) == 224) {
                            r += String.fromCharCode((15 & s) << 12 | (63 & e[++o]) << 6 | (63 & e[++o]) << 0);
                            continue
                        }
                        if ((248 & s) == 240) {
                            (i = (7 & s) << 18 | (63 & e[++o]) << 12 | (63 & e[++o]) << 6 | (63 & e[++o]) << 0) >= 65536 ? (i -= 65536,
                            r += String.fromCharCode((i >>> 10) + 55296, (1023 & i) + 56320)) : r += String.fromCharCode(i);
                            continue
                        }
                        console.error("Invalid byte " + s.toString(16))
                    }
                    return r
                }(e, t.offset, n);
                return t.offset += n,
                i
            }
            function Q(e, t) {
                var n = e[t.offset++];
                if (n < 128)
                    return n;
                if (202 === n)
                    return J(e, t);
                if (203 === n)
                    return K(e, t);
                if (204 === n)
                    return V(e, t);
                if (205 === n)
                    return F(e, t);
                if (206 === n)
                    return G(e, t);
                if (207 === n)
                    return Y(e, t);
                else if (208 === n)
                    return $(e, t);
                else if (209 === n)
                    return B(e, t);
                else if (210 === n)
                    return q(e, t);
                else if (211 === n)
                    return z(e, t);
                else if (n > 223)
                    return -((255 - n + 1) * 1)
            }
            function ee(e, t) {
                return 255 === e[t.offset - 1] && (e[t.offset] < 128 || e[t.offset] >= 202 && e[t.offset] <= 211)
            }
            var et = Object.freeze({
                __proto__: null,
                int8: $,
                uint8: V,
                int16: B,
                uint16: F,
                int32: q,
                uint32: G,
                float32: function(e, t) {
                    return J(e, t)
                },
                float64: function(e, t) {
                    return K(e, t)
                },
                int64: z,
                uint64: Y,
                readFloat32: J,
                readFloat64: K,
                boolean: function(e, t) {
                    return V(e, t) > 0
                },
                string: X,
                stringCheck: function(e, t) {
                    var n = e[t.offset];
                    return n < 192 && n > 160 || 217 === n || 218 === n || 219 === n
                },
                number: Q,
                numberCheck: function(e, t) {
                    var n = e[t.offset];
                    return n < 128 || n >= 202 && n <= 211
                },
                arrayCheck: function(e, t) {
                    return e[t.offset] < 160
                },
                switchStructureCheck: ee
            })
              , en = function() {
                function t(e) {
                    var t = this;
                    this.$changes = new c(this),
                    this.$items = new Map,
                    this.$indexes = new Map,
                    this.$refId = 0,
                    e && e.forEach(function(e) {
                        return t.add(e)
                    })
                }
                return t.prototype.onAdd = function(t, n) {
                    return void 0 === n && (n = !0),
                    d(this.$callbacks || (this.$callbacks = []), e.OPERATION.ADD, t, n ? this.$items : void 0)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return d(this.$callbacks || (this.$callbacks = []), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.onChange = function(t) {
                    return d(this.$callbacks || (this.$callbacks = []), e.OPERATION.REPLACE, t)
                }
                ,
                t.is = function(e) {
                    return void 0 !== e.collection
                }
                ,
                t.prototype.add = function(e) {
                    var t = this.$refId++;
                    return void 0 !== e.$changes && e.$changes.setParent(this, this.$changes.root, t),
                    this.$changes.indexes[t] = t,
                    this.$indexes.set(t, t),
                    this.$items.set(t, e),
                    this.$changes.change(t),
                    t
                }
                ,
                t.prototype.at = function(e) {
                    var t = Array.from(this.$items.keys())[e];
                    return this.$items.get(t)
                }
                ,
                t.prototype.entries = function() {
                    return this.$items.entries()
                }
                ,
                t.prototype.delete = function(e) {
                    for (var t, n, r = this.$items.entries(); (n = r.next()) && !n.done; )
                        if (e === n.value[1]) {
                            t = n.value[0];
                            break
                        }
                    return void 0 !== t && (this.$changes.delete(t),
                    this.$indexes.delete(t),
                    this.$items.delete(t))
                }
                ,
                t.prototype.clear = function(t) {
                    this.$changes.discard(!0, !0),
                    this.$changes.indexes = {},
                    this.$indexes.clear(),
                    t && f.call(this, t),
                    this.$items.clear(),
                    this.$changes.operation({
                        index: 0,
                        op: e.OPERATION.CLEAR
                    }),
                    this.$changes.touchParents()
                }
                ,
                t.prototype.has = function(e) {
                    return Array.from(this.$items.values()).some(function(t) {
                        return t === e
                    })
                }
                ,
                t.prototype.forEach = function(e) {
                    var t = this;
                    this.$items.forEach(function(n, r, i) {
                        return e(n, r, t)
                    })
                }
                ,
                t.prototype.values = function() {
                    return this.$items.values()
                }
                ,
                Object.defineProperty(t.prototype, "size", {
                    get: function() {
                        return this.$items.size
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.setIndex = function(e, t) {
                    this.$indexes.set(e, t)
                }
                ,
                t.prototype.getIndex = function(e) {
                    return this.$indexes.get(e)
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this.$items.get(this.$indexes.get(e))
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    var t = this.$indexes.get(e);
                    this.$items.delete(t),
                    this.$indexes.delete(e)
                }
                ,
                t.prototype.toArray = function() {
                    return Array.from(this.$items.values())
                }
                ,
                t.prototype.toJSON = function() {
                    var e = [];
                    return this.forEach(function(t, n) {
                        e.push("function" == typeof t.toJSON ? t.toJSON() : t)
                    }),
                    e
                }
                ,
                t.prototype.clone = function(e) {
                    var n;
                    return e ? n = Object.assign(new t, this) : (n = new t,
                    this.forEach(function(e) {
                        e.$changes ? n.add(e.clone()) : n.add(e)
                    })),
                    n
                }
                ,
                t
            }()
              , er = function() {
                function t(e) {
                    var t = this;
                    this.$changes = new c(this),
                    this.$items = new Map,
                    this.$indexes = new Map,
                    this.$refId = 0,
                    e && e.forEach(function(e) {
                        return t.add(e)
                    })
                }
                return t.prototype.onAdd = function(t, n) {
                    return void 0 === n && (n = !0),
                    d(this.$callbacks || (this.$callbacks = []), e.OPERATION.ADD, t, n ? this.$items : void 0)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return d(this.$callbacks || (this.$callbacks = []), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.onChange = function(t) {
                    return d(this.$callbacks || (this.$callbacks = []), e.OPERATION.REPLACE, t)
                }
                ,
                t.is = function(e) {
                    return void 0 !== e.set
                }
                ,
                t.prototype.add = function(t) {
                    if (this.has(t))
                        return !1;
                    var n, r, i = this.$refId++;
                    void 0 !== t.$changes && t.$changes.setParent(this, this.$changes.root, i);
                    var o = null !== (r = null === (n = this.$changes.indexes[i]) || void 0 === n ? void 0 : n.op) && void 0 !== r ? r : e.OPERATION.ADD;
                    return this.$changes.indexes[i] = i,
                    this.$indexes.set(i, i),
                    this.$items.set(i, t),
                    this.$changes.change(i, o),
                    i
                }
                ,
                t.prototype.entries = function() {
                    return this.$items.entries()
                }
                ,
                t.prototype.delete = function(e) {
                    for (var t, n, r = this.$items.entries(); (n = r.next()) && !n.done; )
                        if (e === n.value[1]) {
                            t = n.value[0];
                            break
                        }
                    return void 0 !== t && (this.$changes.delete(t),
                    this.$indexes.delete(t),
                    this.$items.delete(t))
                }
                ,
                t.prototype.clear = function(t) {
                    this.$changes.discard(!0, !0),
                    this.$changes.indexes = {},
                    this.$indexes.clear(),
                    t && f.call(this, t),
                    this.$items.clear(),
                    this.$changes.operation({
                        index: 0,
                        op: e.OPERATION.CLEAR
                    }),
                    this.$changes.touchParents()
                }
                ,
                t.prototype.has = function(e) {
                    for (var t, n = this.$items.values(), r = !1; (t = n.next()) && !t.done; )
                        if (e === t.value) {
                            r = !0;
                            break
                        }
                    return r
                }
                ,
                t.prototype.forEach = function(e) {
                    var t = this;
                    this.$items.forEach(function(n, r, i) {
                        return e(n, r, t)
                    })
                }
                ,
                t.prototype.values = function() {
                    return this.$items.values()
                }
                ,
                Object.defineProperty(t.prototype, "size", {
                    get: function() {
                        return this.$items.size
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.setIndex = function(e, t) {
                    this.$indexes.set(e, t)
                }
                ,
                t.prototype.getIndex = function(e) {
                    return this.$indexes.get(e)
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this.$items.get(this.$indexes.get(e))
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    var t = this.$indexes.get(e);
                    this.$items.delete(t),
                    this.$indexes.delete(e)
                }
                ,
                t.prototype.toArray = function() {
                    return Array.from(this.$items.values())
                }
                ,
                t.prototype.toJSON = function() {
                    var e = [];
                    return this.forEach(function(t, n) {
                        e.push("function" == typeof t.toJSON ? t.toJSON() : t)
                    }),
                    e
                }
                ,
                t.prototype.clone = function(e) {
                    var n;
                    return e ? n = Object.assign(new t, this) : (n = new t,
                    this.forEach(function(e) {
                        e.$changes ? n.add(e.clone()) : n.add(e)
                    })),
                    n
                }
                ,
                t
            }()
              , ei = function() {
                function e() {
                    this.refIds = new WeakSet,
                    this.containerIndexes = new WeakMap
                }
                return e.prototype.addRefId = function(e) {
                    this.refIds.has(e) || (this.refIds.add(e),
                    this.containerIndexes.set(e, new Set))
                }
                ,
                e.get = function(t) {
                    return void 0 === t.$filterState && (t.$filterState = new e),
                    t.$filterState
                }
                ,
                e
            }()
              , eo = function() {
                function e() {
                    this.refs = new Map,
                    this.refCounts = {},
                    this.deletedRefs = new Set,
                    this.nextUniqueId = 0
                }
                return e.prototype.getNextUniqueId = function() {
                    return this.nextUniqueId++
                }
                ,
                e.prototype.addRef = function(e, t, n) {
                    void 0 === n && (n = !0),
                    this.refs.set(e, t),
                    n && (this.refCounts[e] = (this.refCounts[e] || 0) + 1)
                }
                ,
                e.prototype.removeRef = function(e) {
                    var t = this.refCounts[e];
                    if (void 0 === t) {
                        console.warn("trying to remove reference ".concat(e, " that doesn't exist"));
                        return
                    }
                    if (0 === t) {
                        console.warn("trying to remove reference ".concat(e, " with 0 refCount"));
                        return
                    }
                    this.refCounts[e] = t - 1,
                    this.deletedRefs.add(e)
                }
                ,
                e.prototype.clearRefs = function() {
                    this.refs.clear(),
                    this.deletedRefs.clear(),
                    this.refCounts = {}
                }
                ,
                e.prototype.garbageCollectDeletedRefs = function() {
                    var e = this;
                    this.deletedRefs.forEach(function(t) {
                        if (!(e.refCounts[t] > 0)) {
                            var n = e.refs.get(t);
                            if (n instanceof el)
                                for (var r in n._definition.schema)
                                    "string" != typeof n._definition.schema[r] && n[r] && n[r].$changes && e.removeRef(n[r].$changes.refId);
                            else {
                                var i = n.$changes.parent._definition;
                                "function" == typeof Object.values(i.schema[i.fieldsByIndex[n.$changes.parentIndex]])[0] && Array.from(n.values()).forEach(function(t) {
                                    return e.removeRef(t.$changes.refId)
                                })
                            }
                            e.refs.delete(t),
                            delete e.refCounts[t]
                        }
                    }),
                    this.deletedRefs.clear()
                }
                ,
                e
            }()
              , ea = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return s(t, e),
                t
            }(Error);
            function es(e, t, n, r) {
                if (!(e instanceof t))
                    throw new ea("a '".concat(t.name, "' was expected, but '").concat(e.constructor.name, "' was provided in ").concat(n.constructor.name, "#").concat(r))
            }
            var el = function() {
                function t() {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                    Object.defineProperties(this, {
                        $changes: {
                            value: new c(this,void 0,new eo),
                            enumerable: !1,
                            writable: !0
                        },
                        $callbacks: {
                            value: void 0,
                            enumerable: !1,
                            writable: !0
                        }
                    });
                    var n = this._definition.descriptors;
                    n && Object.defineProperties(this, n),
                    e[0] && this.assign(e[0])
                }
                return t.onError = function(e) {
                    console.error(e)
                }
                ,
                t.is = function(e) {
                    return e._definition && void 0 !== e._definition.schema
                }
                ,
                t.prototype.onChange = function(t) {
                    return d(this.$callbacks || (this.$callbacks = {}), e.OPERATION.REPLACE, t)
                }
                ,
                t.prototype.onRemove = function(t) {
                    return d(this.$callbacks || (this.$callbacks = {}), e.OPERATION.DELETE, t)
                }
                ,
                t.prototype.assign = function(e) {
                    return Object.assign(this, e),
                    this
                }
                ,
                Object.defineProperty(t.prototype, "_definition", {
                    get: function() {
                        return this.constructor._definition
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.setDirty = function(e, t) {
                    this.$changes.change(e, t)
                }
                ,
                t.prototype.listen = function(e, t, n) {
                    var r = this;
                    return void 0 === n && (n = !0),
                    this.$callbacks || (this.$callbacks = {}),
                    this.$callbacks[e] || (this.$callbacks[e] = []),
                    this.$callbacks[e].push(t),
                    n && void 0 !== this[e] && t(this[e], void 0),
                    function() {
                        return h(r.$callbacks[e], r.$callbacks[e].indexOf(t))
                    }
                }
                ,
                t.prototype.decode = function(n, r, i) {
                    void 0 === r && (r = {
                        offset: 0
                    }),
                    void 0 === i && (i = this);
                    var o = []
                      , a = this.$changes.root
                      , s = n.length
                      , l = 0;
                    for (a.refs.set(l, this); r.offset < s; ) {
                        var u, c = n[r.offset++];
                        if (255 == c) {
                            l = Q(n, r);
                            var d = a.refs.get(l);
                            if (!d)
                                throw Error('"refId" not found: '.concat(l));
                            i = d;
                            continue
                        }
                        var f = i.$changes
                          , h = void 0 !== i._definition
                          , p = h ? c >> 6 << 6 : c;
                        if (p === e.OPERATION.CLEAR) {
                            i.clear(o);
                            continue
                        }
                        var y = h ? c % (p || 255) : Q(n, r)
                          , b = h ? i._definition.fieldsByIndex[y] : ""
                          , E = f.getType(y)
                          , _ = void 0
                          , w = void 0
                          , O = void 0;
                        if (h ? w = i["_".concat(b)] : (w = i.getByIndex(y),
                        (p & e.OPERATION.ADD) === e.OPERATION.ADD ? (O = i instanceof m ? X(n, r) : y,
                        i.setIndex(y, O)) : O = i.getIndex(y)),
                        (p & e.OPERATION.DELETE) === e.OPERATION.DELETE && (p !== e.OPERATION.DELETE_AND_ADD && i.deleteByIndex(y),
                        w && w.$changes && a.removeRef(w.$changes.refId),
                        _ = null),
                        void 0 === b) {
                            console.warn("@colyseus/schema: definition mismatch");
                            for (var A = {
                                offset: r.offset
                            }; r.offset < s && !(ee(n, r) && (A.offset = r.offset + 1,
                            a.refs.has(Q(n, A)))); )
                                r.offset++;
                            continue
                        }
                        if (p === e.OPERATION.DELETE)
                            ;
                        else if (t.is(E)) {
                            var S = Q(n, r);
                            if (_ = a.refs.get(S),
                            p !== e.OPERATION.REPLACE) {
                                var P = this.getSchemaType(n, r, E);
                                !_ && ((_ = this.createTypeInstance(P)).$changes.refId = S,
                                w && (_.$callbacks = w.$callbacks,
                                w.$changes.refId && S !== w.$changes.refId && a.removeRef(w.$changes.refId))),
                                a.addRef(S, _, _ !== w)
                            }
                        } else if ("string" == typeof E)
                            u = r,
                            _ = et[E](n, u);
                        else {
                            var R = v[Object.keys(E)[0]]
                              , I = Q(n, r)
                              , T = a.refs.has(I) ? w || a.refs.get(I) : new R.constructor;
                            if ((_ = T.clone(!0)).$changes.refId = I,
                            w && (_.$callbacks = w.$callbacks,
                            w.$changes.refId && I !== w.$changes.refId)) {
                                a.removeRef(w.$changes.refId);
                                for (var x = w.entries(), k = void 0; (k = x.next()) && !k.done; ) {
                                    var N = k.value
                                      , C = N[0]
                                      , L = N[1];
                                    o.push({
                                        refId: I,
                                        op: e.OPERATION.DELETE,
                                        field: C,
                                        value: void 0,
                                        previousValue: L
                                    })
                                }
                            }
                            a.addRef(I, _, T !== w)
                        }
                        if (null != _) {
                            if (_.$changes && _.$changes.setParent(f.ref, f.root, y),
                            i instanceof t)
                                i[b] = _;
                            else if (i instanceof m) {
                                var C = O;
                                i.$items.set(C, _),
                                i.$changes.allChanges.add(y)
                            } else if (i instanceof g)
                                i.setAt(y, _);
                            else if (i instanceof en) {
                                var M = i.add(_);
                                i.setIndex(y, M)
                            } else if (i instanceof er) {
                                var M = i.add(_);
                                !1 !== M && i.setIndex(y, M)
                            }
                        }
                        w !== _ && o.push({
                            refId: l,
                            op: p,
                            field: b,
                            dynamicIndex: O,
                            value: _,
                            previousValue: w
                        })
                    }
                    return this._triggerChanges(o),
                    a.garbageCollectDeletedRefs(),
                    o
                }
                ,
                t.prototype.encode = function(n, r, i) {
                    void 0 === n && (n = !1),
                    void 0 === r && (r = []),
                    void 0 === i && (i = !1);
                    for (var o = this.$changes, a = new WeakSet, s = [o], l = 1, u = 0; u < l; u++) {
                        var c = s[u]
                          , d = c.ref
                          , f = d instanceof t;
                        c.ensureRefId(),
                        a.add(c),
                        c !== o && (c.changed || n) && (A(r, 255),
                        j(r, c.refId));
                        for (var h = n ? Array.from(c.allChanges) : Array.from(c.changes.values()), p = 0, g = h.length; p < g; p++) {
                            var y = n ? {
                                op: e.OPERATION.ADD,
                                index: h[p]
                            } : h[p]
                              , b = y.index
                              , E = f ? d._definition.fieldsByIndex && d._definition.fieldsByIndex[b] : b
                              , _ = r.length;
                            if (y.op !== e.OPERATION.TOUCH) {
                                if (f)
                                    A(r, b | y.op);
                                else {
                                    if (A(r, y.op),
                                    y.op === e.OPERATION.CLEAR)
                                        continue;
                                    j(r, b)
                                }
                            }
                            if (!f && (y.op & e.OPERATION.ADD) == e.OPERATION.ADD && d instanceof m && D(r, c.ref.$indexes.get(b)),
                            y.op !== e.OPERATION.DELETE) {
                                var w = c.getType(b)
                                  , O = c.getValue(b);
                                if (O && O.$changes && !a.has(O.$changes) && (s.push(O.$changes),
                                O.$changes.ensureRefId(),
                                l++),
                                y.op !== e.OPERATION.TOUCH) {
                                    if (t.is(w))
                                        es(O, w, d, E),
                                        j(r, O.$changes.refId),
                                        (y.op & e.OPERATION.ADD) === e.OPERATION.ADD && this.tryEncodeTypeId(r, w, O.constructor);
                                    else if ("string" == typeof w)
                                        !function(e, t, n, r, i) {
                                            !function(e, t, n, r) {
                                                var i, o = !1;
                                                switch (t) {
                                                case "number":
                                                case "int8":
                                                case "uint8":
                                                case "int16":
                                                case "uint16":
                                                case "int32":
                                                case "uint32":
                                                case "int64":
                                                case "uint64":
                                                case "float32":
                                                case "float64":
                                                    i = "number",
                                                    isNaN(e) && console.log('trying to encode "NaN" in '.concat(n.constructor.name, "#").concat(r));
                                                    break;
                                                case "string":
                                                    i = "string",
                                                    o = !0;
                                                    break;
                                                case "boolean":
                                                    return
                                                }
                                                if (typeof e !== i && (!o || o && null !== e)) {
                                                    var a = "'".concat(JSON.stringify(e), "'").concat(e && e.constructor && " (".concat(e.constructor.name, ")") || "");
                                                    throw new ea("a '".concat(i, "' was expected, but ").concat(a, " was provided in ").concat(n.constructor.name, "#").concat(r))
                                                }
                                            }(n, e, r, i);
                                            var o = U[e];
                                            if (o)
                                                o(t, n);
                                            else
                                                throw new ea("a '".concat(e, "' was expected, but ").concat(n, " was provided in ").concat(r.constructor.name, "#").concat(i))
                                        }(w, r, O, d, E);
                                    else {
                                        var S = v[Object.keys(w)[0]];
                                        es(d["_".concat(E)], S.constructor, d, E),
                                        j(r, O.$changes.refId)
                                    }
                                    i && c.cache(b, r.slice(_))
                                }
                            }
                        }
                        n || i || c.discard()
                    }
                    return r
                }
                ,
                t.prototype.encodeAll = function(e) {
                    return this.encode(!0, [], e)
                }
                ,
                t.prototype.applyFilters = function(n, r) {
                    void 0 === r && (r = !1);
                    for (var i, o, a = this, s = new Set, l = ei.get(n), u = [this.$changes], c = 1, d = [], f = 0; f < c; f++)
                        !function(f) {
                            var h = u[f];
                            if (!s.has(h.refId)) {
                                var p = h.ref
                                  , g = p instanceof t;
                                A(d, 255),
                                j(d, h.refId);
                                var v = l.refIds.has(h)
                                  , y = r || !v;
                                l.addRefId(h);
                                var b = l.containerIndexes.get(h)
                                  , E = y ? Array.from(h.allChanges) : Array.from(h.changes.values());
                                !r && g && p._definition.indexesWithFilters && p._definition.indexesWithFilters.forEach(function(t) {
                                    !b.has(t) && h.allChanges.has(t) && (y ? E.push(t) : E.push({
                                        op: e.OPERATION.ADD,
                                        index: t
                                    }))
                                });
                                for (var _ = 0, w = E.length; _ < w; _++) {
                                    var O = y ? {
                                        op: e.OPERATION.ADD,
                                        index: E[_]
                                    } : E[_];
                                    if (O.op === e.OPERATION.CLEAR) {
                                        A(d, O.op);
                                        continue
                                    }
                                    var S = O.index;
                                    if (O.op === e.OPERATION.DELETE) {
                                        g ? A(d, O.op | S) : (A(d, O.op),
                                        j(d, S));
                                        continue
                                    }
                                    var P = h.getValue(S)
                                      , R = h.getType(S);
                                    if (g) {
                                        var I = p._definition.filters && p._definition.filters[S];
                                        if (I && !I.call(p, n, P, a)) {
                                            P && P.$changes && s.add(P.$changes.refId);
                                            continue
                                        }
                                    } else {
                                        var T = h.parent
                                          , I = h.getChildrenFilter();
                                        if (I && !I.call(T, n, p.$indexes.get(S), P, a)) {
                                            P && P.$changes && s.add(P.$changes.refId);
                                            continue
                                        }
                                    }
                                    if (P.$changes && (u.push(P.$changes),
                                    c++),
                                    O.op !== e.OPERATION.TOUCH) {
                                        if (O.op === e.OPERATION.ADD || g)
                                            d.push.apply(d, null !== (i = h.caches[S]) && void 0 !== i ? i : []),
                                            b.add(S);
                                        else if (b.has(S))
                                            d.push.apply(d, null !== (o = h.caches[S]) && void 0 !== o ? o : []);
                                        else {
                                            if (b.add(S),
                                            A(d, e.OPERATION.ADD),
                                            j(d, S),
                                            p instanceof m) {
                                                var x = h.ref.$indexes.get(S);
                                                D(d, x)
                                            }
                                            P.$changes ? j(d, P.$changes.refId) : U[R](d, P)
                                        }
                                    } else if (P.$changes && !g) {
                                        if (A(d, e.OPERATION.ADD),
                                        j(d, S),
                                        p instanceof m) {
                                            var x = h.ref.$indexes.get(S);
                                            D(d, x)
                                        }
                                        j(d, P.$changes.refId)
                                    }
                                }
                            }
                        }(f);
                    return d
                }
                ,
                t.prototype.clone = function() {
                    var e, t = new this.constructor, n = this._definition.schema;
                    for (var r in n)
                        "object" == typeof this[r] && "function" == typeof (null === (e = this[r]) || void 0 === e ? void 0 : e.clone) ? t[r] = this[r].clone() : t[r] = this[r];
                    return t
                }
                ,
                t.prototype.toJSON = function() {
                    var e = this._definition.schema
                      , t = this._definition.deprecated
                      , n = {};
                    for (var r in e)
                        t[r] || null === this[r] || void 0 === this[r] || (n[r] = "function" == typeof this[r].toJSON ? this[r].toJSON() : this["_".concat(r)]);
                    return n
                }
                ,
                t.prototype.discardAllChanges = function() {
                    this.$changes.discardAll()
                }
                ,
                t.prototype.getByIndex = function(e) {
                    return this[this._definition.fieldsByIndex[e]]
                }
                ,
                t.prototype.deleteByIndex = function(e) {
                    this[this._definition.fieldsByIndex[e]] = void 0
                }
                ,
                t.prototype.tryEncodeTypeId = function(e, t, n) {
                    t._typeid !== n._typeid && (A(e, 213),
                    j(e, n._typeid))
                }
                ,
                t.prototype.getSchemaType = function(e, t, n) {
                    var r;
                    return 213 === e[t.offset] && (t.offset++,
                    r = this.constructor._context.get(Q(e, t))),
                    r || n
                }
                ,
                t.prototype.createTypeInstance = function(e) {
                    var t = new e;
                    return t.$changes.root = this.$changes.root,
                    t
                }
                ,
                t.prototype._triggerChanges = function(n) {
                    for (var r, i, o, a, s, l, u, c, d, f = new Set, h = this.$changes.root.refs, p = 0; p < n.length; p++)
                        !function(p) {
                            var g = n[p]
                              , m = g.refId
                              , v = h.get(m)
                              , y = v.$callbacks;
                            if ((g.op & e.OPERATION.DELETE) === e.OPERATION.DELETE && g.previousValue instanceof t && (null === (i = null === (r = g.previousValue.$callbacks) || void 0 === r ? void 0 : r[e.OPERATION.DELETE]) || void 0 === i || i.forEach(function(e) {
                                return e()
                            })),
                            y) {
                                if (v instanceof t) {
                                    if (!f.has(m))
                                        try {
                                            null === (o = null == y ? void 0 : y[e.OPERATION.REPLACE]) || void 0 === o || o.forEach(function(e) {
                                                return e()
                                            })
                                        } catch (e) {
                                            t.onError(e)
                                        }
                                    try {
                                        y.hasOwnProperty(g.field) && (null === (a = y[g.field]) || void 0 === a || a.forEach(function(e) {
                                            return e(g.value, g.previousValue)
                                        }))
                                    } catch (e) {
                                        t.onError(e)
                                    }
                                } else
                                    g.op === e.OPERATION.ADD && void 0 === g.previousValue ? null === (s = y[e.OPERATION.ADD]) || void 0 === s || s.forEach(function(e) {
                                        var t;
                                        return e(g.value, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    }) : g.op === e.OPERATION.DELETE ? void 0 !== g.previousValue && (null === (l = y[e.OPERATION.DELETE]) || void 0 === l || l.forEach(function(e) {
                                        var t;
                                        return e(g.previousValue, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    })) : g.op === e.OPERATION.DELETE_AND_ADD && (void 0 !== g.previousValue && (null === (u = y[e.OPERATION.DELETE]) || void 0 === u || u.forEach(function(e) {
                                        var t;
                                        return e(g.previousValue, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    })),
                                    null === (c = y[e.OPERATION.ADD]) || void 0 === c || c.forEach(function(e) {
                                        var t;
                                        return e(g.value, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    })),
                                    g.value !== g.previousValue && (null === (d = y[e.OPERATION.REPLACE]) || void 0 === d || d.forEach(function(e) {
                                        var t;
                                        return e(g.value, null !== (t = g.dynamicIndex) && void 0 !== t ? t : g.field)
                                    }));
                                f.add(m)
                            }
                        }(p)
                }
                ,
                t._definition = y.create(),
                t
            }()
              , eu = {
                context: new b
            }
              , ec = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return s(t, e),
                l([_("string", eu)], t.prototype, "name", void 0),
                l([_("string", eu)], t.prototype, "type", void 0),
                l([_("number", eu)], t.prototype, "referencedType", void 0),
                t
            }(el)
              , ed = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.fields = new g,
                    t
                }
                return s(t, e),
                l([_("number", eu)], t.prototype, "id", void 0),
                l([_([ec], eu)], t.prototype, "fields", void 0),
                t
            }(el)
              , ef = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.types = new g,
                    t
                }
                return s(t, e),
                t.encode = function(e) {
                    var n, r = e.constructor, i = new t;
                    i.rootType = r._typeid;
                    var o = null === (n = r._context) || void 0 === n ? void 0 : n.types;
                    for (var a in o) {
                        var s = new ed;
                        s.id = Number(a),
                        function(e, t) {
                            for (var n in t) {
                                var r = new ec;
                                r.name = n;
                                var o = void 0;
                                if ("string" == typeof t[n])
                                    o = t[n];
                                else {
                                    var a = t[n]
                                      , s = void 0;
                                    el.is(a) ? (o = "ref",
                                    s = t[n]) : (o = Object.keys(a)[0],
                                    "string" == typeof a[o] ? o += ":" + a[o] : s = a[o]),
                                    r.referencedType = s ? s._typeid : -1
                                }
                                r.type = o,
                                e.fields.push(r)
                            }
                            i.types.push(e)
                        }(s, o[a]._definition.schema)
                    }
                    return i.encodeAll()
                }
                ,
                t.decode = function(e, n) {
                    var r = new b
                      , i = new t;
                    i.decode(e, n);
                    var o = i.types.reduce(function(e, t) {
                        var n = function(e) {
                            function t() {
                                return null !== e && e.apply(this, arguments) || this
                            }
                            return s(t, e),
                            t
                        }(el)
                          , i = t.id;
                        return e[i] = n,
                        r.add(n, i),
                        e
                    }, {});
                    i.types.forEach(function(e) {
                        var t = o[e.id];
                        e.fields.forEach(function(e) {
                            var n;
                            if (void 0 !== e.referencedType) {
                                var i = e.type
                                  , a = o[e.referencedType];
                                if (!a) {
                                    var s = e.type.split(":");
                                    i = s[0],
                                    a = s[1]
                                }
                                "ref" === i ? _(a, {
                                    context: r
                                })(t.prototype, e.name) : _(((n = {})[i] = a,
                                n), {
                                    context: r
                                })(t.prototype, e.name)
                            } else
                                _(e.type, {
                                    context: r
                                })(t.prototype, e.name)
                        })
                    });
                    var a = o[i.rootType]
                      , l = new a;
                    for (var u in a._definition.schema) {
                        var c = a._definition.schema[u];
                        "string" != typeof c && (l[u] = "function" == typeof c ? new c : new v[Object.keys(c)[0]].constructor)
                    }
                    return l
                }
                ,
                l([_([ed], eu)], t.prototype, "types", void 0),
                l([_("number", eu)], t.prototype, "rootType", void 0),
                t
            }(el);
            n = {
                constructor: m
            },
            v.map = n,
            r = {
                constructor: g
            },
            v.array = r,
            i = {
                constructor: er
            },
            v.set = i,
            o = {
                constructor: en
            },
            v.collection = o,
            e.ArraySchema = g,
            e.CollectionSchema = en,
            e.Context = b,
            e.MapSchema = m,
            e.Reflection = ef,
            e.ReflectionField = ec,
            e.ReflectionType = ed,
            e.Schema = el,
            e.SchemaDefinition = y,
            e.SetSchema = er,
            e.decode = et,
            e.defineTypes = function(e, t, n) {
                for (var r in void 0 === n && (n = {}),
                n.context || (n.context = e._context || n.context || E),
                t)
                    _(t[r], n)(e.prototype, r);
                return e
            }
            ,
            e.deprecated = function(e) {
                return void 0 === e && (e = !0),
                function(t, n) {
                    var r = t.constructor._definition;
                    r.deprecated[n] = !0,
                    e && (r.descriptors[n] = {
                        get: function() {
                            throw Error("".concat(n, " is deprecated."))
                        },
                        set: function(e) {},
                        enumerable: !1,
                        configurable: !0
                    })
                }
            }
            ,
            e.dumpChanges = function(e) {
                for (var t = [e.$changes], n = {}, r = 0; r < 1; r++)
                    !function(e) {
                        var r = t[e];
                        r.changes.forEach(function(e) {
                            var t = r.ref
                              , i = e.index;
                            n[t._definition ? t._definition.fieldsByIndex[i] : t.$indexes.get(i)] = r.getValue(i)
                        })
                    }(r);
                return n
            }
            ,
            e.encode = U,
            e.filter = function(e) {
                return function(t, n) {
                    var r = t.constructor;
                    r._definition.addFilter(n, e) && (r._context.useFilters = !0)
                }
            }
            ,
            e.filterChildren = function(e) {
                return function(t, n) {
                    var r = t.constructor;
                    r._definition.addChildrenFilter(n, e) && (r._context.useFilters = !0)
                }
            }
            ,
            e.hasFilter = function(e) {
                return e._context && e._context.useFilters
            }
            ,
            e.registerType = function(e, t) {
                v[e] = t
            }
            ,
            e.type = _,
            Object.defineProperty(e, "__esModule", {
                value: !0
            })
        }(t)
    },
    25904: function(e, t, n) {
        "use strict";
        t.PM = t.aG = t.ei = t.be = void 0;
        let r = n(41396);
        t.be = function(e, t) {
            if (e) {
                if (e instanceof Map || e instanceof r.MapSchema)
                    return e.forEach(t);
                if ("object" == typeof e)
                    return Object.entries(e).forEach( ([e,n]) => t(n, e))
            }
        }
        ,
        t.ei = function(e) {
            return e ? e instanceof Map || e instanceof r.MapSchema ? e.size : "object" == typeof e ? Object.keys(e).length : 0 : 0
        }
        ,
        t.aG = function(e, t) {
            if (e) {
                if (e instanceof Map || e instanceof r.MapSchema)
                    return e.get(t);
                if ("object" == typeof e)
                    return e[t]
            }
        }
        ,
        t.PM = function(e, t) {
            if (!e)
                return !1;
            if (e instanceof Map || e instanceof r.MapSchema) {
                for (let[n,r] of e.entries())
                    if (t(r, n))
                        return !0
            } else if ("object" == typeof e)
                return Object.entries(e).some( ([e,n]) => t(n, e));
            return !1
        }
    },
    96721: function(e, t) {
        "use strict";
        var n, r;
        t.mY = void 0,
        (r = n || (t.mY = n = {})).timeSync = "timeSync",
        r.handshake = "handshake",
        r.joinRoom = "joinRoom",
        r.sendMapLibrary = "sendMapLibrary",
        r.moveSelfPlayer = "mv",
        r.swapOrCombineInventorySlots = "swapOrCombineInventorySlots",
        r.changeEquipmentBar = "changeEquipmentBar",
        r.addMessageToChat = "addMessageToChat",
        r.setTypingState = "setTypingState",
        r.setTosAccepted = "setTosAccepted",
        r.playerNotification = "playerNotification",
        r.receiveMessageInChat = "receiveMessageInChat",
        r.setAvatar = "setAvatar",
        r.setPet = "setPet",
        r.setPetName = "setPetName",
        r.setStorageName = "setStorageName",
        r.useItem = "ui",
        r.useItemError = "useItemError",
        r.talkToNPC = "talkToNPC",
        r.clickEntity = "clickEntity",
        r.closeDialog = "closeDialog",
        r.collideWithObject = "collideWithObject",
        r.teleportPlayer = "teleportPlayer",
        r.timerCheck = "timerCheck",
        r.collectMailboxItem = "collectMailboxItem",
        r.fetchMailbox = "fetchMailbox",
        r.subscribe = "subscribe",
        r.rentFarm = "rentFarm",
        r.buyStoreItem = "buyStoreItem",
        r.sellStoreItem = "sellStoreItem",
        r.updateMapMembers = "updateMapMembers",
        r.updateRolesAndPermissions = "updateRolesAndPermissions",
        r.updateRoomRestrictions = "updateRoomRestrictions",
        r.updateMapListing = "updateMapListing",
        r.claimNftMap = "claimNftMap",
        r.updateRoomName = "updateRoomName",
        r.updatePlayer = "updatePlayer",
        r.bookmarkMap = "bookmarkMap",
        r.buildObject = "buildObject",
        r.buildTile = "buildTile",
        r.buildEntity = "buildEntity",
        r.claimAll = "claimAll",
        r.upgradeFarm = "upgradeFarm",
        r.presentUI = "presentUI",
        r.clientCmd = "clientCmd",
        r.playerAction = "playerAction",
        r.clientTrigger = "clientTrigger",
        r.trade = "trade",
        r.marketplace = "marketplace",
        r.reportPlayer = "reportPlayer",
        r.mintUgc = "mintUgc",
        r.findNFTs = "findNFTs",
        r.sellOrders = "sellOrders",
        r.sellOrderReset = "sellOrderReset",
        r.guildSellOrders = "guildSellOrders"
    },
    30908: function(e, t) {
        "use strict";
        var n, r;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.Skills = t.DeprecatedCraftableTypeValues = t.DeprecatedCraftableTypeEnum = t.AchievementTypes = void 0,
        t.AchievementTypes = ["craftable", "trophy", "badge", "collection", "skill", "statistic"],
        (r = n || (t.DeprecatedCraftableTypeEnum = n = {})).forge = "forge",
        r.cooking = "cooking",
        r.woodwork = "woodwork",
        r.windmill = "windmill",
        r.textile_mill = "textile_mill",
        r.kiln = "kiln",
        r.quantum_recombinator = "quantum_recombinator",
        r.winery = "winery",
        r.industries = "industries",
        r.gridcraftManufacturing = "gridcraftManufacturing",
        r.gridcraftPacking = "gridcraftPacking",
        r.pattyMaker = "pattyMaker",
        r.foodProcessor = "foodProcessor",
        r.grill = "grill",
        r.assemblyTable = "assemblyTable",
        r.deepFryer = "deepFryer",
        t.DeprecatedCraftableTypeValues = Object.keys(n),
        t.Skills = ["farming", "forestry", "cooking", "mining", "woodwork", "metalworking", "stoneshaping", "petcare", "business", "exploration", "granger", "ceramicist", "beekeeping", "textiler", "aviculture", "redifferentiator", "slugger", "winemaking", "fishing", "overall"]
    },
    26904: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.AvatarFlags = t.NFTCollectionTypes = void 0,
        t.NFTCollectionTypes = ["pet", "avatar", "land", "membership", "guild", "other"],
        t.AvatarFlags = ["singular", "nochain", "1155"]
    },
    97656: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    57755: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.supportedLegacyNetworks = t.supportedTestnets = t.SupportedNetworks = void 0,
        t.SupportedNetworks = ["ethereum", "goerli", "matic", "mumbai", "bsc", "base", "ronin", "saigon"],
        t.supportedTestnets = ["goerli", "mumbai", "saigon"],
        t.supportedLegacyNetworks = ["ronin", "saigon"]
    },
    12237: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    57563: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.CropDef = t.SoilDef = void 0;
        class n {
            constructor() {
                this.defaultState = "normal",
                this.states = {}
            }
        }
        t.SoilDef = n;
        class r {
            constructor() {
                this.defaultState = "seed",
                this.waterDryRate = 1,
                this.states = {}
            }
        }
        t.CropDef = r
    },
    42825: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.ExpressionOperators = t.FunctionNames = t.ActionTypes = t.EventTypes = void 0,
        t.EventTypes = ["click", "input", "timer", "place", "remove"],
        t.ActionTypes = ["stateChange", "displayChange", "itemChange", "displayTimer", "setTimer", "adjustInventory", "addAchievement", "eventTrigger", "entityTrigger", "itemTrigger", "iteratePlayers", "spawn", "return", "spawnmap", "clientCommand", "adjustSkill", "adjustCoins", "adjustEnergy", "adjustPet", "craft", "collect", "craftCancel", "destroy", "mapDrop", "mailDrop", "scheduleNotice", "setTracker", "incTracker", "decTracker", "insertArray", "loadData", "move", "custom", "call", "broadcast", "globalMessage", "track", "metric", "transient"],
        t.FunctionNames = ["time", "rand", "normal", "floor", "ceil", "max", "min", "abs", "log", "round", "evalTracker", "string", "array", "inventory", "space", "environment", "trait", "achievement", "crafttime", "permission", "membership", "tag", "state", "energy", "coins", "quest", "roomfind", "eval", "pet"],
        t.ExpressionOperators = ["or", "<", ">", "=", "<>", ">=", "<=", "and", "+", "*", "-", "/", "not", "mod"]
    },
    5341: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    13903: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.onUseItemTypes = t.UseItemTargets = void 0,
        t.UseItemTargets = ["entities", "self", "pet", "objects", "entityLabels", "entityTypes", "objectTypes", "ground", "mapLabels"],
        t.onUseItemTypes = ["placeEntity", "removeEntity", "placeObject", "removeObject", "placeTile", "removeTile", "move", "water", "fertilize", "harvest", "energy", "plant", "animate", "achievement", "generic", "discoverability", "execute", "membership", "placeLabel"]
    },
    43584: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.GameRoles = t.MapTypes = void 0,
        t.MapTypes = ["pixelsNFTFarm", "tutorial", "player", "nft", "public", "private", "template"],
        t.GameRoles = ["OWNER", "Manager", "Builder", "Visitor", "Guild-Pledger", "Guild-Worker", "Guild", "Guild-Member", "Admin", "ANY"]
    },
    38026: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.SupportedContractKinds = void 0,
        t.SupportedContractKinds = ["erc20", "erc721", "erc1155", "dailyTrack"]
    },
    81990: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    24457: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    37140: function(e, t) {
        "use strict";
        var n, r;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.AnimationMode = t.surfaceTypes = void 0,
        t.surfaceTypes = ["wall", "floor"],
        (r = n || (t.AnimationMode = n = {}))[r.loop = 1] = "loop",
        r[r.click = 2] = "click",
        r[r.approach = 4] = "approach",
        r[r.approachloop = 5] = "approachloop"
    },
    85657: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.MAX_ENERGY = t.DEFAULTWARDROBE = t.DEFAULTINVENTORY = t.DEFAULT_BOOKMARKS = t.MembershipTypeNames = t.NetworkWalletProviderMap = void 0,
        t.NetworkWalletProviderMap = {
            ethereum: ["coinbase", "okx", "metamask", "trust"],
            goerli: ["coinbase", "okx", "metamask", "trust"],
            matic: ["coinbase", "okx", "metamask", "trust"],
            base: ["coinbase", "okx", "metamask", "trust"],
            mumbai: ["coinbase", "okx", "metamask", "trust"],
            bsc: ["coinbase", "okx", "metamask", "trust"],
            ronin: ["ronin"],
            saigon: ["ronin"]
        },
        t.MembershipTypeNames = ["vip", "nftLand", "nftLand-pixels"],
        t.DEFAULT_BOOKMARKS = 3,
        t.DEFAULTINVENTORY = {
            size: 18,
            baseSize: 18,
            activeRow: 0
        },
        t.DEFAULTWARDROBE = {
            size: 36
        },
        t.MAX_ENERGY = 1e3
    },
    60135: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.QuestKind = void 0,
        t.QuestKind = ["normal", "daily", "hidden"]
    },
    33088: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    61486: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    76906: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    48091: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    59112: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    53518: function(e, t) {
        "use strict";
        var n, r;
        t.m = void 0,
        (r = n || (t.m = n = {}))[r.ROOM_UNINITIALIZED = 4008] = "ROOM_UNINITIALIZED",
        r[r.DISCONNECTED = 4009] = "DISCONNECTED",
        r[r.INVALID_TELEPORT = 4010] = "INVALID_TELEPORT",
        r[r.INVALID_JOIN = 4011] = "INVALID_JOIN",
        r[r.JOIN_IN_PROGRESS = 4013] = "JOIN_IN_PROGRESS",
        r[r.DUPLICATE_ROOM = 4242] = "DUPLICATE_ROOM",
        r[r.PLAYER_NOT_FOUND = 4501] = "PLAYER_NOT_FOUND",
        r[r.INVALID_SESSION = 4503] = "INVALID_SESSION",
        r[r.ROOM_FULL = 4504] = "ROOM_FULL",
        r[r.INVALID_AVATAR = 4505] = "INVALID_AVATAR",
        r[r.INVALID_USERNAME = 4506] = "INVALID_USERNAME",
        r[r.AUTHENTICATION_FAILED = 4507] = "AUTHENTICATION_FAILED",
        r[r.INCORRECT_CLIENT_VERSION = 4509] = "INCORRECT_CLIENT_VERSION",
        r[r.NEED_TELEMETRY = 4510] = "NEED_TELEMETRY",
        r[r.NEED_RECAPTCHA = 4511] = "NEED_RECAPTCHA",
        r[r.AUTHENTICATION_EXPIRED = 4512] = "AUTHENTICATION_EXPIRED",
        r[r.PLAYER_BANNED = 4521] = "PLAYER_BANNED",
        r[r.BAD_RECAPTCHA = 4567] = "BAD_RECAPTCHA",
        r[r.ROOM_DISPOSING = 4595] = "ROOM_DISPOSING",
        r[r.VELOCITY_CONTROL = 4596] = "VELOCITY_CONTROL",
        r[r.SERVER_MAINTENANCE = 4597] = "SERVER_MAINTENANCE",
        r[r.INVALID_WORLD = 4777] = "INVALID_WORLD",
        r[r.INVALID_MAP = 4978] = "INVALID_MAP",
        r[r.LOGGING_OUT = 4997] = "LOGGING_OUT",
        r[r.ABANDONED = 4998] = "ABANDONED",
        r[r.LOGGED_IN = 4999] = "LOGGED_IN"
    },
    4152: function(e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function(e, t, n, r) {
            void 0 === r && (r = n);
            var i = Object.getOwnPropertyDescriptor(t, n);
            (!i || ("get"in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
                enumerable: !0,
                get: function() {
                    return t[n]
                }
            }),
            Object.defineProperty(e, r, i)
        }
        : function(e, t, n, r) {
            void 0 === r && (r = n),
            e[r] = t[n]
        }
        )
          , i = this && this.__exportStar || function(e, t) {
            for (var n in e)
                "default" === n || Object.prototype.hasOwnProperty.call(t, n) || r(t, e, n)
        }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.OptimizedCache = void 0,
        i(n(5341), t),
        i(n(30908), t),
        i(n(57563), t),
        i(n(13903), t),
        i(n(59112), t),
        i(n(57755), t),
        i(n(12237), t),
        i(n(24457), t),
        i(n(37140), t),
        i(n(48091), t),
        i(n(81990), t),
        i(n(43584), t),
        i(n(85657), t),
        i(n(26904), t),
        i(n(38026), t),
        i(n(60135), t),
        i(n(76906), t),
        i(n(61486), t),
        i(n(42825), t),
        i(n(97656), t),
        i(n(33088), t),
        i(n(29921), t);
        class o {
            constructor() {
                this.entities = {},
                this.items = {}
            }
            reset() {
                this.entities = {},
                this.items = {}
            }
        }
        t.OptimizedCache = o
    },
    29921: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    },
    66741: function(e, t, n) {
        "use strict";
        function r(e) {
            for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                n[r - 1] = arguments[r];
            throw Error("[Immer] minified error nr: " + e + (n.length ? " " + n.map(function(e) {
                return "'" + e + "'"
            }).join(",") : "") + ". Find the full error at: https://bit.ly/3cXEKWf")
        }
        function i(e) {
            return !!e && !!e[q]
        }
        function o(e) {
            var t;
            return !!e && (function(e) {
                if (!e || "object" != typeof e)
                    return !1;
                var t = Object.getPrototypeOf(e);
                if (null === t)
                    return !0;
                var n = Object.hasOwnProperty.call(t, "constructor") && t.constructor;
                return n === Object || "function" == typeof n && Function.toString.call(n) === G
            }(e) || Array.isArray(e) || !!e[F] || !!(null === (t = e.constructor) || void 0 === t ? void 0 : t[F]) || d(e) || f(e))
        }
        function a(e, t, n) {
            void 0 === n && (n = !1),
            0 === s(e) ? (n ? Object.keys : z)(e).forEach(function(r) {
                n && "symbol" == typeof r || t(r, e[r], e)
            }) : e.forEach(function(n, r) {
                return t(r, n, e)
            })
        }
        function s(e) {
            var t = e[q];
            return t ? t.i > 3 ? t.i - 4 : t.i : Array.isArray(e) ? 1 : d(e) ? 2 : f(e) ? 3 : 0
        }
        function l(e, t) {
            return 2 === s(e) ? e.has(t) : Object.prototype.hasOwnProperty.call(e, t)
        }
        function u(e, t, n) {
            var r = s(e);
            2 === r ? e.set(t, n) : 3 === r ? e.add(n) : e[t] = n
        }
        function c(e, t) {
            return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t
        }
        function d(e) {
            return U && e instanceof Map
        }
        function f(e) {
            return $ && e instanceof Set
        }
        function h(e) {
            return e.o || e.t
        }
        function p(e) {
            if (Array.isArray(e))
                return Array.prototype.slice.call(e);
            var t = Y(e);
            delete t[q];
            for (var n = z(t), r = 0; r < n.length; r++) {
                var i = n[r]
                  , o = t[i];
                !1 === o.writable && (o.writable = !0,
                o.configurable = !0),
                (o.get || o.set) && (t[i] = {
                    configurable: !0,
                    writable: !0,
                    enumerable: o.enumerable,
                    value: e[i]
                })
            }
            return Object.create(Object.getPrototypeOf(e), t)
        }
        function g(e, t) {
            return void 0 === t && (t = !1),
            v(e) || i(e) || !o(e) || (s(e) > 1 && (e.set = e.add = e.clear = e.delete = m),
            Object.freeze(e),
            t && a(e, function(e, t) {
                return g(t, !0)
            }, !0)),
            e
        }
        function m() {
            r(2)
        }
        function v(e) {
            return null == e || "object" != typeof e || Object.isFrozen(e)
        }
        function y(e) {
            var t = H[e];
            return t || r(18, e),
            t
        }
        function b(e, t) {
            t && (y("Patches"),
            e.u = [],
            e.s = [],
            e.v = t)
        }
        function E(e) {
            _(e),
            e.p.forEach(O),
            e.p = null
        }
        function _(e) {
            e === D && (D = e.l)
        }
        function w(e) {
            return D = {
                p: [],
                l: D,
                h: e,
                m: !0,
                _: 0
            }
        }
        function O(e) {
            var t = e[q];
            0 === t.i || 1 === t.i ? t.j() : t.g = !0
        }
        function A(e, t) {
            t._ = t.p.length;
            var n = t.p[0]
              , i = void 0 !== e && e !== n;
            return t.h.O || y("ES5").S(t, e, i),
            i ? (n[q].P && (E(t),
            r(4)),
            o(e) && (e = S(t, e),
            t.l || R(t, e)),
            t.u && y("Patches").M(n[q].t, e, t.u, t.s)) : e = S(t, n, []),
            E(t),
            t.u && t.v(t.u, t.s),
            e !== B ? e : void 0
        }
        function S(e, t, n) {
            if (v(t))
                return t;
            var r = t[q];
            if (!r)
                return a(t, function(i, o) {
                    return P(e, r, t, i, o, n)
                }, !0),
                t;
            if (r.A !== e)
                return t;
            if (!r.P)
                return R(e, r.t, !0),
                r.t;
            if (!r.I) {
                r.I = !0,
                r.A._--;
                var i = 4 === r.i || 5 === r.i ? r.o = p(r.k) : r.o
                  , o = i
                  , s = !1;
                3 === r.i && (o = new Set(i),
                i.clear(),
                s = !0),
                a(o, function(t, o) {
                    return P(e, r, i, t, o, n, s)
                }),
                R(e, i, !1),
                n && e.u && y("Patches").N(r, n, e.u, e.s)
            }
            return r.o
        }
        function P(e, t, n, r, a, s, c) {
            if (i(a)) {
                var d = S(e, a, s && t && 3 !== t.i && !l(t.R, r) ? s.concat(r) : void 0);
                if (u(n, r, d),
                !i(d))
                    return;
                e.m = !1
            } else
                c && n.add(a);
            if (o(a) && !v(a)) {
                if (!e.h.D && e._ < 1)
                    return;
                S(e, a),
                t && t.A.l || R(e, a)
            }
        }
        function R(e, t, n) {
            void 0 === n && (n = !1),
            !e.l && e.h.D && e.m && g(t, n)
        }
        function I(e, t) {
            var n = e[q];
            return (n ? h(n) : e)[t]
        }
        function T(e, t) {
            if (t in e)
                for (var n = Object.getPrototypeOf(e); n; ) {
                    var r = Object.getOwnPropertyDescriptor(n, t);
                    if (r)
                        return r;
                    n = Object.getPrototypeOf(n)
                }
        }
        function x(e) {
            e.P || (e.P = !0,
            e.l && x(e.l))
        }
        function k(e) {
            e.o || (e.o = p(e.t))
        }
        function N(e, t, n) {
            var r, i, o, a, s, l, u, c = d(t) ? y("MapSet").F(t, n) : f(t) ? y("MapSet").T(t, n) : e.O ? (o = i = {
                i: (r = Array.isArray(t)) ? 1 : 0,
                A: n ? n.A : D,
                P: !1,
                I: !1,
                R: {},
                l: n,
                t: t,
                k: null,
                o: null,
                j: null,
                C: !1
            },
            a = Z,
            r && (o = [i],
            a = W),
            l = (s = Proxy.revocable(o, a)).revoke,
            u = s.proxy,
            i.k = u,
            i.j = l,
            u) : y("ES5").J(t, n);
            return (n ? n.A : D).p.push(c),
            c
        }
        function C(e, t) {
            switch (t) {
            case 2:
                return new Map(e);
            case 3:
                return Array.from(e)
            }
            return p(e)
        }
        n.d(t, {
            xC: function() {
                return eS
            },
            hg: function() {
                return eL
            },
            oM: function() {
                return eI
            }
        });
        var L, M, D, j = "undefined" != typeof Symbol && "symbol" == typeof Symbol("x"), U = "undefined" != typeof Map, $ = "undefined" != typeof Set, V = "undefined" != typeof Proxy && void 0 !== Proxy.revocable && "undefined" != typeof Reflect, B = j ? Symbol.for("immer-nothing") : ((M = {})["immer-nothing"] = !0,
        M), F = j ? Symbol.for("immer-draftable") : "__$immer_draftable", q = j ? Symbol.for("immer-state") : "__$immer_state", G = "" + Object.prototype.constructor, z = "undefined" != typeof Reflect && Reflect.ownKeys ? Reflect.ownKeys : void 0 !== Object.getOwnPropertySymbols ? function(e) {
            return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
        }
        : Object.getOwnPropertyNames, Y = Object.getOwnPropertyDescriptors || function(e) {
            var t = {};
            return z(e).forEach(function(n) {
                t[n] = Object.getOwnPropertyDescriptor(e, n)
            }),
            t
        }
        , H = {}, Z = {
            get: function(e, t) {
                if (t === q)
                    return e;
                var n, r, i = h(e);
                if (!l(i, t))
                    return (r = T(i, t)) ? "value"in r ? r.value : null === (n = r.get) || void 0 === n ? void 0 : n.call(e.k) : void 0;
                var a = i[t];
                return e.I || !o(a) ? a : a === I(e.t, t) ? (k(e),
                e.o[t] = N(e.A.h, a, e)) : a
            },
            has: function(e, t) {
                return t in h(e)
            },
            ownKeys: function(e) {
                return Reflect.ownKeys(h(e))
            },
            set: function(e, t, n) {
                var r = T(h(e), t);
                if (null == r ? void 0 : r.set)
                    return r.set.call(e.k, n),
                    !0;
                if (!e.P) {
                    var i = I(h(e), t)
                      , o = null == i ? void 0 : i[q];
                    if (o && o.t === n)
                        return e.o[t] = n,
                        e.R[t] = !1,
                        !0;
                    if (c(n, i) && (void 0 !== n || l(e.t, t)))
                        return !0;
                    k(e),
                    x(e)
                }
                return e.o[t] === n && (void 0 !== n || t in e.o) || Number.isNaN(n) && Number.isNaN(e.o[t]) || (e.o[t] = n,
                e.R[t] = !0),
                !0
            },
            deleteProperty: function(e, t) {
                return void 0 !== I(e.t, t) || t in e.t ? (e.R[t] = !1,
                k(e),
                x(e)) : delete e.R[t],
                e.o && delete e.o[t],
                !0
            },
            getOwnPropertyDescriptor: function(e, t) {
                var n = h(e)
                  , r = Reflect.getOwnPropertyDescriptor(n, t);
                return r ? {
                    writable: !0,
                    configurable: 1 !== e.i || "length" !== t,
                    enumerable: r.enumerable,
                    value: n[t]
                } : r
            },
            defineProperty: function() {
                r(11)
            },
            getPrototypeOf: function(e) {
                return Object.getPrototypeOf(e.t)
            },
            setPrototypeOf: function() {
                r(12)
            }
        }, W = {};
        a(Z, function(e, t) {
            W[e] = function() {
                return arguments[0] = arguments[0][0],
                t.apply(this, arguments)
            }
        }),
        W.deleteProperty = function(e, t) {
            return W.set.call(this, e, t, void 0)
        }
        ,
        W.set = function(e, t, n) {
            return Z.set.call(this, e[0], t, n, e[0])
        }
        ;
        var J = new (function() {
            function e(e) {
                var t = this;
                this.O = V,
                this.D = !0,
                this.produce = function(e, n, i) {
                    if ("function" == typeof e && "function" != typeof n) {
                        var a, s = n;
                        return n = e,
                        function(e) {
                            var r = this;
                            void 0 === e && (e = s);
                            for (var i = arguments.length, o = Array(i > 1 ? i - 1 : 0), a = 1; a < i; a++)
                                o[a - 1] = arguments[a];
                            return t.produce(e, function(e) {
                                var t;
                                return (t = n).call.apply(t, [r, e].concat(o))
                            })
                        }
                    }
                    if ("function" != typeof n && r(6),
                    void 0 !== i && "function" != typeof i && r(7),
                    o(e)) {
                        var l = w(t)
                          , u = N(t, e, void 0)
                          , c = !0;
                        try {
                            a = n(u),
                            c = !1
                        } finally {
                            c ? E(l) : _(l)
                        }
                        return "undefined" != typeof Promise && a instanceof Promise ? a.then(function(e) {
                            return b(l, i),
                            A(e, l)
                        }, function(e) {
                            throw E(l),
                            e
                        }) : (b(l, i),
                        A(a, l))
                    }
                    if (!e || "object" != typeof e) {
                        if (void 0 === (a = n(e)) && (a = e),
                        a === B && (a = void 0),
                        t.D && g(a, !0),
                        i) {
                            var d = []
                              , f = [];
                            y("Patches").M(e, a, d, f),
                            i(d, f)
                        }
                        return a
                    }
                    r(21, e)
                }
                ,
                this.produceWithPatches = function(e, n) {
                    if ("function" == typeof e)
                        return function(n) {
                            for (var r = arguments.length, i = Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++)
                                i[o - 1] = arguments[o];
                            return t.produceWithPatches(n, function(t) {
                                return e.apply(void 0, [t].concat(i))
                            })
                        }
                        ;
                    var r, i, o = t.produce(e, n, function(e, t) {
                        r = e,
                        i = t
                    });
                    return "undefined" != typeof Promise && o instanceof Promise ? o.then(function(e) {
                        return [e, r, i]
                    }) : [o, r, i]
                }
                ,
                "boolean" == typeof (null == e ? void 0 : e.useProxies) && this.setUseProxies(e.useProxies),
                "boolean" == typeof (null == e ? void 0 : e.autoFreeze) && this.setAutoFreeze(e.autoFreeze)
            }
            var t = e.prototype;
            return t.createDraft = function(e) {
                o(e) || r(8),
                i(e) && (i(t = e) || r(22, t),
                e = function e(t) {
                    if (!o(t))
                        return t;
                    var n, r = t[q], i = s(t);
                    if (r) {
                        if (!r.P && (r.i < 4 || !y("ES5").K(r)))
                            return r.t;
                        r.I = !0,
                        n = C(t, i),
                        r.I = !1
                    } else
                        n = C(t, i);
                    return a(n, function(t, i) {
                        var o;
                        r && (2 === s(o = r.t) ? o.get(t) : o[t]) === i || u(n, t, e(i))
                    }),
                    3 === i ? new Set(n) : n
                }(t));
                var t, n = w(this), l = N(this, e, void 0);
                return l[q].C = !0,
                _(n),
                l
            }
            ,
            t.finishDraft = function(e, t) {
                var n = (e && e[q]).A;
                return b(n, t),
                A(void 0, n)
            }
            ,
            t.setAutoFreeze = function(e) {
                this.D = e
            }
            ,
            t.setUseProxies = function(e) {
                e && !V && r(20),
                this.O = e
            }
            ,
            t.applyPatches = function(e, t) {
                for (n = t.length - 1; n >= 0; n--) {
                    var n, r = t[n];
                    if (0 === r.path.length && "replace" === r.op) {
                        e = r.value;
                        break
                    }
                }
                n > -1 && (t = t.slice(n + 1));
                var o = y("Patches").$;
                return i(e) ? o(e, t) : this.produce(e, function(e) {
                    return o(e, t)
                })
            }
            ,
            e
        }())
          , K = J.produce;
        function X(e) {
            return (X = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function Q(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                n.push.apply(n, r)
            }
            return n
        }
        function ee(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? Q(Object(n), !0).forEach(function(t) {
                    !function(e, t, n) {
                        var r;
                        (r = function(e, t) {
                            if ("object" != X(e) || !e)
                                return e;
                            var n = e[Symbol.toPrimitive];
                            if (void 0 !== n) {
                                var r = n.call(e, t || "default");
                                if ("object" != X(r))
                                    return r;
                                throw TypeError("@@toPrimitive must return a primitive value.")
                            }
                            return ("string" === t ? String : Number)(e)
                        }(t, "string"),
                        (t = "symbol" == X(r) ? r : r + "")in e) ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n
                    }(e, t, n[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Q(Object(n)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                })
            }
            return e
        }
        function et(e) {
            return "Minified Redux error #" + e + "; visit https://redux.js.org/Errors?code=" + e + " for the full message or use the non-minified dev environment for full errors. "
        }
        J.produceWithPatches.bind(J),
        J.setAutoFreeze.bind(J),
        J.setUseProxies.bind(J),
        J.applyPatches.bind(J),
        J.createDraft.bind(J),
        J.finishDraft.bind(J);
        var en = "function" == typeof Symbol && Symbol.observable || "@@observable"
          , er = function() {
            return Math.random().toString(36).substring(7).split("").join(".")
        }
          , ei = {
            INIT: "@@redux/INIT" + er(),
            REPLACE: "@@redux/REPLACE" + er(),
            PROBE_UNKNOWN_ACTION: function() {
                return "@@redux/PROBE_UNKNOWN_ACTION" + er()
            }
        };
        function eo() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            return 0 === t.length ? function(e) {
                return e
            }
            : 1 === t.length ? t[0] : t.reduce(function(e, t) {
                return function() {
                    return e(t.apply(void 0, arguments))
                }
            })
        }
        function ea() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            return function(e) {
                return function() {
                    var n = e.apply(void 0, arguments)
                      , r = function() {
                        throw Error(et(15))
                    }
                      , i = {
                        getState: n.getState,
                        dispatch: function() {
                            return r.apply(void 0, arguments)
                        }
                    }
                      , o = t.map(function(e) {
                        return e(i)
                    });
                    return r = eo.apply(void 0, o)(n.dispatch),
                    ee(ee({}, n), {}, {
                        dispatch: r
                    })
                }
            }
        }
        function es(e) {
            return function(t) {
                var n = t.dispatch
                  , r = t.getState;
                return function(t) {
                    return function(i) {
                        return "function" == typeof i ? i(n, r, e) : t(i)
                    }
                }
            }
        }
        var el = es();
        el.withExtraArgument = es,
        n(83454);
        var eu = (L = function(e, t) {
            return (L = Object.setPrototypeOf || ({
                __proto__: []
            })instanceof Array && function(e, t) {
                e.__proto__ = t
            }
            || function(e, t) {
                for (var n in t)
                    Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
            }
            )(e, t)
        }
        ,
        function(e, t) {
            if ("function" != typeof t && null !== t)
                throw TypeError("Class extends value " + String(t) + " is not a constructor or null");
            function n() {
                this.constructor = e
            }
            L(e, t),
            e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
            new n)
        }
        )
          , ec = function(e, t) {
            var n, r, i, o, a = {
                label: 0,
                sent: function() {
                    if (1 & i[0])
                        throw i[1];
                    return i[1]
                },
                trys: [],
                ops: []
            };
            return o = {
                next: s(0),
                throw: s(1),
                return: s(2)
            },
            "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                return this
            }
            ),
            o;
            function s(o) {
                return function(s) {
                    return function(o) {
                        if (n)
                            throw TypeError("Generator is already executing.");
                        for (; a; )
                            try {
                                if (n = 1,
                                r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r),
                                0) : r.next) && !(i = i.call(r, o[1])).done)
                                    return i;
                                switch (r = 0,
                                i && (o = [2 & o[0], i.value]),
                                o[0]) {
                                case 0:
                                case 1:
                                    i = o;
                                    break;
                                case 4:
                                    return a.label++,
                                    {
                                        value: o[1],
                                        done: !1
                                    };
                                case 5:
                                    a.label++,
                                    r = o[1],
                                    o = [0];
                                    continue;
                                case 7:
                                    o = a.ops.pop(),
                                    a.trys.pop();
                                    continue;
                                default:
                                    if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                        a = 0;
                                        continue
                                    }
                                    if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                        a.label = o[1];
                                        break
                                    }
                                    if (6 === o[0] && a.label < i[1]) {
                                        a.label = i[1],
                                        i = o;
                                        break
                                    }
                                    if (i && a.label < i[2]) {
                                        a.label = i[2],
                                        a.ops.push(o);
                                        break
                                    }
                                    i[2] && a.ops.pop(),
                                    a.trys.pop();
                                    continue
                                }
                                o = t.call(e, a)
                            } catch (e) {
                                o = [6, e],
                                r = 0
                            } finally {
                                n = i = 0
                            }
                        if (5 & o[0])
                            throw o[1];
                        return {
                            value: o[0] ? o[1] : void 0,
                            done: !0
                        }
                    }([o, s])
                }
            }
        }
          , ed = function(e, t) {
            for (var n = 0, r = t.length, i = e.length; n < r; n++,
            i++)
                e[i] = t[n];
            return e
        }
          , ef = Object.defineProperty
          , eh = Object.defineProperties
          , ep = Object.getOwnPropertyDescriptors
          , eg = Object.getOwnPropertySymbols
          , em = Object.prototype.hasOwnProperty
          , ev = Object.prototype.propertyIsEnumerable
          , ey = function(e, t, n) {
            return t in e ? ef(e, t, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: n
            }) : e[t] = n
        }
          , eb = function(e, t) {
            for (var n in t || (t = {}))
                em.call(t, n) && ey(e, n, t[n]);
            if (eg)
                for (var r = 0, i = eg(t); r < i.length; r++) {
                    var n = i[r];
                    ev.call(t, n) && ey(e, n, t[n])
                }
            return e
        }
          , eE = function(e, t) {
            return eh(e, ep(t))
        }
          , e_ = "undefined" != typeof window && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function() {
            if (0 != arguments.length)
                return "object" == typeof arguments[0] ? eo : eo.apply(null, arguments)
        }
        ;
        "undefined" != typeof window && window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__;
        var ew = function(e) {
            function t() {
                for (var n = [], r = 0; r < arguments.length; r++)
                    n[r] = arguments[r];
                var i = e.apply(this, n) || this;
                return Object.setPrototypeOf(i, t.prototype),
                i
            }
            return eu(t, e),
            Object.defineProperty(t, Symbol.species, {
                get: function() {
                    return t
                },
                enumerable: !1,
                configurable: !0
            }),
            t.prototype.concat = function() {
                for (var t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                return e.prototype.concat.apply(this, t)
            }
            ,
            t.prototype.prepend = function() {
                for (var e = [], n = 0; n < arguments.length; n++)
                    e[n] = arguments[n];
                return 1 === e.length && Array.isArray(e[0]) ? new (t.bind.apply(t, ed([void 0], e[0].concat(this)))) : new (t.bind.apply(t, ed([void 0], e.concat(this))))
            }
            ,
            t
        }(Array)
          , eO = function(e) {
            function t() {
                for (var n = [], r = 0; r < arguments.length; r++)
                    n[r] = arguments[r];
                var i = e.apply(this, n) || this;
                return Object.setPrototypeOf(i, t.prototype),
                i
            }
            return eu(t, e),
            Object.defineProperty(t, Symbol.species, {
                get: function() {
                    return t
                },
                enumerable: !1,
                configurable: !0
            }),
            t.prototype.concat = function() {
                for (var t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                return e.prototype.concat.apply(this, t)
            }
            ,
            t.prototype.prepend = function() {
                for (var e = [], n = 0; n < arguments.length; n++)
                    e[n] = arguments[n];
                return 1 === e.length && Array.isArray(e[0]) ? new (t.bind.apply(t, ed([void 0], e[0].concat(this)))) : new (t.bind.apply(t, ed([void 0], e.concat(this))))
            }
            ,
            t
        }(Array);
        function eA(e) {
            return o(e) ? K(e, function() {}) : e
        }
        function eS(e) {
            var t, n = function(e) {
                var t, n, r, i;
                return void 0 === (t = e) && (t = {}),
                r = void 0 === (n = t.thunk) || n,
                t.immutableCheck,
                t.serializableCheck,
                i = new ew,
                r && ("boolean" == typeof r ? i.push(el) : i.push(el.withExtraArgument(r.extraArgument))),
                i
            }, r = e || {}, i = r.reducer, o = void 0 === i ? void 0 : i, a = r.middleware, s = void 0 === a ? n() : a, l = r.devTools, u = void 0 === l || l, c = r.preloadedState, d = r.enhancers, f = void 0 === d ? void 0 : d;
            if ("function" == typeof o)
                t = o;
            else if (function(e) {
                if ("object" != typeof e || null === e)
                    return !1;
                var t = Object.getPrototypeOf(e);
                if (null === t)
                    return !0;
                for (var n = t; null !== Object.getPrototypeOf(n); )
                    n = Object.getPrototypeOf(n);
                return t === n
            }(o))
                t = function(e) {
                    for (var t, n = Object.keys(e), r = {}, i = 0; i < n.length; i++) {
                        var o = n[i];
                        "function" == typeof e[o] && (r[o] = e[o])
                    }
                    var a = Object.keys(r);
                    try {
                        !function(e) {
                            Object.keys(e).forEach(function(t) {
                                var n = e[t];
                                if (void 0 === n(void 0, {
                                    type: ei.INIT
                                }))
                                    throw Error(et(12));
                                if (void 0 === n(void 0, {
                                    type: ei.PROBE_UNKNOWN_ACTION()
                                }))
                                    throw Error(et(13))
                            })
                        }(r)
                    } catch (e) {
                        t = e
                    }
                    return function(e, n) {
                        if (void 0 === e && (e = {}),
                        t)
                            throw t;
                        for (var i = !1, o = {}, s = 0; s < a.length; s++) {
                            var l = a[s]
                              , u = r[l]
                              , c = e[l]
                              , d = u(c, n);
                            if (void 0 === d)
                                throw n && n.type,
                                Error(et(14));
                            o[l] = d,
                            i = i || d !== c
                        }
                        return (i = i || a.length !== Object.keys(e).length) ? o : e
                    }
                }(o);
            else
                throw Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');
            var h = s;
            "function" == typeof h && (h = h(n));
            var p = ea.apply(void 0, h)
              , g = eo;
            u && (g = e_(eb({
                trace: !1
            }, "object" == typeof u && u)));
            var m = new eO(p)
              , v = m;
            return Array.isArray(f) ? v = ed([p], f) : "function" == typeof f && (v = f(m)),
            function e(t, n, r) {
                if ("function" == typeof n && "function" == typeof r || "function" == typeof r && "function" == typeof arguments[3])
                    throw Error(et(0));
                if ("function" == typeof n && void 0 === r && (r = n,
                n = void 0),
                void 0 !== r) {
                    if ("function" != typeof r)
                        throw Error(et(1));
                    return r(e)(t, n)
                }
                if ("function" != typeof t)
                    throw Error(et(2));
                var i, o = t, a = n, s = [], l = s, u = !1;
                function c() {
                    l === s && (l = s.slice())
                }
                function d() {
                    if (u)
                        throw Error(et(3));
                    return a
                }
                function f(e) {
                    if ("function" != typeof e)
                        throw Error(et(4));
                    if (u)
                        throw Error(et(5));
                    var t = !0;
                    return c(),
                    l.push(e),
                    function() {
                        if (t) {
                            if (u)
                                throw Error(et(6));
                            t = !1,
                            c();
                            var n = l.indexOf(e);
                            l.splice(n, 1),
                            s = null
                        }
                    }
                }
                function h(e) {
                    if (!function(e) {
                        if ("object" != typeof e || null === e)
                            return !1;
                        for (var t = e; null !== Object.getPrototypeOf(t); )
                            t = Object.getPrototypeOf(t);
                        return Object.getPrototypeOf(e) === t
                    }(e))
                        throw Error(et(7));
                    if (void 0 === e.type)
                        throw Error(et(8));
                    if (u)
                        throw Error(et(9));
                    try {
                        u = !0,
                        a = o(a, e)
                    } finally {
                        u = !1
                    }
                    for (var t = s = l, n = 0; n < t.length; n++)
                        (0,
                        t[n])();
                    return e
                }
                return h({
                    type: ei.INIT
                }),
                (i = {
                    dispatch: h,
                    subscribe: f,
                    getState: d,
                    replaceReducer: function(e) {
                        if ("function" != typeof e)
                            throw Error(et(10));
                        o = e,
                        h({
                            type: ei.REPLACE
                        })
                    }
                })[en] = function() {
                    var e;
                    return (e = {
                        subscribe: function(e) {
                            if ("object" != typeof e || null === e)
                                throw Error(et(11));
                            function t() {
                                e.next && e.next(d())
                            }
                            return t(),
                            {
                                unsubscribe: f(t)
                            }
                        }
                    })[en] = function() {
                        return this
                    }
                    ,
                    e
                }
                ,
                i
            }(t, void 0 === c ? void 0 : c, g.apply(void 0, v))
        }
        function eP(e, t) {
            function n() {
                for (var n = [], r = 0; r < arguments.length; r++)
                    n[r] = arguments[r];
                if (t) {
                    var i = t.apply(void 0, n);
                    if (!i)
                        throw Error("prepareAction did not return an object");
                    return eb(eb({
                        type: e,
                        payload: i.payload
                    }, "meta"in i && {
                        meta: i.meta
                    }), "error"in i && {
                        error: i.error
                    })
                }
                return {
                    type: e,
                    payload: n[0]
                }
            }
            return n.toString = function() {
                return "" + e
            }
            ,
            n.type = e,
            n.match = function(t) {
                return t.type === e
            }
            ,
            n
        }
        function eR(e) {
            var t, n = {}, r = [], i = {
                addCase: function(e, t) {
                    var r = "string" == typeof e ? e : e.type;
                    if (r in n)
                        throw Error("addCase cannot be called with two reducers for the same action type");
                    return n[r] = t,
                    i
                },
                addMatcher: function(e, t) {
                    return r.push({
                        matcher: e,
                        reducer: t
                    }),
                    i
                },
                addDefaultCase: function(e) {
                    return t = e,
                    i
                }
            };
            return e(i),
            [n, r, t]
        }
        function eI(e) {
            var t, n = e.name;
            if (!n)
                throw Error("`name` is a required option for createSlice");
            var r = "function" == typeof e.initialState ? e.initialState : eA(e.initialState)
              , a = e.reducers || {}
              , s = Object.keys(a)
              , l = {}
              , u = {}
              , c = {};
            function d() {
                var t = "function" == typeof e.extraReducers ? eR(e.extraReducers) : [e.extraReducers]
                  , n = t[0]
                  , a = t[1]
                  , s = void 0 === a ? [] : a
                  , l = t[2]
                  , c = void 0 === l ? void 0 : l
                  , d = eb(eb({}, void 0 === n ? {} : n), u);
                return function(e, t, n, r) {
                    void 0 === n && (n = []);
                    var a, s = "function" == typeof t ? eR(t) : [t, n, void 0], l = s[0], u = s[1], c = s[2];
                    if ("function" == typeof e)
                        a = function() {
                            return eA(e())
                        }
                        ;
                    else {
                        var d = eA(e);
                        a = function() {
                            return d
                        }
                    }
                    function f(e, t) {
                        void 0 === e && (e = a());
                        var n = ed([l[t.type]], u.filter(function(e) {
                            return (0,
                            e.matcher)(t)
                        }).map(function(e) {
                            return e.reducer
                        }));
                        return 0 === n.filter(function(e) {
                            return !!e
                        }).length && (n = [c]),
                        n.reduce(function(e, n) {
                            if (n) {
                                if (i(e)) {
                                    var r = n(e, t);
                                    return void 0 === r ? e : r
                                }
                                if (o(e))
                                    return K(e, function(e) {
                                        return n(e, t)
                                    });
                                var r = n(e, t);
                                if (void 0 === r) {
                                    if (null === e)
                                        return e;
                                    throw Error("A case reducer on a non-draftable value must not return undefined")
                                }
                                return r
                            }
                            return e
                        }, e)
                    }
                    return f.getInitialState = a,
                    f
                }(r, function(e) {
                    for (var t in d)
                        e.addCase(t, d[t]);
                    for (var n = 0; n < s.length; n++) {
                        var r = s[n];
                        e.addMatcher(r.matcher, r.reducer)
                    }
                    c && e.addDefaultCase(c)
                })
            }
            return s.forEach(function(e) {
                var t, r, i = a[e], o = n + "/" + e;
                "reducer"in i ? (t = i.reducer,
                r = i.prepare) : t = i,
                l[e] = t,
                u[o] = t,
                c[e] = r ? eP(o, r) : eP(o)
            }),
            {
                name: n,
                reducer: function(e, n) {
                    return t || (t = d()),
                    t(e, n)
                },
                actions: c,
                caseReducers: l,
                getInitialState: function() {
                    return t || (t = d()),
                    t.getInitialState()
                }
            }
        }
        var eT = function(e) {
            void 0 === e && (e = 21);
            for (var t = "", n = e; n--; )
                t += "ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64 * Math.random() | 0];
            return t
        }
          , ex = ["name", "message", "stack", "code"]
          , ek = function(e, t) {
            this.payload = e,
            this.meta = t
        }
          , eN = function(e, t) {
            this.payload = e,
            this.meta = t
        }
          , eC = function(e) {
            if ("object" == typeof e && null !== e) {
                for (var t = {}, n = 0; n < ex.length; n++) {
                    var r = ex[n];
                    "string" == typeof e[r] && (t[r] = e[r])
                }
                return t
            }
            return {
                message: String(e)
            }
        }
          , eL = function() {
            function e(e, t, n) {
                var r = eP(e + "/fulfilled", function(e, t, n, r) {
                    return {
                        payload: e,
                        meta: eE(eb({}, r || {}), {
                            arg: n,
                            requestId: t,
                            requestStatus: "fulfilled"
                        })
                    }
                })
                  , i = eP(e + "/pending", function(e, t, n) {
                    return {
                        payload: void 0,
                        meta: eE(eb({}, n || {}), {
                            arg: t,
                            requestId: e,
                            requestStatus: "pending"
                        })
                    }
                })
                  , o = eP(e + "/rejected", function(e, t, r, i, o) {
                    return {
                        payload: i,
                        error: (n && n.serializeError || eC)(e || "Rejected"),
                        meta: eE(eb({}, o || {}), {
                            arg: r,
                            requestId: t,
                            rejectedWithValue: !!i,
                            requestStatus: "rejected",
                            aborted: (null == e ? void 0 : e.name) === "AbortError",
                            condition: (null == e ? void 0 : e.name) === "ConditionError"
                        })
                    }
                })
                  , a = "undefined" != typeof AbortController ? AbortController : function() {
                    function e() {
                        this.signal = {
                            aborted: !1,
                            addEventListener: function() {},
                            dispatchEvent: function() {
                                return !1
                            },
                            onabort: function() {},
                            removeEventListener: function() {},
                            reason: void 0,
                            throwIfAborted: function() {}
                        }
                    }
                    return e.prototype.abort = function() {}
                    ,
                    e
                }();
                return Object.assign(function(e) {
                    return function(s, l, u) {
                        var c, d = (null == n ? void 0 : n.idGenerator) ? n.idGenerator(e) : eT(), f = new a;
                        function h(e) {
                            c = e,
                            f.abort()
                        }
                        var p = function() {
                            var a, p;
                            return a = this,
                            p = function() {
                                var a, p, g, m, v, y;
                                return ec(this, function(b) {
                                    switch (b.label) {
                                    case 0:
                                        var E;
                                        if (b.trys.push([0, 4, , 5]),
                                        !(null !== (E = m = null == (a = null == n ? void 0 : n.condition) ? void 0 : a.call(n, e, {
                                            getState: l,
                                            extra: u
                                        })) && "object" == typeof E && "function" == typeof E.then))
                                            return [3, 2];
                                        return [4, m];
                                    case 1:
                                        m = b.sent(),
                                        b.label = 2;
                                    case 2:
                                        if (!1 === m || f.signal.aborted)
                                            throw {
                                                name: "ConditionError",
                                                message: "Aborted due to condition callback returning false."
                                            };
                                        return v = new Promise(function(e, t) {
                                            return f.signal.addEventListener("abort", function() {
                                                return t({
                                                    name: "AbortError",
                                                    message: c || "Aborted"
                                                })
                                            })
                                        }
                                        ),
                                        s(i(d, e, null == (p = null == n ? void 0 : n.getPendingMeta) ? void 0 : p.call(n, {
                                            requestId: d,
                                            arg: e
                                        }, {
                                            getState: l,
                                            extra: u
                                        }))),
                                        [4, Promise.race([v, Promise.resolve(t(e, {
                                            dispatch: s,
                                            getState: l,
                                            extra: u,
                                            requestId: d,
                                            signal: f.signal,
                                            abort: h,
                                            rejectWithValue: function(e, t) {
                                                return new ek(e,t)
                                            },
                                            fulfillWithValue: function(e, t) {
                                                return new eN(e,t)
                                            }
                                        })).then(function(t) {
                                            if (t instanceof ek)
                                                throw t;
                                            return t instanceof eN ? r(t.payload, d, e, t.meta) : r(t, d, e)
                                        })])];
                                    case 3:
                                        return g = b.sent(),
                                        [3, 5];
                                    case 4:
                                        return g = (y = b.sent())instanceof ek ? o(null, d, e, y.payload, y.meta) : o(y, d, e),
                                        [3, 5];
                                    case 5:
                                        return n && !n.dispatchConditionRejection && o.match(g) && g.meta.condition || s(g),
                                        [2, g]
                                    }
                                })
                            }
                            ,
                            new Promise(function(e, t) {
                                var n = function(e) {
                                    try {
                                        i(p.next(e))
                                    } catch (e) {
                                        t(e)
                                    }
                                }
                                  , r = function(e) {
                                    try {
                                        i(p.throw(e))
                                    } catch (e) {
                                        t(e)
                                    }
                                }
                                  , i = function(t) {
                                    return t.done ? e(t.value) : Promise.resolve(t.value).then(n, r)
                                };
                                i((p = p.apply(a, null)).next())
                            }
                            )
                        }();
                        return Object.assign(p, {
                            abort: h,
                            requestId: d,
                            arg: e,
                            unwrap: function() {
                                return p.then(eM)
                            }
                        })
                    }
                }, {
                    pending: i,
                    rejected: o,
                    fulfilled: r,
                    typePrefix: e
                })
            }
            return e.withTypes = function() {
                return e
            }
            ,
            e
        }();
        function eM(e) {
            if (e.meta && e.meta.rejectedWithValue)
                throw e.payload;
            if (e.error)
                throw e.error;
            return e.payload
        }
        var eD = "listenerMiddleware";
        eP(eD + "/add"),
        eP(eD + "/removeAll"),
        eP(eD + "/remove"),
        "function" == typeof queueMicrotask && queueMicrotask.bind("undefined" != typeof window ? window : void 0 !== n.g ? n.g : globalThis),
        "undefined" != typeof window && window.requestAnimationFrame && window.requestAnimationFrame,
        function() {
            function e(e, t) {
                var n = s[e];
                return n ? n.enumerable = t : s[e] = n = {
                    configurable: !0,
                    enumerable: t,
                    get: function() {
                        var t = this[q];
                        return Z.get(t, e)
                    },
                    set: function(t) {
                        var n = this[q];
                        Z.set(n, e, t)
                    }
                },
                n
            }
            function t(e) {
                for (var t = e.length - 1; t >= 0; t--) {
                    var i = e[t][q];
                    if (!i.P)
                        switch (i.i) {
                        case 5:
                            r(i) && x(i);
                            break;
                        case 4:
                            n(i) && x(i)
                        }
                }
            }
            function n(e) {
                for (var t = e.t, n = e.k, r = z(n), i = r.length - 1; i >= 0; i--) {
                    var o = r[i];
                    if (o !== q) {
                        var a = t[o];
                        if (void 0 === a && !l(t, o))
                            return !0;
                        var s = n[o]
                          , u = s && s[q];
                        if (u ? u.t !== a : !c(s, a))
                            return !0
                    }
                }
                var d = !!t[q];
                return r.length !== z(t).length + (d ? 0 : 1)
            }
            function r(e) {
                var t = e.k;
                if (t.length !== e.t.length)
                    return !0;
                var n = Object.getOwnPropertyDescriptor(t, t.length - 1);
                if (n && !n.get)
                    return !0;
                for (var r = 0; r < t.length; r++)
                    if (!t.hasOwnProperty(r))
                        return !0;
                return !1
            }
            var o, s = {};
            o = {
                J: function(t, n) {
                    var r = Array.isArray(t)
                      , i = function(t, n) {
                        if (t) {
                            for (var r = Array(n.length), i = 0; i < n.length; i++)
                                Object.defineProperty(r, "" + i, e(i, !0));
                            return r
                        }
                        var o = Y(n);
                        delete o[q];
                        for (var a = z(o), s = 0; s < a.length; s++) {
                            var l = a[s];
                            o[l] = e(l, t || !!o[l].enumerable)
                        }
                        return Object.create(Object.getPrototypeOf(n), o)
                    }(r, t)
                      , o = {
                        i: r ? 5 : 4,
                        A: n ? n.A : D,
                        P: !1,
                        I: !1,
                        R: {},
                        l: n,
                        t: t,
                        k: i,
                        o: null,
                        g: !1,
                        C: !1
                    };
                    return Object.defineProperty(i, q, {
                        value: o,
                        writable: !0
                    }),
                    i
                },
                S: function(e, n, o) {
                    o ? i(n) && n[q].A === e && t(e.p) : (e.u && function e(t) {
                        if (t && "object" == typeof t) {
                            var n = t[q];
                            if (n) {
                                var i = n.t
                                  , o = n.k
                                  , s = n.R
                                  , u = n.i;
                                if (4 === u)
                                    a(o, function(t) {
                                        t !== q && (void 0 !== i[t] || l(i, t) ? s[t] || e(o[t]) : (s[t] = !0,
                                        x(n)))
                                    }),
                                    a(i, function(e) {
                                        void 0 !== o[e] || l(o, e) || (s[e] = !1,
                                        x(n))
                                    });
                                else if (5 === u) {
                                    if (r(n) && (x(n),
                                    s.length = !0),
                                    o.length < i.length)
                                        for (var c = o.length; c < i.length; c++)
                                            s[c] = !1;
                                    else
                                        for (var d = i.length; d < o.length; d++)
                                            s[d] = !0;
                                    for (var f = Math.min(o.length, i.length), h = 0; h < f; h++)
                                        o.hasOwnProperty(h) || (s[h] = !0),
                                        void 0 === s[h] && e(o[h])
                                }
                            }
                        }
                    }(e.p[0]),
                    t(e.p))
                },
                K: function(e) {
                    return 4 === e.i ? n(e) : r(e)
                }
            },
            H.ES5 || (H.ES5 = o)
        }()
    },
    43616: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.discordURLBuilder = void 0,
        t.discordURLBuilder = function(e) {
            var t;
            let n = (null === (t = null == window ? void 0 : window.location) || void 0 === t ? void 0 : t.hostname) || "localhost"
              , r = e.hostname.split(".")
              , i = e.hostname.includes("trycloudflare.com") || e.hostname.includes("discordsays.com") || !(r.length > 2) ? "" : `/${r[0]}`;
            return e.pathname.startsWith("/.proxy") ? `${e.protocol}//${n}${i}${e.pathname}${e.search}` : `${e.protocol}//${n}/.proxy/colyseus${i}${e.pathname}${e.search}`
        }
    },
    84063: function(e, t, n) {
        "use strict";
        var r, i, o, a, s = this && this.__awaiter || function(e, t, n, r) {
            return new (n || (n = Promise))(function(i, o) {
                function a(e) {
                    try {
                        l(r.next(e))
                    } catch (e) {
                        o(e)
                    }
                }
                function s(e) {
                    try {
                        l(r.throw(e))
                    } catch (e) {
                        o(e)
                    }
                }
                function l(e) {
                    var t;
                    e.done ? i(e.value) : ((t = e.value)instanceof n ? t : new n(function(e) {
                        e(t)
                    }
                    )).then(a, s)
                }
                l((r = r.apply(e, t || [])).next())
            }
            )
        }
        , l = this && this.__classPrivateFieldGet || function(e, t, n, r) {
            if ("a" === n && !r)
                throw TypeError("Private accessor was defined without a getter");
            if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw TypeError("Cannot read private member from an object whose class did not declare it");
            return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e)
        }
        , u = this && this.__classPrivateFieldSet || function(e, t, n, r, i) {
            if ("m" === r)
                throw TypeError("Private method is not writable");
            if ("a" === r && !i)
                throw TypeError("Private accessor was defined without a setter");
            if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw TypeError("Cannot write private member to an object whose class did not declare it");
            return "a" === r ? i.call(e, n) : i ? i.value = n : t.set(e, n),
            n
        }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.Auth = void 0;
        let c = n(47723)
          , d = n(58295);
        class f {
            constructor(e) {
                this.http = e,
                this.settings = {
                    path: "/auth",
                    key: "colyseus-auth-token"
                },
                r.set(this, !1),
                i.set(this, void 0),
                o.set(this, void 0),
                a.set(this, (0,
                d.createNanoEvents)()),
                (0,
                c.getItem)(this.settings.key, e => this.token = e)
            }
            set token(e) {
                this.http.authToken = e
            }
            get token() {
                return this.http.authToken
            }
            onChange(e) {
                let t = l(this, a, "f").on("change", e);
                return l(this, r, "f") || u(this, i, new Promise( (e, t) => {
                    this.getUserData().then(e => {
                        this.emitChange(Object.assign(Object.assign({}, e), {
                            token: this.token
                        }))
                    }
                    ).catch(e => {
                        this.emitChange({
                            user: null,
                            token: void 0
                        })
                    }
                    ).finally( () => {
                        e()
                    }
                    )
                }
                ), "f"),
                u(this, r, !0, "f"),
                t
            }
            getUserData() {
                return s(this, void 0, void 0, function*() {
                    if (this.token)
                        return (yield this.http.get(`${this.settings.path}/userdata`)).data;
                    throw Error("missing auth.token")
                })
            }
            registerWithEmailAndPassword(e, t, n) {
                return s(this, void 0, void 0, function*() {
                    let r = (yield this.http.post(`${this.settings.path}/register`, {
                        body: {
                            email: e,
                            password: t,
                            options: n
                        }
                    })).data;
                    return this.emitChange(r),
                    r
                })
            }
            signInWithEmailAndPassword(e, t) {
                return s(this, void 0, void 0, function*() {
                    let n = (yield this.http.post(`${this.settings.path}/login`, {
                        body: {
                            email: e,
                            password: t
                        }
                    })).data;
                    return this.emitChange(n),
                    n
                })
            }
            signInAnonymously(e) {
                return s(this, void 0, void 0, function*() {
                    let t = (yield this.http.post(`${this.settings.path}/anonymous`, {
                        body: {
                            options: e
                        }
                    })).data;
                    return this.emitChange(t),
                    t
                })
            }
            sendPasswordResetEmail(e) {
                return s(this, void 0, void 0, function*() {
                    return (yield this.http.post(`${this.settings.path}/forgot-password`, {
                        body: {
                            email: e
                        }
                    })).data
                })
            }
            signInWithProvider(e, t={}) {
                return s(this, void 0, void 0, function*() {
                    return new Promise( (n, r) => {
                        let i = t.width || 480
                          , a = t.height || 768
                          , s = this.token ? `?token=${this.token}` : ""
                          , c = `Login with ${e[0].toUpperCase() + e.substring(1)}`
                          , d = this.http.client.getHttpEndpoint(`${t.prefix || `${this.settings.path}/provider`}/${e}${s}`)
                          , f = screen.width / 2 - i / 2
                          , h = screen.height / 2 - a / 2;
                        u(this, o, window.open(d, c, "toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=" + i + ", height=" + a + ", top=" + h + ", left=" + f), "f");
                        let p = e => {
                            (void 0 !== e.data.user || void 0 !== e.data.token) && (clearInterval(g),
                            l(this, o, "f").close(),
                            u(this, o, void 0, "f"),
                            window.removeEventListener("message", p),
                            void 0 !== e.data.error ? r(e.data.error) : (n(e.data),
                            this.emitChange(e.data)))
                        }
                          , g = setInterval( () => {
                            (!l(this, o, "f") || l(this, o, "f").closed) && (u(this, o, void 0, "f"),
                            r("cancelled"),
                            window.removeEventListener("message", p))
                        }
                        , 200);
                        window.addEventListener("message", p)
                    }
                    )
                })
            }
            signOut() {
                return s(this, void 0, void 0, function*() {
                    this.emitChange({
                        user: null,
                        token: null
                    })
                })
            }
            emitChange(e) {
                void 0 !== e.token && (this.token = e.token,
                null === e.token ? (0,
                c.removeItem)(this.settings.key) : (0,
                c.setItem)(this.settings.key, e.token)),
                l(this, a, "f").emit("change", e)
            }
        }
        t.Auth = f,
        r = new WeakMap,
        i = new WeakMap,
        o = new WeakMap,
        a = new WeakMap
    },
    4705: function(e, t, n) {
        "use strict";
        var r, i = this && this.__awaiter || function(e, t, n, r) {
            return new (n || (n = Promise))(function(i, o) {
                function a(e) {
                    try {
                        l(r.next(e))
                    } catch (e) {
                        o(e)
                    }
                }
                function s(e) {
                    try {
                        l(r.throw(e))
                    } catch (e) {
                        o(e)
                    }
                }
                function l(e) {
                    var t;
                    e.done ? i(e.value) : ((t = e.value)instanceof n ? t : new n(function(e) {
                        e(t)
                    }
                    )).then(a, s)
                }
                l((r = r.apply(e, t || [])).next())
            }
            )
        }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.Client = t.MatchMakeError = void 0;
        let o = n(65199)
          , a = n(68270)
          , s = n(65240)
          , l = n(84063)
          , u = n(43616);
        class c extends Error {
            constructor(e, t) {
                super(e),
                this.code = t,
                Object.setPrototypeOf(this, c.prototype)
            }
        }
        t.MatchMakeError = c;
        let d = "undefined" != typeof window && void 0 !== (null === (r = null == window ? void 0 : window.location) || void 0 === r ? void 0 : r.hostname) ? `${window.location.protocol.replace("http", "ws")}//${window.location.hostname}${window.location.port && `:${window.location.port}`}` : "ws://127.0.0.1:2567";
        class f {
            constructor(e=d, t) {
                var n, r;
                if ("string" == typeof e) {
                    let t = e.startsWith("/") ? new URL(e,d) : new URL(e)
                      , n = "https:" === t.protocol || "wss:" === t.protocol
                      , r = Number(t.port || (n ? 443 : 80));
                    this.settings = {
                        hostname: t.hostname,
                        pathname: t.pathname,
                        port: r,
                        secure: n
                    }
                } else
                    void 0 === e.port && (e.port = e.secure ? 443 : 80),
                    void 0 === e.pathname && (e.pathname = ""),
                    this.settings = e;
                this.settings.pathname.endsWith("/") && (this.settings.pathname = this.settings.pathname.slice(0, -1)),
                this.http = new s.HTTP(this),
                this.auth = new l.Auth(this.http),
                this.urlBuilder = t,
                !this.urlBuilder && "undefined" != typeof window && (null === (r = null === (n = null == window ? void 0 : window.location) || void 0 === n ? void 0 : n.hostname) || void 0 === r ? void 0 : r.includes("discordsays.com")) && (this.urlBuilder = u.discordURLBuilder,
                console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))
            }
            joinOrCreate(e, t={}, n) {
                return i(this, void 0, void 0, function*() {
                    return yield this.createMatchMakeRequest("joinOrCreate", e, t, n)
                })
            }
            create(e, t={}, n) {
                return i(this, void 0, void 0, function*() {
                    return yield this.createMatchMakeRequest("create", e, t, n)
                })
            }
            join(e, t={}, n) {
                return i(this, void 0, void 0, function*() {
                    return yield this.createMatchMakeRequest("join", e, t, n)
                })
            }
            joinById(e, t={}, n) {
                return i(this, void 0, void 0, function*() {
                    return yield this.createMatchMakeRequest("joinById", e, t, n)
                })
            }
            reconnect(e, t) {
                return i(this, void 0, void 0, function*() {
                    if ("string" == typeof e && "string" == typeof t)
                        throw Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");
                    let[n,r] = e.split(":");
                    if (!n || !r)
                        throw Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken");
                    return yield this.createMatchMakeRequest("reconnect", n, {
                        reconnectionToken: r
                    }, t)
                })
            }
            getAvailableRooms(e="") {
                return i(this, void 0, void 0, function*() {
                    return (yield this.http.get(`matchmake/${e}`, {
                        headers: {
                            Accept: "application/json"
                        }
                    })).data
                })
            }
            consumeSeatReservation(e, t, n) {
                return i(this, void 0, void 0, function*() {
                    let r = this.createRoom(e.room.name, t);
                    r.roomId = e.room.roomId,
                    r.sessionId = e.sessionId;
                    let a = {
                        sessionId: r.sessionId
                    };
                    e.reconnectionToken && (a.reconnectionToken = e.reconnectionToken);
                    let s = n || r;
                    return r.connect(this.buildEndpoint(e.room, a), e.devMode && ( () => i(this, void 0, void 0, function*() {
                        console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${r.roomId}'...`);
                        let n = 0
                          , o = () => i(this, void 0, void 0, function*() {
                            n++;
                            try {
                                yield this.consumeSeatReservation(e, t, s),
                                console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${r.roomId}'`)
                            } catch (e) {
                                n < 8 ? (console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${n} out of 8)`),
                                setTimeout(o, 2e3)) : console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)
                            }
                        });
                        setTimeout(o, 2e3)
                    })), s),
                    new Promise( (e, t) => {
                        let n = (e, n) => t(new o.ServerError(e,n));
                        s.onError.once(n),
                        s.onJoin.once( () => {
                            s.onError.remove(n),
                            e(s)
                        }
                        )
                    }
                    )
                })
            }
            createMatchMakeRequest(e, t, n={}, r, o) {
                return i(this, void 0, void 0, function*() {
                    let i = (yield this.http.post(`matchmake/${e}/${t}`, {
                        headers: {
                            Accept: "application/json",
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(n)
                    })).data;
                    if (i.error)
                        throw new c(i.error,i.code);
                    return "reconnect" === e && (i.reconnectionToken = n.reconnectionToken),
                    yield this.consumeSeatReservation(i, r, o)
                })
            }
            createRoom(e, t) {
                return new a.Room(e,t)
            }
            buildEndpoint(e, t={}) {
                let n = [];
                for (let e in t)
                    t.hasOwnProperty(e) && n.push(`${e}=${t[e]}`);
                let r = this.settings.secure ? "wss://" : "ws://";
                e.publicAddress ? r += `${e.publicAddress}` : r += `${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;
                let i = `${r}/${e.processId}/${e.roomId}?${n.join("&")}`;
                return this.urlBuilder ? this.urlBuilder(new URL(i)) : i
            }
            getHttpEndpoint(e="") {
                let t = e.startsWith("/") ? e : `/${e}`
                  , n = `${this.settings.secure ? "https" : "http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${t}`;
                return this.urlBuilder ? this.urlBuilder(new URL(n)) : n
            }
            getEndpointPort() {
                return 80 !== this.settings.port && 443 !== this.settings.port ? `:${this.settings.port}` : ""
            }
        }
        t.Client = f
    },
    22826: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.Connection = void 0;
        let r = n(14956);
        class i {
            constructor() {
                this.events = {},
                this.transport = new r.WebSocketTransport(this.events)
            }
            send(e) {
                this.transport.send(e)
            }
            connect(e) {
                this.transport.connect(e)
            }
            close(e, t) {
                this.transport.close(e, t)
            }
            get isOpen() {
                return this.transport.isOpen
            }
        }
        t.Connection = i
    },
    65240: function(e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function(e, t, n, r) {
            void 0 === r && (r = n);
            var i = Object.getOwnPropertyDescriptor(t, n);
            (!i || ("get"in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
                enumerable: !0,
                get: function() {
                    return t[n]
                }
            }),
            Object.defineProperty(e, r, i)
        }
        : function(e, t, n, r) {
            void 0 === r && (r = n),
            e[r] = t[n]
        }
        )
          , i = this && this.__setModuleDefault || (Object.create ? function(e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
        : function(e, t) {
            e.default = t
        }
        )
          , o = this && this.__importStar || function(e) {
            if (e && e.__esModule)
                return e;
            var t = {};
            if (null != e)
                for (var n in e)
                    "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && r(t, e, n);
            return i(t, e),
            t
        }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.HTTP = void 0;
        let a = n(65199)
          , s = o(n(76629));
        class l {
            constructor(e) {
                this.client = e
            }
            get(e, t={}) {
                return this.request("get", e, t)
            }
            post(e, t={}) {
                return this.request("post", e, t)
            }
            del(e, t={}) {
                return this.request("del", e, t)
            }
            put(e, t={}) {
                return this.request("put", e, t)
            }
            request(e, t, n={}) {
                return s[e](this.client.getHttpEndpoint(t), this.getOptions(n)).catch(e => {
                    var t;
                    let n = e.statusCode
                      , r = (null === (t = e.data) || void 0 === t ? void 0 : t.error) || e.statusMessage || e.message;
                    if (!n && !r)
                        throw e;
                    throw new a.ServerError(n,r)
                }
                )
            }
            getOptions(e) {
                return this.authToken && (e.headers || (e.headers = {}),
                e.headers.Authorization = `Bearer ${this.authToken}`),
                "undefined" != typeof cc && cc.sys && cc.sys.isNative || (e.withCredentials = !0),
                e
            }
        }
        t.HTTP = l
    },
    60845: function(e, t) {
        "use strict";
        var n, r;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.utf8Length = t.utf8Read = t.ErrorCode = t.Protocol = void 0,
        (n = t.Protocol || (t.Protocol = {}))[n.HANDSHAKE = 9] = "HANDSHAKE",
        n[n.JOIN_ROOM = 10] = "JOIN_ROOM",
        n[n.ERROR = 11] = "ERROR",
        n[n.LEAVE_ROOM = 12] = "LEAVE_ROOM",
        n[n.ROOM_DATA = 13] = "ROOM_DATA",
        n[n.ROOM_STATE = 14] = "ROOM_STATE",
        n[n.ROOM_STATE_PATCH = 15] = "ROOM_STATE_PATCH",
        n[n.ROOM_DATA_SCHEMA = 16] = "ROOM_DATA_SCHEMA",
        n[n.ROOM_DATA_BYTES = 17] = "ROOM_DATA_BYTES",
        (r = t.ErrorCode || (t.ErrorCode = {}))[r.MATCHMAKE_NO_HANDLER = 4210] = "MATCHMAKE_NO_HANDLER",
        r[r.MATCHMAKE_INVALID_CRITERIA = 4211] = "MATCHMAKE_INVALID_CRITERIA",
        r[r.MATCHMAKE_INVALID_ROOM_ID = 4212] = "MATCHMAKE_INVALID_ROOM_ID",
        r[r.MATCHMAKE_UNHANDLED = 4213] = "MATCHMAKE_UNHANDLED",
        r[r.MATCHMAKE_EXPIRED = 4214] = "MATCHMAKE_EXPIRED",
        r[r.AUTH_FAILED = 4215] = "AUTH_FAILED",
        r[r.APPLICATION_ERROR = 4216] = "APPLICATION_ERROR",
        t.utf8Read = function(e, t) {
            let n = e[t++];
            for (var r = "", i = 0, o = t, a = t + n; o < a; o++) {
                var s = e[o];
                if ((128 & s) == 0) {
                    r += String.fromCharCode(s);
                    continue
                }
                if ((224 & s) == 192) {
                    r += String.fromCharCode((31 & s) << 6 | 63 & e[++o]);
                    continue
                }
                if ((240 & s) == 224) {
                    r += String.fromCharCode((15 & s) << 12 | (63 & e[++o]) << 6 | (63 & e[++o]) << 0);
                    continue
                }
                if ((248 & s) == 240) {
                    (i = (7 & s) << 18 | (63 & e[++o]) << 12 | (63 & e[++o]) << 6 | (63 & e[++o]) << 0) >= 65536 ? (i -= 65536,
                    r += String.fromCharCode((i >>> 10) + 55296, (1023 & i) + 56320)) : r += String.fromCharCode(i);
                    continue
                }
                throw Error("Invalid byte " + s.toString(16))
            }
            return r
        }
        ,
        t.utf8Length = function(e="") {
            let t = 0
              , n = 0;
            for (let r = 0, i = e.length; r < i; r++)
                (t = e.charCodeAt(r)) < 128 ? n += 1 : t < 2048 ? n += 2 : t < 55296 || t >= 57344 ? n += 3 : (r++,
                n += 4);
            return n + 1
        }
    },
    68270: function(e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function(e, t, n, r) {
            void 0 === r && (r = n);
            var i = Object.getOwnPropertyDescriptor(t, n);
            (!i || ("get"in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
                enumerable: !0,
                get: function() {
                    return t[n]
                }
            }),
            Object.defineProperty(e, r, i)
        }
        : function(e, t, n, r) {
            void 0 === r && (r = n),
            e[r] = t[n]
        }
        )
          , i = this && this.__setModuleDefault || (Object.create ? function(e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
        : function(e, t) {
            e.default = t
        }
        )
          , o = this && this.__importStar || function(e) {
            if (e && e.__esModule)
                return e;
            var t = {};
            if (null != e)
                for (var n in e)
                    "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && r(t, e, n);
            return i(t, e),
            t
        }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.Room = void 0;
        let a = o(n(59572))
          , s = n(22826)
          , l = n(60845)
          , u = n(70944)
          , c = n(58295)
          , d = n(16976)
          , f = n(41396)
          , h = n(65199);
        class p {
            constructor(e, t) {
                this.onStateChange = (0,
                d.createSignal)(),
                this.onError = (0,
                d.createSignal)(),
                this.onLeave = (0,
                d.createSignal)(),
                this.onJoin = (0,
                d.createSignal)(),
                this.hasJoined = !1,
                this.onMessageHandlers = (0,
                c.createNanoEvents)(),
                this.roomId = null,
                this.name = e,
                t && (this.serializer = new ((0,
                u.getSerializer)("schema")),
                this.rootSchema = t,
                this.serializer.state = new t),
                this.onError( (e, t) => {
                    var n;
                    return null === (n = console.warn) || void 0 === n ? void 0 : n.call(console, `colyseus.js - onError => (${e}) ${t}`)
                }
                ),
                this.onLeave( () => this.removeAllListeners())
            }
            get id() {
                return this.roomId
            }
            connect(e, t, n=this) {
                let r = new s.Connection;
                n.connection = r,
                r.events.onmessage = p.prototype.onMessageCallback.bind(n),
                r.events.onclose = function(e) {
                    var r;
                    if (!n.hasJoined) {
                        null === (r = console.warn) || void 0 === r || r.call(console, `Room connection was closed unexpectedly (${e.code}): ${e.reason}`),
                        n.onError.invoke(e.code, e.reason);
                        return
                    }
                    e.code === h.CloseCode.DEVMODE_RESTART && t ? t() : (n.onLeave.invoke(e.code),
                    n.destroy())
                }
                ,
                r.events.onerror = function(e) {
                    var t;
                    null === (t = console.warn) || void 0 === t || t.call(console, `Room, onError (${e.code}): ${e.reason}`),
                    n.onError.invoke(e.code, e.reason)
                }
                ,
                r.connect(e)
            }
            leave(e=!0) {
                return new Promise(t => {
                    this.onLeave(e => t(e)),
                    this.connection ? e ? this.connection.send([l.Protocol.LEAVE_ROOM]) : this.connection.close() : this.onLeave.invoke(h.CloseCode.CONSENTED)
                }
                )
            }
            onMessage(e, t) {
                return this.onMessageHandlers.on(this.getMessageHandlerKey(e), t)
            }
            send(e, t) {
                let n;
                let r = [l.Protocol.ROOM_DATA];
                if ("string" == typeof e ? f.encode.string(r, e) : f.encode.number(r, e),
                void 0 !== t) {
                    let e = a.encode(t);
                    (n = new Uint8Array(r.length + e.byteLength)).set(new Uint8Array(r), 0),
                    n.set(new Uint8Array(e), r.length)
                } else
                    n = new Uint8Array(r);
                this.connection.send(n.buffer)
            }
            sendBytes(e, t) {
                let n;
                let r = [l.Protocol.ROOM_DATA_BYTES];
                "string" == typeof e ? f.encode.string(r, e) : f.encode.number(r, e),
                (n = new Uint8Array(r.length + (t.byteLength || t.length))).set(new Uint8Array(r), 0),
                n.set(new Uint8Array(t), r.length),
                this.connection.send(n.buffer)
            }
            get state() {
                return this.serializer.getState()
            }
            removeAllListeners() {
                this.onJoin.clear(),
                this.onStateChange.clear(),
                this.onError.clear(),
                this.onLeave.clear(),
                this.onMessageHandlers.events = {}
            }
            onMessageCallback(e) {
                let t = Array.from(new Uint8Array(e.data))
                  , n = t[0];
                if (n === l.Protocol.JOIN_ROOM) {
                    let e = 1
                      , n = (0,
                    l.utf8Read)(t, e);
                    if (e += (0,
                    l.utf8Length)(n),
                    this.serializerId = (0,
                    l.utf8Read)(t, e),
                    e += (0,
                    l.utf8Length)(this.serializerId),
                    !this.serializer) {
                        let e = (0,
                        u.getSerializer)(this.serializerId);
                        this.serializer = new e
                    }
                    t.length > e && this.serializer.handshake && this.serializer.handshake(t, {
                        offset: e
                    }),
                    this.reconnectionToken = `${this.roomId}:${n}`,
                    this.hasJoined = !0,
                    this.onJoin.invoke(),
                    this.connection.send([l.Protocol.JOIN_ROOM])
                } else if (n === l.Protocol.ERROR) {
                    let e = {
                        offset: 1
                    }
                      , n = f.decode.number(t, e)
                      , r = f.decode.string(t, e);
                    this.onError.invoke(n, r)
                } else if (n === l.Protocol.LEAVE_ROOM)
                    this.leave();
                else if (n === l.Protocol.ROOM_DATA_SCHEMA) {
                    let e = {
                        offset: 1
                    }
                      , n = this.serializer.getState().constructor._context.get(f.decode.number(t, e))
                      , r = new n;
                    r.decode(t, e),
                    this.dispatchMessage(n, r)
                } else if (n === l.Protocol.ROOM_STATE)
                    t.shift(),
                    this.setState(t);
                else if (n === l.Protocol.ROOM_STATE_PATCH)
                    t.shift(),
                    this.patch(t);
                else if (n === l.Protocol.ROOM_DATA) {
                    let n = {
                        offset: 1
                    }
                      , r = f.decode.stringCheck(t, n) ? f.decode.string(t, n) : f.decode.number(t, n)
                      , i = t.length > n.offset ? a.decode(e.data, n.offset) : void 0;
                    this.dispatchMessage(r, i)
                } else if (n === l.Protocol.ROOM_DATA_BYTES) {
                    let e = {
                        offset: 1
                    }
                      , n = f.decode.stringCheck(t, e) ? f.decode.string(t, e) : f.decode.number(t, e);
                    this.dispatchMessage(n, new Uint8Array(t.slice(e.offset)))
                }
            }
            setState(e) {
                this.serializer.setState(e),
                this.onStateChange.invoke(this.serializer.getState())
            }
            patch(e) {
                this.serializer.patch(e),
                this.onStateChange.invoke(this.serializer.getState())
            }
            dispatchMessage(e, t) {
                var n;
                let r = this.getMessageHandlerKey(e);
                this.onMessageHandlers.events[r] ? this.onMessageHandlers.emit(r, t) : this.onMessageHandlers.events["*"] ? this.onMessageHandlers.emit("*", e, t) : null === (n = console.warn) || void 0 === n || n.call(console, `colyseus.js: onMessage() not registered for type '${e}'.`)
            }
            destroy() {
                this.serializer && this.serializer.teardown()
            }
            getMessageHandlerKey(e) {
                switch (typeof e) {
                case "function":
                    return `$${e._typeid}`;
                case "string":
                    return e;
                case "number":
                    return `i${e}`;
                default:
                    throw Error("invalid message type.")
                }
            }
        }
        t.Room = p
    },
    47723: function(e, t) {
        "use strict";
        let n;
        function r() {
            if (!n)
                try {
                    n = "undefined" != typeof cc && cc.sys && cc.sys.localStorage ? cc.sys.localStorage : window.localStorage
                } catch (e) {}
            return n || (n = {
                cache: {},
                setItem: function(e, t) {
                    this.cache[e] = t
                },
                getItem: function(e) {
                    this.cache[e]
                },
                removeItem: function(e) {
                    delete this.cache[e]
                }
            }),
            n
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getItem = t.removeItem = t.setItem = void 0,
        t.setItem = function(e, t) {
            r().setItem(e, t)
        }
        ,
        t.removeItem = function(e) {
            r().removeItem(e)
        }
        ,
        t.getItem = function(e, t) {
            let n = r().getItem(e);
            "undefined" != typeof Promise && n instanceof Promise ? n.then(e => t(e)) : t(n)
        }
    },
    58295: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.createNanoEvents = void 0,
        t.createNanoEvents = () => ({
            emit(e, ...t) {
                let n = this.events[e] || [];
                for (let e = 0, r = n.length; e < r; e++)
                    n[e](...t)
            },
            events: {},
            on(e, t) {
                var n;
                return (null === (n = this.events[e]) || void 0 === n ? void 0 : n.push(t)) || (this.events[e] = [t]),
                () => {
                    var n;
                    this.events[e] = null === (n = this.events[e]) || void 0 === n ? void 0 : n.filter(e => t !== e)
                }
            }
        })
    },
    16976: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.createSignal = t.EventEmitter = void 0;
        class n {
            constructor() {
                this.handlers = []
            }
            register(e, t=!1) {
                return this.handlers.push(e),
                this
            }
            invoke(...e) {
                this.handlers.forEach(t => t.apply(this, e))
            }
            invokeAsync(...e) {
                return Promise.all(this.handlers.map(t => t.apply(this, e)))
            }
            remove(e) {
                let t = this.handlers.indexOf(e);
                this.handlers[t] = this.handlers[this.handlers.length - 1],
                this.handlers.pop()
            }
            clear() {
                this.handlers = []
            }
        }
        t.EventEmitter = n,
        t.createSignal = function() {
            let e = new n;
            function t(t) {
                return e.register(t, this === null)
            }
            return t.once = t => {
                let n = function(...r) {
                    t.apply(this, r),
                    e.remove(n)
                };
                e.register(n)
            }
            ,
            t.remove = t => e.remove(t),
            t.invoke = (...t) => e.invoke(...t),
            t.invokeAsync = (...t) => e.invokeAsync(...t),
            t.clear = () => e.clear(),
            t
        }
    },
    65199: function(e, t) {
        "use strict";
        var n;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.ServerError = t.CloseCode = void 0,
        (n = t.CloseCode || (t.CloseCode = {}))[n.CONSENTED = 4e3] = "CONSENTED",
        n[n.DEVMODE_RESTART = 4010] = "DEVMODE_RESTART";
        class r extends Error {
            constructor(e, t) {
                super(t),
                this.name = "ServerError",
                this.code = e
            }
        }
        t.ServerError = r
    },
    7767: function(e, t, n) {
        "use strict";
        t.mV = t.KU = void 0,
        n(21331);
        var r = n(4705);
        Object.defineProperty(t, "KU", {
            enumerable: !0,
            get: function() {
                return r.Client
            }
        }),
        n(60845),
        n(68270),
        n(84063);
        let i = n(44066);
        Object.defineProperty(t, "mV", {
            enumerable: !0,
            get: function() {
                return i.SchemaSerializer
            }
        });
        let o = n(34197)
          , a = n(70944);
        (0,
        a.registerSerializer)("schema", i.SchemaSerializer),
        (0,
        a.registerSerializer)("none", o.NoneSerializer)
    },
    21331: function() {
        ArrayBuffer.isView || (ArrayBuffer.isView = e => null !== e && "object" == typeof e && e.buffer instanceof ArrayBuffer),
        "undefined" == typeof globalThis && "undefined" != typeof window && (window.globalThis = window)
    },
    59572: function(e, t) {
        "use strict";
        function n(e, t) {
            if (this._offset = t,
            e instanceof ArrayBuffer)
                this._buffer = e,
                this._view = new DataView(this._buffer);
            else if (ArrayBuffer.isView(e))
                this._buffer = e.buffer,
                this._view = new DataView(this._buffer,e.byteOffset,e.byteLength);
            else
                throw Error("Invalid argument")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.decode = t.encode = void 0,
        n.prototype._array = function(e) {
            for (var t = Array(e), n = 0; n < e; n++)
                t[n] = this._parse();
            return t
        }
        ,
        n.prototype._map = function(e) {
            for (var t = {}, n = 0; n < e; n++)
                t[this._parse()] = this._parse();
            return t
        }
        ,
        n.prototype._str = function(e) {
            var t = function(e, t, n) {
                for (var r = "", i = 0, o = t, a = t + n; o < a; o++) {
                    var s = e.getUint8(o);
                    if ((128 & s) == 0) {
                        r += String.fromCharCode(s);
                        continue
                    }
                    if ((224 & s) == 192) {
                        r += String.fromCharCode((31 & s) << 6 | 63 & e.getUint8(++o));
                        continue
                    }
                    if ((240 & s) == 224) {
                        r += String.fromCharCode((15 & s) << 12 | (63 & e.getUint8(++o)) << 6 | (63 & e.getUint8(++o)) << 0);
                        continue
                    }
                    if ((248 & s) == 240) {
                        (i = (7 & s) << 18 | (63 & e.getUint8(++o)) << 12 | (63 & e.getUint8(++o)) << 6 | (63 & e.getUint8(++o)) << 0) >= 65536 ? (i -= 65536,
                        r += String.fromCharCode((i >>> 10) + 55296, (1023 & i) + 56320)) : r += String.fromCharCode(i);
                        continue
                    }
                    throw Error("Invalid byte " + s.toString(16))
                }
                return r
            }(this._view, this._offset, e);
            return this._offset += e,
            t
        }
        ,
        n.prototype._bin = function(e) {
            var t = this._buffer.slice(this._offset, this._offset + e);
            return this._offset += e,
            t
        }
        ,
        n.prototype._parse = function() {
            var e, t = this._view.getUint8(this._offset++), n = 0, r = 0, i = 0, o = 0;
            if (t < 192)
                return t < 128 ? t : t < 144 ? this._map(15 & t) : t < 160 ? this._array(15 & t) : this._str(31 & t);
            if (t > 223)
                return -((255 - t + 1) * 1);
            switch (t) {
            case 192:
                return null;
            case 194:
                return !1;
            case 195:
                return !0;
            case 196:
                return n = this._view.getUint8(this._offset),
                this._offset += 1,
                this._bin(n);
            case 197:
                return n = this._view.getUint16(this._offset),
                this._offset += 2,
                this._bin(n);
            case 198:
                return n = this._view.getUint32(this._offset),
                this._offset += 4,
                this._bin(n);
            case 199:
                if (n = this._view.getUint8(this._offset),
                r = this._view.getInt8(this._offset + 1),
                this._offset += 2,
                -1 === r) {
                    var a = this._view.getUint32(this._offset);
                    return i = this._view.getInt32(this._offset + 4),
                    o = this._view.getUint32(this._offset + 8),
                    this._offset += 12,
                    new Date((4294967296 * i + o) * 1e3 + a / 1e6)
                }
                return [r, this._bin(n)];
            case 200:
                return n = this._view.getUint16(this._offset),
                r = this._view.getInt8(this._offset + 2),
                this._offset += 3,
                [r, this._bin(n)];
            case 201:
                return n = this._view.getUint32(this._offset),
                r = this._view.getInt8(this._offset + 4),
                this._offset += 5,
                [r, this._bin(n)];
            case 202:
                return e = this._view.getFloat32(this._offset),
                this._offset += 4,
                e;
            case 203:
                return e = this._view.getFloat64(this._offset),
                this._offset += 8,
                e;
            case 204:
                return e = this._view.getUint8(this._offset),
                this._offset += 1,
                e;
            case 205:
                return e = this._view.getUint16(this._offset),
                this._offset += 2,
                e;
            case 206:
                return e = this._view.getUint32(this._offset),
                this._offset += 4,
                e;
            case 207:
                return i = 4294967296 * this._view.getUint32(this._offset),
                o = this._view.getUint32(this._offset + 4),
                this._offset += 8,
                i + o;
            case 208:
                return e = this._view.getInt8(this._offset),
                this._offset += 1,
                e;
            case 209:
                return e = this._view.getInt16(this._offset),
                this._offset += 2,
                e;
            case 210:
                return e = this._view.getInt32(this._offset),
                this._offset += 4,
                e;
            case 211:
                return i = 4294967296 * this._view.getInt32(this._offset),
                o = this._view.getUint32(this._offset + 4),
                this._offset += 8,
                i + o;
            case 212:
                if (r = this._view.getInt8(this._offset),
                this._offset += 1,
                0 === r) {
                    this._offset += 1;
                    return
                }
                return [r, this._bin(1)];
            case 213:
                return r = this._view.getInt8(this._offset),
                this._offset += 1,
                [r, this._bin(2)];
            case 214:
                if (r = this._view.getInt8(this._offset),
                this._offset += 1,
                -1 === r)
                    return e = this._view.getUint32(this._offset),
                    this._offset += 4,
                    new Date(1e3 * e);
                return [r, this._bin(4)];
            case 215:
                if (r = this._view.getInt8(this._offset),
                this._offset += 1,
                0 === r)
                    return i = 4294967296 * this._view.getInt32(this._offset),
                    o = this._view.getUint32(this._offset + 4),
                    this._offset += 8,
                    new Date(i + o);
                if (-1 === r)
                    return i = this._view.getUint32(this._offset),
                    o = this._view.getUint32(this._offset + 4),
                    this._offset += 8,
                    new Date(1e3 * ((3 & i) * 4294967296 + o) + (i >>> 2) / 1e6);
                return [r, this._bin(8)];
            case 216:
                return r = this._view.getInt8(this._offset),
                this._offset += 1,
                [r, this._bin(16)];
            case 217:
                return n = this._view.getUint8(this._offset),
                this._offset += 1,
                this._str(n);
            case 218:
                return n = this._view.getUint16(this._offset),
                this._offset += 2,
                this._str(n);
            case 219:
                return n = this._view.getUint32(this._offset),
                this._offset += 4,
                this._str(n);
            case 220:
                return n = this._view.getUint16(this._offset),
                this._offset += 2,
                this._array(n);
            case 221:
                return n = this._view.getUint32(this._offset),
                this._offset += 4,
                this._array(n);
            case 222:
                return n = this._view.getUint16(this._offset),
                this._offset += 2,
                this._map(n);
            case 223:
                return n = this._view.getUint32(this._offset),
                this._offset += 4,
                this._map(n)
            }
            throw Error("Could not parse")
        }
        ,
        t.decode = function(e, t=0) {
            var r = new n(e,t)
              , i = r._parse();
            if (r._offset !== e.byteLength)
                throw Error(e.byteLength - r._offset + " trailing bytes");
            return i
        }
        ,
        t.encode = function(e) {
            var t = []
              , n = []
              , r = new ArrayBuffer(function e(t, n, r) {
                var i = typeof r
                  , o = 0
                  , a = 0
                  , s = 0
                  , l = 0
                  , u = 0
                  , c = 0;
                if ("string" === i) {
                    if ((u = function(e) {
                        for (var t = 0, n = 0, r = 0, i = e.length; r < i; r++)
                            (t = e.charCodeAt(r)) < 128 ? n += 1 : t < 2048 ? n += 2 : t < 55296 || t >= 57344 ? n += 3 : (r++,
                            n += 4);
                        return n
                    }(r)) < 32)
                        t.push(160 | u),
                        c = 1;
                    else if (u < 256)
                        t.push(217, u),
                        c = 2;
                    else if (u < 65536)
                        t.push(218, u >> 8, u),
                        c = 3;
                    else if (u < 4294967296)
                        t.push(219, u >> 24, u >> 16, u >> 8, u),
                        c = 5;
                    else
                        throw Error("String too long");
                    return n.push({
                        _str: r,
                        _length: u,
                        _offset: t.length
                    }),
                    c + u
                }
                if ("number" === i)
                    return Math.floor(r) === r && isFinite(r) ? r >= 0 ? r < 128 ? (t.push(r),
                    1) : r < 256 ? (t.push(204, r),
                    2) : r < 65536 ? (t.push(205, r >> 8, r),
                    3) : r < 4294967296 ? (t.push(206, r >> 24, r >> 16, r >> 8, r),
                    5) : (s = r / 4294967296 >> 0,
                    l = r >>> 0,
                    t.push(207, s >> 24, s >> 16, s >> 8, s, l >> 24, l >> 16, l >> 8, l),
                    9) : r >= -32 ? (t.push(r),
                    1) : r >= -128 ? (t.push(208, r),
                    2) : r >= -32768 ? (t.push(209, r >> 8, r),
                    3) : r >= -2147483648 ? (t.push(210, r >> 24, r >> 16, r >> 8, r),
                    5) : (s = Math.floor(r / 4294967296),
                    l = r >>> 0,
                    t.push(211, s >> 24, s >> 16, s >> 8, s, l >> 24, l >> 16, l >> 8, l),
                    9) : (t.push(203),
                    n.push({
                        _float: r,
                        _length: 8,
                        _offset: t.length
                    }),
                    9);
                if ("object" === i) {
                    if (null === r)
                        return t.push(192),
                        1;
                    if (Array.isArray(r)) {
                        if ((u = r.length) < 16)
                            t.push(144 | u),
                            c = 1;
                        else if (u < 65536)
                            t.push(220, u >> 8, u),
                            c = 3;
                        else if (u < 4294967296)
                            t.push(221, u >> 24, u >> 16, u >> 8, u),
                            c = 5;
                        else
                            throw Error("Array too large");
                        for (o = 0; o < u; o++)
                            c += e(t, n, r[o]);
                        return c
                    }
                    if (r instanceof Date) {
                        var d = r.getTime()
                          , f = Math.floor(d / 1e3)
                          , h = (d - 1e3 * f) * 1e6;
                        return f >= 0 && h >= 0 && f <= 17179869183 ? 0 === h && f <= 4294967295 ? (t.push(214, 255, f >> 24, f >> 16, f >> 8, f),
                        6) : (s = f / 4294967296,
                        l = 4294967295 & f,
                        t.push(215, 255, h >> 22, h >> 14, h >> 6, s, l >> 24, l >> 16, l >> 8, l),
                        10) : (s = Math.floor(f / 4294967296),
                        l = f >>> 0,
                        t.push(199, 12, 255, h >> 24, h >> 16, h >> 8, h, s >> 24, s >> 16, s >> 8, s, l >> 24, l >> 16, l >> 8, l),
                        15)
                    }
                    if (r instanceof ArrayBuffer) {
                        if ((u = r.byteLength) < 256)
                            t.push(196, u),
                            c = 2;
                        else if (u < 65536)
                            t.push(197, u >> 8, u),
                            c = 3;
                        else if (u < 4294967296)
                            t.push(198, u >> 24, u >> 16, u >> 8, u),
                            c = 5;
                        else
                            throw Error("Buffer too large");
                        return n.push({
                            _bin: r,
                            _length: u,
                            _offset: t.length
                        }),
                        c + u
                    }
                    if ("function" == typeof r.toJSON)
                        return e(t, n, r.toJSON());
                    var p = []
                      , g = ""
                      , m = Object.keys(r);
                    for (o = 0,
                    a = m.length; o < a; o++)
                        void 0 !== r[g = m[o]] && "function" != typeof r[g] && p.push(g);
                    if ((u = p.length) < 16)
                        t.push(128 | u),
                        c = 1;
                    else if (u < 65536)
                        t.push(222, u >> 8, u),
                        c = 3;
                    else if (u < 4294967296)
                        t.push(223, u >> 24, u >> 16, u >> 8, u),
                        c = 5;
                    else
                        throw Error("Object too large");
                    for (o = 0; o < u; o++)
                        c += e(t, n, g = p[o]) + e(t, n, r[g]);
                    return c
                }
                if ("boolean" === i)
                    return t.push(r ? 195 : 194),
                    1;
                if ("undefined" === i)
                    return t.push(192),
                    1;
                if ("function" == typeof r.toJSON)
                    return e(t, n, r.toJSON());
                throw Error("Could not encode")
            }(t, n, e))
              , i = new DataView(r)
              , o = 0
              , a = 0
              , s = -1;
            n.length > 0 && (s = n[0]._offset);
            for (var l, u = 0, c = 0, d = 0, f = t.length; d < f; d++)
                if (i.setUint8(a + d, t[d]),
                d + 1 === s) {
                    if (u = (l = n[o])._length,
                    c = a + s,
                    l._bin)
                        for (var h = new Uint8Array(l._bin), p = 0; p < u; p++)
                            i.setUint8(c + p, h[p]);
                    else
                        l._str ? function(e, t, n) {
                            for (var r = 0, i = 0, o = n.length; i < o; i++)
                                (r = n.charCodeAt(i)) < 128 ? e.setUint8(t++, r) : (r < 2048 ? e.setUint8(t++, 192 | r >> 6) : (r < 55296 || r >= 57344 ? e.setUint8(t++, 224 | r >> 12) : (i++,
                                r = 65536 + ((1023 & r) << 10 | 1023 & n.charCodeAt(i)),
                                e.setUint8(t++, 240 | r >> 18),
                                e.setUint8(t++, 128 | r >> 12 & 63)),
                                e.setUint8(t++, 128 | r >> 6 & 63)),
                                e.setUint8(t++, 128 | 63 & r))
                        }(i, c, l._str) : void 0 !== l._float && i.setFloat64(c, l._float);
                    o++,
                    a += u,
                    n[o] && (s = n[o]._offset)
                }
            return r
        }
    },
    34197: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.NoneSerializer = void 0;
        class n {
            setState(e) {}
            getState() {
                return null
            }
            patch(e) {}
            teardown() {}
            handshake(e) {}
        }
        t.NoneSerializer = n
    },
    44066: function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.SchemaSerializer = void 0;
        let r = n(41396);
        class i {
            setState(e) {
                return this.state.decode(e)
            }
            getState() {
                return this.state
            }
            patch(e) {
                return this.state.decode(e)
            }
            teardown() {
                var e, t;
                null === (t = null === (e = this.state) || void 0 === e ? void 0 : e.$changes) || void 0 === t || t.root.clearRefs()
            }
            handshake(e, t) {
                this.state ? new r.Reflection().decode(e, t) : this.state = r.Reflection.decode(e, t)
            }
        }
        t.SchemaSerializer = i
    },
    70944: function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getSerializer = t.registerSerializer = void 0;
        let n = {};
        t.registerSerializer = function(e, t) {
            n[e] = t
        }
        ,
        t.getSerializer = function(e) {
            let t = n[e];
            if (!t)
                throw Error("missing serializer: " + e);
            return t
        }
    },
    14956: function(e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.WebSocketTransport = void 0;
        let i = r(n(46579))
          , o = globalThis.WebSocket || i.default;
        class a {
            constructor(e) {
                this.events = e
            }
            send(e) {
                e instanceof ArrayBuffer ? this.ws.send(e) : Array.isArray(e) && this.ws.send(new Uint8Array(e).buffer)
            }
            connect(e) {
                this.ws = new o(e,this.protocols),
                this.ws.binaryType = "arraybuffer",
                this.ws.onopen = this.events.onopen,
                this.ws.onmessage = this.events.onmessage,
                this.ws.onclose = this.events.onclose,
                this.ws.onerror = this.events.onerror
            }
            close(e, t) {
                this.ws.close(e, t)
            }
            get isOpen() {
                return this.ws.readyState === o.OPEN
            }
        }
        t.WebSocketTransport = a
    },
    46579: function(e) {
        "use strict";
        e.exports = function() {
            throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")
        }
    },
    8679: function(e, t, n) {
        "use strict";
        var r = n(21296)
          , i = {
            childContextTypes: !0,
            contextType: !0,
            contextTypes: !0,
            defaultProps: !0,
            displayName: !0,
            getDefaultProps: !0,
            getDerivedStateFromError: !0,
            getDerivedStateFromProps: !0,
            mixins: !0,
            propTypes: !0,
            type: !0
        }
          , o = {
            name: !0,
            length: !0,
            prototype: !0,
            caller: !0,
            callee: !0,
            arguments: !0,
            arity: !0
        }
          , a = {
            $$typeof: !0,
            compare: !0,
            defaultProps: !0,
            displayName: !0,
            propTypes: !0,
            type: !0
        }
          , s = {};
        function l(e) {
            return r.isMemo(e) ? a : s[e.$$typeof] || i
        }
        s[r.ForwardRef] = {
            $$typeof: !0,
            render: !0,
            defaultProps: !0,
            displayName: !0,
            propTypes: !0
        },
        s[r.Memo] = a;
        var u = Object.defineProperty
          , c = Object.getOwnPropertyNames
          , d = Object.getOwnPropertySymbols
          , f = Object.getOwnPropertyDescriptor
          , h = Object.getPrototypeOf
          , p = Object.prototype;
        e.exports = function e(t, n, r) {
            if ("string" != typeof n) {
                if (p) {
                    var i = h(n);
                    i && i !== p && e(t, i, r)
                }
                var a = c(n);
                d && (a = a.concat(d(n)));
                for (var s = l(t), g = l(n), m = 0; m < a.length; ++m) {
                    var v = a[m];
                    if (!o[v] && !(r && r[v]) && !(g && g[v]) && !(s && s[v])) {
                        var y = f(n, v);
                        try {
                            u(t, v, y)
                        } catch (e) {}
                    }
                }
            }
            return t
        }
    },
    96103: function(e, t) {
        "use strict";
        var n = "function" == typeof Symbol && Symbol.for
          , r = n ? Symbol.for("react.element") : 60103
          , i = n ? Symbol.for("react.portal") : 60106
          , o = n ? Symbol.for("react.fragment") : 60107
          , a = n ? Symbol.for("react.strict_mode") : 60108
          , s = n ? Symbol.for("react.profiler") : 60114
          , l = n ? Symbol.for("react.provider") : 60109
          , u = n ? Symbol.for("react.context") : 60110
          , c = n ? Symbol.for("react.async_mode") : 60111
          , d = n ? Symbol.for("react.concurrent_mode") : 60111
          , f = n ? Symbol.for("react.forward_ref") : 60112
          , h = n ? Symbol.for("react.suspense") : 60113
          , p = n ? Symbol.for("react.suspense_list") : 60120
          , g = n ? Symbol.for("react.memo") : 60115
          , m = n ? Symbol.for("react.lazy") : 60116
          , v = n ? Symbol.for("react.block") : 60121
          , y = n ? Symbol.for("react.fundamental") : 60117
          , b = n ? Symbol.for("react.responder") : 60118
          , E = n ? Symbol.for("react.scope") : 60119;
        function _(e) {
            if ("object" == typeof e && null !== e) {
                var t = e.$$typeof;
                switch (t) {
                case r:
                    switch (e = e.type) {
                    case c:
                    case d:
                    case o:
                    case s:
                    case a:
                    case h:
                        return e;
                    default:
                        switch (e = e && e.$$typeof) {
                        case u:
                        case f:
                        case m:
                        case g:
                        case l:
                            return e;
                        default:
                            return t
                        }
                    }
                case i:
                    return t
                }
            }
        }
        function w(e) {
            return _(e) === d
        }
        t.AsyncMode = c,
        t.ConcurrentMode = d,
        t.ContextConsumer = u,
        t.ContextProvider = l,
        t.Element = r,
        t.ForwardRef = f,
        t.Fragment = o,
        t.Lazy = m,
        t.Memo = g,
        t.Portal = i,
        t.Profiler = s,
        t.StrictMode = a,
        t.Suspense = h,
        t.isAsyncMode = function(e) {
            return w(e) || _(e) === c
        }
        ,
        t.isConcurrentMode = w,
        t.isContextConsumer = function(e) {
            return _(e) === u
        }
        ,
        t.isContextProvider = function(e) {
            return _(e) === l
        }
        ,
        t.isElement = function(e) {
            return "object" == typeof e && null !== e && e.$$typeof === r
        }
        ,
        t.isForwardRef = function(e) {
            return _(e) === f
        }
        ,
        t.isFragment = function(e) {
            return _(e) === o
        }
        ,
        t.isLazy = function(e) {
            return _(e) === m
        }
        ,
        t.isMemo = function(e) {
            return _(e) === g
        }
        ,
        t.isPortal = function(e) {
            return _(e) === i
        }
        ,
        t.isProfiler = function(e) {
            return _(e) === s
        }
        ,
        t.isStrictMode = function(e) {
            return _(e) === a
        }
        ,
        t.isSuspense = function(e) {
            return _(e) === h
        }
        ,
        t.isValidElementType = function(e) {
            return "string" == typeof e || "function" == typeof e || e === o || e === d || e === s || e === a || e === h || e === p || "object" == typeof e && null !== e && (e.$$typeof === m || e.$$typeof === g || e.$$typeof === l || e.$$typeof === u || e.$$typeof === f || e.$$typeof === y || e.$$typeof === b || e.$$typeof === E || e.$$typeof === v)
        }
        ,
        t.typeOf = _
    },
    21296: function(e, t, n) {
        "use strict";
        e.exports = n(96103)
    },
    68203: function(e, t, n) {
        var r = "undefined" != typeof globalThis && globalThis || "undefined" != typeof self && self || void 0 !== n.g && n.g
          , i = function() {
            function e() {
                this.fetch = !1,
                this.DOMException = r.DOMException
            }
            return e.prototype = r,
            new e
        }();
        (function(e) {
            var t = void 0 !== i && i || "undefined" != typeof self && self || void 0 !== t && t
              , n = {
                searchParams: "URLSearchParams"in t,
                iterable: "Symbol"in t && "iterator"in Symbol,
                blob: "FileReader"in t && "Blob"in t && function() {
                    try {
                        return new Blob,
                        !0
                    } catch (e) {
                        return !1
                    }
                }(),
                formData: "FormData"in t,
                arrayBuffer: "ArrayBuffer"in t
            };
            if (n.arrayBuffer)
                var r = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"]
                  , o = ArrayBuffer.isView || function(e) {
                    return e && r.indexOf(Object.prototype.toString.call(e)) > -1
                }
                ;
            function a(e) {
                if ("string" != typeof e && (e = String(e)),
                /[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e) || "" === e)
                    throw TypeError('Invalid character in header field name: "' + e + '"');
                return e.toLowerCase()
            }
            function s(e) {
                return "string" != typeof e && (e = String(e)),
                e
            }
            function l(e) {
                var t = {
                    next: function() {
                        var t = e.shift();
                        return {
                            done: void 0 === t,
                            value: t
                        }
                    }
                };
                return n.iterable && (t[Symbol.iterator] = function() {
                    return t
                }
                ),
                t
            }
            function u(e) {
                this.map = {},
                e instanceof u ? e.forEach(function(e, t) {
                    this.append(t, e)
                }, this) : Array.isArray(e) ? e.forEach(function(e) {
                    this.append(e[0], e[1])
                }, this) : e && Object.getOwnPropertyNames(e).forEach(function(t) {
                    this.append(t, e[t])
                }, this)
            }
            function c(e) {
                if (e.bodyUsed)
                    return Promise.reject(TypeError("Already read"));
                e.bodyUsed = !0
            }
            function d(e) {
                return new Promise(function(t, n) {
                    e.onload = function() {
                        t(e.result)
                    }
                    ,
                    e.onerror = function() {
                        n(e.error)
                    }
                }
                )
            }
            function f(e) {
                var t = new FileReader
                  , n = d(t);
                return t.readAsArrayBuffer(e),
                n
            }
            function h(e) {
                if (e.slice)
                    return e.slice(0);
                var t = new Uint8Array(e.byteLength);
                return t.set(new Uint8Array(e)),
                t.buffer
            }
            function p() {
                return this.bodyUsed = !1,
                this._initBody = function(e) {
                    if (this.bodyUsed = this.bodyUsed,
                    this._bodyInit = e,
                    e) {
                        if ("string" == typeof e)
                            this._bodyText = e;
                        else if (n.blob && Blob.prototype.isPrototypeOf(e))
                            this._bodyBlob = e;
                        else if (n.formData && FormData.prototype.isPrototypeOf(e))
                            this._bodyFormData = e;
                        else if (n.searchParams && URLSearchParams.prototype.isPrototypeOf(e))
                            this._bodyText = e.toString();
                        else {
                            var t;
                            n.arrayBuffer && n.blob && (t = e) && DataView.prototype.isPrototypeOf(t) ? (this._bodyArrayBuffer = h(e.buffer),
                            this._bodyInit = new Blob([this._bodyArrayBuffer])) : n.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || o(e)) ? this._bodyArrayBuffer = h(e) : this._bodyText = e = Object.prototype.toString.call(e)
                        }
                    } else
                        this._bodyText = "";
                    !this.headers.get("content-type") && ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : n.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
                }
                ,
                n.blob && (this.blob = function() {
                    var e = c(this);
                    if (e)
                        return e;
                    if (this._bodyBlob)
                        return Promise.resolve(this._bodyBlob);
                    if (this._bodyArrayBuffer)
                        return Promise.resolve(new Blob([this._bodyArrayBuffer]));
                    if (!this._bodyFormData)
                        return Promise.resolve(new Blob([this._bodyText]));
                    throw Error("could not read FormData body as blob")
                }
                ,
                this.arrayBuffer = function() {
                    return this._bodyArrayBuffer ? c(this) || (ArrayBuffer.isView(this._bodyArrayBuffer) ? Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset, this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength)) : Promise.resolve(this._bodyArrayBuffer)) : this.blob().then(f)
                }
                ),
                this.text = function() {
                    var e, t, n, r = c(this);
                    if (r)
                        return r;
                    if (this._bodyBlob)
                        return e = this._bodyBlob,
                        n = d(t = new FileReader),
                        t.readAsText(e),
                        n;
                    if (this._bodyArrayBuffer)
                        return Promise.resolve(function(e) {
                            for (var t = new Uint8Array(e), n = Array(t.length), r = 0; r < t.length; r++)
                                n[r] = String.fromCharCode(t[r]);
                            return n.join("")
                        }(this._bodyArrayBuffer));
                    if (!this._bodyFormData)
                        return Promise.resolve(this._bodyText);
                    throw Error("could not read FormData body as text")
                }
                ,
                n.formData && (this.formData = function() {
                    return this.text().then(v)
                }
                ),
                this.json = function() {
                    return this.text().then(JSON.parse)
                }
                ,
                this
            }
            u.prototype.append = function(e, t) {
                e = a(e),
                t = s(t);
                var n = this.map[e];
                this.map[e] = n ? n + ", " + t : t
            }
            ,
            u.prototype.delete = function(e) {
                delete this.map[a(e)]
            }
            ,
            u.prototype.get = function(e) {
                return e = a(e),
                this.has(e) ? this.map[e] : null
            }
            ,
            u.prototype.has = function(e) {
                return this.map.hasOwnProperty(a(e))
            }
            ,
            u.prototype.set = function(e, t) {
                this.map[a(e)] = s(t)
            }
            ,
            u.prototype.forEach = function(e, t) {
                for (var n in this.map)
                    this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this)
            }
            ,
            u.prototype.keys = function() {
                var e = [];
                return this.forEach(function(t, n) {
                    e.push(n)
                }),
                l(e)
            }
            ,
            u.prototype.values = function() {
                var e = [];
                return this.forEach(function(t) {
                    e.push(t)
                }),
                l(e)
            }
            ,
            u.prototype.entries = function() {
                var e = [];
                return this.forEach(function(t, n) {
                    e.push([n, t])
                }),
                l(e)
            }
            ,
            n.iterable && (u.prototype[Symbol.iterator] = u.prototype.entries);
            var g = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
            function m(e, t) {
                if (!(this instanceof m))
                    throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
                var n, r, i = (t = t || {}).body;
                if (e instanceof m) {
                    if (e.bodyUsed)
                        throw TypeError("Already read");
                    this.url = e.url,
                    this.credentials = e.credentials,
                    t.headers || (this.headers = new u(e.headers)),
                    this.method = e.method,
                    this.mode = e.mode,
                    this.signal = e.signal,
                    i || null == e._bodyInit || (i = e._bodyInit,
                    e.bodyUsed = !0)
                } else
                    this.url = String(e);
                if (this.credentials = t.credentials || this.credentials || "same-origin",
                (t.headers || !this.headers) && (this.headers = new u(t.headers)),
                this.method = (r = (n = t.method || this.method || "GET").toUpperCase(),
                g.indexOf(r) > -1 ? r : n),
                this.mode = t.mode || this.mode || null,
                this.signal = t.signal || this.signal,
                this.referrer = null,
                ("GET" === this.method || "HEAD" === this.method) && i)
                    throw TypeError("Body not allowed for GET or HEAD requests");
                if (this._initBody(i),
                ("GET" === this.method || "HEAD" === this.method) && ("no-store" === t.cache || "no-cache" === t.cache)) {
                    var o = /([?&])_=[^&]*/;
                    o.test(this.url) ? this.url = this.url.replace(o, "$1_=" + new Date().getTime()) : this.url += (/\?/.test(this.url) ? "&" : "?") + "_=" + new Date().getTime()
                }
            }
            function v(e) {
                var t = new FormData;
                return e.trim().split("&").forEach(function(e) {
                    if (e) {
                        var n = e.split("=")
                          , r = n.shift().replace(/\+/g, " ")
                          , i = n.join("=").replace(/\+/g, " ");
                        t.append(decodeURIComponent(r), decodeURIComponent(i))
                    }
                }),
                t
            }
            function y(e, t) {
                if (!(this instanceof y))
                    throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
                t || (t = {}),
                this.type = "default",
                this.status = void 0 === t.status ? 200 : t.status,
                this.ok = this.status >= 200 && this.status < 300,
                this.statusText = void 0 === t.statusText ? "" : "" + t.statusText,
                this.headers = new u(t.headers),
                this.url = t.url || "",
                this._initBody(e)
            }
            m.prototype.clone = function() {
                return new m(this,{
                    body: this._bodyInit
                })
            }
            ,
            p.call(m.prototype),
            p.call(y.prototype),
            y.prototype.clone = function() {
                return new y(this._bodyInit,{
                    status: this.status,
                    statusText: this.statusText,
                    headers: new u(this.headers),
                    url: this.url
                })
            }
            ,
            y.error = function() {
                var e = new y(null,{
                    status: 0,
                    statusText: ""
                });
                return e.type = "error",
                e
            }
            ;
            var b = [301, 302, 303, 307, 308];
            y.redirect = function(e, t) {
                if (-1 === b.indexOf(t))
                    throw RangeError("Invalid status code");
                return new y(null,{
                    status: t,
                    headers: {
                        location: e
                    }
                })
            }
            ,
            e.DOMException = t.DOMException;
            try {
                new e.DOMException
            } catch (t) {
                e.DOMException = function(e, t) {
                    this.message = e,
                    this.name = t;
                    var n = Error(e);
                    this.stack = n.stack
                }
                ,
                e.DOMException.prototype = Object.create(Error.prototype),
                e.DOMException.prototype.constructor = e.DOMException
            }
            function E(r, i) {
                return new Promise(function(o, a) {
                    var l = new m(r,i);
                    if (l.signal && l.signal.aborted)
                        return a(new e.DOMException("Aborted","AbortError"));
                    var c = new XMLHttpRequest;
                    function d() {
                        c.abort()
                    }
                    c.onload = function() {
                        var e, t, n = {
                            status: c.status,
                            statusText: c.statusText,
                            headers: (e = c.getAllResponseHeaders() || "",
                            t = new u,
                            e.replace(/\r?\n[\t ]+/g, " ").split("\r").map(function(e) {
                                return 0 === e.indexOf("\n") ? e.substr(1, e.length) : e
                            }).forEach(function(e) {
                                var n = e.split(":")
                                  , r = n.shift().trim();
                                if (r) {
                                    var i = n.join(":").trim();
                                    t.append(r, i)
                                }
                            }),
                            t)
                        };
                        n.url = "responseURL"in c ? c.responseURL : n.headers.get("X-Request-URL");
                        var r = "response"in c ? c.response : c.responseText;
                        setTimeout(function() {
                            o(new y(r,n))
                        }, 0)
                    }
                    ,
                    c.onerror = function() {
                        setTimeout(function() {
                            a(TypeError("Network request failed"))
                        }, 0)
                    }
                    ,
                    c.ontimeout = function() {
                        setTimeout(function() {
                            a(TypeError("Network request failed"))
                        }, 0)
                    }
                    ,
                    c.onabort = function() {
                        setTimeout(function() {
                            a(new e.DOMException("Aborted","AbortError"))
                        }, 0)
                    }
                    ,
                    c.open(l.method, function(e) {
                        try {
                            return "" === e && t.location.href ? t.location.href : e
                        } catch (t) {
                            return e
                        }
                    }(l.url), !0),
                    "include" === l.credentials ? c.withCredentials = !0 : "omit" === l.credentials && (c.withCredentials = !1),
                    "responseType"in c && (n.blob ? c.responseType = "blob" : n.arrayBuffer && l.headers.get("Content-Type") && -1 !== l.headers.get("Content-Type").indexOf("application/octet-stream") && (c.responseType = "arraybuffer")),
                    !i || "object" != typeof i.headers || i.headers instanceof u ? l.headers.forEach(function(e, t) {
                        c.setRequestHeader(t, e)
                    }) : Object.getOwnPropertyNames(i.headers).forEach(function(e) {
                        c.setRequestHeader(e, s(i.headers[e]))
                    }),
                    l.signal && (l.signal.addEventListener("abort", d),
                    c.onreadystatechange = function() {
                        4 === c.readyState && l.signal.removeEventListener("abort", d)
                    }
                    ),
                    c.send(void 0 === l._bodyInit ? null : l._bodyInit)
                }
                )
            }
            E.polyfill = !0,
            t.fetch || (t.fetch = E,
            t.Headers = u,
            t.Request = m,
            t.Response = y),
            e.Headers = u,
            e.Request = m,
            e.Response = y,
            e.fetch = E
        }
        )({}),
        i.fetch.ponyfill = !0,
        delete i.fetch.polyfill;
        var o = r.fetch ? r : i;
        (t = o.fetch).default = o.fetch,
        t.fetch = o.fetch,
        t.Headers = o.Headers,
        t.Request = o.Request,
        t.Response = o.Response,
        e.exports = t
    },
    18552: function(e, t, n) {
        var r = n(10852)(n(55639), "DataView");
        e.exports = r
    },
    1989: function(e, t, n) {
        var r = n(51789)
          , i = n(80401)
          , o = n(57667)
          , a = n(21327)
          , s = n(81866);
        function l(e) {
            var t = -1
              , n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n; ) {
                var r = e[t];
                this.set(r[0], r[1])
            }
        }
        l.prototype.clear = r,
        l.prototype.delete = i,
        l.prototype.get = o,
        l.prototype.has = a,
        l.prototype.set = s,
        e.exports = l
    },
    38407: function(e, t, n) {
        var r = n(27040)
          , i = n(14125)
          , o = n(82117)
          , a = n(67518)
          , s = n(54705);
        function l(e) {
            var t = -1
              , n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n; ) {
                var r = e[t];
                this.set(r[0], r[1])
            }
        }
        l.prototype.clear = r,
        l.prototype.delete = i,
        l.prototype.get = o,
        l.prototype.has = a,
        l.prototype.set = s,
        e.exports = l
    },
    57071: function(e, t, n) {
        var r = n(10852)(n(55639), "Map");
        e.exports = r
    },
    83369: function(e, t, n) {
        var r = n(24785)
          , i = n(11285)
          , o = n(96e3)
          , a = n(49916)
          , s = n(95265);
        function l(e) {
            var t = -1
              , n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n; ) {
                var r = e[t];
                this.set(r[0], r[1])
            }
        }
        l.prototype.clear = r,
        l.prototype.delete = i,
        l.prototype.get = o,
        l.prototype.has = a,
        l.prototype.set = s,
        e.exports = l
    },
    53818: function(e, t, n) {
        var r = n(10852)(n(55639), "Promise");
        e.exports = r
    },
    58525: function(e, t, n) {
        var r = n(10852)(n(55639), "Set");
        e.exports = r
    },
    62705: function(e, t, n) {
        var r = n(55639).Symbol;
        e.exports = r
    },
    70577: function(e, t, n) {
        var r = n(10852)(n(55639), "WeakMap");
        e.exports = r
    },
    29932: function(e) {
        e.exports = function(e, t) {
            for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r; )
                i[n] = t(e[n], n, e);
            return i
        }
    },
    34865: function(e, t, n) {
        var r = n(89465)
          , i = n(77813)
          , o = Object.prototype.hasOwnProperty;
        e.exports = function(e, t, n) {
            var a = e[t];
            o.call(e, t) && i(a, n) && (void 0 !== n || t in e) || r(e, t, n)
        }
    },
    18470: function(e, t, n) {
        var r = n(77813);
        e.exports = function(e, t) {
            for (var n = e.length; n--; )
                if (r(e[n][0], t))
                    return n;
            return -1
        }
    },
    89465: function(e, t, n) {
        var r = n(38777);
        e.exports = function(e, t, n) {
            "__proto__" == t && r ? r(e, t, {
                configurable: !0,
                enumerable: !0,
                value: n,
                writable: !0
            }) : e[t] = n
        }
    },
    97786: function(e, t, n) {
        var r = n(71811)
          , i = n(40327);
        e.exports = function(e, t) {
            t = r(t, e);
            for (var n = 0, o = t.length; null != e && n < o; )
                e = e[i(t[n++])];
            return n && n == o ? e : void 0
        }
    },
    44239: function(e, t, n) {
        var r = n(62705)
          , i = n(89607)
          , o = n(2333)
          , a = r ? r.toStringTag : void 0;
        e.exports = function(e) {
            return null == e ? void 0 === e ? "[object Undefined]" : "[object Null]" : a && a in Object(e) ? i(e) : o(e)
        }
    },
    9454: function(e, t, n) {
        var r = n(44239)
          , i = n(37005);
        e.exports = function(e) {
            return i(e) && "[object Arguments]" == r(e)
        }
    },
    28458: function(e, t, n) {
        var r = n(23560)
          , i = n(15346)
          , o = n(13218)
          , a = n(80346)
          , s = /^\[object .+?Constructor\]$/
          , l = Object.prototype
          , u = Function.prototype.toString
          , c = l.hasOwnProperty
          , d = RegExp("^" + u.call(c).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
        e.exports = function(e) {
            return !(!o(e) || i(e)) && (r(e) ? d : s).test(a(e))
        }
    },
    38749: function(e, t, n) {
        var r = n(44239)
          , i = n(41780)
          , o = n(37005)
          , a = {};
        a["[object Float32Array]"] = a["[object Float64Array]"] = a["[object Int8Array]"] = a["[object Int16Array]"] = a["[object Int32Array]"] = a["[object Uint8Array]"] = a["[object Uint8ClampedArray]"] = a["[object Uint16Array]"] = a["[object Uint32Array]"] = !0,
        a["[object Arguments]"] = a["[object Array]"] = a["[object ArrayBuffer]"] = a["[object Boolean]"] = a["[object DataView]"] = a["[object Date]"] = a["[object Error]"] = a["[object Function]"] = a["[object Map]"] = a["[object Number]"] = a["[object Object]"] = a["[object RegExp]"] = a["[object Set]"] = a["[object String]"] = a["[object WeakMap]"] = !1,
        e.exports = function(e) {
            return o(e) && i(e.length) && !!a[r(e)]
        }
    },
    280: function(e, t, n) {
        var r = n(25726)
          , i = n(86916)
          , o = Object.prototype.hasOwnProperty;
        e.exports = function(e) {
            if (!r(e))
                return i(e);
            var t = [];
            for (var n in Object(e))
                o.call(e, n) && "constructor" != n && t.push(n);
            return t
        }
    },
    10611: function(e, t, n) {
        var r = n(34865)
          , i = n(71811)
          , o = n(65776)
          , a = n(13218)
          , s = n(40327);
        e.exports = function(e, t, n, l) {
            if (!a(e))
                return e;
            t = i(t, e);
            for (var u = -1, c = t.length, d = c - 1, f = e; null != f && ++u < c; ) {
                var h = s(t[u])
                  , p = n;
                if ("__proto__" === h || "constructor" === h || "prototype" === h)
                    break;
                if (u != d) {
                    var g = f[h];
                    void 0 === (p = l ? l(g, h, f) : void 0) && (p = a(g) ? g : o(t[u + 1]) ? [] : {})
                }
                r(f, h, p),
                f = f[h]
            }
            return e
        }
    },
    80531: function(e, t, n) {
        var r = n(62705)
          , i = n(29932)
          , o = n(1469)
          , a = n(33448)
          , s = 1 / 0
          , l = r ? r.prototype : void 0
          , u = l ? l.toString : void 0;
        e.exports = function e(t) {
            if ("string" == typeof t)
                return t;
            if (o(t))
                return i(t, e) + "";
            if (a(t))
                return u ? u.call(t) : "";
            var n = t + "";
            return "0" == n && 1 / t == -s ? "-0" : n
        }
    },
    27561: function(e, t, n) {
        var r = n(67990)
          , i = /^\s+/;
        e.exports = function(e) {
            return e ? e.slice(0, r(e) + 1).replace(i, "") : e
        }
    },
    7518: function(e) {
        e.exports = function(e) {
            return function(t) {
                return e(t)
            }
        }
    },
    71811: function(e, t, n) {
        var r = n(1469)
          , i = n(15403)
          , o = n(55514)
          , a = n(79833);
        e.exports = function(e, t) {
            return r(e) ? e : i(e, t) ? [e] : o(a(e))
        }
    },
    14429: function(e, t, n) {
        var r = n(55639)["__core-js_shared__"];
        e.exports = r
    },
    38777: function(e, t, n) {
        var r = n(10852)
          , i = function() {
            try {
                var e = r(Object, "defineProperty");
                return e({}, "", {}),
                e
            } catch (e) {}
        }();
        e.exports = i
    },
    31957: function(e, t, n) {
        var r = "object" == typeof n.g && n.g && n.g.Object === Object && n.g;
        e.exports = r
    },
    45050: function(e, t, n) {
        var r = n(37019);
        e.exports = function(e, t) {
            var n = e.__data__;
            return r(t) ? n["string" == typeof t ? "string" : "hash"] : n.map
        }
    },
    10852: function(e, t, n) {
        var r = n(28458)
          , i = n(47801);
        e.exports = function(e, t) {
            var n = i(e, t);
            return r(n) ? n : void 0
        }
    },
    89607: function(e, t, n) {
        var r = n(62705)
          , i = Object.prototype
          , o = i.hasOwnProperty
          , a = i.toString
          , s = r ? r.toStringTag : void 0;
        e.exports = function(e) {
            var t = o.call(e, s)
              , n = e[s];
            try {
                e[s] = void 0;
                var r = !0
            } catch (e) {}
            var i = a.call(e);
            return r && (t ? e[s] = n : delete e[s]),
            i
        }
    },
    64160: function(e, t, n) {
        var r = n(18552)
          , i = n(57071)
          , o = n(53818)
          , a = n(58525)
          , s = n(70577)
          , l = n(44239)
          , u = n(80346)
          , c = "[object Map]"
          , d = "[object Promise]"
          , f = "[object Set]"
          , h = "[object WeakMap]"
          , p = "[object DataView]"
          , g = u(r)
          , m = u(i)
          , v = u(o)
          , y = u(a)
          , b = u(s)
          , E = l;
        (r && E(new r(new ArrayBuffer(1))) != p || i && E(new i) != c || o && E(o.resolve()) != d || a && E(new a) != f || s && E(new s) != h) && (E = function(e) {
            var t = l(e)
              , n = "[object Object]" == t ? e.constructor : void 0
              , r = n ? u(n) : "";
            if (r)
                switch (r) {
                case g:
                    return p;
                case m:
                    return c;
                case v:
                    return d;
                case y:
                    return f;
                case b:
                    return h
                }
            return t
        }
        ),
        e.exports = E
    },
    47801: function(e) {
        e.exports = function(e, t) {
            return null == e ? void 0 : e[t]
        }
    },
    51789: function(e, t, n) {
        var r = n(94536);
        e.exports = function() {
            this.__data__ = r ? r(null) : {},
            this.size = 0
        }
    },
    80401: function(e) {
        e.exports = function(e) {
            var t = this.has(e) && delete this.__data__[e];
            return this.size -= t ? 1 : 0,
            t
        }
    },
    57667: function(e, t, n) {
        var r = n(94536)
          , i = Object.prototype.hasOwnProperty;
        e.exports = function(e) {
            var t = this.__data__;
            if (r) {
                var n = t[e];
                return "__lodash_hash_undefined__" === n ? void 0 : n
            }
            return i.call(t, e) ? t[e] : void 0
        }
    },
    21327: function(e, t, n) {
        var r = n(94536)
          , i = Object.prototype.hasOwnProperty;
        e.exports = function(e) {
            var t = this.__data__;
            return r ? void 0 !== t[e] : i.call(t, e)
        }
    },
    81866: function(e, t, n) {
        var r = n(94536);
        e.exports = function(e, t) {
            var n = this.__data__;
            return this.size += this.has(e) ? 0 : 1,
            n[e] = r && void 0 === t ? "__lodash_hash_undefined__" : t,
            this
        }
    },
    65776: function(e) {
        var t = /^(?:0|[1-9]\d*)$/;
        e.exports = function(e, n) {
            var r = typeof e;
            return !!(n = null == n ? 9007199254740991 : n) && ("number" == r || "symbol" != r && t.test(e)) && e > -1 && e % 1 == 0 && e < n
        }
    },
    15403: function(e, t, n) {
        var r = n(1469)
          , i = n(33448)
          , o = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
          , a = /^\w*$/;
        e.exports = function(e, t) {
            if (r(e))
                return !1;
            var n = typeof e;
            return !!("number" == n || "symbol" == n || "boolean" == n || null == e || i(e)) || a.test(e) || !o.test(e) || null != t && e in Object(t)
        }
    },
    37019: function(e) {
        e.exports = function(e) {
            var t = typeof e;
            return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e
        }
    },
    15346: function(e, t, n) {
        var r, i = n(14429), o = (r = /[^.]+$/.exec(i && i.keys && i.keys.IE_PROTO || "")) ? "Symbol(src)_1." + r : "";
        e.exports = function(e) {
            return !!o && o in e
        }
    },
    25726: function(e) {
        var t = Object.prototype;
        e.exports = function(e) {
            var n = e && e.constructor;
            return e === ("function" == typeof n && n.prototype || t)
        }
    },
    27040: function(e) {
        e.exports = function() {
            this.__data__ = [],
            this.size = 0
        }
    },
    14125: function(e, t, n) {
        var r = n(18470)
          , i = Array.prototype.splice;
        e.exports = function(e) {
            var t = this.__data__
              , n = r(t, e);
            return !(n < 0) && (n == t.length - 1 ? t.pop() : i.call(t, n, 1),
            --this.size,
            !0)
        }
    },
    82117: function(e, t, n) {
        var r = n(18470);
        e.exports = function(e) {
            var t = this.__data__
              , n = r(t, e);
            return n < 0 ? void 0 : t[n][1]
        }
    },
    67518: function(e, t, n) {
        var r = n(18470);
        e.exports = function(e) {
            return r(this.__data__, e) > -1
        }
    },
    54705: function(e, t, n) {
        var r = n(18470);
        e.exports = function(e, t) {
            var n = this.__data__
              , i = r(n, e);
            return i < 0 ? (++this.size,
            n.push([e, t])) : n[i][1] = t,
            this
        }
    },
    24785: function(e, t, n) {
        var r = n(1989)
          , i = n(38407)
          , o = n(57071);
        e.exports = function() {
            this.size = 0,
            this.__data__ = {
                hash: new r,
                map: new (o || i),
                string: new r
            }
        }
    },
    11285: function(e, t, n) {
        var r = n(45050);
        e.exports = function(e) {
            var t = r(this, e).delete(e);
            return this.size -= t ? 1 : 0,
            t
        }
    },
    96e3: function(e, t, n) {
        var r = n(45050);
        e.exports = function(e) {
            return r(this, e).get(e)
        }
    },
    49916: function(e, t, n) {
        var r = n(45050);
        e.exports = function(e) {
            return r(this, e).has(e)
        }
    },
    95265: function(e, t, n) {
        var r = n(45050);
        e.exports = function(e, t) {
            var n = r(this, e)
              , i = n.size;
            return n.set(e, t),
            this.size += n.size == i ? 0 : 1,
            this
        }
    },
    24523: function(e, t, n) {
        var r = n(88306);
        e.exports = function(e) {
            var t = r(e, function(e) {
                return 500 === n.size && n.clear(),
                e
            })
              , n = t.cache;
            return t
        }
    },
    94536: function(e, t, n) {
        var r = n(10852)(Object, "create");
        e.exports = r
    },
    86916: function(e, t, n) {
        var r = n(5569)(Object.keys, Object);
        e.exports = r
    },
    31167: function(e, t, n) {
        e = n.nmd(e);
        var r = n(31957)
          , i = t && !t.nodeType && t
          , o = i && e && !e.nodeType && e
          , a = o && o.exports === i && r.process
          , s = function() {
            try {
                var e = o && o.require && o.require("util").types;
                if (e)
                    return e;
                return a && a.binding && a.binding("util")
            } catch (e) {}
        }();
        e.exports = s
    },
    2333: function(e) {
        var t = Object.prototype.toString;
        e.exports = function(e) {
            return t.call(e)
        }
    },
    5569: function(e) {
        e.exports = function(e, t) {
            return function(n) {
                return e(t(n))
            }
        }
    },
    55639: function(e, t, n) {
        var r = n(31957)
          , i = "object" == typeof self && self && self.Object === Object && self
          , o = r || i || Function("return this")();
        e.exports = o
    },
    55514: function(e, t, n) {
        var r = n(24523)
          , i = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
          , o = /\\(\\)?/g
          , a = r(function(e) {
            var t = [];
            return 46 === e.charCodeAt(0) && t.push(""),
            e.replace(i, function(e, n, r, i) {
                t.push(r ? i.replace(o, "$1") : n || e)
            }),
            t
        });
        e.exports = a
    },
    40327: function(e, t, n) {
        var r = n(33448)
          , i = 1 / 0;
        e.exports = function(e) {
            if ("string" == typeof e || r(e))
                return e;
            var t = e + "";
            return "0" == t && 1 / e == -i ? "-0" : t
        }
    },
    80346: function(e) {
        var t = Function.prototype.toString;
        e.exports = function(e) {
            if (null != e) {
                try {
                    return t.call(e)
                } catch (e) {}
                try {
                    return e + ""
                } catch (e) {}
            }
            return ""
        }
    },
    67990: function(e) {
        var t = /\s/;
        e.exports = function(e) {
            for (var n = e.length; n-- && t.test(e.charAt(n)); )
                ;
            return n
        }
    },
    23279: function(e, t, n) {
        var r = n(13218)
          , i = n(7771)
          , o = n(14841)
          , a = Math.max
          , s = Math.min;
        e.exports = function(e, t, n) {
            var l, u, c, d, f, h, p = 0, g = !1, m = !1, v = !0;
            if ("function" != typeof e)
                throw TypeError("Expected a function");
            function y(t) {
                var n = l
                  , r = u;
                return l = u = void 0,
                p = t,
                d = e.apply(r, n)
            }
            function b(e) {
                var n = e - h
                  , r = e - p;
                return void 0 === h || n >= t || n < 0 || m && r >= c
            }
            function E() {
                var e, n, r, o = i();
                if (b(o))
                    return _(o);
                f = setTimeout(E, (e = o - h,
                n = o - p,
                r = t - e,
                m ? s(r, c - n) : r))
            }
            function _(e) {
                return (f = void 0,
                v && l) ? y(e) : (l = u = void 0,
                d)
            }
            function w() {
                var e, n = i(), r = b(n);
                if (l = arguments,
                u = this,
                h = n,
                r) {
                    if (void 0 === f)
                        return p = e = h,
                        f = setTimeout(E, t),
                        g ? y(e) : d;
                    if (m)
                        return clearTimeout(f),
                        f = setTimeout(E, t),
                        y(h)
                }
                return void 0 === f && (f = setTimeout(E, t)),
                d
            }
            return t = o(t) || 0,
            r(n) && (g = !!n.leading,
            c = (m = "maxWait"in n) ? a(o(n.maxWait) || 0, t) : c,
            v = "trailing"in n ? !!n.trailing : v),
            w.cancel = function() {
                void 0 !== f && clearTimeout(f),
                p = 0,
                l = h = u = f = void 0
            }
            ,
            w.flush = function() {
                return void 0 === f ? d : _(i())
            }
            ,
            w
        }
    },
    77813: function(e) {
        e.exports = function(e, t) {
            return e === t || e != e && t != t
        }
    },
    27361: function(e, t, n) {
        var r = n(97786);
        e.exports = function(e, t, n) {
            var i = null == e ? void 0 : r(e, t);
            return void 0 === i ? n : i
        }
    },
    35694: function(e, t, n) {
        var r = n(9454)
          , i = n(37005)
          , o = Object.prototype
          , a = o.hasOwnProperty
          , s = o.propertyIsEnumerable
          , l = r(function() {
            return arguments
        }()) ? r : function(e) {
            return i(e) && a.call(e, "callee") && !s.call(e, "callee")
        }
        ;
        e.exports = l
    },
    1469: function(e) {
        var t = Array.isArray;
        e.exports = t
    },
    98612: function(e, t, n) {
        var r = n(23560)
          , i = n(41780);
        e.exports = function(e) {
            return null != e && i(e.length) && !r(e)
        }
    },
    44144: function(e, t, n) {
        e = n.nmd(e);
        var r = n(55639)
          , i = n(95062)
          , o = t && !t.nodeType && t
          , a = o && e && !e.nodeType && e
          , s = a && a.exports === o ? r.Buffer : void 0
          , l = s ? s.isBuffer : void 0;
        e.exports = l || i
    },
    41609: function(e, t, n) {
        var r = n(280)
          , i = n(64160)
          , o = n(35694)
          , a = n(1469)
          , s = n(98612)
          , l = n(44144)
          , u = n(25726)
          , c = n(36719)
          , d = Object.prototype.hasOwnProperty;
        e.exports = function(e) {
            if (null == e)
                return !0;
            if (s(e) && (a(e) || "string" == typeof e || "function" == typeof e.splice || l(e) || c(e) || o(e)))
                return !e.length;
            var t = i(e);
            if ("[object Map]" == t || "[object Set]" == t)
                return !e.size;
            if (u(e))
                return !r(e).length;
            for (var n in e)
                if (d.call(e, n))
                    return !1;
            return !0
        }
    },
    23560: function(e, t, n) {
        var r = n(44239)
          , i = n(13218);
        e.exports = function(e) {
            if (!i(e))
                return !1;
            var t = r(e);
            return "[object Function]" == t || "[object GeneratorFunction]" == t || "[object AsyncFunction]" == t || "[object Proxy]" == t
        }
    },
    41780: function(e) {
        e.exports = function(e) {
            return "number" == typeof e && e > -1 && e % 1 == 0 && e <= 9007199254740991
        }
    },
    7654: function(e, t, n) {
        var r = n(81763);
        e.exports = function(e) {
            return r(e) && e != +e
        }
    },
    81763: function(e, t, n) {
        var r = n(44239)
          , i = n(37005);
        e.exports = function(e) {
            return "number" == typeof e || i(e) && "[object Number]" == r(e)
        }
    },
    13218: function(e) {
        e.exports = function(e) {
            var t = typeof e;
            return null != e && ("object" == t || "function" == t)
        }
    },
    37005: function(e) {
        e.exports = function(e) {
            return null != e && "object" == typeof e
        }
    },
    33448: function(e, t, n) {
        var r = n(44239)
          , i = n(37005);
        e.exports = function(e) {
            return "symbol" == typeof e || i(e) && "[object Symbol]" == r(e)
        }
    },
    36719: function(e, t, n) {
        var r = n(38749)
          , i = n(7518)
          , o = n(31167)
          , a = o && o.isTypedArray
          , s = a ? i(a) : r;
        e.exports = s
    },
    96486: function(e, t, n) {
        var r;
        e = n.nmd(e),
        (function() {
            var i, o = "Expected a function", a = "__lodash_hash_undefined__", s = "__lodash_placeholder__", l = 1 / 0, u = 0 / 0, c = [["ary", 128], ["bind", 1], ["bindKey", 2], ["curry", 8], ["curryRight", 16], ["flip", 512], ["partial", 32], ["partialRight", 64], ["rearg", 256]], d = "[object Arguments]", f = "[object Array]", h = "[object Boolean]", p = "[object Date]", g = "[object Error]", m = "[object Function]", v = "[object GeneratorFunction]", y = "[object Map]", b = "[object Number]", E = "[object Object]", _ = "[object Promise]", w = "[object RegExp]", O = "[object Set]", A = "[object String]", S = "[object Symbol]", P = "[object WeakMap]", R = "[object ArrayBuffer]", I = "[object DataView]", T = "[object Float32Array]", x = "[object Float64Array]", k = "[object Int8Array]", N = "[object Int16Array]", C = "[object Int32Array]", L = "[object Uint8Array]", M = "[object Uint8ClampedArray]", D = "[object Uint16Array]", j = "[object Uint32Array]", U = /\b__p \+= '';/g, $ = /\b(__p \+=) '' \+/g, V = /(__e\(.*?\)|\b__t\)) \+\n'';/g, B = /&(?:amp|lt|gt|quot|#39);/g, F = /[&<>"']/g, q = RegExp(B.source), G = RegExp(F.source), z = /<%-([\s\S]+?)%>/g, Y = /<%([\s\S]+?)%>/g, H = /<%=([\s\S]+?)%>/g, Z = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, W = /^\w*$/, J = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, K = /[\\^$.*+?()[\]{}|]/g, X = RegExp(K.source), Q = /^\s+/, ee = /\s/, et = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, en = /\{\n\/\* \[wrapped with (.+)\] \*/, er = /,? & /, ei = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, eo = /[()=,{}\[\]\/\s]/, ea = /\\(\\)?/g, es = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, el = /\w*$/, eu = /^[-+]0x[0-9a-f]+$/i, ec = /^0b[01]+$/i, ed = /^\[object .+?Constructor\]$/, ef = /^0o[0-7]+$/i, eh = /^(?:0|[1-9]\d*)$/, ep = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, eg = /($^)/, em = /['\n\r\u2028\u2029\\]/g, ev = "\ud800-\udfff", ey = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", eb = "\\u2700-\\u27bf", eE = "a-z\\xdf-\\xf6\\xf8-\\xff", e_ = "A-Z\\xc0-\\xd6\\xd8-\\xde", ew = "\\ufe0e\\ufe0f", eO = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", eA = "['’]", eS = "[" + eO + "]", eP = "[" + ey + "]", eR = "[" + eE + "]", eI = "[^" + ev + eO + "\\d+" + eb + eE + e_ + "]", eT = "\ud83c[\udffb-\udfff]", ex = "[^" + ev + "]", ek = "(?:\ud83c[\udde6-\uddff]){2}", eN = "[\ud800-\udbff][\udc00-\udfff]", eC = "[" + e_ + "]", eL = "\\u200d", eM = "(?:" + eR + "|" + eI + ")", eD = "(?:" + eA + "(?:d|ll|m|re|s|t|ve))?", ej = "(?:" + eA + "(?:D|LL|M|RE|S|T|VE))?", eU = "(?:" + eP + "|" + eT + ")?", e$ = "[" + ew + "]?", eV = "(?:" + eL + "(?:" + [ex, ek, eN].join("|") + ")" + e$ + eU + ")*", eB = e$ + eU + eV, eF = "(?:" + ["[" + eb + "]", ek, eN].join("|") + ")" + eB, eq = "(?:" + [ex + eP + "?", eP, ek, eN, "[" + ev + "]"].join("|") + ")", eG = RegExp(eA, "g"), ez = RegExp(eP, "g"), eY = RegExp(eT + "(?=" + eT + ")|" + eq + eB, "g"), eH = RegExp([eC + "?" + eR + "+" + eD + "(?=" + [eS, eC, "$"].join("|") + ")", "(?:" + eC + "|" + eI + ")+" + ej + "(?=" + [eS, eC + eM, "$"].join("|") + ")", eC + "?" + eM + "+" + eD, eC + "+" + ej, "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", "\\d+", eF].join("|"), "g"), eZ = RegExp("[" + eL + ev + ey + ew + "]"), eW = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, eJ = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], eK = -1, eX = {};
            eX[T] = eX[x] = eX[k] = eX[N] = eX[C] = eX[L] = eX[M] = eX[D] = eX[j] = !0,
            eX[d] = eX[f] = eX[R] = eX[h] = eX[I] = eX[p] = eX[g] = eX[m] = eX[y] = eX[b] = eX[E] = eX[w] = eX[O] = eX[A] = eX[P] = !1;
            var eQ = {};
            eQ[d] = eQ[f] = eQ[R] = eQ[I] = eQ[h] = eQ[p] = eQ[T] = eQ[x] = eQ[k] = eQ[N] = eQ[C] = eQ[y] = eQ[b] = eQ[E] = eQ[w] = eQ[O] = eQ[A] = eQ[S] = eQ[L] = eQ[M] = eQ[D] = eQ[j] = !0,
            eQ[g] = eQ[m] = eQ[P] = !1;
            var e0 = {
                "\\": "\\",
                "'": "'",
                "\n": "n",
                "\r": "r",
                "\u2028": "u2028",
                "\u2029": "u2029"
            }
              , e1 = parseFloat
              , e2 = parseInt
              , e3 = "object" == typeof n.g && n.g && n.g.Object === Object && n.g
              , e4 = "object" == typeof self && self && self.Object === Object && self
              , e6 = e3 || e4 || Function("return this")()
              , e5 = t && !t.nodeType && t
              , e8 = e5 && e && !e.nodeType && e
              , e9 = e8 && e8.exports === e5
              , e7 = e9 && e3.process
              , te = function() {
                try {
                    var e = e8 && e8.require && e8.require("util").types;
                    if (e)
                        return e;
                    return e7 && e7.binding && e7.binding("util")
                } catch (e) {}
            }()
              , tt = te && te.isArrayBuffer
              , tn = te && te.isDate
              , tr = te && te.isMap
              , ti = te && te.isRegExp
              , to = te && te.isSet
              , ta = te && te.isTypedArray;
            function ts(e, t, n) {
                switch (n.length) {
                case 0:
                    return e.call(t);
                case 1:
                    return e.call(t, n[0]);
                case 2:
                    return e.call(t, n[0], n[1]);
                case 3:
                    return e.call(t, n[0], n[1], n[2])
                }
                return e.apply(t, n)
            }
            function tl(e, t, n, r) {
                for (var i = -1, o = null == e ? 0 : e.length; ++i < o; ) {
                    var a = e[i];
                    t(r, a, n(a), e)
                }
                return r
            }
            function tu(e, t) {
                for (var n = -1, r = null == e ? 0 : e.length; ++n < r && !1 !== t(e[n], n, e); )
                    ;
                return e
            }
            function tc(e, t) {
                for (var n = -1, r = null == e ? 0 : e.length; ++n < r; )
                    if (!t(e[n], n, e))
                        return !1;
                return !0
            }
            function td(e, t) {
                for (var n = -1, r = null == e ? 0 : e.length, i = 0, o = []; ++n < r; ) {
                    var a = e[n];
                    t(a, n, e) && (o[i++] = a)
                }
                return o
            }
            function tf(e, t) {
                return !!(null == e ? 0 : e.length) && tw(e, t, 0) > -1
            }
            function th(e, t, n) {
                for (var r = -1, i = null == e ? 0 : e.length; ++r < i; )
                    if (n(t, e[r]))
                        return !0;
                return !1
            }
            function tp(e, t) {
                for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r; )
                    i[n] = t(e[n], n, e);
                return i
            }
            function tg(e, t) {
                for (var n = -1, r = t.length, i = e.length; ++n < r; )
                    e[i + n] = t[n];
                return e
            }
            function tm(e, t, n, r) {
                var i = -1
                  , o = null == e ? 0 : e.length;
                for (r && o && (n = e[++i]); ++i < o; )
                    n = t(n, e[i], i, e);
                return n
            }
            function tv(e, t, n, r) {
                var i = null == e ? 0 : e.length;
                for (r && i && (n = e[--i]); i--; )
                    n = t(n, e[i], i, e);
                return n
            }
            function ty(e, t) {
                for (var n = -1, r = null == e ? 0 : e.length; ++n < r; )
                    if (t(e[n], n, e))
                        return !0;
                return !1
            }
            var tb = tP("length");
            function tE(e, t, n) {
                var r;
                return n(e, function(e, n, i) {
                    if (t(e, n, i))
                        return r = n,
                        !1
                }),
                r
            }
            function t_(e, t, n, r) {
                for (var i = e.length, o = n + (r ? 1 : -1); r ? o-- : ++o < i; )
                    if (t(e[o], o, e))
                        return o;
                return -1
            }
            function tw(e, t, n) {
                return t == t ? function(e, t, n) {
                    for (var r = n - 1, i = e.length; ++r < i; )
                        if (e[r] === t)
                            return r;
                    return -1
                }(e, t, n) : t_(e, tA, n)
            }
            function tO(e, t, n, r) {
                for (var i = n - 1, o = e.length; ++i < o; )
                    if (r(e[i], t))
                        return i;
                return -1
            }
            function tA(e) {
                return e != e
            }
            function tS(e, t) {
                var n = null == e ? 0 : e.length;
                return n ? tT(e, t) / n : u
            }
            function tP(e) {
                return function(t) {
                    return null == t ? i : t[e]
                }
            }
            function tR(e) {
                return function(t) {
                    return null == e ? i : e[t]
                }
            }
            function tI(e, t, n, r, i) {
                return i(e, function(e, i, o) {
                    n = r ? (r = !1,
                    e) : t(n, e, i, o)
                }),
                n
            }
            function tT(e, t) {
                for (var n, r = -1, o = e.length; ++r < o; ) {
                    var a = t(e[r]);
                    i !== a && (n = i === n ? a : n + a)
                }
                return n
            }
            function tx(e, t) {
                for (var n = -1, r = Array(e); ++n < e; )
                    r[n] = t(n);
                return r
            }
            function tk(e) {
                return e ? e.slice(0, tH(e) + 1).replace(Q, "") : e
            }
            function tN(e) {
                return function(t) {
                    return e(t)
                }
            }
            function tC(e, t) {
                return tp(t, function(t) {
                    return e[t]
                })
            }
            function tL(e, t) {
                return e.has(t)
            }
            function tM(e, t) {
                for (var n = -1, r = e.length; ++n < r && tw(t, e[n], 0) > -1; )
                    ;
                return n
            }
            function tD(e, t) {
                for (var n = e.length; n-- && tw(t, e[n], 0) > -1; )
                    ;
                return n
            }
            var tj = tR({
                À: "A",
                Á: "A",
                Â: "A",
                Ã: "A",
                Ä: "A",
                Å: "A",
                à: "a",
                á: "a",
                â: "a",
                ã: "a",
                ä: "a",
                å: "a",
                Ç: "C",
                ç: "c",
                Ð: "D",
                ð: "d",
                È: "E",
                É: "E",
                Ê: "E",
                Ë: "E",
                è: "e",
                é: "e",
                ê: "e",
                ë: "e",
                Ì: "I",
                Í: "I",
                Î: "I",
                Ï: "I",
                ì: "i",
                í: "i",
                î: "i",
                ï: "i",
                Ñ: "N",
                ñ: "n",
                Ò: "O",
                Ó: "O",
                Ô: "O",
                Õ: "O",
                Ö: "O",
                Ø: "O",
                ò: "o",
                ó: "o",
                ô: "o",
                õ: "o",
                ö: "o",
                ø: "o",
                Ù: "U",
                Ú: "U",
                Û: "U",
                Ü: "U",
                ù: "u",
                ú: "u",
                û: "u",
                ü: "u",
                Ý: "Y",
                ý: "y",
                ÿ: "y",
                Æ: "Ae",
                æ: "ae",
                Þ: "Th",
                þ: "th",
                ß: "ss",
                Ā: "A",
                Ă: "A",
                Ą: "A",
                ā: "a",
                ă: "a",
                ą: "a",
                Ć: "C",
                Ĉ: "C",
                Ċ: "C",
                Č: "C",
                ć: "c",
                ĉ: "c",
                ċ: "c",
                č: "c",
                Ď: "D",
                Đ: "D",
                ď: "d",
                đ: "d",
                Ē: "E",
                Ĕ: "E",
                Ė: "E",
                Ę: "E",
                Ě: "E",
                ē: "e",
                ĕ: "e",
                ė: "e",
                ę: "e",
                ě: "e",
                Ĝ: "G",
                Ğ: "G",
                Ġ: "G",
                Ģ: "G",
                ĝ: "g",
                ğ: "g",
                ġ: "g",
                ģ: "g",
                Ĥ: "H",
                Ħ: "H",
                ĥ: "h",
                ħ: "h",
                Ĩ: "I",
                Ī: "I",
                Ĭ: "I",
                Į: "I",
                İ: "I",
                ĩ: "i",
                ī: "i",
                ĭ: "i",
                į: "i",
                ı: "i",
                Ĵ: "J",
                ĵ: "j",
                Ķ: "K",
                ķ: "k",
                ĸ: "k",
                Ĺ: "L",
                Ļ: "L",
                Ľ: "L",
                Ŀ: "L",
                Ł: "L",
                ĺ: "l",
                ļ: "l",
                ľ: "l",
                ŀ: "l",
                ł: "l",
                Ń: "N",
                Ņ: "N",
                Ň: "N",
                Ŋ: "N",
                ń: "n",
                ņ: "n",
                ň: "n",
                ŋ: "n",
                Ō: "O",
                Ŏ: "O",
                Ő: "O",
                ō: "o",
                ŏ: "o",
                ő: "o",
                Ŕ: "R",
                Ŗ: "R",
                Ř: "R",
                ŕ: "r",
                ŗ: "r",
                ř: "r",
                Ś: "S",
                Ŝ: "S",
                Ş: "S",
                Š: "S",
                ś: "s",
                ŝ: "s",
                ş: "s",
                š: "s",
                Ţ: "T",
                Ť: "T",
                Ŧ: "T",
                ţ: "t",
                ť: "t",
                ŧ: "t",
                Ũ: "U",
                Ū: "U",
                Ŭ: "U",
                Ů: "U",
                Ű: "U",
                Ų: "U",
                ũ: "u",
                ū: "u",
                ŭ: "u",
                ů: "u",
                ű: "u",
                ų: "u",
                Ŵ: "W",
                ŵ: "w",
                Ŷ: "Y",
                ŷ: "y",
                Ÿ: "Y",
                Ź: "Z",
                Ż: "Z",
                Ž: "Z",
                ź: "z",
                ż: "z",
                ž: "z",
                Ĳ: "IJ",
                ĳ: "ij",
                Œ: "Oe",
                œ: "oe",
                ŉ: "'n",
                ſ: "s"
            })
              , tU = tR({
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;"
            });
            function t$(e) {
                return "\\" + e0[e]
            }
            function tV(e) {
                return eZ.test(e)
            }
            function tB(e) {
                var t = -1
                  , n = Array(e.size);
                return e.forEach(function(e, r) {
                    n[++t] = [r, e]
                }),
                n
            }
            function tF(e, t) {
                return function(n) {
                    return e(t(n))
                }
            }
            function tq(e, t) {
                for (var n = -1, r = e.length, i = 0, o = []; ++n < r; ) {
                    var a = e[n];
                    (a === t || a === s) && (e[n] = s,
                    o[i++] = n)
                }
                return o
            }
            function tG(e) {
                var t = -1
                  , n = Array(e.size);
                return e.forEach(function(e) {
                    n[++t] = e
                }),
                n
            }
            function tz(e) {
                return tV(e) ? function(e) {
                    for (var t = eY.lastIndex = 0; eY.test(e); )
                        ++t;
                    return t
                }(e) : tb(e)
            }
            function tY(e) {
                return tV(e) ? e.match(eY) || [] : e.split("")
            }
            function tH(e) {
                for (var t = e.length; t-- && ee.test(e.charAt(t)); )
                    ;
                return t
            }
            var tZ = tR({
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&#39;": "'"
            })
              , tW = function e(t) {
                var n, r, ee, ev, ey = (t = null == t ? e6 : tW.defaults(e6.Object(), t, tW.pick(e6, eJ))).Array, eb = t.Date, eE = t.Error, e_ = t.Function, ew = t.Math, eO = t.Object, eA = t.RegExp, eS = t.String, eP = t.TypeError, eR = ey.prototype, eI = e_.prototype, eT = eO.prototype, ex = t["__core-js_shared__"], ek = eI.toString, eN = eT.hasOwnProperty, eC = 0, eL = (n = /[^.]+$/.exec(ex && ex.keys && ex.keys.IE_PROTO || "")) ? "Symbol(src)_1." + n : "", eM = eT.toString, eD = ek.call(eO), ej = e6._, eU = eA("^" + ek.call(eN).replace(K, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), e$ = e9 ? t.Buffer : i, eV = t.Symbol, eB = t.Uint8Array, eF = e$ ? e$.allocUnsafe : i, eq = tF(eO.getPrototypeOf, eO), eY = eO.create, eZ = eT.propertyIsEnumerable, e0 = eR.splice, e3 = eV ? eV.isConcatSpreadable : i, e4 = eV ? eV.iterator : i, e5 = eV ? eV.toStringTag : i, e8 = function() {
                    try {
                        var e = ip(eO, "defineProperty");
                        return e({}, "", {}),
                        e
                    } catch (e) {}
                }(), e7 = t.clearTimeout !== e6.clearTimeout && t.clearTimeout, te = eb && eb.now !== e6.Date.now && eb.now, tb = t.setTimeout !== e6.setTimeout && t.setTimeout, tR = ew.ceil, tJ = ew.floor, tK = eO.getOwnPropertySymbols, tX = e$ ? e$.isBuffer : i, tQ = t.isFinite, t0 = eR.join, t1 = tF(eO.keys, eO), t2 = ew.max, t3 = ew.min, t4 = eb.now, t6 = t.parseInt, t5 = ew.random, t8 = eR.reverse, t9 = ip(t, "DataView"), t7 = ip(t, "Map"), ne = ip(t, "Promise"), nt = ip(t, "Set"), nn = ip(t, "WeakMap"), nr = ip(eO, "create"), ni = nn && new nn, no = {}, na = i$(t9), ns = i$(t7), nl = i$(ne), nu = i$(nt), nc = i$(nn), nd = eV ? eV.prototype : i, nf = nd ? nd.valueOf : i, nh = nd ? nd.toString : i;
                function np(e) {
                    if (oY(e) && !oM(e) && !(e instanceof ny)) {
                        if (e instanceof nv)
                            return e;
                        if (eN.call(e, "__wrapped__"))
                            return iV(e)
                    }
                    return new nv(e)
                }
                var ng = function() {
                    function e() {}
                    return function(t) {
                        if (!oz(t))
                            return {};
                        if (eY)
                            return eY(t);
                        e.prototype = t;
                        var n = new e;
                        return e.prototype = i,
                        n
                    }
                }();
                function nm() {}
                function nv(e, t) {
                    this.__wrapped__ = e,
                    this.__actions__ = [],
                    this.__chain__ = !!t,
                    this.__index__ = 0,
                    this.__values__ = i
                }
                function ny(e) {
                    this.__wrapped__ = e,
                    this.__actions__ = [],
                    this.__dir__ = 1,
                    this.__filtered__ = !1,
                    this.__iteratees__ = [],
                    this.__takeCount__ = 4294967295,
                    this.__views__ = []
                }
                function nb(e) {
                    var t = -1
                      , n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n; ) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }
                function nE(e) {
                    var t = -1
                      , n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n; ) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }
                function n_(e) {
                    var t = -1
                      , n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n; ) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }
                function nw(e) {
                    var t = -1
                      , n = null == e ? 0 : e.length;
                    for (this.__data__ = new n_; ++t < n; )
                        this.add(e[t])
                }
                function nO(e) {
                    var t = this.__data__ = new nE(e);
                    this.size = t.size
                }
                function nA(e, t) {
                    var n = oM(e)
                      , r = !n && oL(e)
                      , i = !n && !r && o$(e)
                      , o = !n && !r && !i && o0(e)
                      , a = n || r || i || o
                      , s = a ? tx(e.length, eS) : []
                      , l = s.length;
                    for (var u in e)
                        (t || eN.call(e, u)) && !(a && ("length" == u || i && ("offset" == u || "parent" == u) || o && ("buffer" == u || "byteLength" == u || "byteOffset" == u) || i_(u, l))) && s.push(u);
                    return s
                }
                function nS(e) {
                    var t = e.length;
                    return t ? e[ru(0, t - 1)] : i
                }
                function nP(e, t, n) {
                    (i === n || ok(e[t], n)) && (i !== n || t in e) || nk(e, t, n)
                }
                function nR(e, t, n) {
                    var r = e[t];
                    eN.call(e, t) && ok(r, n) && (i !== n || t in e) || nk(e, t, n)
                }
                function nI(e, t) {
                    for (var n = e.length; n--; )
                        if (ok(e[n][0], t))
                            return n;
                    return -1
                }
                function nT(e, t, n, r) {
                    return nU(e, function(e, i, o) {
                        t(r, e, n(e), o)
                    }),
                    r
                }
                function nx(e, t) {
                    return e && rB(t, af(t), e)
                }
                function nk(e, t, n) {
                    "__proto__" == t && e8 ? e8(e, t, {
                        configurable: !0,
                        enumerable: !0,
                        value: n,
                        writable: !0
                    }) : e[t] = n
                }
                function nN(e, t) {
                    for (var n = -1, r = t.length, o = ey(r), a = null == e; ++n < r; )
                        o[n] = a ? i : as(e, t[n]);
                    return o
                }
                function nC(e, t, n) {
                    return e == e && (i !== n && (e = e <= n ? e : n),
                    i !== t && (e = e >= t ? e : t)),
                    e
                }
                function nL(e, t, n, r, o, a) {
                    var s, l = 1 & t, u = 2 & t, c = 4 & t;
                    if (n && (s = o ? n(e, r, o, a) : n(e)),
                    i !== s)
                        return s;
                    if (!oz(e))
                        return e;
                    var f = oM(e);
                    if (f) {
                        if (g = e.length,
                        _ = new e.constructor(g),
                        g && "string" == typeof e[0] && eN.call(e, "index") && (_.index = e.index,
                        _.input = e.input),
                        s = _,
                        !l)
                            return rV(e, s)
                    } else {
                        var g, _, P, U, $, V = iv(e), B = V == m || V == v;
                        if (o$(e))
                            return rL(e, l);
                        if (V == E || V == d || B && !o) {
                            if (s = u || B ? {} : ib(e),
                            !l)
                                return u ? (P = ($ = s) && rB(e, ah(e), $),
                                rB(e, im(e), P)) : (U = nx(s, e),
                                rB(e, ig(e), U))
                        } else {
                            if (!eQ[V])
                                return o ? e : {};
                            s = function(e, t, n) {
                                var r, i, o = e.constructor;
                                switch (t) {
                                case R:
                                    return rM(e);
                                case h:
                                case p:
                                    return new o(+e);
                                case I:
                                    return r = n ? rM(e.buffer) : e.buffer,
                                    new e.constructor(r,e.byteOffset,e.byteLength);
                                case T:
                                case x:
                                case k:
                                case N:
                                case C:
                                case L:
                                case M:
                                case D:
                                case j:
                                    return rD(e, n);
                                case y:
                                    return new o;
                                case b:
                                case A:
                                    return new o(e);
                                case w:
                                    return (i = new e.constructor(e.source,el.exec(e))).lastIndex = e.lastIndex,
                                    i;
                                case O:
                                    return new o;
                                case S:
                                    return nf ? eO(nf.call(e)) : {}
                                }
                            }(e, V, l)
                        }
                    }
                    a || (a = new nO);
                    var F = a.get(e);
                    if (F)
                        return F;
                    a.set(e, s),
                    oK(e) ? e.forEach(function(r) {
                        s.add(nL(r, t, n, r, e, a))
                    }) : oH(e) && e.forEach(function(r, i) {
                        s.set(i, nL(r, t, n, i, e, a))
                    });
                    var q = c ? u ? ia : io : u ? ah : af
                      , G = f ? i : q(e);
                    return tu(G || e, function(r, i) {
                        G && (r = e[i = r]),
                        nR(s, i, nL(r, t, n, i, e, a))
                    }),
                    s
                }
                function nM(e, t, n) {
                    var r = n.length;
                    if (null == e)
                        return !r;
                    for (e = eO(e); r--; ) {
                        var o = n[r]
                          , a = t[o]
                          , s = e[o];
                        if (i === s && !(o in e) || !a(s))
                            return !1
                    }
                    return !0
                }
                function nD(e, t, n) {
                    if ("function" != typeof e)
                        throw new eP(o);
                    return iN(function() {
                        e.apply(i, n)
                    }, t)
                }
                function nj(e, t, n, r) {
                    var i = -1
                      , o = tf
                      , a = !0
                      , s = e.length
                      , l = []
                      , u = t.length;
                    if (!s)
                        return l;
                    n && (t = tp(t, tN(n))),
                    r ? (o = th,
                    a = !1) : t.length >= 200 && (o = tL,
                    a = !1,
                    t = new nw(t));
                    e: for (; ++i < s; ) {
                        var c = e[i]
                          , d = null == n ? c : n(c);
                        if (c = r || 0 !== c ? c : 0,
                        a && d == d) {
                            for (var f = u; f--; )
                                if (t[f] === d)
                                    continue e;
                            l.push(c)
                        } else
                            o(t, d, r) || l.push(c)
                    }
                    return l
                }
                np.templateSettings = {
                    escape: z,
                    evaluate: Y,
                    interpolate: H,
                    variable: "",
                    imports: {
                        _: np
                    }
                },
                np.prototype = nm.prototype,
                np.prototype.constructor = np,
                nv.prototype = ng(nm.prototype),
                nv.prototype.constructor = nv,
                ny.prototype = ng(nm.prototype),
                ny.prototype.constructor = ny,
                nb.prototype.clear = function() {
                    this.__data__ = nr ? nr(null) : {},
                    this.size = 0
                }
                ,
                nb.prototype.delete = function(e) {
                    var t = this.has(e) && delete this.__data__[e];
                    return this.size -= t ? 1 : 0,
                    t
                }
                ,
                nb.prototype.get = function(e) {
                    var t = this.__data__;
                    if (nr) {
                        var n = t[e];
                        return n === a ? i : n
                    }
                    return eN.call(t, e) ? t[e] : i
                }
                ,
                nb.prototype.has = function(e) {
                    var t = this.__data__;
                    return nr ? i !== t[e] : eN.call(t, e)
                }
                ,
                nb.prototype.set = function(e, t) {
                    var n = this.__data__;
                    return this.size += this.has(e) ? 0 : 1,
                    n[e] = nr && i === t ? a : t,
                    this
                }
                ,
                nE.prototype.clear = function() {
                    this.__data__ = [],
                    this.size = 0
                }
                ,
                nE.prototype.delete = function(e) {
                    var t = this.__data__
                      , n = nI(t, e);
                    return !(n < 0) && (n == t.length - 1 ? t.pop() : e0.call(t, n, 1),
                    --this.size,
                    !0)
                }
                ,
                nE.prototype.get = function(e) {
                    var t = this.__data__
                      , n = nI(t, e);
                    return n < 0 ? i : t[n][1]
                }
                ,
                nE.prototype.has = function(e) {
                    return nI(this.__data__, e) > -1
                }
                ,
                nE.prototype.set = function(e, t) {
                    var n = this.__data__
                      , r = nI(n, e);
                    return r < 0 ? (++this.size,
                    n.push([e, t])) : n[r][1] = t,
                    this
                }
                ,
                n_.prototype.clear = function() {
                    this.size = 0,
                    this.__data__ = {
                        hash: new nb,
                        map: new (t7 || nE),
                        string: new nb
                    }
                }
                ,
                n_.prototype.delete = function(e) {
                    var t = id(this, e).delete(e);
                    return this.size -= t ? 1 : 0,
                    t
                }
                ,
                n_.prototype.get = function(e) {
                    return id(this, e).get(e)
                }
                ,
                n_.prototype.has = function(e) {
                    return id(this, e).has(e)
                }
                ,
                n_.prototype.set = function(e, t) {
                    var n = id(this, e)
                      , r = n.size;
                    return n.set(e, t),
                    this.size += n.size == r ? 0 : 1,
                    this
                }
                ,
                nw.prototype.add = nw.prototype.push = function(e) {
                    return this.__data__.set(e, a),
                    this
                }
                ,
                nw.prototype.has = function(e) {
                    return this.__data__.has(e)
                }
                ,
                nO.prototype.clear = function() {
                    this.__data__ = new nE,
                    this.size = 0
                }
                ,
                nO.prototype.delete = function(e) {
                    var t = this.__data__
                      , n = t.delete(e);
                    return this.size = t.size,
                    n
                }
                ,
                nO.prototype.get = function(e) {
                    return this.__data__.get(e)
                }
                ,
                nO.prototype.has = function(e) {
                    return this.__data__.has(e)
                }
                ,
                nO.prototype.set = function(e, t) {
                    var n = this.__data__;
                    if (n instanceof nE) {
                        var r = n.__data__;
                        if (!t7 || r.length < 199)
                            return r.push([e, t]),
                            this.size = ++n.size,
                            this;
                        n = this.__data__ = new n_(r)
                    }
                    return n.set(e, t),
                    this.size = n.size,
                    this
                }
                ;
                var nU = rG(nY)
                  , n$ = rG(nH, !0);
                function nV(e, t) {
                    var n = !0;
                    return nU(e, function(e, r, i) {
                        return n = !!t(e, r, i)
                    }),
                    n
                }
                function nB(e, t, n) {
                    for (var r = -1, o = e.length; ++r < o; ) {
                        var a = e[r]
                          , s = t(a);
                        if (null != s && (i === l ? s == s && !oQ(s) : n(s, l)))
                            var l = s
                              , u = a
                    }
                    return u
                }
                function nF(e, t) {
                    var n = [];
                    return nU(e, function(e, r, i) {
                        t(e, r, i) && n.push(e)
                    }),
                    n
                }
                function nq(e, t, n, r, i) {
                    var o = -1
                      , a = e.length;
                    for (n || (n = iE),
                    i || (i = []); ++o < a; ) {
                        var s = e[o];
                        t > 0 && n(s) ? t > 1 ? nq(s, t - 1, n, r, i) : tg(i, s) : r || (i[i.length] = s)
                    }
                    return i
                }
                var nG = rz()
                  , nz = rz(!0);
                function nY(e, t) {
                    return e && nG(e, t, af)
                }
                function nH(e, t) {
                    return e && nz(e, t, af)
                }
                function nZ(e, t) {
                    return td(t, function(t) {
                        return oF(e[t])
                    })
                }
                function nW(e, t) {
                    t = rk(t, e);
                    for (var n = 0, r = t.length; null != e && n < r; )
                        e = e[iU(t[n++])];
                    return n && n == r ? e : i
                }
                function nJ(e, t, n) {
                    var r = t(e);
                    return oM(e) ? r : tg(r, n(e))
                }
                function nK(e) {
                    return null == e ? i === e ? "[object Undefined]" : "[object Null]" : e5 && e5 in eO(e) ? function(e) {
                        var t = eN.call(e, e5)
                          , n = e[e5];
                        try {
                            e[e5] = i;
                            var r = !0
                        } catch (e) {}
                        var o = eM.call(e);
                        return r && (t ? e[e5] = n : delete e[e5]),
                        o
                    }(e) : eM.call(e)
                }
                function nX(e, t) {
                    return e > t
                }
                function nQ(e, t) {
                    return null != e && eN.call(e, t)
                }
                function n0(e, t) {
                    return null != e && t in eO(e)
                }
                function n1(e, t, n) {
                    for (var r = n ? th : tf, o = e[0].length, a = e.length, s = a, l = ey(a), u = 1 / 0, c = []; s--; ) {
                        var d = e[s];
                        s && t && (d = tp(d, tN(t))),
                        u = t3(d.length, u),
                        l[s] = !n && (t || o >= 120 && d.length >= 120) ? new nw(s && d) : i
                    }
                    d = e[0];
                    var f = -1
                      , h = l[0];
                    e: for (; ++f < o && c.length < u; ) {
                        var p = d[f]
                          , g = t ? t(p) : p;
                        if (p = n || 0 !== p ? p : 0,
                        !(h ? tL(h, g) : r(c, g, n))) {
                            for (s = a; --s; ) {
                                var m = l[s];
                                if (!(m ? tL(m, g) : r(e[s], g, n)))
                                    continue e
                            }
                            h && h.push(g),
                            c.push(p)
                        }
                    }
                    return c
                }
                function n2(e, t, n) {
                    t = rk(t, e);
                    var r = null == (e = iT(e, t)) ? e : e[iU(iK(t))];
                    return null == r ? i : ts(r, e, n)
                }
                function n3(e) {
                    return oY(e) && nK(e) == d
                }
                function n4(e, t, n, r, o) {
                    return e === t || (null != e && null != t && (oY(e) || oY(t)) ? function(e, t, n, r, o, a) {
                        var s = oM(e)
                          , l = oM(t)
                          , u = s ? f : iv(e)
                          , c = l ? f : iv(t);
                        u = u == d ? E : u,
                        c = c == d ? E : c;
                        var m = u == E
                          , v = c == E
                          , _ = u == c;
                        if (_ && o$(e)) {
                            if (!o$(t))
                                return !1;
                            s = !0,
                            m = !1
                        }
                        if (_ && !m)
                            return a || (a = new nO),
                            s || o0(e) ? ir(e, t, n, r, o, a) : function(e, t, n, r, i, o, a) {
                                switch (n) {
                                case I:
                                    if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset)
                                        break;
                                    e = e.buffer,
                                    t = t.buffer;
                                case R:
                                    if (e.byteLength != t.byteLength || !o(new eB(e), new eB(t)))
                                        break;
                                    return !0;
                                case h:
                                case p:
                                case b:
                                    return ok(+e, +t);
                                case g:
                                    return e.name == t.name && e.message == t.message;
                                case w:
                                case A:
                                    return e == t + "";
                                case y:
                                    var s = tB;
                                case O:
                                    var l = 1 & r;
                                    if (s || (s = tG),
                                    e.size != t.size && !l)
                                        break;
                                    var u = a.get(e);
                                    if (u)
                                        return u == t;
                                    r |= 2,
                                    a.set(e, t);
                                    var c = ir(s(e), s(t), r, i, o, a);
                                    return a.delete(e),
                                    c;
                                case S:
                                    if (nf)
                                        return nf.call(e) == nf.call(t)
                                }
                                return !1
                            }(e, t, u, n, r, o, a);
                        if (!(1 & n)) {
                            var P = m && eN.call(e, "__wrapped__")
                              , T = v && eN.call(t, "__wrapped__");
                            if (P || T) {
                                var x = P ? e.value() : e
                                  , k = T ? t.value() : t;
                                return a || (a = new nO),
                                o(x, k, n, r, a)
                            }
                        }
                        return !!_ && (a || (a = new nO),
                        function(e, t, n, r, o, a) {
                            var s = 1 & n
                              , l = io(e)
                              , u = l.length;
                            if (u != io(t).length && !s)
                                return !1;
                            for (var c = u; c--; ) {
                                var d = l[c];
                                if (!(s ? d in t : eN.call(t, d)))
                                    return !1
                            }
                            var f = a.get(e)
                              , h = a.get(t);
                            if (f && h)
                                return f == t && h == e;
                            var p = !0;
                            a.set(e, t),
                            a.set(t, e);
                            for (var g = s; ++c < u; ) {
                                var m = e[d = l[c]]
                                  , v = t[d];
                                if (r)
                                    var y = s ? r(v, m, d, t, e, a) : r(m, v, d, e, t, a);
                                if (!(i === y ? m === v || o(m, v, n, r, a) : y)) {
                                    p = !1;
                                    break
                                }
                                g || (g = "constructor" == d)
                            }
                            if (p && !g) {
                                var b = e.constructor
                                  , E = t.constructor;
                                b != E && "constructor"in e && "constructor"in t && !("function" == typeof b && b instanceof b && "function" == typeof E && E instanceof E) && (p = !1)
                            }
                            return a.delete(e),
                            a.delete(t),
                            p
                        }(e, t, n, r, o, a))
                    }(e, t, n, r, n4, o) : e != e && t != t)
                }
                function n6(e, t, n, r) {
                    var o = n.length
                      , a = o
                      , s = !r;
                    if (null == e)
                        return !a;
                    for (e = eO(e); o--; ) {
                        var l = n[o];
                        if (s && l[2] ? l[1] !== e[l[0]] : !(l[0]in e))
                            return !1
                    }
                    for (; ++o < a; ) {
                        var u = (l = n[o])[0]
                          , c = e[u]
                          , d = l[1];
                        if (s && l[2]) {
                            if (i === c && !(u in e))
                                return !1
                        } else {
                            var f = new nO;
                            if (r)
                                var h = r(c, d, u, e, t, f);
                            if (!(i === h ? n4(d, c, 3, r, f) : h))
                                return !1
                        }
                    }
                    return !0
                }
                function n5(e) {
                    return !(!oz(e) || eL && eL in e) && (oF(e) ? eU : ed).test(i$(e))
                }
                function n8(e) {
                    return "function" == typeof e ? e : null == e ? aU : "object" == typeof e ? oM(e) ? rn(e[0], e[1]) : rt(e) : aH(e)
                }
                function n9(e) {
                    if (!iP(e))
                        return t1(e);
                    var t = [];
                    for (var n in eO(e))
                        eN.call(e, n) && "constructor" != n && t.push(n);
                    return t
                }
                function n7(e, t) {
                    return e < t
                }
                function re(e, t) {
                    var n = -1
                      , r = oj(e) ? ey(e.length) : [];
                    return nU(e, function(e, i, o) {
                        r[++n] = t(e, i, o)
                    }),
                    r
                }
                function rt(e) {
                    var t = ih(e);
                    return 1 == t.length && t[0][2] ? iR(t[0][0], t[0][1]) : function(n) {
                        return n === e || n6(n, e, t)
                    }
                }
                function rn(e, t) {
                    var n;
                    return iO(e) && (n = t) == n && !oz(n) ? iR(iU(e), t) : function(n) {
                        var r = as(n, e);
                        return i === r && r === t ? al(n, e) : n4(t, r, 3)
                    }
                }
                function rr(e, t, n, r, o) {
                    e !== t && nG(t, function(a, s) {
                        if (o || (o = new nO),
                        oz(a))
                            (function(e, t, n, r, o, a, s) {
                                var l = ix(e, n)
                                  , u = ix(t, n)
                                  , c = s.get(u);
                                if (c) {
                                    nP(e, n, c);
                                    return
                                }
                                var d = a ? a(l, u, n + "", e, t, s) : i
                                  , f = i === d;
                                if (f) {
                                    var h = oM(u)
                                      , p = !h && o$(u)
                                      , g = !h && !p && o0(u);
                                    d = u,
                                    h || p || g ? oM(l) ? d = l : oU(l) ? d = rV(l) : p ? (f = !1,
                                    d = rL(u, !0)) : g ? (f = !1,
                                    d = rD(u, !0)) : d = [] : oW(u) || oL(u) ? (d = l,
                                    oL(l) ? d = o9(l) : (!oz(l) || oF(l)) && (d = ib(u))) : f = !1
                                }
                                f && (s.set(u, d),
                                o(d, u, r, a, s),
                                s.delete(u)),
                                nP(e, n, d)
                            }
                            )(e, t, s, n, rr, r, o);
                        else {
                            var l = r ? r(ix(e, s), a, s + "", e, t, o) : i;
                            i === l && (l = a),
                            nP(e, s, l)
                        }
                    }, ah)
                }
                function ri(e, t) {
                    var n = e.length;
                    if (n)
                        return i_(t += t < 0 ? n : 0, n) ? e[t] : i
                }
                function ro(e, t, n) {
                    t = t.length ? tp(t, function(e) {
                        return oM(e) ? function(t) {
                            return nW(t, 1 === e.length ? e[0] : e)
                        }
                        : e
                    }) : [aU];
                    var r = -1;
                    return t = tp(t, tN(ic())),
                    function(e, t) {
                        var n = e.length;
                        for (e.sort(t); n--; )
                            e[n] = e[n].value;
                        return e
                    }(re(e, function(e, n, i) {
                        return {
                            criteria: tp(t, function(t) {
                                return t(e)
                            }),
                            index: ++r,
                            value: e
                        }
                    }), function(e, t) {
                        return function(e, t, n) {
                            for (var r = -1, i = e.criteria, o = t.criteria, a = i.length, s = n.length; ++r < a; ) {
                                var l = rj(i[r], o[r]);
                                if (l) {
                                    if (r >= s)
                                        return l;
                                    return l * ("desc" == n[r] ? -1 : 1)
                                }
                            }
                            return e.index - t.index
                        }(e, t, n)
                    })
                }
                function ra(e, t, n) {
                    for (var r = -1, i = t.length, o = {}; ++r < i; ) {
                        var a = t[r]
                          , s = nW(e, a);
                        n(s, a) && rf(o, rk(a, e), s)
                    }
                    return o
                }
                function rs(e, t, n, r) {
                    var i = r ? tO : tw
                      , o = -1
                      , a = t.length
                      , s = e;
                    for (e === t && (t = rV(t)),
                    n && (s = tp(e, tN(n))); ++o < a; )
                        for (var l = 0, u = t[o], c = n ? n(u) : u; (l = i(s, c, l, r)) > -1; )
                            s !== e && e0.call(s, l, 1),
                            e0.call(e, l, 1);
                    return e
                }
                function rl(e, t) {
                    for (var n = e ? t.length : 0, r = n - 1; n--; ) {
                        var i = t[n];
                        if (n == r || i !== o) {
                            var o = i;
                            i_(i) ? e0.call(e, i, 1) : rO(e, i)
                        }
                    }
                    return e
                }
                function ru(e, t) {
                    return e + tJ(t5() * (t - e + 1))
                }
                function rc(e, t) {
                    var n = "";
                    if (!e || t < 1 || t > 9007199254740991)
                        return n;
                    do
                        t % 2 && (n += e),
                        (t = tJ(t / 2)) && (e += e);
                    while (t);
                    return n
                }
                function rd(e, t) {
                    return iC(iI(e, t, aU), e + "")
                }
                function rf(e, t, n, r) {
                    if (!oz(e))
                        return e;
                    t = rk(t, e);
                    for (var o = -1, a = t.length, s = a - 1, l = e; null != l && ++o < a; ) {
                        var u = iU(t[o])
                          , c = n;
                        if ("__proto__" === u || "constructor" === u || "prototype" === u)
                            break;
                        if (o != s) {
                            var d = l[u];
                            c = r ? r(d, u, l) : i,
                            i === c && (c = oz(d) ? d : i_(t[o + 1]) ? [] : {})
                        }
                        nR(l, u, c),
                        l = l[u]
                    }
                    return e
                }
                var rh = ni ? function(e, t) {
                    return ni.set(e, t),
                    e
                }
                : aU
                  , rp = e8 ? function(e, t) {
                    return e8(e, "toString", {
                        configurable: !0,
                        enumerable: !1,
                        value: aM(t),
                        writable: !0
                    })
                }
                : aU;
                function rg(e, t, n) {
                    var r = -1
                      , i = e.length;
                    t < 0 && (t = -t > i ? 0 : i + t),
                    (n = n > i ? i : n) < 0 && (n += i),
                    i = t > n ? 0 : n - t >>> 0,
                    t >>>= 0;
                    for (var o = ey(i); ++r < i; )
                        o[r] = e[r + t];
                    return o
                }
                function rm(e, t) {
                    var n;
                    return nU(e, function(e, r, i) {
                        return !(n = t(e, r, i))
                    }),
                    !!n
                }
                function rv(e, t, n) {
                    var r = 0
                      , i = null == e ? r : e.length;
                    if ("number" == typeof t && t == t && i <= 2147483647) {
                        for (; r < i; ) {
                            var o = r + i >>> 1
                              , a = e[o];
                            null !== a && !oQ(a) && (n ? a <= t : a < t) ? r = o + 1 : i = o
                        }
                        return i
                    }
                    return ry(e, t, aU, n)
                }
                function ry(e, t, n, r) {
                    var o = 0
                      , a = null == e ? 0 : e.length;
                    if (0 === a)
                        return 0;
                    for (var s = (t = n(t)) != t, l = null === t, u = oQ(t), c = i === t; o < a; ) {
                        var d = tJ((o + a) / 2)
                          , f = n(e[d])
                          , h = i !== f
                          , p = null === f
                          , g = f == f
                          , m = oQ(f);
                        if (s)
                            var v = r || g;
                        else
                            v = c ? g && (r || h) : l ? g && h && (r || !p) : u ? g && h && !p && (r || !m) : !p && !m && (r ? f <= t : f < t);
                        v ? o = d + 1 : a = d
                    }
                    return t3(a, 4294967294)
                }
                function rb(e, t) {
                    for (var n = -1, r = e.length, i = 0, o = []; ++n < r; ) {
                        var a = e[n]
                          , s = t ? t(a) : a;
                        if (!n || !ok(s, l)) {
                            var l = s;
                            o[i++] = 0 === a ? 0 : a
                        }
                    }
                    return o
                }
                function rE(e) {
                    return "number" == typeof e ? e : oQ(e) ? u : +e
                }
                function r_(e) {
                    if ("string" == typeof e)
                        return e;
                    if (oM(e))
                        return tp(e, r_) + "";
                    if (oQ(e))
                        return nh ? nh.call(e) : "";
                    var t = e + "";
                    return "0" == t && 1 / e == -l ? "-0" : t
                }
                function rw(e, t, n) {
                    var r = -1
                      , i = tf
                      , o = e.length
                      , a = !0
                      , s = []
                      , l = s;
                    if (n)
                        a = !1,
                        i = th;
                    else if (o >= 200) {
                        var u = t ? null : r5(e);
                        if (u)
                            return tG(u);
                        a = !1,
                        i = tL,
                        l = new nw
                    } else
                        l = t ? [] : s;
                    e: for (; ++r < o; ) {
                        var c = e[r]
                          , d = t ? t(c) : c;
                        if (c = n || 0 !== c ? c : 0,
                        a && d == d) {
                            for (var f = l.length; f--; )
                                if (l[f] === d)
                                    continue e;
                            t && l.push(d),
                            s.push(c)
                        } else
                            i(l, d, n) || (l !== s && l.push(d),
                            s.push(c))
                    }
                    return s
                }
                function rO(e, t) {
                    return t = rk(t, e),
                    null == (e = iT(e, t)) || delete e[iU(iK(t))]
                }
                function rA(e, t, n, r) {
                    return rf(e, t, n(nW(e, t)), r)
                }
                function rS(e, t, n, r) {
                    for (var i = e.length, o = r ? i : -1; (r ? o-- : ++o < i) && t(e[o], o, e); )
                        ;
                    return n ? rg(e, r ? 0 : o, r ? o + 1 : i) : rg(e, r ? o + 1 : 0, r ? i : o)
                }
                function rP(e, t) {
                    var n = e;
                    return n instanceof ny && (n = n.value()),
                    tm(t, function(e, t) {
                        return t.func.apply(t.thisArg, tg([e], t.args))
                    }, n)
                }
                function rR(e, t, n) {
                    var r = e.length;
                    if (r < 2)
                        return r ? rw(e[0]) : [];
                    for (var i = -1, o = ey(r); ++i < r; )
                        for (var a = e[i], s = -1; ++s < r; )
                            s != i && (o[i] = nj(o[i] || a, e[s], t, n));
                    return rw(nq(o, 1), t, n)
                }
                function rI(e, t, n) {
                    for (var r = -1, o = e.length, a = t.length, s = {}; ++r < o; ) {
                        var l = r < a ? t[r] : i;
                        n(s, e[r], l)
                    }
                    return s
                }
                function rT(e) {
                    return oU(e) ? e : []
                }
                function rx(e) {
                    return "function" == typeof e ? e : aU
                }
                function rk(e, t) {
                    return oM(e) ? e : iO(e, t) ? [e] : ij(o7(e))
                }
                function rN(e, t, n) {
                    var r = e.length;
                    return n = i === n ? r : n,
                    !t && n >= r ? e : rg(e, t, n)
                }
                var rC = e7 || function(e) {
                    return e6.clearTimeout(e)
                }
                ;
                function rL(e, t) {
                    if (t)
                        return e.slice();
                    var n = e.length
                      , r = eF ? eF(n) : new e.constructor(n);
                    return e.copy(r),
                    r
                }
                function rM(e) {
                    var t = new e.constructor(e.byteLength);
                    return new eB(t).set(new eB(e)),
                    t
                }
                function rD(e, t) {
                    var n = t ? rM(e.buffer) : e.buffer;
                    return new e.constructor(n,e.byteOffset,e.length)
                }
                function rj(e, t) {
                    if (e !== t) {
                        var n = i !== e
                          , r = null === e
                          , o = e == e
                          , a = oQ(e)
                          , s = i !== t
                          , l = null === t
                          , u = t == t
                          , c = oQ(t);
                        if (!l && !c && !a && e > t || a && s && u && !l && !c || r && s && u || !n && u || !o)
                            return 1;
                        if (!r && !a && !c && e < t || c && n && o && !r && !a || l && n && o || !s && o || !u)
                            return -1
                    }
                    return 0
                }
                function rU(e, t, n, r) {
                    for (var i = -1, o = e.length, a = n.length, s = -1, l = t.length, u = t2(o - a, 0), c = ey(l + u), d = !r; ++s < l; )
                        c[s] = t[s];
                    for (; ++i < a; )
                        (d || i < o) && (c[n[i]] = e[i]);
                    for (; u--; )
                        c[s++] = e[i++];
                    return c
                }
                function r$(e, t, n, r) {
                    for (var i = -1, o = e.length, a = -1, s = n.length, l = -1, u = t.length, c = t2(o - s, 0), d = ey(c + u), f = !r; ++i < c; )
                        d[i] = e[i];
                    for (var h = i; ++l < u; )
                        d[h + l] = t[l];
                    for (; ++a < s; )
                        (f || i < o) && (d[h + n[a]] = e[i++]);
                    return d
                }
                function rV(e, t) {
                    var n = -1
                      , r = e.length;
                    for (t || (t = ey(r)); ++n < r; )
                        t[n] = e[n];
                    return t
                }
                function rB(e, t, n, r) {
                    var o = !n;
                    n || (n = {});
                    for (var a = -1, s = t.length; ++a < s; ) {
                        var l = t[a]
                          , u = r ? r(n[l], e[l], l, n, e) : i;
                        i === u && (u = e[l]),
                        o ? nk(n, l, u) : nR(n, l, u)
                    }
                    return n
                }
                function rF(e, t) {
                    return function(n, r) {
                        var i = oM(n) ? tl : nT
                          , o = t ? t() : {};
                        return i(n, e, ic(r, 2), o)
                    }
                }
                function rq(e) {
                    return rd(function(t, n) {
                        var r = -1
                          , o = n.length
                          , a = o > 1 ? n[o - 1] : i
                          , s = o > 2 ? n[2] : i;
                        for (a = e.length > 3 && "function" == typeof a ? (o--,
                        a) : i,
                        s && iw(n[0], n[1], s) && (a = o < 3 ? i : a,
                        o = 1),
                        t = eO(t); ++r < o; ) {
                            var l = n[r];
                            l && e(t, l, r, a)
                        }
                        return t
                    })
                }
                function rG(e, t) {
                    return function(n, r) {
                        if (null == n)
                            return n;
                        if (!oj(n))
                            return e(n, r);
                        for (var i = n.length, o = t ? i : -1, a = eO(n); (t ? o-- : ++o < i) && !1 !== r(a[o], o, a); )
                            ;
                        return n
                    }
                }
                function rz(e) {
                    return function(t, n, r) {
                        for (var i = -1, o = eO(t), a = r(t), s = a.length; s--; ) {
                            var l = a[e ? s : ++i];
                            if (!1 === n(o[l], l, o))
                                break
                        }
                        return t
                    }
                }
                function rY(e) {
                    return function(t) {
                        var n = tV(t = o7(t)) ? tY(t) : i
                          , r = n ? n[0] : t.charAt(0)
                          , o = n ? rN(n, 1).join("") : t.slice(1);
                        return r[e]() + o
                    }
                }
                function rH(e) {
                    return function(t) {
                        return tm(aN(aA(t).replace(eG, "")), e, "")
                    }
                }
                function rZ(e) {
                    return function() {
                        var t = arguments;
                        switch (t.length) {
                        case 0:
                            return new e;
                        case 1:
                            return new e(t[0]);
                        case 2:
                            return new e(t[0],t[1]);
                        case 3:
                            return new e(t[0],t[1],t[2]);
                        case 4:
                            return new e(t[0],t[1],t[2],t[3]);
                        case 5:
                            return new e(t[0],t[1],t[2],t[3],t[4]);
                        case 6:
                            return new e(t[0],t[1],t[2],t[3],t[4],t[5]);
                        case 7:
                            return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])
                        }
                        var n = ng(e.prototype)
                          , r = e.apply(n, t);
                        return oz(r) ? r : n
                    }
                }
                function rW(e) {
                    return function(t, n, r) {
                        var o = eO(t);
                        if (!oj(t)) {
                            var a = ic(n, 3);
                            t = af(t),
                            n = function(e) {
                                return a(o[e], e, o)
                            }
                        }
                        var s = e(t, n, r);
                        return s > -1 ? o[a ? t[s] : s] : i
                    }
                }
                function rJ(e) {
                    return ii(function(t) {
                        var n = t.length
                          , r = n
                          , a = nv.prototype.thru;
                        for (e && t.reverse(); r--; ) {
                            var s = t[r];
                            if ("function" != typeof s)
                                throw new eP(o);
                            if (a && !l && "wrapper" == il(s))
                                var l = new nv([],!0)
                        }
                        for (r = l ? r : n; ++r < n; ) {
                            var u = il(s = t[r])
                              , c = "wrapper" == u ? is(s) : i;
                            l = c && iA(c[0]) && 424 == c[1] && !c[4].length && 1 == c[9] ? l[il(c[0])].apply(l, c[3]) : 1 == s.length && iA(s) ? l[u]() : l.thru(s)
                        }
                        return function() {
                            var e = arguments
                              , r = e[0];
                            if (l && 1 == e.length && oM(r))
                                return l.plant(r).value();
                            for (var i = 0, o = n ? t[i].apply(this, e) : r; ++i < n; )
                                o = t[i].call(this, o);
                            return o
                        }
                    })
                }
                function rK(e, t, n, r, o, a, s, l, u, c) {
                    var d = 128 & t
                      , f = 1 & t
                      , h = 2 & t
                      , p = 24 & t
                      , g = 512 & t
                      , m = h ? i : rZ(e);
                    return function v() {
                        for (var y = arguments.length, b = ey(y), E = y; E--; )
                            b[E] = arguments[E];
                        if (p)
                            var _ = iu(v)
                              , w = function(e, t) {
                                for (var n = e.length, r = 0; n--; )
                                    e[n] === t && ++r;
                                return r
                            }(b, _);
                        if (r && (b = rU(b, r, o, p)),
                        a && (b = r$(b, a, s, p)),
                        y -= w,
                        p && y < c) {
                            var O = tq(b, _);
                            return r4(e, t, rK, v.placeholder, n, b, O, l, u, c - y)
                        }
                        var A = f ? n : this
                          , S = h ? A[e] : e;
                        return y = b.length,
                        l ? b = function(e, t) {
                            for (var n = e.length, r = t3(t.length, n), o = rV(e); r--; ) {
                                var a = t[r];
                                e[r] = i_(a, n) ? o[a] : i
                            }
                            return e
                        }(b, l) : g && y > 1 && b.reverse(),
                        d && u < y && (b.length = u),
                        this && this !== e6 && this instanceof v && (S = m || rZ(S)),
                        S.apply(A, b)
                    }
                }
                function rX(e, t) {
                    return function(n, r) {
                        var i, o;
                        return i = t(r),
                        o = {},
                        nY(n, function(t, n, r) {
                            e(o, i(t), n, r)
                        }),
                        o
                    }
                }
                function rQ(e, t) {
                    return function(n, r) {
                        var o;
                        if (i === n && i === r)
                            return t;
                        if (i !== n && (o = n),
                        i !== r) {
                            if (i === o)
                                return r;
                            "string" == typeof n || "string" == typeof r ? (n = r_(n),
                            r = r_(r)) : (n = rE(n),
                            r = rE(r)),
                            o = e(n, r)
                        }
                        return o
                    }
                }
                function r0(e) {
                    return ii(function(t) {
                        return t = tp(t, tN(ic())),
                        rd(function(n) {
                            var r = this;
                            return e(t, function(e) {
                                return ts(e, r, n)
                            })
                        })
                    })
                }
                function r1(e, t) {
                    var n = (t = i === t ? " " : r_(t)).length;
                    if (n < 2)
                        return n ? rc(t, e) : t;
                    var r = rc(t, tR(e / tz(t)));
                    return tV(t) ? rN(tY(r), 0, e).join("") : r.slice(0, e)
                }
                function r2(e) {
                    return function(t, n, r) {
                        return r && "number" != typeof r && iw(t, n, r) && (n = r = i),
                        t = o4(t),
                        i === n ? (n = t,
                        t = 0) : n = o4(n),
                        r = i === r ? t < n ? 1 : -1 : o4(r),
                        function(e, t, n, r) {
                            for (var i = -1, o = t2(tR((t - e) / (n || 1)), 0), a = ey(o); o--; )
                                a[r ? o : ++i] = e,
                                e += n;
                            return a
                        }(t, n, r, e)
                    }
                }
                function r3(e) {
                    return function(t, n) {
                        return "string" == typeof t && "string" == typeof n || (t = o8(t),
                        n = o8(n)),
                        e(t, n)
                    }
                }
                function r4(e, t, n, r, o, a, s, l, u, c) {
                    var d = 8 & t
                      , f = d ? s : i
                      , h = d ? i : s
                      , p = d ? a : i
                      , g = d ? i : a;
                    t |= d ? 32 : 64,
                    4 & (t &= ~(d ? 64 : 32)) || (t &= -4);
                    var m = [e, t, o, p, f, g, h, l, u, c]
                      , v = n.apply(i, m);
                    return iA(e) && ik(v, m),
                    v.placeholder = r,
                    iL(v, e, t)
                }
                function r6(e) {
                    var t = ew[e];
                    return function(e, n) {
                        if (e = o8(e),
                        (n = null == n ? 0 : t3(o6(n), 292)) && tQ(e)) {
                            var r = (o7(e) + "e").split("e");
                            return +((r = (o7(t(r[0] + "e" + (+r[1] + n))) + "e").split("e"))[0] + "e" + (+r[1] - n))
                        }
                        return t(e)
                    }
                }
                var r5 = nt && 1 / tG(new nt([, -0]))[1] == l ? function(e) {
                    return new nt(e)
                }
                : aq;
                function r8(e) {
                    return function(t) {
                        var n, r, i = iv(t);
                        return i == y ? tB(t) : i == O ? (n = -1,
                        r = Array(t.size),
                        t.forEach(function(e) {
                            r[++n] = [e, e]
                        }),
                        r) : tp(e(t), function(e) {
                            return [e, t[e]]
                        })
                    }
                }
                function r9(e, t, n, r, a, l, u, c) {
                    var d = 2 & t;
                    if (!d && "function" != typeof e)
                        throw new eP(o);
                    var f = r ? r.length : 0;
                    if (f || (t &= -97,
                    r = a = i),
                    u = i === u ? u : t2(o6(u), 0),
                    c = i === c ? c : o6(c),
                    f -= a ? a.length : 0,
                    64 & t) {
                        var h = r
                          , p = a;
                        r = a = i
                    }
                    var g = d ? i : is(e)
                      , m = [e, t, n, r, a, h, p, l, u, c];
                    if (g && function(e, t) {
                        var n = e[1]
                          , r = t[1]
                          , i = n | r
                          , o = i < 131
                          , a = 128 == r && 8 == n || 128 == r && 256 == n && e[7].length <= t[8] || 384 == r && t[7].length <= t[8] && 8 == n;
                        if (o || a) {
                            1 & r && (e[2] = t[2],
                            i |= 1 & n ? 0 : 4);
                            var l = t[3];
                            if (l) {
                                var u = e[3];
                                e[3] = u ? rU(u, l, t[4]) : l,
                                e[4] = u ? tq(e[3], s) : t[4]
                            }
                            (l = t[5]) && (u = e[5],
                            e[5] = u ? r$(u, l, t[6]) : l,
                            e[6] = u ? tq(e[5], s) : t[6]),
                            (l = t[7]) && (e[7] = l),
                            128 & r && (e[8] = null == e[8] ? t[8] : t3(e[8], t[8])),
                            null == e[9] && (e[9] = t[9]),
                            e[0] = t[0],
                            e[1] = i
                        }
                    }(m, g),
                    e = m[0],
                    t = m[1],
                    n = m[2],
                    r = m[3],
                    a = m[4],
                    (c = m[9] = i === m[9] ? d ? 0 : e.length : t2(m[9] - f, 0)) || !(24 & t) || (t &= -25),
                    t && 1 != t)
                        8 == t || 16 == t ? (v = e,
                        y = t,
                        b = c,
                        E = rZ(v),
                        N = function e() {
                            for (var t = arguments.length, n = ey(t), r = t, o = iu(e); r--; )
                                n[r] = arguments[r];
                            var a = t < 3 && n[0] !== o && n[t - 1] !== o ? [] : tq(n, o);
                            return (t -= a.length) < b ? r4(v, y, rK, e.placeholder, i, n, a, i, i, b - t) : ts(this && this !== e6 && this instanceof e ? E : v, this, n)
                        }
                        ) : 32 != t && 33 != t || a.length ? N = rK.apply(i, m) : (_ = e,
                        w = t,
                        O = n,
                        A = r,
                        S = 1 & w,
                        P = rZ(_),
                        N = function e() {
                            for (var t = -1, n = arguments.length, r = -1, i = A.length, o = ey(i + n), a = this && this !== e6 && this instanceof e ? P : _; ++r < i; )
                                o[r] = A[r];
                            for (; n--; )
                                o[r++] = arguments[++t];
                            return ts(a, S ? O : this, o)
                        }
                        );
                    else
                        var v, y, b, E, _, w, O, A, S, P, R, I, T, x, k, N = (R = e,
                        I = t,
                        T = n,
                        x = 1 & I,
                        k = rZ(R),
                        function e() {
                            return (this && this !== e6 && this instanceof e ? k : R).apply(x ? T : this, arguments)
                        }
                        );
                    return iL((g ? rh : ik)(N, m), e, t)
                }
                function r7(e, t, n, r) {
                    return i === e || ok(e, eT[n]) && !eN.call(r, n) ? t : e
                }
                function ie(e, t, n, r, o, a) {
                    return oz(e) && oz(t) && (a.set(t, e),
                    rr(e, t, i, ie, a),
                    a.delete(t)),
                    e
                }
                function it(e) {
                    return oW(e) ? i : e
                }
                function ir(e, t, n, r, o, a) {
                    var s = 1 & n
                      , l = e.length
                      , u = t.length;
                    if (l != u && !(s && u > l))
                        return !1;
                    var c = a.get(e)
                      , d = a.get(t);
                    if (c && d)
                        return c == t && d == e;
                    var f = -1
                      , h = !0
                      , p = 2 & n ? new nw : i;
                    for (a.set(e, t),
                    a.set(t, e); ++f < l; ) {
                        var g = e[f]
                          , m = t[f];
                        if (r)
                            var v = s ? r(m, g, f, t, e, a) : r(g, m, f, e, t, a);
                        if (i !== v) {
                            if (v)
                                continue;
                            h = !1;
                            break
                        }
                        if (p) {
                            if (!ty(t, function(e, t) {
                                if (!tL(p, t) && (g === e || o(g, e, n, r, a)))
                                    return p.push(t)
                            })) {
                                h = !1;
                                break
                            }
                        } else if (!(g === m || o(g, m, n, r, a))) {
                            h = !1;
                            break
                        }
                    }
                    return a.delete(e),
                    a.delete(t),
                    h
                }
                function ii(e) {
                    return iC(iI(e, i, iY), e + "")
                }
                function io(e) {
                    return nJ(e, af, ig)
                }
                function ia(e) {
                    return nJ(e, ah, im)
                }
                var is = ni ? function(e) {
                    return ni.get(e)
                }
                : aq;
                function il(e) {
                    for (var t = e.name + "", n = no[t], r = eN.call(no, t) ? n.length : 0; r--; ) {
                        var i = n[r]
                          , o = i.func;
                        if (null == o || o == e)
                            return i.name
                    }
                    return t
                }
                function iu(e) {
                    return (eN.call(np, "placeholder") ? np : e).placeholder
                }
                function ic() {
                    var e = np.iteratee || a$;
                    return e = e === a$ ? n8 : e,
                    arguments.length ? e(arguments[0], arguments[1]) : e
                }
                function id(e, t) {
                    var n, r = e.__data__;
                    return ("string" == (n = typeof t) || "number" == n || "symbol" == n || "boolean" == n ? "__proto__" !== t : null === t) ? r["string" == typeof t ? "string" : "hash"] : r.map
                }
                function ih(e) {
                    for (var t = af(e), n = t.length; n--; ) {
                        var r = t[n]
                          , i = e[r];
                        t[n] = [r, i, i == i && !oz(i)]
                    }
                    return t
                }
                function ip(e, t) {
                    var n = null == e ? i : e[t];
                    return n5(n) ? n : i
                }
                var ig = tK ? function(e) {
                    return null == e ? [] : td(tK(e = eO(e)), function(t) {
                        return eZ.call(e, t)
                    })
                }
                : aJ
                  , im = tK ? function(e) {
                    for (var t = []; e; )
                        tg(t, ig(e)),
                        e = eq(e);
                    return t
                }
                : aJ
                  , iv = nK;
                function iy(e, t, n) {
                    t = rk(t, e);
                    for (var r = -1, i = t.length, o = !1; ++r < i; ) {
                        var a = iU(t[r]);
                        if (!(o = null != e && n(e, a)))
                            break;
                        e = e[a]
                    }
                    return o || ++r != i ? o : !!(i = null == e ? 0 : e.length) && oG(i) && i_(a, i) && (oM(e) || oL(e))
                }
                function ib(e) {
                    return "function" != typeof e.constructor || iP(e) ? {} : ng(eq(e))
                }
                function iE(e) {
                    return oM(e) || oL(e) || !!(e3 && e && e[e3])
                }
                function i_(e, t) {
                    var n = typeof e;
                    return !!(t = null == t ? 9007199254740991 : t) && ("number" == n || "symbol" != n && eh.test(e)) && e > -1 && e % 1 == 0 && e < t
                }
                function iw(e, t, n) {
                    if (!oz(n))
                        return !1;
                    var r = typeof t;
                    return ("number" == r ? !!(oj(n) && i_(t, n.length)) : "string" == r && t in n) && ok(n[t], e)
                }
                function iO(e, t) {
                    if (oM(e))
                        return !1;
                    var n = typeof e;
                    return !!("number" == n || "symbol" == n || "boolean" == n || null == e || oQ(e)) || W.test(e) || !Z.test(e) || null != t && e in eO(t)
                }
                function iA(e) {
                    var t = il(e)
                      , n = np[t];
                    if ("function" != typeof n || !(t in ny.prototype))
                        return !1;
                    if (e === n)
                        return !0;
                    var r = is(n);
                    return !!r && e === r[0]
                }
                (t9 && iv(new t9(new ArrayBuffer(1))) != I || t7 && iv(new t7) != y || ne && iv(ne.resolve()) != _ || nt && iv(new nt) != O || nn && iv(new nn) != P) && (iv = function(e) {
                    var t = nK(e)
                      , n = t == E ? e.constructor : i
                      , r = n ? i$(n) : "";
                    if (r)
                        switch (r) {
                        case na:
                            return I;
                        case ns:
                            return y;
                        case nl:
                            return _;
                        case nu:
                            return O;
                        case nc:
                            return P
                        }
                    return t
                }
                );
                var iS = ex ? oF : aK;
                function iP(e) {
                    var t = e && e.constructor;
                    return e === ("function" == typeof t && t.prototype || eT)
                }
                function iR(e, t) {
                    return function(n) {
                        return null != n && n[e] === t && (i !== t || e in eO(n))
                    }
                }
                function iI(e, t, n) {
                    return t = t2(i === t ? e.length - 1 : t, 0),
                    function() {
                        for (var r = arguments, i = -1, o = t2(r.length - t, 0), a = ey(o); ++i < o; )
                            a[i] = r[t + i];
                        i = -1;
                        for (var s = ey(t + 1); ++i < t; )
                            s[i] = r[i];
                        return s[t] = n(a),
                        ts(e, this, s)
                    }
                }
                function iT(e, t) {
                    return t.length < 2 ? e : nW(e, rg(t, 0, -1))
                }
                function ix(e, t) {
                    if (("constructor" !== t || "function" != typeof e[t]) && "__proto__" != t)
                        return e[t]
                }
                var ik = iM(rh)
                  , iN = tb || function(e, t) {
                    return e6.setTimeout(e, t)
                }
                  , iC = iM(rp);
                function iL(e, t, n) {
                    var r, i, o = t + "";
                    return iC(e, function(e, t) {
                        var n = t.length;
                        if (!n)
                            return e;
                        var r = n - 1;
                        return t[r] = (n > 1 ? "& " : "") + t[r],
                        t = t.join(n > 2 ? ", " : " "),
                        e.replace(et, "{\n/* [wrapped with " + t + "] */\n")
                    }(o, (r = (i = o.match(en)) ? i[1].split(er) : [],
                    tu(c, function(e) {
                        var t = "_." + e[0];
                        n & e[1] && !tf(r, t) && r.push(t)
                    }),
                    r.sort())))
                }
                function iM(e) {
                    var t = 0
                      , n = 0;
                    return function() {
                        var r = t4()
                          , o = 16 - (r - n);
                        if (n = r,
                        o > 0) {
                            if (++t >= 800)
                                return arguments[0]
                        } else
                            t = 0;
                        return e.apply(i, arguments)
                    }
                }
                function iD(e, t) {
                    var n = -1
                      , r = e.length
                      , o = r - 1;
                    for (t = i === t ? r : t; ++n < t; ) {
                        var a = ru(n, o)
                          , s = e[a];
                        e[a] = e[n],
                        e[n] = s
                    }
                    return e.length = t,
                    e
                }
                var ij = (ee = (r = oS(function(e) {
                    var t = [];
                    return 46 === e.charCodeAt(0) && t.push(""),
                    e.replace(J, function(e, n, r, i) {
                        t.push(r ? i.replace(ea, "$1") : n || e)
                    }),
                    t
                }, function(e) {
                    return 500 === ee.size && ee.clear(),
                    e
                })).cache,
                r);
                function iU(e) {
                    if ("string" == typeof e || oQ(e))
                        return e;
                    var t = e + "";
                    return "0" == t && 1 / e == -l ? "-0" : t
                }
                function i$(e) {
                    if (null != e) {
                        try {
                            return ek.call(e)
                        } catch (e) {}
                        try {
                            return e + ""
                        } catch (e) {}
                    }
                    return ""
                }
                function iV(e) {
                    if (e instanceof ny)
                        return e.clone();
                    var t = new nv(e.__wrapped__,e.__chain__);
                    return t.__actions__ = rV(e.__actions__),
                    t.__index__ = e.__index__,
                    t.__values__ = e.__values__,
                    t
                }
                var iB = rd(function(e, t) {
                    return oU(e) ? nj(e, nq(t, 1, oU, !0)) : []
                })
                  , iF = rd(function(e, t) {
                    var n = iK(t);
                    return oU(n) && (n = i),
                    oU(e) ? nj(e, nq(t, 1, oU, !0), ic(n, 2)) : []
                })
                  , iq = rd(function(e, t) {
                    var n = iK(t);
                    return oU(n) && (n = i),
                    oU(e) ? nj(e, nq(t, 1, oU, !0), i, n) : []
                });
                function iG(e, t, n) {
                    var r = null == e ? 0 : e.length;
                    if (!r)
                        return -1;
                    var i = null == n ? 0 : o6(n);
                    return i < 0 && (i = t2(r + i, 0)),
                    t_(e, ic(t, 3), i)
                }
                function iz(e, t, n) {
                    var r = null == e ? 0 : e.length;
                    if (!r)
                        return -1;
                    var o = r - 1;
                    return i !== n && (o = o6(n),
                    o = n < 0 ? t2(r + o, 0) : t3(o, r - 1)),
                    t_(e, ic(t, 3), o, !0)
                }
                function iY(e) {
                    return (null == e ? 0 : e.length) ? nq(e, 1) : []
                }
                function iH(e) {
                    return e && e.length ? e[0] : i
                }
                var iZ = rd(function(e) {
                    var t = tp(e, rT);
                    return t.length && t[0] === e[0] ? n1(t) : []
                })
                  , iW = rd(function(e) {
                    var t = iK(e)
                      , n = tp(e, rT);
                    return t === iK(n) ? t = i : n.pop(),
                    n.length && n[0] === e[0] ? n1(n, ic(t, 2)) : []
                })
                  , iJ = rd(function(e) {
                    var t = iK(e)
                      , n = tp(e, rT);
                    return (t = "function" == typeof t ? t : i) && n.pop(),
                    n.length && n[0] === e[0] ? n1(n, i, t) : []
                });
                function iK(e) {
                    var t = null == e ? 0 : e.length;
                    return t ? e[t - 1] : i
                }
                var iX = rd(iQ);
                function iQ(e, t) {
                    return e && e.length && t && t.length ? rs(e, t) : e
                }
                var i0 = ii(function(e, t) {
                    var n = null == e ? 0 : e.length
                      , r = nN(e, t);
                    return rl(e, tp(t, function(e) {
                        return i_(e, n) ? +e : e
                    }).sort(rj)),
                    r
                });
                function i1(e) {
                    return null == e ? e : t8.call(e)
                }
                var i2 = rd(function(e) {
                    return rw(nq(e, 1, oU, !0))
                })
                  , i3 = rd(function(e) {
                    var t = iK(e);
                    return oU(t) && (t = i),
                    rw(nq(e, 1, oU, !0), ic(t, 2))
                })
                  , i4 = rd(function(e) {
                    var t = iK(e);
                    return t = "function" == typeof t ? t : i,
                    rw(nq(e, 1, oU, !0), i, t)
                });
                function i6(e) {
                    if (!(e && e.length))
                        return [];
                    var t = 0;
                    return e = td(e, function(e) {
                        if (oU(e))
                            return t = t2(e.length, t),
                            !0
                    }),
                    tx(t, function(t) {
                        return tp(e, tP(t))
                    })
                }
                function i5(e, t) {
                    if (!(e && e.length))
                        return [];
                    var n = i6(e);
                    return null == t ? n : tp(n, function(e) {
                        return ts(t, i, e)
                    })
                }
                var i8 = rd(function(e, t) {
                    return oU(e) ? nj(e, t) : []
                })
                  , i9 = rd(function(e) {
                    return rR(td(e, oU))
                })
                  , i7 = rd(function(e) {
                    var t = iK(e);
                    return oU(t) && (t = i),
                    rR(td(e, oU), ic(t, 2))
                })
                  , oe = rd(function(e) {
                    var t = iK(e);
                    return t = "function" == typeof t ? t : i,
                    rR(td(e, oU), i, t)
                })
                  , ot = rd(i6)
                  , on = rd(function(e) {
                    var t = e.length
                      , n = t > 1 ? e[t - 1] : i;
                    return n = "function" == typeof n ? (e.pop(),
                    n) : i,
                    i5(e, n)
                });
                function or(e) {
                    var t = np(e);
                    return t.__chain__ = !0,
                    t
                }
                function oi(e, t) {
                    return t(e)
                }
                var oo = ii(function(e) {
                    var t = e.length
                      , n = t ? e[0] : 0
                      , r = this.__wrapped__
                      , o = function(t) {
                        return nN(t, e)
                    };
                    return !(t > 1) && !this.__actions__.length && r instanceof ny && i_(n) ? ((r = r.slice(n, +n + (t ? 1 : 0))).__actions__.push({
                        func: oi,
                        args: [o],
                        thisArg: i
                    }),
                    new nv(r,this.__chain__).thru(function(e) {
                        return t && !e.length && e.push(i),
                        e
                    })) : this.thru(o)
                })
                  , oa = rF(function(e, t, n) {
                    eN.call(e, n) ? ++e[n] : nk(e, n, 1)
                })
                  , os = rW(iG)
                  , ol = rW(iz);
                function ou(e, t) {
                    return (oM(e) ? tu : nU)(e, ic(t, 3))
                }
                function oc(e, t) {
                    return (oM(e) ? function(e, t) {
                        for (var n = null == e ? 0 : e.length; n-- && !1 !== t(e[n], n, e); )
                            ;
                        return e
                    }
                    : n$)(e, ic(t, 3))
                }
                var od = rF(function(e, t, n) {
                    eN.call(e, n) ? e[n].push(t) : nk(e, n, [t])
                })
                  , of = rd(function(e, t, n) {
                    var r = -1
                      , i = "function" == typeof t
                      , o = oj(e) ? ey(e.length) : [];
                    return nU(e, function(e) {
                        o[++r] = i ? ts(t, e, n) : n2(e, t, n)
                    }),
                    o
                })
                  , oh = rF(function(e, t, n) {
                    nk(e, n, t)
                });
                function op(e, t) {
                    return (oM(e) ? tp : re)(e, ic(t, 3))
                }
                var og = rF(function(e, t, n) {
                    e[n ? 0 : 1].push(t)
                }, function() {
                    return [[], []]
                })
                  , om = rd(function(e, t) {
                    if (null == e)
                        return [];
                    var n = t.length;
                    return n > 1 && iw(e, t[0], t[1]) ? t = [] : n > 2 && iw(t[0], t[1], t[2]) && (t = [t[0]]),
                    ro(e, nq(t, 1), [])
                })
                  , ov = te || function() {
                    return e6.Date.now()
                }
                ;
                function oy(e, t, n) {
                    return t = n ? i : t,
                    t = e && null == t ? e.length : t,
                    r9(e, 128, i, i, i, i, t)
                }
                function ob(e, t) {
                    var n;
                    if ("function" != typeof t)
                        throw new eP(o);
                    return e = o6(e),
                    function() {
                        return --e > 0 && (n = t.apply(this, arguments)),
                        e <= 1 && (t = i),
                        n
                    }
                }
                var oE = rd(function(e, t, n) {
                    var r = 1;
                    if (n.length) {
                        var i = tq(n, iu(oE));
                        r |= 32
                    }
                    return r9(e, r, t, n, i)
                })
                  , o_ = rd(function(e, t, n) {
                    var r = 3;
                    if (n.length) {
                        var i = tq(n, iu(o_));
                        r |= 32
                    }
                    return r9(t, r, e, n, i)
                });
                function ow(e, t, n) {
                    var r, a, s, l, u, c, d = 0, f = !1, h = !1, p = !0;
                    if ("function" != typeof e)
                        throw new eP(o);
                    function g(t) {
                        var n = r
                          , o = a;
                        return r = a = i,
                        d = t,
                        l = e.apply(o, n)
                    }
                    function m(e) {
                        var n = e - c
                          , r = e - d;
                        return i === c || n >= t || n < 0 || h && r >= s
                    }
                    function v() {
                        var e, n, r, i = ov();
                        if (m(i))
                            return y(i);
                        u = iN(v, (e = i - c,
                        n = i - d,
                        r = t - e,
                        h ? t3(r, s - n) : r))
                    }
                    function y(e) {
                        return (u = i,
                        p && r) ? g(e) : (r = a = i,
                        l)
                    }
                    function b() {
                        var e, n = ov(), o = m(n);
                        if (r = arguments,
                        a = this,
                        c = n,
                        o) {
                            if (i === u)
                                return d = e = c,
                                u = iN(v, t),
                                f ? g(e) : l;
                            if (h)
                                return rC(u),
                                u = iN(v, t),
                                g(c)
                        }
                        return i === u && (u = iN(v, t)),
                        l
                    }
                    return t = o8(t) || 0,
                    oz(n) && (f = !!n.leading,
                    s = (h = "maxWait"in n) ? t2(o8(n.maxWait) || 0, t) : s,
                    p = "trailing"in n ? !!n.trailing : p),
                    b.cancel = function() {
                        i !== u && rC(u),
                        d = 0,
                        r = c = a = u = i
                    }
                    ,
                    b.flush = function() {
                        return i === u ? l : y(ov())
                    }
                    ,
                    b
                }
                var oO = rd(function(e, t) {
                    return nD(e, 1, t)
                })
                  , oA = rd(function(e, t, n) {
                    return nD(e, o8(t) || 0, n)
                });
                function oS(e, t) {
                    if ("function" != typeof e || null != t && "function" != typeof t)
                        throw new eP(o);
                    var n = function() {
                        var r = arguments
                          , i = t ? t.apply(this, r) : r[0]
                          , o = n.cache;
                        if (o.has(i))
                            return o.get(i);
                        var a = e.apply(this, r);
                        return n.cache = o.set(i, a) || o,
                        a
                    };
                    return n.cache = new (oS.Cache || n_),
                    n
                }
                function oP(e) {
                    if ("function" != typeof e)
                        throw new eP(o);
                    return function() {
                        var t = arguments;
                        switch (t.length) {
                        case 0:
                            return !e.call(this);
                        case 1:
                            return !e.call(this, t[0]);
                        case 2:
                            return !e.call(this, t[0], t[1]);
                        case 3:
                            return !e.call(this, t[0], t[1], t[2])
                        }
                        return !e.apply(this, t)
                    }
                }
                oS.Cache = n_;
                var oR = rd(function(e, t) {
                    var n = (t = 1 == t.length && oM(t[0]) ? tp(t[0], tN(ic())) : tp(nq(t, 1), tN(ic()))).length;
                    return rd(function(r) {
                        for (var i = -1, o = t3(r.length, n); ++i < o; )
                            r[i] = t[i].call(this, r[i]);
                        return ts(e, this, r)
                    })
                })
                  , oI = rd(function(e, t) {
                    var n = tq(t, iu(oI));
                    return r9(e, 32, i, t, n)
                })
                  , oT = rd(function(e, t) {
                    var n = tq(t, iu(oT));
                    return r9(e, 64, i, t, n)
                })
                  , ox = ii(function(e, t) {
                    return r9(e, 256, i, i, i, t)
                });
                function ok(e, t) {
                    return e === t || e != e && t != t
                }
                var oN = r3(nX)
                  , oC = r3(function(e, t) {
                    return e >= t
                })
                  , oL = n3(function() {
                    return arguments
                }()) ? n3 : function(e) {
                    return oY(e) && eN.call(e, "callee") && !eZ.call(e, "callee")
                }
                  , oM = ey.isArray
                  , oD = tt ? tN(tt) : function(e) {
                    return oY(e) && nK(e) == R
                }
                ;
                function oj(e) {
                    return null != e && oG(e.length) && !oF(e)
                }
                function oU(e) {
                    return oY(e) && oj(e)
                }
                var o$ = tX || aK
                  , oV = tn ? tN(tn) : function(e) {
                    return oY(e) && nK(e) == p
                }
                ;
                function oB(e) {
                    if (!oY(e))
                        return !1;
                    var t = nK(e);
                    return t == g || "[object DOMException]" == t || "string" == typeof e.message && "string" == typeof e.name && !oW(e)
                }
                function oF(e) {
                    if (!oz(e))
                        return !1;
                    var t = nK(e);
                    return t == m || t == v || "[object AsyncFunction]" == t || "[object Proxy]" == t
                }
                function oq(e) {
                    return "number" == typeof e && e == o6(e)
                }
                function oG(e) {
                    return "number" == typeof e && e > -1 && e % 1 == 0 && e <= 9007199254740991
                }
                function oz(e) {
                    var t = typeof e;
                    return null != e && ("object" == t || "function" == t)
                }
                function oY(e) {
                    return null != e && "object" == typeof e
                }
                var oH = tr ? tN(tr) : function(e) {
                    return oY(e) && iv(e) == y
                }
                ;
                function oZ(e) {
                    return "number" == typeof e || oY(e) && nK(e) == b
                }
                function oW(e) {
                    if (!oY(e) || nK(e) != E)
                        return !1;
                    var t = eq(e);
                    if (null === t)
                        return !0;
                    var n = eN.call(t, "constructor") && t.constructor;
                    return "function" == typeof n && n instanceof n && ek.call(n) == eD
                }
                var oJ = ti ? tN(ti) : function(e) {
                    return oY(e) && nK(e) == w
                }
                  , oK = to ? tN(to) : function(e) {
                    return oY(e) && iv(e) == O
                }
                ;
                function oX(e) {
                    return "string" == typeof e || !oM(e) && oY(e) && nK(e) == A
                }
                function oQ(e) {
                    return "symbol" == typeof e || oY(e) && nK(e) == S
                }
                var o0 = ta ? tN(ta) : function(e) {
                    return oY(e) && oG(e.length) && !!eX[nK(e)]
                }
                  , o1 = r3(n7)
                  , o2 = r3(function(e, t) {
                    return e <= t
                });
                function o3(e) {
                    if (!e)
                        return [];
                    if (oj(e))
                        return oX(e) ? tY(e) : rV(e);
                    if (e4 && e[e4])
                        return function(e) {
                            for (var t, n = []; !(t = e.next()).done; )
                                n.push(t.value);
                            return n
                        }(e[e4]());
                    var t = iv(e);
                    return (t == y ? tB : t == O ? tG : a_)(e)
                }
                function o4(e) {
                    return e ? (e = o8(e)) === l || e === -l ? (e < 0 ? -1 : 1) * 17976931348623157e292 : e == e ? e : 0 : 0 === e ? e : 0
                }
                function o6(e) {
                    var t = o4(e)
                      , n = t % 1;
                    return t == t ? n ? t - n : t : 0
                }
                function o5(e) {
                    return e ? nC(o6(e), 0, 4294967295) : 0
                }
                function o8(e) {
                    if ("number" == typeof e)
                        return e;
                    if (oQ(e))
                        return u;
                    if (oz(e)) {
                        var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                        e = oz(t) ? t + "" : t
                    }
                    if ("string" != typeof e)
                        return 0 === e ? e : +e;
                    e = tk(e);
                    var n = ec.test(e);
                    return n || ef.test(e) ? e2(e.slice(2), n ? 2 : 8) : eu.test(e) ? u : +e
                }
                function o9(e) {
                    return rB(e, ah(e))
                }
                function o7(e) {
                    return null == e ? "" : r_(e)
                }
                var ae = rq(function(e, t) {
                    if (iP(t) || oj(t)) {
                        rB(t, af(t), e);
                        return
                    }
                    for (var n in t)
                        eN.call(t, n) && nR(e, n, t[n])
                })
                  , at = rq(function(e, t) {
                    rB(t, ah(t), e)
                })
                  , an = rq(function(e, t, n, r) {
                    rB(t, ah(t), e, r)
                })
                  , ar = rq(function(e, t, n, r) {
                    rB(t, af(t), e, r)
                })
                  , ai = ii(nN)
                  , ao = rd(function(e, t) {
                    e = eO(e);
                    var n = -1
                      , r = t.length
                      , o = r > 2 ? t[2] : i;
                    for (o && iw(t[0], t[1], o) && (r = 1); ++n < r; )
                        for (var a = t[n], s = ah(a), l = -1, u = s.length; ++l < u; ) {
                            var c = s[l]
                              , d = e[c];
                            (i === d || ok(d, eT[c]) && !eN.call(e, c)) && (e[c] = a[c])
                        }
                    return e
                })
                  , aa = rd(function(e) {
                    return e.push(i, ie),
                    ts(ag, i, e)
                });
                function as(e, t, n) {
                    var r = null == e ? i : nW(e, t);
                    return i === r ? n : r
                }
                function al(e, t) {
                    return null != e && iy(e, t, n0)
                }
                var au = rX(function(e, t, n) {
                    null != t && "function" != typeof t.toString && (t = eM.call(t)),
                    e[t] = n
                }, aM(aU))
                  , ac = rX(function(e, t, n) {
                    null != t && "function" != typeof t.toString && (t = eM.call(t)),
                    eN.call(e, t) ? e[t].push(n) : e[t] = [n]
                }, ic)
                  , ad = rd(n2);
                function af(e) {
                    return oj(e) ? nA(e) : n9(e)
                }
                function ah(e) {
                    return oj(e) ? nA(e, !0) : function(e) {
                        if (!oz(e))
                            return function(e) {
                                var t = [];
                                if (null != e)
                                    for (var n in eO(e))
                                        t.push(n);
                                return t
                            }(e);
                        var t = iP(e)
                          , n = [];
                        for (var r in e)
                            "constructor" == r && (t || !eN.call(e, r)) || n.push(r);
                        return n
                    }(e)
                }
                var ap = rq(function(e, t, n) {
                    rr(e, t, n)
                })
                  , ag = rq(function(e, t, n, r) {
                    rr(e, t, n, r)
                })
                  , am = ii(function(e, t) {
                    var n = {};
                    if (null == e)
                        return n;
                    var r = !1;
                    t = tp(t, function(t) {
                        return t = rk(t, e),
                        r || (r = t.length > 1),
                        t
                    }),
                    rB(e, ia(e), n),
                    r && (n = nL(n, 7, it));
                    for (var i = t.length; i--; )
                        rO(n, t[i]);
                    return n
                })
                  , av = ii(function(e, t) {
                    return null == e ? {} : ra(e, t, function(t, n) {
                        return al(e, n)
                    })
                });
                function ay(e, t) {
                    if (null == e)
                        return {};
                    var n = tp(ia(e), function(e) {
                        return [e]
                    });
                    return t = ic(t),
                    ra(e, n, function(e, n) {
                        return t(e, n[0])
                    })
                }
                var ab = r8(af)
                  , aE = r8(ah);
                function a_(e) {
                    return null == e ? [] : tC(e, af(e))
                }
                var aw = rH(function(e, t, n) {
                    return t = t.toLowerCase(),
                    e + (n ? aO(t) : t)
                });
                function aO(e) {
                    return ak(o7(e).toLowerCase())
                }
                function aA(e) {
                    return (e = o7(e)) && e.replace(ep, tj).replace(ez, "")
                }
                var aS = rH(function(e, t, n) {
                    return e + (n ? "-" : "") + t.toLowerCase()
                })
                  , aP = rH(function(e, t, n) {
                    return e + (n ? " " : "") + t.toLowerCase()
                })
                  , aR = rY("toLowerCase")
                  , aI = rH(function(e, t, n) {
                    return e + (n ? "_" : "") + t.toLowerCase()
                })
                  , aT = rH(function(e, t, n) {
                    return e + (n ? " " : "") + ak(t)
                })
                  , ax = rH(function(e, t, n) {
                    return e + (n ? " " : "") + t.toUpperCase()
                })
                  , ak = rY("toUpperCase");
                function aN(e, t, n) {
                    if (e = o7(e),
                    t = n ? i : t,
                    i === t) {
                        var r;
                        return (r = e,
                        eW.test(r)) ? e.match(eH) || [] : e.match(ei) || []
                    }
                    return e.match(t) || []
                }
                var aC = rd(function(e, t) {
                    try {
                        return ts(e, i, t)
                    } catch (e) {
                        return oB(e) ? e : new eE(e)
                    }
                })
                  , aL = ii(function(e, t) {
                    return tu(t, function(t) {
                        nk(e, t = iU(t), oE(e[t], e))
                    }),
                    e
                });
                function aM(e) {
                    return function() {
                        return e
                    }
                }
                var aD = rJ()
                  , aj = rJ(!0);
                function aU(e) {
                    return e
                }
                function a$(e) {
                    return n8("function" == typeof e ? e : nL(e, 1))
                }
                var aV = rd(function(e, t) {
                    return function(n) {
                        return n2(n, e, t)
                    }
                })
                  , aB = rd(function(e, t) {
                    return function(n) {
                        return n2(e, n, t)
                    }
                });
                function aF(e, t, n) {
                    var r = af(t)
                      , i = nZ(t, r);
                    null != n || oz(t) && (i.length || !r.length) || (n = t,
                    t = e,
                    e = this,
                    i = nZ(t, af(t)));
                    var o = !(oz(n) && "chain"in n) || !!n.chain
                      , a = oF(e);
                    return tu(i, function(n) {
                        var r = t[n];
                        e[n] = r,
                        a && (e.prototype[n] = function() {
                            var t = this.__chain__;
                            if (o || t) {
                                var n = e(this.__wrapped__);
                                return (n.__actions__ = rV(this.__actions__)).push({
                                    func: r,
                                    args: arguments,
                                    thisArg: e
                                }),
                                n.__chain__ = t,
                                n
                            }
                            return r.apply(e, tg([this.value()], arguments))
                        }
                        )
                    }),
                    e
                }
                function aq() {}
                var aG = r0(tp)
                  , az = r0(tc)
                  , aY = r0(ty);
                function aH(e) {
                    return iO(e) ? tP(iU(e)) : function(t) {
                        return nW(t, e)
                    }
                }
                var aZ = r2()
                  , aW = r2(!0);
                function aJ() {
                    return []
                }
                function aK() {
                    return !1
                }
                var aX = rQ(function(e, t) {
                    return e + t
                }, 0)
                  , aQ = r6("ceil")
                  , a0 = rQ(function(e, t) {
                    return e / t
                }, 1)
                  , a1 = r6("floor")
                  , a2 = rQ(function(e, t) {
                    return e * t
                }, 1)
                  , a3 = r6("round")
                  , a4 = rQ(function(e, t) {
                    return e - t
                }, 0);
                return np.after = function(e, t) {
                    if ("function" != typeof t)
                        throw new eP(o);
                    return e = o6(e),
                    function() {
                        if (--e < 1)
                            return t.apply(this, arguments)
                    }
                }
                ,
                np.ary = oy,
                np.assign = ae,
                np.assignIn = at,
                np.assignInWith = an,
                np.assignWith = ar,
                np.at = ai,
                np.before = ob,
                np.bind = oE,
                np.bindAll = aL,
                np.bindKey = o_,
                np.castArray = function() {
                    if (!arguments.length)
                        return [];
                    var e = arguments[0];
                    return oM(e) ? e : [e]
                }
                ,
                np.chain = or,
                np.chunk = function(e, t, n) {
                    t = (n ? iw(e, t, n) : i === t) ? 1 : t2(o6(t), 0);
                    var r = null == e ? 0 : e.length;
                    if (!r || t < 1)
                        return [];
                    for (var o = 0, a = 0, s = ey(tR(r / t)); o < r; )
                        s[a++] = rg(e, o, o += t);
                    return s
                }
                ,
                np.compact = function(e) {
                    for (var t = -1, n = null == e ? 0 : e.length, r = 0, i = []; ++t < n; ) {
                        var o = e[t];
                        o && (i[r++] = o)
                    }
                    return i
                }
                ,
                np.concat = function() {
                    var e = arguments.length;
                    if (!e)
                        return [];
                    for (var t = ey(e - 1), n = arguments[0], r = e; r--; )
                        t[r - 1] = arguments[r];
                    return tg(oM(n) ? rV(n) : [n], nq(t, 1))
                }
                ,
                np.cond = function(e) {
                    var t = null == e ? 0 : e.length
                      , n = ic();
                    return e = t ? tp(e, function(e) {
                        if ("function" != typeof e[1])
                            throw new eP(o);
                        return [n(e[0]), e[1]]
                    }) : [],
                    rd(function(n) {
                        for (var r = -1; ++r < t; ) {
                            var i = e[r];
                            if (ts(i[0], this, n))
                                return ts(i[1], this, n)
                        }
                    })
                }
                ,
                np.conforms = function(e) {
                    var t, n;
                    return n = af(t = nL(e, 1)),
                    function(e) {
                        return nM(e, t, n)
                    }
                }
                ,
                np.constant = aM,
                np.countBy = oa,
                np.create = function(e, t) {
                    var n = ng(e);
                    return null == t ? n : nx(n, t)
                }
                ,
                np.curry = function e(t, n, r) {
                    n = r ? i : n;
                    var o = r9(t, 8, i, i, i, i, i, n);
                    return o.placeholder = e.placeholder,
                    o
                }
                ,
                np.curryRight = function e(t, n, r) {
                    n = r ? i : n;
                    var o = r9(t, 16, i, i, i, i, i, n);
                    return o.placeholder = e.placeholder,
                    o
                }
                ,
                np.debounce = ow,
                np.defaults = ao,
                np.defaultsDeep = aa,
                np.defer = oO,
                np.delay = oA,
                np.difference = iB,
                np.differenceBy = iF,
                np.differenceWith = iq,
                np.drop = function(e, t, n) {
                    var r = null == e ? 0 : e.length;
                    return r ? rg(e, (t = n || i === t ? 1 : o6(t)) < 0 ? 0 : t, r) : []
                }
                ,
                np.dropRight = function(e, t, n) {
                    var r = null == e ? 0 : e.length;
                    return r ? rg(e, 0, (t = r - (t = n || i === t ? 1 : o6(t))) < 0 ? 0 : t) : []
                }
                ,
                np.dropRightWhile = function(e, t) {
                    return e && e.length ? rS(e, ic(t, 3), !0, !0) : []
                }
                ,
                np.dropWhile = function(e, t) {
                    return e && e.length ? rS(e, ic(t, 3), !0) : []
                }
                ,
                np.fill = function(e, t, n, r) {
                    var o = null == e ? 0 : e.length;
                    return o ? (n && "number" != typeof n && iw(e, t, n) && (n = 0,
                    r = o),
                    function(e, t, n, r) {
                        var o = e.length;
                        for ((n = o6(n)) < 0 && (n = -n > o ? 0 : o + n),
                        (r = i === r || r > o ? o : o6(r)) < 0 && (r += o),
                        r = n > r ? 0 : o5(r); n < r; )
                            e[n++] = t;
                        return e
                    }(e, t, n, r)) : []
                }
                ,
                np.filter = function(e, t) {
                    return (oM(e) ? td : nF)(e, ic(t, 3))
                }
                ,
                np.flatMap = function(e, t) {
                    return nq(op(e, t), 1)
                }
                ,
                np.flatMapDeep = function(e, t) {
                    return nq(op(e, t), l)
                }
                ,
                np.flatMapDepth = function(e, t, n) {
                    return n = i === n ? 1 : o6(n),
                    nq(op(e, t), n)
                }
                ,
                np.flatten = iY,
                np.flattenDeep = function(e) {
                    return (null == e ? 0 : e.length) ? nq(e, l) : []
                }
                ,
                np.flattenDepth = function(e, t) {
                    return (null == e ? 0 : e.length) ? nq(e, t = i === t ? 1 : o6(t)) : []
                }
                ,
                np.flip = function(e) {
                    return r9(e, 512)
                }
                ,
                np.flow = aD,
                np.flowRight = aj,
                np.fromPairs = function(e) {
                    for (var t = -1, n = null == e ? 0 : e.length, r = {}; ++t < n; ) {
                        var i = e[t];
                        r[i[0]] = i[1]
                    }
                    return r
                }
                ,
                np.functions = function(e) {
                    return null == e ? [] : nZ(e, af(e))
                }
                ,
                np.functionsIn = function(e) {
                    return null == e ? [] : nZ(e, ah(e))
                }
                ,
                np.groupBy = od,
                np.initial = function(e) {
                    return (null == e ? 0 : e.length) ? rg(e, 0, -1) : []
                }
                ,
                np.intersection = iZ,
                np.intersectionBy = iW,
                np.intersectionWith = iJ,
                np.invert = au,
                np.invertBy = ac,
                np.invokeMap = of,
                np.iteratee = a$,
                np.keyBy = oh,
                np.keys = af,
                np.keysIn = ah,
                np.map = op,
                np.mapKeys = function(e, t) {
                    var n = {};
                    return t = ic(t, 3),
                    nY(e, function(e, r, i) {
                        nk(n, t(e, r, i), e)
                    }),
                    n
                }
                ,
                np.mapValues = function(e, t) {
                    var n = {};
                    return t = ic(t, 3),
                    nY(e, function(e, r, i) {
                        nk(n, r, t(e, r, i))
                    }),
                    n
                }
                ,
                np.matches = function(e) {
                    return rt(nL(e, 1))
                }
                ,
                np.matchesProperty = function(e, t) {
                    return rn(e, nL(t, 1))
                }
                ,
                np.memoize = oS,
                np.merge = ap,
                np.mergeWith = ag,
                np.method = aV,
                np.methodOf = aB,
                np.mixin = aF,
                np.negate = oP,
                np.nthArg = function(e) {
                    return e = o6(e),
                    rd(function(t) {
                        return ri(t, e)
                    })
                }
                ,
                np.omit = am,
                np.omitBy = function(e, t) {
                    return ay(e, oP(ic(t)))
                }
                ,
                np.once = function(e) {
                    return ob(2, e)
                }
                ,
                np.orderBy = function(e, t, n, r) {
                    return null == e ? [] : (oM(t) || (t = null == t ? [] : [t]),
                    oM(n = r ? i : n) || (n = null == n ? [] : [n]),
                    ro(e, t, n))
                }
                ,
                np.over = aG,
                np.overArgs = oR,
                np.overEvery = az,
                np.overSome = aY,
                np.partial = oI,
                np.partialRight = oT,
                np.partition = og,
                np.pick = av,
                np.pickBy = ay,
                np.property = aH,
                np.propertyOf = function(e) {
                    return function(t) {
                        return null == e ? i : nW(e, t)
                    }
                }
                ,
                np.pull = iX,
                np.pullAll = iQ,
                np.pullAllBy = function(e, t, n) {
                    return e && e.length && t && t.length ? rs(e, t, ic(n, 2)) : e
                }
                ,
                np.pullAllWith = function(e, t, n) {
                    return e && e.length && t && t.length ? rs(e, t, i, n) : e
                }
                ,
                np.pullAt = i0,
                np.range = aZ,
                np.rangeRight = aW,
                np.rearg = ox,
                np.reject = function(e, t) {
                    return (oM(e) ? td : nF)(e, oP(ic(t, 3)))
                }
                ,
                np.remove = function(e, t) {
                    var n = [];
                    if (!(e && e.length))
                        return n;
                    var r = -1
                      , i = []
                      , o = e.length;
                    for (t = ic(t, 3); ++r < o; ) {
                        var a = e[r];
                        t(a, r, e) && (n.push(a),
                        i.push(r))
                    }
                    return rl(e, i),
                    n
                }
                ,
                np.rest = function(e, t) {
                    if ("function" != typeof e)
                        throw new eP(o);
                    return rd(e, t = i === t ? t : o6(t))
                }
                ,
                np.reverse = i1,
                np.sampleSize = function(e, t, n) {
                    return t = (n ? iw(e, t, n) : i === t) ? 1 : o6(t),
                    (oM(e) ? function(e, t) {
                        return iD(rV(e), nC(t, 0, e.length))
                    }
                    : function(e, t) {
                        var n = a_(e);
                        return iD(n, nC(t, 0, n.length))
                    }
                    )(e, t)
                }
                ,
                np.set = function(e, t, n) {
                    return null == e ? e : rf(e, t, n)
                }
                ,
                np.setWith = function(e, t, n, r) {
                    return r = "function" == typeof r ? r : i,
                    null == e ? e : rf(e, t, n, r)
                }
                ,
                np.shuffle = function(e) {
                    return (oM(e) ? function(e) {
                        return iD(rV(e))
                    }
                    : function(e) {
                        return iD(a_(e))
                    }
                    )(e)
                }
                ,
                np.slice = function(e, t, n) {
                    var r = null == e ? 0 : e.length;
                    return r ? (n && "number" != typeof n && iw(e, t, n) ? (t = 0,
                    n = r) : (t = null == t ? 0 : o6(t),
                    n = i === n ? r : o6(n)),
                    rg(e, t, n)) : []
                }
                ,
                np.sortBy = om,
                np.sortedUniq = function(e) {
                    return e && e.length ? rb(e) : []
                }
                ,
                np.sortedUniqBy = function(e, t) {
                    return e && e.length ? rb(e, ic(t, 2)) : []
                }
                ,
                np.split = function(e, t, n) {
                    return (n && "number" != typeof n && iw(e, t, n) && (t = n = i),
                    n = i === n ? 4294967295 : n >>> 0) ? (e = o7(e)) && ("string" == typeof t || null != t && !oJ(t)) && !(t = r_(t)) && tV(e) ? rN(tY(e), 0, n) : e.split(t, n) : []
                }
                ,
                np.spread = function(e, t) {
                    if ("function" != typeof e)
                        throw new eP(o);
                    return t = null == t ? 0 : t2(o6(t), 0),
                    rd(function(n) {
                        var r = n[t]
                          , i = rN(n, 0, t);
                        return r && tg(i, r),
                        ts(e, this, i)
                    })
                }
                ,
                np.tail = function(e) {
                    var t = null == e ? 0 : e.length;
                    return t ? rg(e, 1, t) : []
                }
                ,
                np.take = function(e, t, n) {
                    return e && e.length ? rg(e, 0, (t = n || i === t ? 1 : o6(t)) < 0 ? 0 : t) : []
                }
                ,
                np.takeRight = function(e, t, n) {
                    var r = null == e ? 0 : e.length;
                    return r ? rg(e, (t = r - (t = n || i === t ? 1 : o6(t))) < 0 ? 0 : t, r) : []
                }
                ,
                np.takeRightWhile = function(e, t) {
                    return e && e.length ? rS(e, ic(t, 3), !1, !0) : []
                }
                ,
                np.takeWhile = function(e, t) {
                    return e && e.length ? rS(e, ic(t, 3)) : []
                }
                ,
                np.tap = function(e, t) {
                    return t(e),
                    e
                }
                ,
                np.throttle = function(e, t, n) {
                    var r = !0
                      , i = !0;
                    if ("function" != typeof e)
                        throw new eP(o);
                    return oz(n) && (r = "leading"in n ? !!n.leading : r,
                    i = "trailing"in n ? !!n.trailing : i),
                    ow(e, t, {
                        leading: r,
                        maxWait: t,
                        trailing: i
                    })
                }
                ,
                np.thru = oi,
                np.toArray = o3,
                np.toPairs = ab,
                np.toPairsIn = aE,
                np.toPath = function(e) {
                    return oM(e) ? tp(e, iU) : oQ(e) ? [e] : rV(ij(o7(e)))
                }
                ,
                np.toPlainObject = o9,
                np.transform = function(e, t, n) {
                    var r = oM(e)
                      , i = r || o$(e) || o0(e);
                    if (t = ic(t, 4),
                    null == n) {
                        var o = e && e.constructor;
                        n = i ? r ? new o : [] : oz(e) && oF(o) ? ng(eq(e)) : {}
                    }
                    return (i ? tu : nY)(e, function(e, r, i) {
                        return t(n, e, r, i)
                    }),
                    n
                }
                ,
                np.unary = function(e) {
                    return oy(e, 1)
                }
                ,
                np.union = i2,
                np.unionBy = i3,
                np.unionWith = i4,
                np.uniq = function(e) {
                    return e && e.length ? rw(e) : []
                }
                ,
                np.uniqBy = function(e, t) {
                    return e && e.length ? rw(e, ic(t, 2)) : []
                }
                ,
                np.uniqWith = function(e, t) {
                    return t = "function" == typeof t ? t : i,
                    e && e.length ? rw(e, i, t) : []
                }
                ,
                np.unset = function(e, t) {
                    return null == e || rO(e, t)
                }
                ,
                np.unzip = i6,
                np.unzipWith = i5,
                np.update = function(e, t, n) {
                    return null == e ? e : rA(e, t, rx(n))
                }
                ,
                np.updateWith = function(e, t, n, r) {
                    return r = "function" == typeof r ? r : i,
                    null == e ? e : rA(e, t, rx(n), r)
                }
                ,
                np.values = a_,
                np.valuesIn = function(e) {
                    return null == e ? [] : tC(e, ah(e))
                }
                ,
                np.without = i8,
                np.words = aN,
                np.wrap = function(e, t) {
                    return oI(rx(t), e)
                }
                ,
                np.xor = i9,
                np.xorBy = i7,
                np.xorWith = oe,
                np.zip = ot,
                np.zipObject = function(e, t) {
                    return rI(e || [], t || [], nR)
                }
                ,
                np.zipObjectDeep = function(e, t) {
                    return rI(e || [], t || [], rf)
                }
                ,
                np.zipWith = on,
                np.entries = ab,
                np.entriesIn = aE,
                np.extend = at,
                np.extendWith = an,
                aF(np, np),
                np.add = aX,
                np.attempt = aC,
                np.camelCase = aw,
                np.capitalize = aO,
                np.ceil = aQ,
                np.clamp = function(e, t, n) {
                    return i === n && (n = t,
                    t = i),
                    i !== n && (n = (n = o8(n)) == n ? n : 0),
                    i !== t && (t = (t = o8(t)) == t ? t : 0),
                    nC(o8(e), t, n)
                }
                ,
                np.clone = function(e) {
                    return nL(e, 4)
                }
                ,
                np.cloneDeep = function(e) {
                    return nL(e, 5)
                }
                ,
                np.cloneDeepWith = function(e, t) {
                    return nL(e, 5, t = "function" == typeof t ? t : i)
                }
                ,
                np.cloneWith = function(e, t) {
                    return nL(e, 4, t = "function" == typeof t ? t : i)
                }
                ,
                np.conformsTo = function(e, t) {
                    return null == t || nM(e, t, af(t))
                }
                ,
                np.deburr = aA,
                np.defaultTo = function(e, t) {
                    return null == e || e != e ? t : e
                }
                ,
                np.divide = a0,
                np.endsWith = function(e, t, n) {
                    e = o7(e),
                    t = r_(t);
                    var r = e.length
                      , o = n = i === n ? r : nC(o6(n), 0, r);
                    return (n -= t.length) >= 0 && e.slice(n, o) == t
                }
                ,
                np.eq = ok,
                np.escape = function(e) {
                    return (e = o7(e)) && G.test(e) ? e.replace(F, tU) : e
                }
                ,
                np.escapeRegExp = function(e) {
                    return (e = o7(e)) && X.test(e) ? e.replace(K, "\\$&") : e
                }
                ,
                np.every = function(e, t, n) {
                    var r = oM(e) ? tc : nV;
                    return n && iw(e, t, n) && (t = i),
                    r(e, ic(t, 3))
                }
                ,
                np.find = os,
                np.findIndex = iG,
                np.findKey = function(e, t) {
                    return tE(e, ic(t, 3), nY)
                }
                ,
                np.findLast = ol,
                np.findLastIndex = iz,
                np.findLastKey = function(e, t) {
                    return tE(e, ic(t, 3), nH)
                }
                ,
                np.floor = a1,
                np.forEach = ou,
                np.forEachRight = oc,
                np.forIn = function(e, t) {
                    return null == e ? e : nG(e, ic(t, 3), ah)
                }
                ,
                np.forInRight = function(e, t) {
                    return null == e ? e : nz(e, ic(t, 3), ah)
                }
                ,
                np.forOwn = function(e, t) {
                    return e && nY(e, ic(t, 3))
                }
                ,
                np.forOwnRight = function(e, t) {
                    return e && nH(e, ic(t, 3))
                }
                ,
                np.get = as,
                np.gt = oN,
                np.gte = oC,
                np.has = function(e, t) {
                    return null != e && iy(e, t, nQ)
                }
                ,
                np.hasIn = al,
                np.head = iH,
                np.identity = aU,
                np.includes = function(e, t, n, r) {
                    e = oj(e) ? e : a_(e),
                    n = n && !r ? o6(n) : 0;
                    var i = e.length;
                    return n < 0 && (n = t2(i + n, 0)),
                    oX(e) ? n <= i && e.indexOf(t, n) > -1 : !!i && tw(e, t, n) > -1
                }
                ,
                np.indexOf = function(e, t, n) {
                    var r = null == e ? 0 : e.length;
                    if (!r)
                        return -1;
                    var i = null == n ? 0 : o6(n);
                    return i < 0 && (i = t2(r + i, 0)),
                    tw(e, t, i)
                }
                ,
                np.inRange = function(e, t, n) {
                    var r, o, a;
                    return t = o4(t),
                    i === n ? (n = t,
                    t = 0) : n = o4(n),
                    (r = e = o8(e)) >= t3(o = t, a = n) && r < t2(o, a)
                }
                ,
                np.invoke = ad,
                np.isArguments = oL,
                np.isArray = oM,
                np.isArrayBuffer = oD,
                np.isArrayLike = oj,
                np.isArrayLikeObject = oU,
                np.isBoolean = function(e) {
                    return !0 === e || !1 === e || oY(e) && nK(e) == h
                }
                ,
                np.isBuffer = o$,
                np.isDate = oV,
                np.isElement = function(e) {
                    return oY(e) && 1 === e.nodeType && !oW(e)
                }
                ,
                np.isEmpty = function(e) {
                    if (null == e)
                        return !0;
                    if (oj(e) && (oM(e) || "string" == typeof e || "function" == typeof e.splice || o$(e) || o0(e) || oL(e)))
                        return !e.length;
                    var t = iv(e);
                    if (t == y || t == O)
                        return !e.size;
                    if (iP(e))
                        return !n9(e).length;
                    for (var n in e)
                        if (eN.call(e, n))
                            return !1;
                    return !0
                }
                ,
                np.isEqual = function(e, t) {
                    return n4(e, t)
                }
                ,
                np.isEqualWith = function(e, t, n) {
                    var r = (n = "function" == typeof n ? n : i) ? n(e, t) : i;
                    return i === r ? n4(e, t, i, n) : !!r
                }
                ,
                np.isError = oB,
                np.isFinite = function(e) {
                    return "number" == typeof e && tQ(e)
                }
                ,
                np.isFunction = oF,
                np.isInteger = oq,
                np.isLength = oG,
                np.isMap = oH,
                np.isMatch = function(e, t) {
                    return e === t || n6(e, t, ih(t))
                }
                ,
                np.isMatchWith = function(e, t, n) {
                    return n = "function" == typeof n ? n : i,
                    n6(e, t, ih(t), n)
                }
                ,
                np.isNaN = function(e) {
                    return oZ(e) && e != +e
                }
                ,
                np.isNative = function(e) {
                    if (iS(e))
                        throw new eE("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");
                    return n5(e)
                }
                ,
                np.isNil = function(e) {
                    return null == e
                }
                ,
                np.isNull = function(e) {
                    return null === e
                }
                ,
                np.isNumber = oZ,
                np.isObject = oz,
                np.isObjectLike = oY,
                np.isPlainObject = oW,
                np.isRegExp = oJ,
                np.isSafeInteger = function(e) {
                    return oq(e) && e >= -9007199254740991 && e <= 9007199254740991
                }
                ,
                np.isSet = oK,
                np.isString = oX,
                np.isSymbol = oQ,
                np.isTypedArray = o0,
                np.isUndefined = function(e) {
                    return i === e
                }
                ,
                np.isWeakMap = function(e) {
                    return oY(e) && iv(e) == P
                }
                ,
                np.isWeakSet = function(e) {
                    return oY(e) && "[object WeakSet]" == nK(e)
                }
                ,
                np.join = function(e, t) {
                    return null == e ? "" : t0.call(e, t)
                }
                ,
                np.kebabCase = aS,
                np.last = iK,
                np.lastIndexOf = function(e, t, n) {
                    var r = null == e ? 0 : e.length;
                    if (!r)
                        return -1;
                    var o = r;
                    return i !== n && (o = (o = o6(n)) < 0 ? t2(r + o, 0) : t3(o, r - 1)),
                    t == t ? function(e, t, n) {
                        for (var r = n + 1; r-- && e[r] !== t; )
                            ;
                        return r
                    }(e, t, o) : t_(e, tA, o, !0)
                }
                ,
                np.lowerCase = aP,
                np.lowerFirst = aR,
                np.lt = o1,
                np.lte = o2,
                np.max = function(e) {
                    return e && e.length ? nB(e, aU, nX) : i
                }
                ,
                np.maxBy = function(e, t) {
                    return e && e.length ? nB(e, ic(t, 2), nX) : i
                }
                ,
                np.mean = function(e) {
                    return tS(e, aU)
                }
                ,
                np.meanBy = function(e, t) {
                    return tS(e, ic(t, 2))
                }
                ,
                np.min = function(e) {
                    return e && e.length ? nB(e, aU, n7) : i
                }
                ,
                np.minBy = function(e, t) {
                    return e && e.length ? nB(e, ic(t, 2), n7) : i
                }
                ,
                np.stubArray = aJ,
                np.stubFalse = aK,
                np.stubObject = function() {
                    return {}
                }
                ,
                np.stubString = function() {
                    return ""
                }
                ,
                np.stubTrue = function() {
                    return !0
                }
                ,
                np.multiply = a2,
                np.nth = function(e, t) {
                    return e && e.length ? ri(e, o6(t)) : i
                }
                ,
                np.noConflict = function() {
                    return e6._ === this && (e6._ = ej),
                    this
                }
                ,
                np.noop = aq,
                np.now = ov,
                np.pad = function(e, t, n) {
                    e = o7(e);
                    var r = (t = o6(t)) ? tz(e) : 0;
                    if (!t || r >= t)
                        return e;
                    var i = (t - r) / 2;
                    return r1(tJ(i), n) + e + r1(tR(i), n)
                }
                ,
                np.padEnd = function(e, t, n) {
                    e = o7(e);
                    var r = (t = o6(t)) ? tz(e) : 0;
                    return t && r < t ? e + r1(t - r, n) : e
                }
                ,
                np.padStart = function(e, t, n) {
                    e = o7(e);
                    var r = (t = o6(t)) ? tz(e) : 0;
                    return t && r < t ? r1(t - r, n) + e : e
                }
                ,
                np.parseInt = function(e, t, n) {
                    return n || null == t ? t = 0 : t && (t = +t),
                    t6(o7(e).replace(Q, ""), t || 0)
                }
                ,
                np.random = function(e, t, n) {
                    if (n && "boolean" != typeof n && iw(e, t, n) && (t = n = i),
                    i === n && ("boolean" == typeof t ? (n = t,
                    t = i) : "boolean" == typeof e && (n = e,
                    e = i)),
                    i === e && i === t ? (e = 0,
                    t = 1) : (e = o4(e),
                    i === t ? (t = e,
                    e = 0) : t = o4(t)),
                    e > t) {
                        var r = e;
                        e = t,
                        t = r
                    }
                    if (n || e % 1 || t % 1) {
                        var o = t5();
                        return t3(e + o * (t - e + e1("1e-" + ((o + "").length - 1))), t)
                    }
                    return ru(e, t)
                }
                ,
                np.reduce = function(e, t, n) {
                    var r = oM(e) ? tm : tI
                      , i = arguments.length < 3;
                    return r(e, ic(t, 4), n, i, nU)
                }
                ,
                np.reduceRight = function(e, t, n) {
                    var r = oM(e) ? tv : tI
                      , i = arguments.length < 3;
                    return r(e, ic(t, 4), n, i, n$)
                }
                ,
                np.repeat = function(e, t, n) {
                    return t = (n ? iw(e, t, n) : i === t) ? 1 : o6(t),
                    rc(o7(e), t)
                }
                ,
                np.replace = function() {
                    var e = arguments
                      , t = o7(e[0]);
                    return e.length < 3 ? t : t.replace(e[1], e[2])
                }
                ,
                np.result = function(e, t, n) {
                    t = rk(t, e);
                    var r = -1
                      , o = t.length;
                    for (o || (o = 1,
                    e = i); ++r < o; ) {
                        var a = null == e ? i : e[iU(t[r])];
                        i === a && (r = o,
                        a = n),
                        e = oF(a) ? a.call(e) : a
                    }
                    return e
                }
                ,
                np.round = a3,
                np.runInContext = e,
                np.sample = function(e) {
                    return (oM(e) ? nS : function(e) {
                        return nS(a_(e))
                    }
                    )(e)
                }
                ,
                np.size = function(e) {
                    if (null == e)
                        return 0;
                    if (oj(e))
                        return oX(e) ? tz(e) : e.length;
                    var t = iv(e);
                    return t == y || t == O ? e.size : n9(e).length
                }
                ,
                np.snakeCase = aI,
                np.some = function(e, t, n) {
                    var r = oM(e) ? ty : rm;
                    return n && iw(e, t, n) && (t = i),
                    r(e, ic(t, 3))
                }
                ,
                np.sortedIndex = function(e, t) {
                    return rv(e, t)
                }
                ,
                np.sortedIndexBy = function(e, t, n) {
                    return ry(e, t, ic(n, 2))
                }
                ,
                np.sortedIndexOf = function(e, t) {
                    var n = null == e ? 0 : e.length;
                    if (n) {
                        var r = rv(e, t);
                        if (r < n && ok(e[r], t))
                            return r
                    }
                    return -1
                }
                ,
                np.sortedLastIndex = function(e, t) {
                    return rv(e, t, !0)
                }
                ,
                np.sortedLastIndexBy = function(e, t, n) {
                    return ry(e, t, ic(n, 2), !0)
                }
                ,
                np.sortedLastIndexOf = function(e, t) {
                    if (null == e ? 0 : e.length) {
                        var n = rv(e, t, !0) - 1;
                        if (ok(e[n], t))
                            return n
                    }
                    return -1
                }
                ,
                np.startCase = aT,
                np.startsWith = function(e, t, n) {
                    return e = o7(e),
                    n = null == n ? 0 : nC(o6(n), 0, e.length),
                    t = r_(t),
                    e.slice(n, n + t.length) == t
                }
                ,
                np.subtract = a4,
                np.sum = function(e) {
                    return e && e.length ? tT(e, aU) : 0
                }
                ,
                np.sumBy = function(e, t) {
                    return e && e.length ? tT(e, ic(t, 2)) : 0
                }
                ,
                np.template = function(e, t, n) {
                    var r = np.templateSettings;
                    n && iw(e, t, n) && (t = i),
                    e = o7(e),
                    t = an({}, t, r, r7);
                    var o, a, s = an({}, t.imports, r.imports, r7), l = af(s), u = tC(s, l), c = 0, d = t.interpolate || eg, f = "__p += '", h = eA((t.escape || eg).source + "|" + d.source + "|" + (d === H ? es : eg).source + "|" + (t.evaluate || eg).source + "|$", "g"), p = "//# sourceURL=" + (eN.call(t, "sourceURL") ? (t.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++eK + "]") + "\n";
                    e.replace(h, function(t, n, r, i, s, l) {
                        return r || (r = i),
                        f += e.slice(c, l).replace(em, t$),
                        n && (o = !0,
                        f += "' +\n__e(" + n + ") +\n'"),
                        s && (a = !0,
                        f += "';\n" + s + ";\n__p += '"),
                        r && (f += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"),
                        c = l + t.length,
                        t
                    }),
                    f += "';\n";
                    var g = eN.call(t, "variable") && t.variable;
                    if (g) {
                        if (eo.test(g))
                            throw new eE("Invalid `variable` option passed into `_.template`")
                    } else
                        f = "with (obj) {\n" + f + "\n}\n";
                    f = (a ? f.replace(U, "") : f).replace($, "$1").replace(V, "$1;"),
                    f = "function(" + (g || "obj") + ") {\n" + (g ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (o ? ", __e = _.escape" : "") + (a ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + f + "return __p\n}";
                    var m = aC(function() {
                        return e_(l, p + "return " + f).apply(i, u)
                    });
                    if (m.source = f,
                    oB(m))
                        throw m;
                    return m
                }
                ,
                np.times = function(e, t) {
                    if ((e = o6(e)) < 1 || e > 9007199254740991)
                        return [];
                    var n = 4294967295
                      , r = t3(e, 4294967295);
                    t = ic(t),
                    e -= 4294967295;
                    for (var i = tx(r, t); ++n < e; )
                        t(n);
                    return i
                }
                ,
                np.toFinite = o4,
                np.toInteger = o6,
                np.toLength = o5,
                np.toLower = function(e) {
                    return o7(e).toLowerCase()
                }
                ,
                np.toNumber = o8,
                np.toSafeInteger = function(e) {
                    return e ? nC(o6(e), -9007199254740991, 9007199254740991) : 0 === e ? e : 0
                }
                ,
                np.toString = o7,
                np.toUpper = function(e) {
                    return o7(e).toUpperCase()
                }
                ,
                np.trim = function(e, t, n) {
                    if ((e = o7(e)) && (n || i === t))
                        return tk(e);
                    if (!e || !(t = r_(t)))
                        return e;
                    var r = tY(e)
                      , o = tY(t)
                      , a = tM(r, o)
                      , s = tD(r, o) + 1;
                    return rN(r, a, s).join("")
                }
                ,
                np.trimEnd = function(e, t, n) {
                    if ((e = o7(e)) && (n || i === t))
                        return e.slice(0, tH(e) + 1);
                    if (!e || !(t = r_(t)))
                        return e;
                    var r = tY(e)
                      , o = tD(r, tY(t)) + 1;
                    return rN(r, 0, o).join("")
                }
                ,
                np.trimStart = function(e, t, n) {
                    if ((e = o7(e)) && (n || i === t))
                        return e.replace(Q, "");
                    if (!e || !(t = r_(t)))
                        return e;
                    var r = tY(e)
                      , o = tM(r, tY(t));
                    return rN(r, o).join("")
                }
                ,
                np.truncate = function(e, t) {
                    var n = 30
                      , r = "...";
                    if (oz(t)) {
                        var o = "separator"in t ? t.separator : o;
                        n = "length"in t ? o6(t.length) : n,
                        r = "omission"in t ? r_(t.omission) : r
                    }
                    var a = (e = o7(e)).length;
                    if (tV(e)) {
                        var s = tY(e);
                        a = s.length
                    }
                    if (n >= a)
                        return e;
                    var l = n - tz(r);
                    if (l < 1)
                        return r;
                    var u = s ? rN(s, 0, l).join("") : e.slice(0, l);
                    if (i === o)
                        return u + r;
                    if (s && (l += u.length - l),
                    oJ(o)) {
                        if (e.slice(l).search(o)) {
                            var c, d = u;
                            for (o.global || (o = eA(o.source, o7(el.exec(o)) + "g")),
                            o.lastIndex = 0; c = o.exec(d); )
                                var f = c.index;
                            u = u.slice(0, i === f ? l : f)
                        }
                    } else if (e.indexOf(r_(o), l) != l) {
                        var h = u.lastIndexOf(o);
                        h > -1 && (u = u.slice(0, h))
                    }
                    return u + r
                }
                ,
                np.unescape = function(e) {
                    return (e = o7(e)) && q.test(e) ? e.replace(B, tZ) : e
                }
                ,
                np.uniqueId = function(e) {
                    var t = ++eC;
                    return o7(e) + t
                }
                ,
                np.upperCase = ax,
                np.upperFirst = ak,
                np.each = ou,
                np.eachRight = oc,
                np.first = iH,
                aF(np, (ev = {},
                nY(np, function(e, t) {
                    eN.call(np.prototype, t) || (ev[t] = e)
                }),
                ev), {
                    chain: !1
                }),
                np.VERSION = "4.17.21",
                tu(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e) {
                    np[e].placeholder = np
                }),
                tu(["drop", "take"], function(e, t) {
                    ny.prototype[e] = function(n) {
                        n = i === n ? 1 : t2(o6(n), 0);
                        var r = this.__filtered__ && !t ? new ny(this) : this.clone();
                        return r.__filtered__ ? r.__takeCount__ = t3(n, r.__takeCount__) : r.__views__.push({
                            size: t3(n, 4294967295),
                            type: e + (r.__dir__ < 0 ? "Right" : "")
                        }),
                        r
                    }
                    ,
                    ny.prototype[e + "Right"] = function(t) {
                        return this.reverse()[e](t).reverse()
                    }
                }),
                tu(["filter", "map", "takeWhile"], function(e, t) {
                    var n = t + 1
                      , r = 1 == n || 3 == n;
                    ny.prototype[e] = function(e) {
                        var t = this.clone();
                        return t.__iteratees__.push({
                            iteratee: ic(e, 3),
                            type: n
                        }),
                        t.__filtered__ = t.__filtered__ || r,
                        t
                    }
                }),
                tu(["head", "last"], function(e, t) {
                    var n = "take" + (t ? "Right" : "");
                    ny.prototype[e] = function() {
                        return this[n](1).value()[0]
                    }
                }),
                tu(["initial", "tail"], function(e, t) {
                    var n = "drop" + (t ? "" : "Right");
                    ny.prototype[e] = function() {
                        return this.__filtered__ ? new ny(this) : this[n](1)
                    }
                }),
                ny.prototype.compact = function() {
                    return this.filter(aU)
                }
                ,
                ny.prototype.find = function(e) {
                    return this.filter(e).head()
                }
                ,
                ny.prototype.findLast = function(e) {
                    return this.reverse().find(e)
                }
                ,
                ny.prototype.invokeMap = rd(function(e, t) {
                    return "function" == typeof e ? new ny(this) : this.map(function(n) {
                        return n2(n, e, t)
                    })
                }),
                ny.prototype.reject = function(e) {
                    return this.filter(oP(ic(e)))
                }
                ,
                ny.prototype.slice = function(e, t) {
                    e = o6(e);
                    var n = this;
                    return n.__filtered__ && (e > 0 || t < 0) ? new ny(n) : (e < 0 ? n = n.takeRight(-e) : e && (n = n.drop(e)),
                    i !== t && (n = (t = o6(t)) < 0 ? n.dropRight(-t) : n.take(t - e)),
                    n)
                }
                ,
                ny.prototype.takeRightWhile = function(e) {
                    return this.reverse().takeWhile(e).reverse()
                }
                ,
                ny.prototype.toArray = function() {
                    return this.take(4294967295)
                }
                ,
                nY(ny.prototype, function(e, t) {
                    var n = /^(?:filter|find|map|reject)|While$/.test(t)
                      , r = /^(?:head|last)$/.test(t)
                      , o = np[r ? "take" + ("last" == t ? "Right" : "") : t]
                      , a = r || /^find/.test(t);
                    o && (np.prototype[t] = function() {
                        var t = this.__wrapped__
                          , s = r ? [1] : arguments
                          , l = t instanceof ny
                          , u = s[0]
                          , c = l || oM(t)
                          , d = function(e) {
                            var t = o.apply(np, tg([e], s));
                            return r && f ? t[0] : t
                        };
                        c && n && "function" == typeof u && 1 != u.length && (l = c = !1);
                        var f = this.__chain__
                          , h = !!this.__actions__.length
                          , p = a && !f
                          , g = l && !h;
                        if (!a && c) {
                            t = g ? t : new ny(this);
                            var m = e.apply(t, s);
                            return m.__actions__.push({
                                func: oi,
                                args: [d],
                                thisArg: i
                            }),
                            new nv(m,f)
                        }
                        return p && g ? e.apply(this, s) : (m = this.thru(d),
                        p ? r ? m.value()[0] : m.value() : m)
                    }
                    )
                }),
                tu(["pop", "push", "shift", "sort", "splice", "unshift"], function(e) {
                    var t = eR[e]
                      , n = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru"
                      , r = /^(?:pop|shift)$/.test(e);
                    np.prototype[e] = function() {
                        var e = arguments;
                        if (r && !this.__chain__) {
                            var i = this.value();
                            return t.apply(oM(i) ? i : [], e)
                        }
                        return this[n](function(n) {
                            return t.apply(oM(n) ? n : [], e)
                        })
                    }
                }),
                nY(ny.prototype, function(e, t) {
                    var n = np[t];
                    if (n) {
                        var r = n.name + "";
                        eN.call(no, r) || (no[r] = []),
                        no[r].push({
                            name: t,
                            func: n
                        })
                    }
                }),
                no[rK(i, 2).name] = [{
                    name: "wrapper",
                    func: i
                }],
                ny.prototype.clone = function() {
                    var e = new ny(this.__wrapped__);
                    return e.__actions__ = rV(this.__actions__),
                    e.__dir__ = this.__dir__,
                    e.__filtered__ = this.__filtered__,
                    e.__iteratees__ = rV(this.__iteratees__),
                    e.__takeCount__ = this.__takeCount__,
                    e.__views__ = rV(this.__views__),
                    e
                }
                ,
                ny.prototype.reverse = function() {
                    if (this.__filtered__) {
                        var e = new ny(this);
                        e.__dir__ = -1,
                        e.__filtered__ = !0
                    } else
                        e = this.clone(),
                        e.__dir__ *= -1;
                    return e
                }
                ,
                ny.prototype.value = function() {
                    var e = this.__wrapped__.value()
                      , t = this.__dir__
                      , n = oM(e)
                      , r = t < 0
                      , i = n ? e.length : 0
                      , o = function(e, t, n) {
                        for (var r = -1, i = n.length; ++r < i; ) {
                            var o = n[r]
                              , a = o.size;
                            switch (o.type) {
                            case "drop":
                                e += a;
                                break;
                            case "dropRight":
                                t -= a;
                                break;
                            case "take":
                                t = t3(t, e + a);
                                break;
                            case "takeRight":
                                e = t2(e, t - a)
                            }
                        }
                        return {
                            start: e,
                            end: t
                        }
                    }(0, i, this.__views__)
                      , a = o.start
                      , s = o.end
                      , l = s - a
                      , u = r ? s : a - 1
                      , c = this.__iteratees__
                      , d = c.length
                      , f = 0
                      , h = t3(l, this.__takeCount__);
                    if (!n || !r && i == l && h == l)
                        return rP(e, this.__actions__);
                    var p = [];
                    e: for (; l-- && f < h; ) {
                        for (var g = -1, m = e[u += t]; ++g < d; ) {
                            var v = c[g]
                              , y = v.iteratee
                              , b = v.type
                              , E = y(m);
                            if (2 == b)
                                m = E;
                            else if (!E) {
                                if (1 == b)
                                    continue e;
                                break e
                            }
                        }
                        p[f++] = m
                    }
                    return p
                }
                ,
                np.prototype.at = oo,
                np.prototype.chain = function() {
                    return or(this)
                }
                ,
                np.prototype.commit = function() {
                    return new nv(this.value(),this.__chain__)
                }
                ,
                np.prototype.next = function() {
                    i === this.__values__ && (this.__values__ = o3(this.value()));
                    var e = this.__index__ >= this.__values__.length
                      , t = e ? i : this.__values__[this.__index__++];
                    return {
                        done: e,
                        value: t
                    }
                }
                ,
                np.prototype.plant = function(e) {
                    for (var t, n = this; n instanceof nm; ) {
                        var r = iV(n);
                        r.__index__ = 0,
                        r.__values__ = i,
                        t ? o.__wrapped__ = r : t = r;
                        var o = r;
                        n = n.__wrapped__
                    }
                    return o.__wrapped__ = e,
                    t
                }
                ,
                np.prototype.reverse = function() {
                    var e = this.__wrapped__;
                    if (e instanceof ny) {
                        var t = e;
                        return this.__actions__.length && (t = new ny(this)),
                        (t = t.reverse()).__actions__.push({
                            func: oi,
                            args: [i1],
                            thisArg: i
                        }),
                        new nv(t,this.__chain__)
                    }
                    return this.thru(i1)
                }
                ,
                np.prototype.toJSON = np.prototype.valueOf = np.prototype.value = function() {
                    return rP(this.__wrapped__, this.__actions__)
                }
                ,
                np.prototype.first = np.prototype.head,
                e4 && (np.prototype[e4] = function() {
                    return this
                }
                ),
                np
            }();
            e6._ = tW,
            i !== (r = (function() {
                return tW
            }
            ).call(t, n, t, e)) && (e.exports = r)
        }
        ).call(this)
    },
    88306: function(e, t, n) {
        var r = n(83369);
        function i(e, t) {
            if ("function" != typeof e || null != t && "function" != typeof t)
                throw TypeError("Expected a function");
            var n = function() {
                var r = arguments
                  , i = t ? t.apply(this, r) : r[0]
                  , o = n.cache;
                if (o.has(i))
                    return o.get(i);
                var a = e.apply(this, r);
                return n.cache = o.set(i, a) || o,
                a
            };
            return n.cache = new (i.Cache || r),
            n
        }
        i.Cache = r,
        e.exports = i
    },
    7771: function(e, t, n) {
        var r = n(55639);
        e.exports = function() {
            return r.Date.now()
        }
    },
    36968: function(e, t, n) {
        var r = n(10611);
        e.exports = function(e, t, n) {
            return null == e ? e : r(e, t, n)
        }
    },
    95062: function(e) {
        e.exports = function() {
            return !1
        }
    },
    23493: function(e, t, n) {
        var r = n(23279)
          , i = n(13218);
        e.exports = function(e, t, n) {
            var o = !0
              , a = !0;
            if ("function" != typeof e)
                throw TypeError("Expected a function");
            return i(n) && (o = "leading"in n ? !!n.leading : o,
            a = "trailing"in n ? !!n.trailing : a),
            r(e, t, {
                leading: o,
                maxWait: t,
                trailing: a
            })
        }
    },
    14841: function(e, t, n) {
        var r = n(27561)
          , i = n(13218)
          , o = n(33448)
          , a = 0 / 0
          , s = /^[-+]0x[0-9a-f]+$/i
          , l = /^0b[01]+$/i
          , u = /^0o[0-7]+$/i
          , c = parseInt;
        e.exports = function(e) {
            if ("number" == typeof e)
                return e;
            if (o(e))
                return a;
            if (i(e)) {
                var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                e = i(t) ? t + "" : t
            }
            if ("string" != typeof e)
                return 0 === e ? e : +e;
            e = r(e);
            var n = l.test(e);
            return n || u.test(e) ? c(e.slice(2), n ? 2 : 8) : s.test(e) ? a : +e
        }
    },
    79833: function(e, t, n) {
        var r = n(80531);
        e.exports = function(e) {
            return null == e ? "" : r(e)
        }
    },
    83454: function(e, t, n) {
        "use strict";
        var r, i;
        e.exports = (null == (r = n.g.process) ? void 0 : r.env) && "object" == typeof (null == (i = n.g.process) ? void 0 : i.env) ? n.g.process : n(77663)
    },
    6840: function(e, t, n) {
        (window.__NEXT_P = window.__NEXT_P || []).push(["/_app", function() {
            return n(72184)
        }
        ])
    },
    32701: function(e, t, n) {
        "use strict";
        n.d(t, {
            T: function() {
                return g
            }
        });
        var r = n(85893);
        n(67294);
        var i = n(66005)
          , o = n(21293)
          , a = n.n(o)
          , s = n(15103)
          , l = n(48583)
          , u = n(15624)
          , c = n(35466)
          , d = n(68069);
        let f = (0,
        s.cn)("")
          , h = (0,
        s.cn)(0)
          , p = ["pixel", "coins"]
          , g = e => !!p.includes(e) && (u.e.set(f, e),
        u.e.set(h, u.e.get(h) + 1),
        !0)
          , m = () => {
            u.e.set(f, "")
        }
          , v = () => {
            (0,
            l.KO)(h);
            let e = (0,
            d.j)((0,
            c.Uk)("/assets/images/bigpixel.png"))
              , {x: t} = (0,
            i.q_)({
                from: {
                    x: 0
                },
                x: 1,
                config: {
                    duration: 3e3
                },
                onRest: m
            });
            return (0,
            r.jsx)(i.q.div, {
                className: a().text,
                style: {
                    opacity: t.to({
                        range: [0, .3, .8, 1],
                        output: [.3, 1, 1, 0]
                    }),
                    scale: t.to({
                        range: [0, .1, .25, .45, .55, .75, .9, 1],
                        output: [.1, .6, 1, 1.5, 1, 1.5, .6, .05]
                    }),
                    rotate: t.to({
                        range: [0, .2, .8, 1],
                        output: [180, 0, 0, -180]
                    })
                },
                children: (0,
                r.jsx)("img", {
                    src: e
                })
            })
        }
          , y = () => {
            (0,
            l.KO)(h);
            let e = (0,
            d.j)((0,
            c.Uk)("/game/ui/coin.png"))
              , {x: t} = (0,
            i.q_)({
                from: {
                    x: 0
                },
                to: {
                    x: 1
                },
                config: {
                    duration: 1500
                },
                onRest: m
            });
            return (0,
            r.jsx)("div", {
                style: {
                    height: "100%"
                },
                children: [...Array(12)].map( (n, o) => (0,
                r.jsx)(i.q.div, {
                    className: a().text,
                    style: {
                        opacity: t.to({
                            range: [0, .3, .8, 1],
                            output: [.3, 1, 1, 0]
                        }),
                        scale: Math.random() + 2,
                        x: 200 * Math.random() - 100,
                        y: t.to({
                            range: [0, 1],
                            output: [0, (Math.random() + .5) * 1e3]
                        }),
                        rotate: t.to({
                            range: [0, .5, 1],
                            output: [180, 0, -180]
                        })
                    },
                    children: (0,
                    r.jsx)("img", {
                        src: e
                    })
                }, o))
            })
        }
        ;
        t.Z = () => {
            let[e] = (0,
            l.KO)(f);
            return (0,
            r.jsxs)("div", {
                className: a().container,
                children: ["pixel" === e && (0,
                r.jsx)(v, {}), "coins" === e && (0,
                r.jsx)(y, {})]
            })
        }
    },
    68069: function(e, t, n) {
        "use strict";
        n.d(t, {
            R: function() {
                return s
            },
            j: function() {
                return a
            }
        });
        var r = n(67294)
          , i = n(75268)
          , o = n(57295);
        function a(e) {
            let[t,n] = r.useState(!1)
              , i = r.useMemo( () => e ? o.Z.preloadedBlob(e) : "", [e, t]);
            return r.useEffect( () => {
                o.Z.canPreload(e) && o.Z.preloadOneBlob(e).then( () => n(!t)).catch( () => {}
                )
            }
            , [e]),
            i
        }
        function s(e) {
            return a("".concat(i.fd).concat(e || "upcoming", ".png"))
        }
    },
    16497: function(e, t, n) {
        "use strict";
        n.d(t, {
            Bf: function() {
                return y
            },
            Fc: function() {
                return b
            },
            HX: function() {
                return c
            },
            J2: function() {
                return v
            },
            Kt: function() {
                return d
            },
            Qb: function() {
                return p
            },
            Zo: function() {
                return h
            },
            je: function() {
                return g
            },
            sA: function() {
                return E
            },
            x9: function() {
                return l
            },
            xn: function() {
                return m
            }
        });
        var r = n(36609)
          , i = n(53059)
          , o = n(35466)
          , a = n(15624)
          , s = n(11941);
        function l(e) {
            let {days: t=0, hours: n=0, minutes: r=0, seconds: i=0, ms: o=0} = e;
            return o + 1e3 * i + 6e4 * r + 36e5 * n + 864e5 * t
        }
        let u = {};
        async function c(e, t) {
            var n;
            let r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : l({
                minutes: 2
            })
              , i = (null === (n = u[e]) || void 0 === n ? void 0 : n.timestamp) || 0;
            if (Date.now() - i > r) {
                let n = await t()
                  , r = Date.now();
                u[e] = {
                    result: n,
                    timestamp: r
                }
            }
            return u[e].result
        }
        function d(e) {
            var t, n;
            let i = null == e ? void 0 : null === (t = e.displayInfo) || void 0 === t ? void 0 : t.format;
            return i && (i = r.ZP.t(i, {
                ns: "ui"
            }),
            null === (n = e.displayInfo.values) || void 0 === n || n.forEach( (e, t) => {
                i = i.replace("{".concat(t, "}"), null == e ? void 0 : e.toString())
            }
            )),
            i
        }
        let f = (e, t, n, r) => {
            let i = "";
            return e > 0 && (i += "".concat(e, "d ")),
            t > 0 && (i += "".concat(t, "h ")),
            n > 0 && (i += "".concat(n, "m ")),
            void 0 !== r && (i += "".concat(r, "s")),
            i
        }
        ;
        function h(e) {
            if (e < 0 || "number" != typeof e || Number.isNaN(e))
                return "...";
            if (e <= 90)
                return f(0, 0, Math.floor(e / 60), Math.floor(e % 60));
            {
                let t = Math.round(e / 60);
                return f(Math.floor(t / 1440), Math.floor(t / 60 % 24), Math.floor(t % 60))
            }
        }
        function p(e) {
            switch (e) {
            case 1:
                return "I";
            case 2:
                return "II";
            case 3:
                return "III";
            case 4:
                return "IV";
            case 5:
                return "V"
            }
            return e.toString()
        }
        function g(e) {
            return e[0].toUpperCase() + e.slice(1)
        }
        function m(e, t) {
            let n = new Map;
            return e.forEach(e => {
                n.set(e[t].toString(), e)
            }
            ),
            n
        }
        function v(e, t) {
            let n = {
                width: 64,
                height: 64,
                image: null == e ? void 0 : e.image,
                scale: 2
            };
            if (e && t) {
                var r, a, s, l;
                if (null === (r = e.onUse) || void 0 === r ? void 0 : r.placeObject) {
                    let t = i.Z.getGameObject(e.onUse.placeObject);
                    (null == t ? void 0 : null === (a = t.sprite) || void 0 === a ? void 0 : a.image) && (n.image = t.sprite.image,
                    n.width = null === (s = t.sprite.size) || void 0 === s ? void 0 : s.width,
                    n.height = null === (l = t.sprite.size) || void 0 === l ? void 0 : l.height,
                    n.height <= 40 && n.width <= 40 ? n.scale = 3 : n.height <= 90 && n.width <= 90 ? n.scale = 2 : n.scale = 1,
                    n.width && n.height && (n.width *= n.scale,
                    n.height *= n.scale),
                    console.log("using object image with scale ".concat(n.scale, " ").concat(n.width)))
                }
            }
            return n.image = (0,
            o.b7)(n.image),
            n
        }
        let y = (e, t) => {
            navigator.share ? navigator.share({
                ...t ? {
                    title: t
                } : {},
                url: e
            }).then( () => {}
            ).catch(console.error) : navigator.clipboard && (navigator.clipboard.writeText(e),
            a.e.set(s.W_, [{
                source: "other",
                text: {
                    id: "Link Copied to Clipboard"
                }
            }]))
        }
          , b = e => null == e ? void 0 : e.find(e => /rent/gi.test(e))
          , E = function(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "name";
            return "".concat(null == e ? void 0 : e.replace(/\)|\(/g, "_"), "_").concat(t)
        }
    },
    14411: function(e, t, n) {
        "use strict";
        n.d(t, {
            LB: function() {
                return o
            },
            Yx: function() {
                return i
            },
            oQ: function() {
                return r
            }
        });
        let r = !0
          , i = !1
          , o = "".concat("https", "://").concat("pixels-server.pixels.xyz")
    },
    73913: function(e, t, n) {
        "use strict";
        let r;
        n.d(t, {
            l: function() {
                return R
            }
        });
        var i = n(7767)
          , o = n(80919)
          , a = n(96721)
          , s = n(53059)
          , l = n(75268)
          , u = n(23493)
          , c = n.n(u)
          , d = n(7654)
          , f = n.n(d);
        class h {
            constructor(e, t) {
                this.command = e,
                this.payload = t
            }
        }
        class p {
            pushNewObject(e) {
                for (let n = 0; n < this.queue.length; n++) {
                    var t;
                    let r = this.queue[n];
                    if (r.command !== a.mY.buildObject || "remove" !== r.payload.type || (null === (t = r.payload.remove) || void 0 === t ? void 0 : t._id))
                        console.log("no match");
                    else {
                        r.payload.remove._id = e;
                        break
                    }
                }
            }
            pushNewEntity(e) {
                for (let n = 0; n < this.queue.length; n++) {
                    var t;
                    let r = this.queue[n];
                    if (r.command === a.mY.buildEntity && "remove" === r.payload.action && !(null === (t = r.payload.remove) || void 0 === t ? void 0 : t._id)) {
                        r.payload.remove._id = e;
                        break
                    }
                }
            }
            popObject() {
                return this.queue.pop()
            }
            pushObject(e) {
                let t;
                let n = {
                    type: "update"
                };
                switch (e.type) {
                case "update":
                    if (n.type = "update",
                    !e.update || !(t = s.Z.getMapObject(e.update._id)))
                        return !1;
                    n.update = {
                        _id: e.update._id
                    },
                    Object.keys(e.update).forEach(e => {
                        n.update[e] = t[e]
                    }
                    );
                    break;
                case "add":
                    n.type = "remove",
                    n.remove = {
                        _id: ""
                    };
                    break;
                case "remove":
                    if (n.type = "add",
                    !e.remove || !(t = s.Z.getMapObject(e.remove._id)))
                        return !1;
                    n.add = {
                        ...t
                    }
                }
                this.queue.push(new h(a.mY.buildObject,n))
            }
            pushEntity(e, t) {
                let n;
                let r = {
                    action: "move"
                };
                switch (e.action) {
                case "move":
                    if (r.action = "move",
                    !e.move || !t || !(n = t.get(e.move._id)))
                        return !1;
                    r.move = {
                        _id: e.move._id,
                        label: n.label,
                        x: n.position.x,
                        y: n.position.y
                    };
                    break;
                case "add":
                    r.action = "remove",
                    r.remove = {
                        _id: ""
                    };
                    break;
                case "remove":
                    if (r.action = "add",
                    !e.remove || !t || !(n = t.get(e.remove._id)))
                        return !1;
                    r.add = {
                        _id: e.remove._id,
                        x: n.position.x,
                        y: n.position.y,
                        entity: n.entity,
                        label: n.label
                    }
                }
                this.queue.push(new h(a.mY.buildEntity,r))
            }
            pushTiles(e, t) {
                let n = {
                    action: "update"
                };
                n.update = e.map(e => {
                    let n = null == t ? void 0 : t[e._id];
                    return n ? {
                        _id: e._id,
                        tileset: e.tileset,
                        x: n.x,
                        y: n.y,
                        width: n.width,
                        index: n.index,
                        indexes: n.indexes ? [...n.indexes] : void 0
                    } : {
                        _id: e._id,
                        tileset: e.tileset,
                        x: e.x,
                        y: e.y,
                        width: 0,
                        indexes: []
                    }
                }
                ),
                this.queue.push(new h(a.mY.buildTile,n))
            }
            constructor() {
                this.queue = []
            }
        }
        var g = n(63534);
        let m = e => {
            let t = []
              , n = [];
            try {
                return null == e || e.forEach(e => {
                    var n, r, i;
                    null !== (i = null === (r = e.metadata) || void 0 === r ? void 0 : null === (n = r.worlds) || void 0 === n ? void 0 : n.length) && void 0 !== i && i && e.metadata.worlds.forEach( (e, n) => {
                        var r;
                        null !== e && (t[n] = (null !== (r = t[n]) && void 0 !== r ? r : 0) + e)
                    }
                    )
                }
                ),
                v(t)
            } catch (e) {
                return console.log("worlds lookup", e),
                {
                    total: 0,
                    maxPlayersPerWorld: 1e3,
                    numberOfWorlds: n.length,
                    worlds: n
                }
            }
        }
          , v = e => {
            let t = 0
              , n = []
              , r = 0
              , i = 0;
            try {
                "function" == typeof (null == e ? void 0 : e.forEach) && e.forEach( (e, o) => {
                    0 === o || null === e || 99 === o || o > 500 || (n.push({
                        id: o,
                        name: "World " + o,
                        players: Math.max(0, e)
                    }),
                    e < 1600 && r++,
                    e <= 0 && i++,
                    t += e)
                }
                );
                for (let t = 1; t <= 4; t++)
                    (void 0 === e[t] || null === e[t]) && (n.push({
                        id: t,
                        name: "World " + t,
                        players: 0
                    }),
                    r++,
                    i++);
                if (0 === i && r < 2) {
                    n.sort( (e, t) => e.id - t.id);
                    let e = 0;
                    for (; e < n.length && !(n[e].id > e + 1); e++)
                        ;
                    if (e + 1 < 80) {
                        let t = (e + 1).toString();
                        n.push({
                            id: t,
                            name: "World " + t,
                            players: 0
                        })
                    }
                }
                return {
                    total: t,
                    numberOfWorlds: n.length,
                    maxPlayersPerWorld: 2e3,
                    worlds: n
                }
            } catch (e) {
                return console.log("worlds lookup", e),
                0 === n.length && n.push({
                    id: 9,
                    name: "Wiggly World",
                    players: 100
                }),
                {
                    total: t,
                    maxPlayersPerWorld: 2e3,
                    numberOfWorlds: n.length,
                    worlds: n
                }
            }
        }
        ;
        class y {
            async fetchWorldData() {
                try {
                    let e = await g.Z.getWorldTotals();
                    return v(null != e ? e : [])
                } catch (e) {
                    console.log("worlds error", e)
                }
                return m([])
            }
            constructor(e) {
                this.client = e
            }
        }
        var b = n(15624)
          , E = n(11941)
          , _ = n(31040)
          , w = n(53518);
        function O(e) {
            return JSON.parse(JSON.stringify(e))
        }
        let A = "".concat("wss", "://").concat("pixels-server.pixels.xyz")
          , S = null
          , P = {
            [o.Yi.PLAYER_MOVING]: {
                command: a.mY.moveSelfPlayer,
                throttle: !0,
                adapter: e => {
                    let t = -4 & Math.floor(Date.now() / 1e5);
                    return [Math.round(e.position.x) * (t % 1e3) + Math.round(e.position.y) * (t % 23) + t % 111, e.position.x, e.position.y, e.velocity.x, e.velocity.y]
                }
            },
            [o.qM.PLAYER_USED_ITEM]: {
                command: a.mY.useItem,
                adapter: e => {
                    var t, n, r, i, o, a, s;
                    return {
                        id: null === (t = e.item) || void 0 === t ? void 0 : t.id,
                        type: null === (n = e.target) || void 0 === n ? void 0 : n.type,
                        slot: null === (r = e.item) || void 0 === r ? void 0 : r.inventorySlot,
                        mid: null === (i = e.target) || void 0 === i ? void 0 : i.mid,
                        x: null === (o = e.target) || void 0 === o ? void 0 : o.x,
                        y: null === (a = e.target) || void 0 === a ? void 0 : a.y,
                        tiles: null === (s = e.target) || void 0 === s ? void 0 : s.tiles
                    }
                }
            },
            [a.mY.clickEntity]: {
                command: a.mY.clickEntity
            },
            [a.mY.timerCheck]: {
                command: a.mY.timerCheck,
                throttle: !0
            },
            [a.mY.claimAll]: {
                command: a.mY.claimAll
            },
            [o.qM.PLAYER_CLICKED_NPC]: {
                command: a.mY.talkToNPC,
                adapter: e => e
            },
            [o.Yi.NPCDIALOG_CLOSE]: {
                command: a.mY.closeDialog,
                adapter: e => e
            },
            [o.Yi.TRIGGER_EVENT]: {
                command: a.mY.collideWithObject,
                adapter: e => ({
                    objectId: e.targetId,
                    trigger: e.trigger
                })
            },
            [o.Yi.NFT_SELECTED]: {
                command: a.mY.setAvatar,
                adapter: e => e
            },
            [o.Yi.PET_SELECTED]: {
                command: a.mY.setPet
            },
            [o.Yi.PET_RENAME]: {
                command: a.mY.setPetName
            },
            [o.Yi.SET_STORAGE_NAME]: {
                command: a.mY.setStorageName
            },
            [o.Yi.CHAT_MESSAGE_SEND]: {
                command: a.mY.addMessageToChat
            },
            [o.Yi.SET_TYPING_STATE]: {
                command: a.mY.setTypingState,
                throttle: !0
            },
            [o.fb.SET_TOS_ACCEPTED]: {
                command: a.mY.setTosAccepted
            },
            [o.Yi.FARM_CLAIM]: {
                command: a.mY.rentFarm
            },
            [o.Yi.FIND_NFT]: {
                command: a.mY.findNFTs
            },
            [o.Yi.PUSH_SUBSCRIBE]: {
                command: a.mY.subscribe
            },
            [o.Yi.BUY_STORE_ITEM]: {
                command: a.mY.buyStoreItem
            },
            [o.Yi.SELL_STORE_ITEM]: {
                command: a.mY.sellStoreItem
            },
            [o.fb.BOOKMARK_MAP]: {
                command: a.mY.bookmarkMap
            },
            [o.qM.BUILD_OBJECT]: {
                command: a.mY.buildObject,
                adapter: e => (r || (r = new p),
                r.pushObject(e),
                e)
            },
            [o.qM.BUILD_TILE]: {
                command: a.mY.buildTile,
                adapter: e => (r || (r = new p),
                e)
            },
            [o.qM.BUILD_ENTITY]: {
                command: a.mY.buildEntity,
                adapter: e => (r || (r = new p),
                r.pushEntity(e, R.getInstance().getMapEntities()),
                e)
            },
            [o.qM.UPGRADE_FARM]: {
                command: a.mY.upgradeFarm
            },
            [o.qM.ROOM_RESTRICTIONS]: {
                command: a.mY.updateRoomRestrictions
            },
            [o.qM.ROOM_PERMISSIONS]: {
                command: a.mY.updateRolesAndPermissions
            },
            [o.qM.ROOM_OWNERSHIP]: {
                command: a.mY.updateMapListing
            },
            [o.qM.CLAIM_NFTMAP]: {
                command: a.mY.claimNftMap,
                adapter: e => e
            },
            [o.qM.ROOM_MEMBERS]: {
                command: a.mY.updateMapMembers
            },
            [o.qM.ROOM_NAME]: {
                command: a.mY.updateRoomName,
                adapter: e => ({
                    name: e
                })
            },
            [o.fb.TRADE_SEND]: {
                command: a.mY.trade
            },
            [o.fb.MARKETPLACE_SEND]: {
                command: a.mY.marketplace
            },
            [o.fb.REPORT_PLAYER]: {
                command: a.mY.reportPlayer
            },
            [o.Yi.FETCH_MAIL]: {
                command: a.mY.fetchMailbox
            },
            [o.Yi.COLLECT_MAIL_ITEM]: {
                command: a.mY.collectMailboxItem
            },
            [o.Yi.MINT_UGC]: {
                command: a.mY.mintUgc
            },
            [o.Yi.CLIENT_TRIGGER]: {
                command: a.mY.clientTrigger,
                adapter: e => ({
                    ...e
                })
            }
        };
        class R {
            get chatMessages() {
                var e;
                return null === (e = this.room) || void 0 === e ? void 0 : e.state.chatMessages
            }
            get mapLabels() {
                var e, t;
                return null !== (t = null === (e = this.room) || void 0 === e ? void 0 : e.state.labels) && void 0 !== t ? t : []
            }
            get mapType() {
                var e, t;
                return null !== (t = null === (e = this.room) || void 0 === e ? void 0 : e.state.type) && void 0 !== t ? t : "public"
            }
            get mapTraits() {
                var e, t, n;
                return null === (n = this.room) || void 0 === n ? void 0 : null === (t = n.state) || void 0 === t ? void 0 : null === (e = t.nft) || void 0 === e ? void 0 : e.traits
            }
            get currentPlayer() {
                var e, t;
                return {
                    core: null === (t = this.room) || void 0 === t ? void 0 : t.state.players.get(null === (e = this.room) || void 0 === e ? void 0 : e.sessionId),
                    full: this.selfPlayer
                }
            }
            get mapId() {
                var e;
                return (null === (e = this.room) || void 0 === e ? void 0 : e.state.id) || ""
            }
            get mapStorageId() {
                var e;
                return (null === (e = this.room) || void 0 === e ? void 0 : e.state.mid) || ""
            }
            get marketPlaceSellLimit() {
                var e, t;
                return null !== (t = null === (e = this.room) || void 0 === e ? void 0 : e.state.mpSell) && void 0 !== t ? t : 1500
            }
            get marketPlaceBuyLimit() {
                var e, t;
                return null !== (t = null === (e = this.room) || void 0 === e ? void 0 : e.state.mpBuy) && void 0 !== t ? t : 700
            }
            static getInstance() {
                return R.singleton || (R.singleton = new R),
                R.singleton
            }
            getMapEntities() {
                var e, t;
                return null === (t = this.room) || void 0 === t ? void 0 : null === (e = t.state) || void 0 === e ? void 0 : e.entities
            }
            getEntityByUniqueId(e) {
                var t, n;
                return (null === (t = this.getMapEntities()) || void 0 === t ? void 0 : t.get(e)) || (null === (n = this.selfPlayer) || void 0 === n ? void 0 : n.entities.get(e))
            }
            getPlayerSessionIdByMid(e) {
                var t, n;
                if (!e)
                    return;
                let r = null === (n = this.room) || void 0 === n ? void 0 : null === (t = n.state) || void 0 === t ? void 0 : t.players;
                if (r) {
                    for (let[t,n] of r.entries())
                        if (n.mid === e)
                            return t
                }
            }
            getPlayerCoreBySessionId(e) {
                var t, n;
                if (this.isSelfPlayer(e))
                    return this.currentPlayer.core;
                let r = null === (t = this.room) || void 0 === t ? void 0 : t.state.players.get(e);
                if (r)
                    return null === (n = this.players) || void 0 === n ? void 0 : n.get(r.mid)
            }
            getSessionId() {
                var e;
                return null === (e = this.room) || void 0 === e ? void 0 : e.sessionId
            }
            getMapStorage() {
                var e;
                return null === (e = this.room) || void 0 === e ? void 0 : e.state.storage
            }
            addMapEntity(e) {
                let t = this.getMapEntities();
                t && t.set(e.mid, e)
            }
            getSoilEntity(e) {
                return this.getEntityByUniqueId(e)
            }
            hasJoystick() {
                var e;
                return !!(null === (e = this.scene) || void 0 === e ? void 0 : e.hasJoystick())
            }
            peekLeftMap() {
                let e = this.mapId
                  , t = null == e ? void 0 : e.match(/NFT.*-(\d+)/)
                  , n = !!t && !!t[1] && parseInt(t[1]);
                return n ? 1 === n ? n = 5e3 : n-- : n = 1 + Math.floor((Date.now() - this.serverTimeDelta) / 1e3 % 86400 / 17.28) % 5e3,
                "pixelsNFTFarm-".concat(n)
            }
            peekRightMap() {
                let e = this.mapId
                  , t = null == e ? void 0 : e.match(/NFT.*-(\d+)/)
                  , n = !!t && !!t[1] && parseInt(t[1]);
                return n ? 5e3 === n ? n = 1 : n++ : n = 1 + Math.floor(((Date.now() - this.serverTimeDelta) / 1e3 + 43200) % 86400 / 17.28) % 5e3,
                "pixelsNFTFarm-".concat(n)
            }
            registerEvents() {
                let e = (e, t, n) => {
                    if (!n || !this.room || this.room.sessionId !== n) {
                        console.log("message ignored because room not loaded", e);
                        return
                    }
                    this.room.send(e, t)
                }
                ;
                Object.entries(P).forEach(t => {
                    let[n,r] = t
                      , i = r.throttle ? c()(e, 250) : e;
                    o.ZP.registerEventListener(n, e => {
                        var t;
                        i(r.command, r.adapter ? r.adapter(e) : e, null === (t = this.room) || void 0 === t ? void 0 : t.sessionId)
                    }
                    )
                }
                );
                let t = (t, n) => {
                    let r = n.throttle ? c()(e, 250) : e;
                    t.subscribe(e => {
                        var t;
                        let i = n.adapter ? n.adapter(e) : e;
                        r(n.command, i, null === (t = this.room) || void 0 === t ? void 0 : t.sessionId)
                    }
                    )
                }
                ;
                t(o.rV.inventory.swapItems, {
                    command: a.mY.swapOrCombineInventorySlots
                }),
                t(o.rV.inventory.changeActiveRow, {
                    command: a.mY.changeEquipmentBar,
                    throttle: !0
                }),
                t(o.rV.sellOrders.fetch, {
                    command: a.mY.sellOrders,
                    throttle: !0
                }),
                t(o.rV.sellOrders.fill, {
                    command: a.mY.sellOrders
                }),
                t(o.rV.sellOrders.reset, {
                    command: a.mY.sellOrderReset
                })
            }
            undoCommand() {
                if (r) {
                    console.log("undo list exists");
                    let t = r.popObject();
                    if (t) {
                        var e;
                        console.log("sending undo", t.command, t.payload),
                        null === (e = this.room) || void 0 === e || e.send(t.command, t.payload)
                    }
                }
            }
            checkParams() {
                let e = new URLSearchParams(window.location.search);
                e.has("mockEthAddress") && e.get("mockEthAddress"),
                e.has("trigger") && (S = e.get("trigger"))
            }
            isSelfPlayer(e) {
                var t;
                return e === (null === (t = this.room) || void 0 === t ? void 0 : t.sessionId)
            }
            initPlayers() {
                var e, t, n;
                if (this.players = new Map,
                "private" === this.room.state.type || "tutorial" === this.room.state.type) {
                    let t = this.currentPlayer;
                    t && (null === (e = this.players) || void 0 === e || e.set(t.core.mid, t.core))
                } else
                    null === (n = this.room) || void 0 === n || null === (t = n.state) || void 0 === t || t.players.forEach( (e, t) => {
                        var n;
                        null === (n = this.players) || void 0 === n || n.set(e.mid, e),
                        this.isSelfPlayer(t) || this.setupOtherPlayer(e, t)
                    }
                    )
            }
            handleDisconnect() {
                var e;
                null === (e = this.room) || void 0 === e || e.onLeave(e => {
                    var t, n, r, i;
                    if (null === (n = this.currentPlayer) || void 0 === n ? void 0 : null === (t = n.core) || void 0 === t ? void 0 : t.isGuest) {
                        console.log("disconnected, code=", e),
                        null === (r = this.room) || void 0 === r || r.removeAllListeners();
                        return
                    }
                    if (o.ZP.emitEventNow(o.fb.ROOM_LEAVE),
                    this.room) {
                        if (console.log("disconnected, code=", e),
                        this.room.removeAllListeners(),
                        null === (i = this.playerSerializer) || void 0 === i || i.teardown(),
                        this.playerSerializer = void 0,
                        this.selfPlayer = void 0,
                        this.room = void 0,
                        4999 === e) {
                            o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                                message: ["playerKicked", "We offer our humble apologies. You have been disconnected from the game server as a result of joining from another device or browser window. Multiple connections are not permitted."]
                            });
                            return
                        }
                        o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: "lostConnection"
                        })
                    }
                }
                )
            }
            handleRoomEvents() {
                var e;
                this.room && (this.room.onMessage(a.mY.timeSync, e => {
                    if ((null == e ? void 0 : e.ms) && !this.serverDeltaSet) {
                        let t = Date.now() - e.ms;
                        Math.abs(t) < Math.abs(this.serverTimeDelta) && (this.serverTimeDelta = t,
                        console.log("time delta ".concat(this.serverTimeDelta, "ms")))
                    }
                }
                ),
                this.room.state.listen("ownerAddress", e => {
                    o.ZP.emitEventNow(o.fb.ROOM_OWNER_CHANGED, e)
                }
                ),
                this.room.state.listen("name", () => {
                    this.room && o.ZP.emitEventNow(o.fb.ROOM_NAME_CHANGED, this.room.state.name)
                }
                ),
                this.room.state.listen("guild", () => {
                    this.room && o.ZP.emitEventNow(o.fb.ROOM_GUILD_CHANGED, this.room.state.guild)
                }
                ),
                this.room.state.permissions.onChange( () => {
                    if (!this.room)
                        return;
                    let e = JSON.parse(JSON.stringify(this.room.state.permissions));
                    o.ZP.emitEventNow(o.fb.ROOM_PERMISSIONS_CHANGED, e)
                }
                ),
                this.room.state.restrictions.onChange( () => {
                    if (!this.room)
                        return;
                    let e = JSON.parse(JSON.stringify(this.room.state.restrictions));
                    o.ZP.emitEventNow(o.fb.ROOM_RESTRICTIONS_CHANGED, e)
                }
                ),
                this.room.state.ownership && this.room.state.ownership.onChange( () => {
                    if (!this.room)
                        return;
                    let e = JSON.parse(JSON.stringify(this.room.state.ownership));
                    o.ZP.emitEventNow(o.fb.ROOM_OWNERSHIP_CHANGED, e)
                }
                ),
                this.room.state.members.onChange( () => {
                    if (!this.room)
                        return;
                    let e = JSON.parse(JSON.stringify(this.room.state.members));
                    o.ZP.emitEventNow(o.fb.ROOM_MEMBERS_CHANGED, e)
                }
                ),
                this.room.state.labels.onAdd( () => {
                    var e;
                    if (!this.room)
                        return;
                    let t = null === (e = this.room.state.labels) || void 0 === e ? void 0 : e.toJSON();
                    o.ZP.emitEventNow(o.fb.ROOM_LABELS_CHANGED, t)
                }
                ),
                null === (e = this.room) || void 0 === e || e.onMessage("*", (e, t) => {
                    if (this.room)
                        try {
                            var n, i, l, u, c, d, f, h, p, g, m, v, y, w, O, A, S, P;
                            switch (e) {
                            case a.mY.updatePlayer:
                                null === (n = this.playerSerializer) || void 0 === n || n.patch(t),
                                this.applyStateChanges();
                                break;
                            case a.mY.talkToNPC:
                                o.ZP.emitEventNow(o.fb.NPC_SPEAKS, t);
                                break;
                            case a.mY.receiveMessageInChat:
                                o.ZP.emitEventNow(o.fb.CHAT_MESSAGE_RCV, {
                                    ...t,
                                    whisper: !0
                                });
                                break;
                            case a.mY.buildObject:
                                r && "add" === t.action && r.pushNewObject(t._id),
                                "add" === t.action || "update" === t.action ? s.Z.addMapObject(t) : "remove" === t.action && s.Z.removeMapObject(t),
                                o.ZP.emitEventNow(o.fb.SERVER_BUILD_NODE, {
                                    ...t,
                                    type: "object"
                                });
                                break;
                            case a.mY.buildTile:
                                t.update && (r && "update" !== t.action && r.pushTiles(t.update, s.Z.getMapTiles()),
                                s.Z.updateMapTiles(t.update)),
                                o.ZP.emitEventNow(o.fb.SERVER_BUILD_NODE, {
                                    type: "tile",
                                    ...t
                                });
                                break;
                            case a.mY.useItem:
                                o.ZP.sendEventDelayed("CONFIRM_USEITEM", t),
                                null === (i = this.scene) || void 0 === i || i.playerUsedItem(t);
                                break;
                            case a.mY.useItemError:
                                if ("cannot-overwater" === t.message)
                                    break;
                                o.rV.playSound.emit("snd_ui_error");
                                let R = t.item && (null === (l = s.Z.getGameItem(t.item)) || void 0 === l ? void 0 : l.image)
                                  , I = {
                                    source: "item",
                                    icon: R,
                                    text: {
                                        id: t.message
                                    },
                                    deduplicationKey: t.message
                                };
                                b.e.set(E.W_, [I]);
                                break;
                            case a.mY.teleportPlayer:
                                o.ZP.emitEventNow(o.fb.ROOM_WARP, {
                                    mapId: t.mapId,
                                    spawn: t.spawn,
                                    source: t.source,
                                    abort: t.abort
                                });
                                break;
                            case a.mY.playerAction:
                                "play" === t.action ? (t.sound && o.rV.playPositionedSound.emit({
                                    id: t.sound,
                                    position: null === (c = t.animation) || void 0 === c ? void 0 : c.position
                                }),
                                (null === (u = t.animation) || void 0 === u ? void 0 : u.name) && (t.target && "self" !== t.target ? null === (f = this.scene) || void 0 === f || f.playNodeAnimation({
                                    mid: t.target,
                                    animation: t.animation.name,
                                    position: t.animation.position,
                                    emoji: t.emoji,
                                    pet: !1
                                }) : null === (d = this.scene) || void 0 === d || d.playPlayerAnimation(t.animation.name))) : "stop" === t.action ? t.sound && (console.log("stopping sound ".concat(t.sound)),
                                o.ZP.sendEventDelayed("STOP_SOUND", t.sound)) : "petplay" === t.action ? t.emoji && (null === (g = this.scene) || void 0 === g || g.playNodeAnimation({
                                    mid: null !== (m = t.target) && void 0 !== m ? m : "",
                                    animation: null !== (v = null === (h = t.animation) || void 0 === h ? void 0 : h.name) && void 0 !== v ? v : "",
                                    position: null === (p = t.animation) || void 0 === p ? void 0 : p.position,
                                    emoji: t.emoji,
                                    pet: !0
                                })) : "tween" === t.action && t.tweenTo && (null === (y = this.scene) || void 0 === y || y.playNodeAnimation({
                                    mid: null !== (w = t.target) && void 0 !== w ? w : "",
                                    animation: null !== (O = t.tweenTo.animation) && void 0 !== O ? O : "",
                                    position: {
                                        x: t.tweenTo.x,
                                        y: t.tweenTo.y
                                    },
                                    tween: {
                                        duration: t.tweenTo.ms,
                                        easing: null !== (A = t.tweenTo.ease) && void 0 !== A ? A : "cubic"
                                    }
                                }));
                                break;
                            case a.mY.playerNotification:
                                b.e.set(E.W_, [t]),
                                (null == t ? void 0 : t.source) === "item" && (null === (S = t.text) || void 0 === S ? void 0 : S.count) > 0 && (null === (P = t.stacking) || void 0 === P ? void 0 : P.key) && o.ZP.emitEventNow(o.fb.PLAYER_INVENTORY_NEW, {
                                    item: t.stacking.key
                                });
                                break;
                            case a.mY.sellOrders:
                                b.e.set(_.v, t);
                                break;
                            case a.mY.clientCmd:
                                o.ZP.emitEventNow(o.fb.CLIENT_CMD, t);
                                break;
                            case a.mY.presentUI:
                                o.ZP.emitEventNow(o.fb.PRESENT_UI, t);
                                break;
                            case a.mY.trade:
                                o.ZP.emitEventNow(o.fb.TRADE_RECEIVE, t);
                                break;
                            case a.mY.marketplace:
                                o.ZP.emitEventNow(o.fb.MARKETPLACE_RECEIVE, t);
                                break;
                            case a.mY.setAvatar:
                                o.ZP.emitEventNow(o.fb.PLAYER_AVATAR, t);
                                break;
                            case a.mY.bookmarkMap:
                                o.ZP.emitEventNow(o.fb.BOOKMARK_MAP, t);
                                break;
                            case a.mY.fetchMailbox:
                                o.ZP.emitEventNow(o.fb.RECEIVE_MAIL, t);
                                break;
                            case a.mY.collectMailboxItem:
                                o.ZP.emitEventNow(o.fb.COLLECT_MAIL_ITEM_RESPONSE, t);
                                break;
                            case a.mY.findNFTs:
                                o.ZP.emitEventNow(o.Yi.FOUND_NFT, t);
                                break;
                            default:
                                console.warn("Unhandled server message", e, t)
                            }
                        } catch (n) {
                            console.error("exception in message", n, "from message", e, t)
                        }
                }
                ),
                this.handleDisconnect())
            }
            applyStateChanges() {
                this.updatedEntities.forEach(e => {
                    this.entityUpdated(e)
                }
                ),
                this.updatedEntities.clear(),
                this.updatedPet && (this.selfPetupdate(),
                this.updatedPet = !1),
                this.updatedInventory && (this.inventoryChanged(),
                this.updatedInventory = !1),
                this.wardrobeChanged()
            }
            handleRoomUpdates() {
                if (!this.room)
                    return;
                this.room.onStateChange( () => {
                    this.applyStateChanges()
                }
                ),
                this.room.state.entities.forEach(e => {
                    this.monitorEntity(e)
                }
                ),
                this.room.state.entities.onAdd(e => {
                    var t;
                    null === (t = this.scene) || void 0 === t || t.addEntityElement(void 0, e.toJSON()),
                    r && r.pushNewEntity(e.mid),
                    this.monitorEntity(e),
                    o.ZP.emitEventNow(o.fb.SERVER_BUILD_NODE, {
                        _id: e.mid,
                        action: "add",
                        type: "entity"
                    })
                }
                , !1),
                this.room.state.entities.onRemove(e => {
                    var t;
                    let n = s.Z.getGameEntity(e.entity);
                    null === (t = this.scene) || void 0 === t || t.removeEntityElement(e.mid, null == n ? void 0 : n.type),
                    o.ZP.emitEventNow(o.fb.SERVER_BUILD_NODE, {
                        _id: e.mid,
                        action: "remove",
                        type: "entity"
                    })
                }
                ),
                this.room.state.chatMessages.onAdd(e => {
                    var t;
                    (null === (t = this.room) || void 0 === t ? void 0 : t.state) && "private" !== this.room.state.type && "tutorial" !== this.room.state.type && o.ZP.emitEventNow(o.fb.CHAT_MESSAGE_RCV, {
                        ...e
                    })
                }
                , !1);
                let e = this.room.state.storage;
                (null == e ? void 0 : e.slots) && (e.slots.onAdd(e => {
                    this.monitorSlot(e)
                }
                ),
                e.slots.onRemove( () => this.updatedInventory = !0)),
                this.room.state.levels.onAdd( (e, t) => {
                    let n = JSON.parse(JSON.stringify(e));
                    o.ZP.emitEventNow(o.fb.ROOM_LEVEL_ADD, {
                        key: t,
                        level: n
                    }),
                    this.monitorLevel(t, e, "room")
                }
                ),
                this.room.state.players.onAdd( (e, t) => {
                    var n, r, i;
                    this.room && ((null === (n = this.room.state) || void 0 === n ? void 0 : n.type) === "private" || (null === (r = this.room.state) || void 0 === r ? void 0 : r.type) === "tutorial" || (null === (i = this.players) || void 0 === i || i.set(e.mid, e),
                    o.ZP.emitEventNow(o.fb.PLAYER_JOINED, {
                        username: e.username,
                        sessionId: t,
                        id: e.mid
                    }),
                    this.isSelfPlayer(t) || setTimeout( () => {
                        var n, r, i;
                        (null === (i = this.room) || void 0 === i ? void 0 : null === (r = i.state) || void 0 === r ? void 0 : null === (n = r.players) || void 0 === n ? void 0 : n.has(t)) && this.setupOtherPlayer(e, t)
                    }
                    , 10)))
                }
                , !1),
                this.room.state.players.onRemove( (e, t) => {
                    var n, r, i, a;
                    this.room && (null === (n = this.room.state) || void 0 === n ? void 0 : n.type) !== "private" && (null === (r = this.room.state) || void 0 === r ? void 0 : r.type) !== "tutorial" && (null === (i = this.players) || void 0 === i || i.delete(e.mid),
                    o.ZP.emitEventNow(o.fb.PLAYER_REMOVED, {
                        username: e.username,
                        id: e.mid
                    }),
                    null === (a = this.scene) || void 0 === a || a.playerLeave(t, e.mid))
                }
                )
            }
            async disconnect() {
                var e, t;
                if (!this.room)
                    return Promise.resolve(-1);
                let {room: n} = this;
                this.room.removeAllListeners(),
                null === (e = this.playerSerializer) || void 0 === e || e.teardown(),
                this.playerSerializer = void 0,
                this.selfPlayer = void 0,
                this.room = void 0;
                let r = n.leave(!0);
                return null === (t = this.players) || void 0 === t || t.clear(),
                this.scene = void 0,
                o.ZP.emitEventNow(o.fb.ROOM_LEAVE),
                r
            }
            doJoin(e) {
                return e.domtitle = window.document.title,
                e.haveHandshake = !!this.playerHandshake,
                new Promise( (t, n) => {
                    let r, i = 1, a = "", s = async () => {
                        if ("need-recaptcha" === a && e.telemetryId) {
                            e.recaptcha = void 0;
                            let t = g.Z.getRecaptcha("join_room").then(t => {
                                e.recaptcha = t
                            }
                            ).catch();
                            if (await t,
                            !e.recaptcha) {
                                n({
                                    message: "no-recaptcha-available"
                                });
                                return
                            }
                        }
                        if (e.telemetryId || "need-telemetry" === a || "need-recaptcha" === a) {
                            e.telemetryId = void 0;
                            let t = g.Z.getStytchTelemetry().then(t => {
                                e.telemetryId = t
                            }
                            ).catch();
                            if (await t,
                            !e.telemetryId) {
                                n({
                                    message: "no-telemetryId-available"
                                });
                                return
                            }
                        } else
                            i > 1 && o.ZP.sendEventDelayed(o.fb.SLOW_LOAD, {
                                retry: i
                            });
                        g.Z.getRoomId(e.mapId, e.world).then(o => {
                            console.log("calling joinById"),
                            this.client.joinById(o, e).then(e => t(e)).catch(t => {
                                console.error("error from colyseus", JSON.stringify(t)),
                                a = null == t ? void 0 : t.message,
                                R.permanentErrors.includes(a) ? n(t) : R.retryErrors.includes(a) && i < 8 ? (r = t,
                                setTimeout(s, 5e3 + 1500 * i),
                                i += 1) : ("need-recaptcha" !== a || e.recaptcha) && ("need-telemetry" !== a || e.telemetryId) ? i >= 2 ? (null == t ? void 0 : t.code) == 1006 && r ? n(r) : n(t) : ((null == t ? void 0 : t.code) != 1006 && (r = t),
                                setTimeout(s, 3e3),
                                i += 1) : (r = t,
                                setTimeout(s, 1e3))
                            }
                            )
                        }
                        ).catch(e => {
                            console.error("error from getRoomId", JSON.stringify(e)),
                            a = null == e ? void 0 : e.message,
                            R.permanentErrors.includes(null == e ? void 0 : e.message) ? n(e) : i >= 2 ? n(e) : (setTimeout(s, 3e3),
                            i += 1)
                        }
                        )
                    }
                    ;
                    s()
                }
                )
            }
            async connect(e, t, n, u, c, d, h, p, m) {
                var v, y;
                this.scene = u,
                this.firstLoad && (this.registerEvents(),
                this.firstLoad = !1);
                let b = {};
                if (n) {
                    let e = n.split(",");
                    b.label = e[0],
                    e.length >= 3 && (b.offset = {
                        x: parseInt(e[1], 10),
                        y: parseInt(e[2], 10)
                    })
                }
                Date.now() - this.serverDeltaSet > 18e5 && (this.serverDeltaSet = Date.now(),
                g.Z.timeSync().then(e => {
                    f()(e) || (console.log("server delta ".concat(e)),
                    this.serverTimeDelta = e)
                }
                ).catch( () => {
                    this.serverDeltaSet = 0
                }
                )),
                r = void 0;
                try {
                    this.room && (console.log("double join happened!"),
                    await this.disconnect()),
                    console.log("joining map ".concat(e, ": ").concat(m, " version: ").concat(l.WX)),
                    this.room = await this.doJoin({
                        mapId: e,
                        token: c || "iamguest",
                        isGuest: !c,
                        cryptoWallet: {},
                        username: h,
                        playerId: p,
                        world: t,
                        ver: l.WX,
                        ...b,
                        avatar: c || !d ? "" : JSON.stringify(d),
                        lastSavedAt: m
                    })
                } catch (e) {
                    if ((null == e ? void 0 : e.code) === w.m.SERVER_MAINTENANCE)
                        o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: null !== (v = e.message) && void 0 !== v ? v : "server-maintenance"
                        });
                    else if ((null == e ? void 0 : e.code) === w.m.PLAYER_BANNED) {
                        let t = e.message.split("+|=|+")
                          , n = "playerIsBanned"
                          , r = "It's cool to be in a band. Not so cool to get BANNED. You can find the appeal form in our help center";
                        t.length > 1 && t[1] && (n = t[1],
                        r = t[1]),
                        o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: [n, r]
                        })
                    } else
                        (null == e ? void 0 : e.message) ? "room-is-full" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: "roomFull"
                        }) : "join-in-progress" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["joinInProgress", "Your account was in process of joining a room already. You cannot be connected until the prior attempt completes"]
                        }) : "user-logging-out" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["userLoggingOut", "Sorry, it is taking longer than expected to save your progress from the previous location. You can try again in a few seconds"]
                        }) : "velocity-control" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["velocityControl", "The room you tried to join has too many players. Try choosing a different world."]
                        }) : "authentication-rejected" === e.message || "authentication-failed" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["authenticationRejected", "Your authentication was unsuccessful. Please confirm that you are using a supported browser and try again in a few hours"]
                        }) : "invalid-token" === e.message || "player-not-found" === e.message || "could-not-authenticate" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["authenticationFailed", "To say you are who you are may be contrary to fact. Your authentication was not so authenticated."]
                        }) : "authentication-expired" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["authenticationExpired", "You were there, now you are here. My head is spinning. Just...try again, please."]
                        }) : "invalid-permissions" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["invalidPermissionsToJoinRoom", "The room owner did not let you in. Did you remember to knock nicely? Permission denied!"]
                        }) : "user-already-logged-in" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: "alreadyLoggedIn"
                        }) : "transfer-in-progress" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["transferInProgress", "There is a lot at stake, so you must take a break, and wait for your transfer to take"]
                        }) : "invalid-client-version" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["updateClient", "No matter how hard you try to avoid it, things change. And so do you. Please refresh page for a new beginning."]
                        }) : "no-recaptcha-available" === e.message || "no-telemetryId-available" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["noRecaptcha", "Dude, where's my server? Please disable ad blockers or other plugins"]
                        }) : "invalid-map" === e.message ? o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["mapNotFound", "I see you brought your ticket to the dance, but there is no dancehall here. invalid-map"]
                        }) : o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: [e.message, "Sorry, we couldn't enter you into the game. Care to try again? (".concat(e.message, ")")]
                        }) : o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                            message: ["joinFailed", "It appears likely your destination failed to exist. If you attempt to join again, who knows where you might land? Get it? L-A-N-D. Me, neither."]
                        });
                    return
                }
                this.playerSerializer = new i.mV,
                this.playerHandshake && this.playerSerializer.handshake(this.playerHandshake);
                let E = new Promise(e => {
                    var t, n;
                    null === (t = this.room) || void 0 === t || t.onMessage(a.mY.handshake, e => {
                        this.playerHandshake = e,
                        this.playerSerializer.handshake(e)
                    }
                    ),
                    null === (n = this.room) || void 0 === n || n.onMessage(a.mY.joinRoom, t => {
                        this.playerSerializer.setState(t),
                        e(this.playerSerializer.getState())
                    }
                    )
                }
                )
                  , _ = new Promise(e => {
                    var t;
                    null === (t = this.room) || void 0 === t || t.onMessage(a.mY.sendMapLibrary, t => {
                        s.Z.setMapLibrary(t),
                        e()
                    }
                    )
                }
                );
                this.handleRoomEvents();
                let O = new Promise(e => {
                    this.room.onStateChange.once( () => {
                        e(this.room.state.players.get(this.room.sessionId))
                    }
                    )
                }
                );
                await Promise.all([O, E, _]),
                this.selfPlayer = await E;
                let A = await O;
                if (A || (A = await new Promise(e => {
                    this.room.onStateChange.once( () => {
                        e(this.room.state.players.get(this.room.sessionId))
                    }
                    )
                }
                )),
                await s.Z.scanGameLibrary(this.room.state.entities),
                this.selfPlayer && A) {
                    let e = JSON.parse(JSON.stringify(this.currentPlayer));
                    (null === (y = e.full.pet) || void 0 === y ? void 0 : y.avatar) || delete e.full.pet,
                    this.initPlayers(),
                    this.setupSelfPlayerListeners(this.selfPlayer, A),
                    this.scene.initSelfPlayerState(e),
                    o.ZP.emitEventNow(o.fb.ROOM_LOADED, {
                        player: e,
                        roomType: this.room.state.type,
                        mapId: this.room.state.id,
                        guild: this.room.state.guild,
                        roomName: this.room.state.name,
                        ownerAddress: this.room.state.ownerAddress,
                        sessionId: this.room.sessionId,
                        messages: JSON.parse(JSON.stringify(this.room.state.chatMessages)),
                        templateName: this.room.state.templateName
                    }),
                    o.ZP.emitEventNow(o.fb.ROOM_NAME_CHANGED, this.room.state.name),
                    o.ZP.emitEventNow(o.fb.PLAYER_ENERGY_CHANGE, {
                        energy: JSON.parse(JSON.stringify(this.selfPlayer.energy))
                    })
                } else {
                    this.room.leave(!0),
                    o.ZP.emitEventNow(o.fb.SVR_CANNOTCONNECT, {
                        message: ["playerMissing", "Something went wrong. Please try to join again"]
                    });
                    return
                }
                return this.handleRoomUpdates(),
                S && c && (o.ZP.emitEventNow(o.Yi.CLIENT_TRIGGER, {
                    trigger: S
                }),
                S = null),
                c || this.room.leave(!0),
                this.currentPlayer
            }
            entityUpdated(e) {
                let t = this.getEntityByUniqueId(e);
                if (t) {
                    var n;
                    let e = t.toJSON();
                    o.ZP.emitEventNow(o.fb.ENTITY_UPDATE, e),
                    null === (n = this.scene) || void 0 === n || n.updateEntity(e)
                } else
                    console.error("entity ".concat(e, " changed but not found"))
            }
            monitorEntity(e) {
                var t;
                let n = e.mid
                  , r = s.Z.getGameEntity(e.entity);
                (null == r ? void 0 : r.type) && e[r.type] && e.storage && e.storage.slots && (e.storage.slots.onAdd(e => {
                    this.monitorSlot(e)
                }
                ),
                e.storage.slots.onRemove( () => this.updatedInventory = !0),
                e.storage.listen("name", () => {
                    this.updatedEntities.add(n)
                }
                )),
                null === (t = e.position) || void 0 === t || t.onChange( () => {
                    this.updatedEntities.add(n)
                }
                ),
                e.onChange( () => {
                    this.updatedEntities.add(n)
                }
                ),
                e.generic && (e.generic.onChange( () => {
                    this.updatedEntities.add(n)
                }
                ),
                e.generic.displayInfo.onChange( () => {
                    this.updatedEntities.add(n)
                }
                ),
                e.generic.statics && (e.generic.statics.onChange( () => {
                    this.updatedEntities.add(n)
                }
                ),
                e.generic.statics.onAdd( () => {
                    this.updatedEntities.add(n)
                }
                , !1),
                e.generic.statics.onRemove( () => {
                    this.updatedEntities.add(n)
                }
                )),
                e.generic.trackers && (e.generic.trackers.onChange( () => {
                    this.updatedEntities.add(n)
                }
                ),
                e.generic.trackers.onAdd( () => {
                    this.updatedEntities.add(n)
                }
                , !1),
                e.generic.trackers.onRemove( () => {
                    this.updatedEntities.add(n)
                }
                )))
            }
            monitorAchievements(e) {
                let t = e.achievementId;
                e.onChange( () => {
                    let e = JSON.parse(JSON.stringify(this.selfPlayer.achievements.get(t)));
                    o.ZP.emitEventNow(o.fb.PLAYER_ACHIEVEMENT_CHANGED, {
                        achievement: e
                    })
                }
                )
            }
            monitorLevel(e, t) {
                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "player";
                t.onChange( () => {
                    var t, r, i;
                    if ("player" === n) {
                        if (this.selfPlayer) {
                            let t = JSON.parse(JSON.stringify(this.selfPlayer.levels.get(e)));
                            o.ZP.emitEventNow(o.fb.PLAYER_LEVEL_CHANGED, {
                                key: e,
                                level: t
                            })
                        }
                    } else if (null === (r = this.room) || void 0 === r ? void 0 : null === (t = r.state) || void 0 === t ? void 0 : t.levels) {
                        let t = JSON.parse(JSON.stringify(null === (i = this.room) || void 0 === i ? void 0 : i.state.levels.get(e)));
                        o.ZP.emitEventNow(o.fb.ROOM_LEVEL_CHANGED, {
                            key: e,
                            level: t
                        })
                    }
                }
                )
            }
            inventoryChanged() {
                this.selfPlayer && o.rV.inventory.serverStateChange.emit({
                    inventory: O(this.selfPlayer.inventory)
                })
            }
            wardrobeChanged() {
                this.updatedWardrobe && (this.updatedWardrobe = !1,
                this.selfPlayer && o.rV.wardrobe.serverStateChange.emit({
                    wardrobe: O(this.selfPlayer.wardrobe)
                }))
            }
            monitorSlot(e) {
                this.updatedInventory = !0,
                e.onChange( () => {
                    this.updatedInventory = !0
                }
                )
            }
            monitorWardrobeSlot(e) {
                this.updatedWardrobe = !0,
                e.onChange( () => {
                    this.updatedWardrobe = !0
                }
                )
            }
            monitorCoinSlot(e) {
                let t = e.currencyId;
                e.listen("balance", (e, n) => {
                    let r = JSON.parse(JSON.stringify(this.selfPlayer.coinInventory));
                    o.ZP.emitEventNow("PLAYER_COIN_INVENTORY_CHANGE", {
                        coinInventory: r,
                        added: e > n ? e - n : 0,
                        currencyId: t
                    })
                }
                )
            }
            selfPetupdate() {
                var e;
                let t = null === (e = this.selfPlayer) || void 0 === e ? void 0 : e.pet;
                if (t) {
                    let e = JSON.parse(JSON.stringify(t));
                    o.ZP.emitEventNow(o.fb.PLAYER_PET_UPDATE, {
                        full: {
                            pet: e
                        }
                    })
                }
            }
            monitorPet(e) {
                e.inventory && (e.inventory.slots.onAdd(e => this.monitorSlot(e)),
                e.inventory.slots.onRemove( () => this.updatedInventory = !0)),
                e.scriptInstance && e.scriptInstance.onChange( () => this.updatedPet = !0),
                e.avatar && (e.avatar.listen("name", () => this.updatedPet = !0),
                e.avatar.listen("fade", () => this.updatedPet = !0))
            }
            petChange() {
                let e = this.currentPlayer
                  , t = null == e ? void 0 : e.full.pet;
                if (null == t ? void 0 : t.avatar) {
                    let n = JSON.parse(JSON.stringify(t));
                    o.ZP.emitEventNow(o.fb.PLAYER_PET_CHANGE, {
                        core: {
                            petAvatar: n.avatar,
                            position: {
                                x: e.core.position.x,
                                y: e.core.position.y
                            }
                        },
                        full: {
                            pet: n
                        }
                    }),
                    this.monitorPet(t)
                } else
                    o.ZP.emitEventNow(o.fb.PLAYER_PET_CHANGE, {
                        core: {
                            petAvatar: void 0
                        },
                        full: {
                            pet: void 0
                        }
                    })
            }
            setupSelfPlayerListeners(e, t) {
                var n, r;
                e.inventory.onChange( () => this.inventoryChanged()),
                (null === (n = e.pet) || void 0 === n ? void 0 : n.avatar) && this.monitorPet(e.pet),
                e.listen("pet", () => this.petChange()),
                e.energy.onChange( () => {
                    let e = JSON.parse(JSON.stringify(this.selfPlayer.energy));
                    o.ZP.emitEventNow("PLAYER_ENERGY_CHANGE", {
                        energy: e
                    })
                }
                ),
                t.currentAvatar && t.currentAvatar.onChange( () => {
                    let e = t.currentAvatar.toJSON();
                    o.ZP.emitEventNow("PLAYER_CURRENTAVATAR_CHANGE", {
                        currentAvatar: e
                    })
                }
                );
                let i = () => {
                    let e = t.memberships.toJSON();
                    o.ZP.emitEventNow("PLAYER_MEMBERSHIPS_CHANGE", {
                        memberships: e
                    })
                }
                ;
                t.memberships.onChange(i),
                t.memberships.onAdd(i, !1),
                t.memberships.onRemove(i);
                let a = () => {
                    let e = t.modifiers.toJSON();
                    o.ZP.emitEventNow("PLAYER_MODIFIERS_CHANGE", {
                        modifiers: e
                    })
                }
                ;
                t.modifiers.onChange(a),
                t.modifiers.onRemove(a),
                t.modifiers.onAdd(a, !1),
                t.listen("username", e => {
                    "mute" !== t.status && "restrict" !== t.status && "block" !== t.status && o.ZP.emitEventNow("PLAYER_USERNAME_CHANGE", {
                        username: e
                    })
                }
                ),
                t.listen("status", e => {
                    o.ZP.emitEventNow("PLAYER_USERNAME_CHANGE", {
                        username: "mute" === e || "restrict" === e || "block" === e ? "(muted)" : t.username
                    })
                }
                ),
                e.listen("messages", e => {
                    o.ZP.emitEventNow(o.fb.MAIL_UPDATE, {
                        messages: e
                    })
                }
                ),
                e.achievements.onAdd(e => {
                    let t = JSON.parse(JSON.stringify(e));
                    o.ZP.emitEventNow(o.fb.PLAYER_ACHIEVEMENT_ADD, {
                        achievement: t
                    }),
                    this.monitorAchievements(e)
                }
                ),
                e.achievements.onRemove(e => {
                    let t = JSON.parse(JSON.stringify(e));
                    o.ZP.emitEventNow(o.fb.PLAYER_ACHIEVEMENT_REMOVED, {
                        achievement: t
                    })
                }
                ),
                e.levels.onAdd( (e, t) => {
                    let n = JSON.parse(JSON.stringify(e));
                    o.ZP.emitEventNow(o.fb.PLAYER_LEVEL_ADD, {
                        key: t,
                        level: n
                    }),
                    this.monitorLevel(t, e)
                }
                ),
                null === (r = e.entities) || void 0 === r || r.forEach(e => {
                    this.monitorEntity(e)
                }
                ),
                e.entities.onAdd(e => {
                    var t;
                    let n = e.toJSON();
                    this.monitorEntity(e),
                    o.ZP.emitEventNow(o.fb.ENTITY_ADD, n),
                    null === (t = this.scene) || void 0 === t || t.addPlayerEntityNodes(n)
                }
                , !1),
                e.entities.onRemove(e => {
                    var t;
                    o.ZP.emitEventNow(o.fb.ENTITY_REMOVE, e.toJSON()),
                    null === (t = this.scene) || void 0 === t || t.removeEntity(e)
                }
                ),
                e.farms.onAdd( () => {
                    var e;
                    let t = JSON.parse(JSON.stringify(null === (e = this.selfPlayer) || void 0 === e ? void 0 : e.farms));
                    o.ZP.emitEventNow("PLAYER_FARMS_CHANGE", {
                        farms: t
                    })
                }
                , !1),
                e.farms.onRemove( () => {
                    var e;
                    let t = JSON.parse(JSON.stringify(null === (e = this.selfPlayer) || void 0 === e ? void 0 : e.farms));
                    o.ZP.emitEventNow("PLAYER_FARMS_CHANGE", {
                        farms: t
                    })
                }
                ),
                e.inventory.slots.onAdd(e => {
                    this.monitorSlot(e)
                }
                , !1),
                e.inventory.slots.forEach(e => {
                    this.monitorSlot(e)
                }
                ),
                e.inventory.slots.onRemove( () => this.updatedInventory = !0),
                e.wardrobe.slots.onAdd(e => this.monitorWardrobeSlot(e), !1),
                e.wardrobe.slots.forEach(e => this.monitorWardrobeSlot(e)),
                e.wardrobe.slots.onRemove( () => this.updatedWardrobe = !0),
                e.coinInventory.onAdd(e => {
                    this.monitorCoinSlot(e)
                }
                ),
                e.levels.onChange( () => {
                    let e = JSON.parse(JSON.stringify(this.selfPlayer.levels));
                    o.ZP.emitEventNow("PLAYER_EXP_CHANGE", {
                        levels: e
                    })
                }
                ),
                this.questsUpdated(),
                e.quests.forEach(e => {
                    e.onChange( () => this.questsUpdated())
                }
                ),
                e.quests.onAdd(e => {
                    e.onChange( () => this.questsUpdated()),
                    this.questsUpdated()
                }
                , !1)
            }
            questsUpdated() {
                if (this.selfPlayer) {
                    let e = JSON.parse(JSON.stringify(this.selfPlayer.quests));
                    o.ZP.emitEventNow("PLAYER_QUESTPROGRESS_ADDED", {
                        quests: e
                    })
                }
            }
            transformPlayerCore(e) {
                var t;
                let n = JSON.parse(JSON.stringify(e));
                return (null === (t = n.petAvatar) || void 0 === t ? void 0 : t.id) || delete n.petAvatar,
                n
            }
            setupOtherPlayer(e, t) {
                var n;
                let r = this.transformPlayerCore(e)
                  , i = null === (n = this.scene) || void 0 === n ? void 0 : n.playerJoin(r, t)
                  , o = () => {
                    if (!this.room)
                        return;
                    let e = this.getPlayerCoreBySessionId(t);
                    if (e) {
                        var n;
                        r = this.transformPlayerCore(e),
                        null === (n = this.scene) || void 0 === n || n.playerJoin(r, t),
                        e.petAvatar && e.petAvatar.onChange(o)
                    }
                }
                ;
                i && (e.velocity.onChange( () => {
                    let e = this.getPlayerCoreBySessionId(t);
                    e && i.move(e.velocity, e.position)
                }
                ),
                e.currentAvatar.onChange(o),
                e.modifiers.onChange(o),
                e.listen("petAvatar", o),
                e.listen("username", e => {
                    e !== r.username && o()
                }
                ),
                e.listen("status", e => {
                    e !== r.status && o()
                }
                ),
                e.listen("typingTimestamp", e => {
                    e && i.showChatTyping()
                }
                ),
                e.petAvatar && e.petAvatar.onChange(o))
            }
            constructor() {
                this.client = new i.KU(A),
                this.updateMap = !1,
                this.firstLoad = !0,
                this.serverTimeDelta = 0,
                this.serverDeltaSet = 0,
                this.worldService = new y(this.client),
                this.updatedEntities = new Set,
                this.updatedPet = !1,
                this.updatedInventory = !1,
                this.updatedWardrobe = !1,
                this.checkParams()
            }
        }
        R.unwantedFarmNumbers = [0],
        R.permanentErrors = ["room-is-full", "invalid-token", "could-not-authenticate", "player-not-found", "invalid-permissions", "bad-recaptca", "bad-telemetry-data", "invalid-map", "invalid-client-version", "player-is-banned", "authentication-expired", "invalid-world", "server-maintenance", "transfer-in-progress", "teleport-unauthorized", "join-in-progress"],
        R.retryErrors = ["user-logging-out", "velocity-control"]
    },
    75268: function(e, t, n) {
        "use strict";
        n.d(t, {
            A$: function() {
                return g
            },
            BA: function() {
                return E
            },
            B_: function() {
                return f
            },
            D9: function() {
                return v
            },
            DY: function() {
                return d
            },
            Kp: function() {
                return O
            },
            LI: function() {
                return l
            },
            Oe: function() {
                return I
            },
            Qc: function() {
                return b
            },
            UM: function() {
                return s
            },
            WS: function() {
                return _
            },
            WX: function() {
                return r
            },
            XX: function() {
                return y
            },
            Y: function() {
                return A
            },
            Z6: function() {
                return P
            },
            aU: function() {
                return c
            },
            fX: function() {
                return R
            },
            fd: function() {
                return k
            },
            ft: function() {
                return a
            },
            je: function() {
                return x
            },
            ji: function() {
                return h
            },
            m6: function() {
                return w
            },
            p$: function() {
                return S
            },
            pZ: function() {
                return T
            },
            qO: function() {
                return o
            },
            rq: function() {
                return p
            },
            sD: function() {
                return m
            },
            sV: function() {
                return i
            },
            uT: function() {
                return u
            }
        });
        let r = parseFloat("9.22")
          , i = 1676498533e3
          , o = "game-container"
          , a = "players"
          , s = "players_v2"
          , l = 144
          , u = 188
          , c = 1
          , d = 2
          , f = 3e3
          , h = 1250
          , p = 2e3
          , g = 1
          , m = 30
          , v = 32
          , y = 21
          , b = 120
          , E = {
            top: 0,
            left: 0,
            right: 6e3,
            bottom: 6e3
        }
          , _ = {
            width: E.right - E.left,
            height: E.bottom - E.top
        }
          , w = 2
          , O = .05
          , A = 100
          , S = .4
          , P = 2
          , R = .03
          , I = ["https://pixels.xyz", "https://pixels.online", "https://help.pixels.xyz"]
          , T = "https://d31ss916pli4td.cloudfront.net"
          , x = "https://mesh-online-assets.s3.us-east-2.amazonaws.com"
          , k = "".concat(T, "/game/ui/skills/skills_icon_")
    },
    80919: function(e, t, n) {
        "use strict";
        n.d(t, {
            Vh: function() {
                return a
            },
            fb: function() {
                return s
            },
            Yi: function() {
                return u
            },
            qM: function() {
                return l
            },
            ZP: function() {
                return b
            },
            rV: function() {
                return g
            },
            d6: function() {
                return v
            },
            lY: function() {
                return y
            },
            D9: function() {
                return m
            }
        });
        var r, i, o, a, s, l, u, c = n(15624);
        (a || (a = {})).RESIZE = "RESIZE",
        (r = s || (s = {})).INIT_GAME = "INIT_GAME",
        r.GAME_INITIATED = "GAME_INITIATED",
        r.GAME_CONNECTED = "GAME_CONNECTED",
        r.ROOM_LOADED = "ROOM_LOADED",
        r.ROOM_LEAVE = "ROOM_LEAVE",
        r.PLAYER_JOINED = "PLAYER_JOINED",
        r.PLAYER_CLICKED = "PLAYER_CLICKED",
        r.PLAYER_DRAGGING = "PLAYER_DRAGGING",
        r.PLAYER_REMOVED = "PLAYER_REMOVED",
        r.PLAYER_ENERGY_CHANGE = "PLAYER_ENERGY_CHANGE",
        r.PLAYER_QUESTS_ADDED = "PLAYER_QUESTS_ADDED",
        r.PLAYER_ENTITIES_ADDED = "PLAYER_ENTITIES_ADDED",
        r.PLAYER_QUESTS_REMOVED = "PLAYER_QUESTS_REMOVED",
        r.PLAYER_ENTITIES_REMOVED = "PLAYER_ENTITIES_REMOVED",
        r.PLAYER_AVATAR = "PLAYER_AVATAR",
        r.PLAYER_PET_CHANGE = "PLAYER_PET_CHANGE",
        r.PLAYER_PET_UPDATE = "PLAYER_PET_UPDATE",
        r.PLAYER_COLLIDED_WITH_OBJECT = "PLAYER_COLLIDED_WITH_OBJECT",
        r.PLAYER_UNCOLLIDED_WITH_OBJECT = "PLAYER_UNCOLLIDED_WITH_OBJECT",
        r.NPC_SPEAKS = "NPC_SPEAKS",
        r.PLAYER_INVENTORY_NEW = "PLAYER_INVENTORY_NEW",
        r.PLAYER_COIN_INVENTORY_CHANGE = "PLAYER_COIN_INVENTORY_CHANGE",
        r.PLAYER_QUESTPROGRESS_ADDED = "PLAYER_QUESTPROGRESS_ADDED",
        r.PLAYER_EXP_CHANGE = "PLAYER_EXP_CHANGE",
        r.PLAYER_OPEN_STORAGE = "PLAYER_OPEN_STORAGE",
        r.PLAYER_MEMBERSHIPS_CHANGE = "PLAYER_MEMBERSHIPS_CHANGE",
        r.CHAT_MESSAGE_RCV = "CHAT_MESSAGE_RCV",
        r.SERVICE_COMMAND = "SERVICE_COMMAND",
        r.SET_TOS_ACCEPTED = "SET_TOS_ACCEPTED",
        r.REPORT_PLAYER = "REPORT_PLAYER",
        r.SVR_CANNOTCONNECT = "SVR_CANNOTCONNECT",
        r.GAME_OBJECT_MOUSEOVER = "GAME_OBJECT_MOUSEOVER",
        r.GAME_OBJECT_MOUSEOUT = "GAME_OBJECT_MOUSEOUT",
        r.LINK_OPEN = "LINK_OPEN",
        r.ROOM_WARP = "ROOM_WARP",
        r.LIBRARY = "LIBRARY",
        r.BOOKMARK_MAP = "BOOKMARK_MAP",
        r.SLOW_LOAD = "SLOW_LOAD",
        r.ENTITY_UPDATE = "ENTITY_UPDATE",
        r.ENTITY_REMOVE = "ENTITY_REMOVE",
        r.ENTITY_ADD = "ENTITY_ADD",
        r.ROOM_PERMISSIONS_CHANGED = "ROOM_PERMISSIONS_CHANGED",
        r.ROOM_RESTRICTIONS_CHANGED = "ROOM_RESTRICTIONS_CHANGED",
        r.ROOM_OWNERSHIP_CHANGED = "ROOM_OWNERSHIP_CHANGED",
        r.ROOM_MEMBERS_CHANGED = "ROOM_MEMBERS_CHANGED",
        r.ROOM_OWNER_CHANGED = "ROOM_OWNER_CHANGED",
        r.ROOM_NAME_CHANGED = "ROOM_NAME_CHANGED",
        r.ROOM_GUILD_CHANGED = "ROOM_GUILD_CHANGED",
        r.ROOM_LEVEL_CHANGED = "ROOM_LEVEL_CHANGED",
        r.ROOM_LABELS_CHANGED = "ROOM_LABELS_CHANGED",
        r.ROOM_LEVEL_ADD = "ROOM_LEVEL_ADD",
        r.PLAYER_ACHIEVEMENT_ADD = "PLAYER_ACHIEVEMENT_ADD",
        r.PLAYER_ACHIEVEMENT_CHANGED = "PLAYER_ACHIEVEMENT_CHANGED",
        r.PLAYER_ACHIEVEMENT_REMOVED = "PLAYER_ACHIEVEMENT_REMOVED",
        r.PLAYER_LEVEL_CHANGED = "PLAYER_LEVEL_CHANGED",
        r.PLAYER_LEVEL_ADD = "PLAYER_LEVEL_ADD",
        r.PRESENT_FARM_DETAILS = "PRESENT_FARM_DETAILS",
        r.DISMISS_FARM_DETAILS = "DISMISS_FARM_DETAILS",
        r.PRESENT_UI = "PRESENT_UI",
        r.CLIENT_CMD = "CLIENT_CMD",
        r.TRADE_SEND = "TRADE_SEND",
        r.TRADE_RECEIVE = "TRADE_RECEIVE",
        r.MARKETPLACE_SEND = "MARKETPLACE_SEND",
        r.MARKETPLACE_RECEIVE = "MARKETPLACE_RECEIVE",
        r.SERVER_BUILD_NODE = "SERVER_BUILD_NODE",
        r.RECEIVE_MAIL = "RECEIVE_MAIL",
        r.COLLECT_MAIL_ITEM_RESPONSE = "COLLECT_MAIL_ITEM_RESPONSE",
        r.MAIL_UPDATE = "MAIL_UPDATE",
        (i = l || (l = {})).BUILD_OBJECT = "BUILD_OBJECT",
        i.SET_CATEGORY = "SET_CATEGORY",
        i.SET_MODE = "SET_MODE",
        i.SELECT_ENTITY = "SELECT_ENTITY",
        i.ROOM_RESTRICTIONS = "ROOM_RESTRICTIONS",
        i.ROOM_PERMISSIONS = "ROOM_PERMISSIONS",
        i.ROOM_OWNERSHIP = "ROOM_OWNERSHIP",
        i.ROOM_MEMBERS = "ROOM_MEMBERS",
        i.CLAIM_NFTMAP = "CLAIM_NFTMAP",
        i.BUILD_TILE = "BUILD_TILE",
        i.BUILD_ENTITY = "BUILD_ENTITY",
        i.UPGRADE_FARM = "UPGRADE_FARM",
        i.ROOM_NAME = "ROOM_NAME",
        i.RELEASE_FROM_CURSOR = "RELEASE_FROM_CURSOR",
        i.PLAYER_CLICKED_NPC = "PLAYER_CLICKED_NPC",
        i.PLAYER_USED_ITEM = "PLAYER_USED_ITEM",
        i.HIDE_OTHERS = "HIDE_OTHERS",
        (o = u || (u = {})).TRIGGER_EVENT = "TRIGGER_EVENT",
        o.FETCH_MAIL = "FETCH_MAIL",
        o.COLLECT_MAIL_ITEM = "COLLECT_MAIL_ITEM",
        o.NFT_SELECTED = "NFT_SELECTED",
        o.PET_SELECTED = "PET_SELECTED",
        o.PET_RENAME = "PET_RENAME",
        o.SET_STORAGE_NAME = "SET_STORAGE_NAME",
        o.SET_TYPING_STATE = "SET_TYPING_STATE",
        o.CHAT_MESSAGE_SEND = "CHAT_MESSAGE_SEND",
        o.PLAYER_MOVING = "PLAYER_MOVING",
        o.FARM_CLAIM = "FARM_CLAIM",
        o.BUY_STORE_ITEM = "BUY_STORE_ITEM",
        o.SELL_STORE_ITEM = "SELL_STORE_ITEM",
        o.MINT_UGC = "MINT_UGC",
        o.FIND_NFT = "FIND_NFT",
        o.FOUND_NFT = "FOUND_NFT",
        o.PUSH_SUBSCRIBE = "PUSH_SUBSCRIBE",
        o.NPCDIALOG_CLOSE = "NPCDIALOG_CLOSE",
        o.CLIENT_TRIGGER = "CLIENT_TRIGGER";
        class d {
            get pendingEvents() {
                return this._pending
            }
            get intialized() {
                return !!this.phaserEventEmitter
            }
            async init() {
                let e = await n.e(989).then(n.t.bind(n, 82260, 23));
                this.phaserEventEmitter || (this.phaserEventEmitter = new e.Events.EventEmitter,
                Object.values(s).forEach(e => {
                    this.registerEventListener(e, t => {
                        c.h.dispatch({
                            type: "game/".concat(e),
                            payload: t
                        })
                    }
                    )
                }
                ))
            }
            registerEventListener(e, t) {
                var n;
                null === (n = this.phaserEventEmitter) || void 0 === n || n.on(e, t)
            }
            removeEventListerner(e, t) {
                var n;
                null === (n = this.phaserEventEmitter) || void 0 === n || n.removeListener(e, t)
            }
            emitEventNow(e, t) {
                var n;
                null === (n = this.phaserEventEmitter) || void 0 === n || n.emit(e, t)
            }
            sendEventDelayed(e, t) {
                this._pending++,
                setTimeout( () => {
                    this._pending--,
                    this.emitEventNow(e, t)
                }
                )
            }
            constructor() {
                this._pending = 0
            }
        }
        let f = new d
          , h = 0;
        function p() {
            let e, t, {debugName: n, emitterAtom: r} = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, i = [], o = t => {
                let r = i.indexOf(t);
                if (r < 0)
                    throw Error("Subscriber not found for '".concat(null != n ? n : a.id, "'. Did you already remove it?"));
                i.splice(r, 1),
                e && !i.length && e()
            }
            , a = {
                id: "event_".concat(++h),
                emit: e => i.forEach(t => t(e)),
                emitDeferred: e => setTimeout( () => a.emit(e)),
                subscribe: t => (r && !e && (e = c.e.sub(r, () => a.emit(c.e.get(r)))),
                i.push(t),
                () => o(t)),
                subscribeAtom: e => a.subscribe(t => c.e.set(e, t)),
                subscribeScene: (e, t) => {
                    let n = a.subscribe(t);
                    return e.events.once("destroy", n),
                    () => {
                        e.events.off("destroy", n),
                        n()
                    }
                }
                ,
                addReduxCase: (e, n) => {
                    t || (t = a.subscribe(e => c.h.dispatch({
                        type: a.id,
                        payload: e
                    }))),
                    e.addCase(a.id, n)
                }
            };
            return a
        }
        let g = {
            gameObjectClicked: p(),
            playSound: p(),
            playPositionedSound: p(),
            soundControl: p(),
            enhancedControl: p(),
            joystickControl: p(),
            blur: p(),
            attachToCursor: p(),
            editor: {
                on: p(),
                off: p()
            },
            inventory: {
                swapItems: p(),
                changeActiveRow: p(),
                serverStateChange: p()
            },
            wardrobe: {
                serverStateChange: p()
            },
            sellOrders: {
                fetch: p(),
                fill: p(),
                reset: p()
            }
        };
        function m(e) {
            g.soundControl.emitDeferred(e)
        }
        function v(e) {
            g.enhancedControl.emitDeferred(e)
        }
        function y(e) {
            g.joystickControl.emitDeferred(e)
        }
        var b = f
    },
    83742: function(e, t, n) {
        "use strict";
        n.d(t, {
            F_: function() {
                return h
            },
            HQ: function() {
                return d
            },
            HZ: function() {
                return a
            },
            QK: function() {
                return c
            },
            Tm: function() {
                return l
            },
            c7: function() {
                return s
            }
        });
        var r = n(25904)
          , i = n(53059)
          , o = n(75268);
        function a(e) {
            return e === o.ft ? u(e) : f(e)
        }
        function s(e, t) {
            return e.avatarId === o.ft ? c(e) : h(e, t)
        }
        function l(e, t) {
            return e === o.ft ? function(e) {
                let t = u(e).map(t => c({
                    avatarId: e,
                    attribute: t
                })).map(e => e[Math.floor(Math.random() * e.length)]);
                return {
                    id: e,
                    pieces: t.reduce( (e, t) => ({
                        ...e,
                        [t.type]: t
                    }), {})
                }
            }(e) : function(e, t) {
                let n = f(e).map(n => ({
                    attribute: n,
                    cosmetics: h({
                        avatarId: e,
                        attribute: n
                    }, t)
                }));
                return {
                    id: e,
                    pieces: n.map(e => {
                        var t;
                        let {attribute: n, cosmetics: r} = e
                          , i = null === (t = r.at(Math.floor(Math.random() * r.length))) || void 0 === t ? void 0 : t.value;
                        if (i)
                            return {
                                attribute: n,
                                value: i
                            }
                    }
                    ).filter(e => !!e).reduce( (t, n, r, i) => {
                        var o, a, s;
                        let {attribute: l, value: u} = n
                          , c = d({
                            avatarId: e,
                            attribute: l
                        });
                        return ((null == c ? void 0 : c.irremovable) || Math.random() < (null !== (o = null == c ? void 0 : c.chanceToAppearInRandomAvatar) && void 0 !== o ? o : .5)) && (t[l] = {
                            [l]: u
                        },
                        null == c || null === (a = c.requires) || void 0 === a || a.forEach(e => {
                            if (t[e])
                                return;
                            let n = i.find(t => t.attribute === e);
                            n && (t[n.attribute] = {
                                [n.attribute]: n.value
                            })
                        }
                        ),
                        null == c || null === (s = c.replaces) || void 0 === s || s.forEach(e => delete t[e])),
                        t
                    }
                    , {})
                }
            }(e, t)
        }
        function u(e) {
            let t = new Set
              , n = i.Z.getGameAvatar(e);
            return n && n.defaults && ("function" == typeof n.defaults.forEach ? n.defaults.forEach(e => {
                "item" !== e.type && ("hair" !== e.type ? t.add(e.type) : (t.add("".concat(e.type, ".style")),
                t.add("".concat(e.type, ".color"))))
            }
            ) : "object" == typeof n.defaults && Object.keys(n.defaults).forEach(e => {
                t.add(e)
            }
            )),
            Array.from(t.values())
        }
        function c(e) {
            let t, n = [], r = i.Z.getGameAvatar(e.avatarId), o = e.attribute;
            if (e.attribute.includes(".")) {
                let[n,r] = e.attribute.split(".");
                t = r,
                o = n
            }
            let a = null == r ? void 0 : r.defaults;
            if (a && (n = Object.values(a).filter(e => e.type === o)),
            t) {
                let e = [n[0]];
                return n.forEach(n => {
                    e.map(e => e[t]).includes(n[t]) || e.push(n)
                }
                ),
                e
            }
            return n
        }
        function d(e) {
            let t = i.Z.getGameAvatar(e.avatarId);
            if (!t)
                return;
            let n = t.pieces.find(t => t.id === e.attribute);
            return null == n ? void 0 : n.characterBuilderOptions
        }
        function f(e) {
            let t = i.Z.getGameAvatar(e);
            return t ? t.pieces.map(e => {
                var t;
                return (null === (t = e.attributes) || void 0 === t ? void 0 : t.map(e => e.id)) || []
            }
            ).flat().filter( (e, t, n) => !!e && n.indexOf(e) === t) : []
        }
        function h(e, t) {
            var n, o;
            let a = i.Z.getGameAvatar(e.avatarId);
            if (!a)
                return [];
            let s = null === (o = a.pieces.find(t => t.id === e.attribute)) || void 0 === o ? void 0 : null === (n = o.characterBuilderOptions) || void 0 === n ? void 0 : n.cosmetics;
            return s ? s.filter(e => {
                var n;
                let i = null === (n = e.lock) || void 0 === n ? void 0 : n.itemId;
                return !i || (0,
                r.PM)(null == t ? void 0 : t.slots, e => e.item === i && e.quantity > 0)
            }
            ) : []
        }
    },
    96808: function(e, t, n) {
        "use strict";
        n.d(t, {
            ML: function() {
                return y
            },
            N8: function() {
                return h
            },
            PZ: function() {
                return m
            },
            SB: function() {
                return f
            },
            ZZ: function() {
                return v
            },
            hD: function() {
                return g
            },
            q7: function() {
                return d
            },
            yC: function() {
                return c
            }
        });
        var r = n(96486)
          , i = n.n(r)
          , o = n(53059)
          , a = n(73913)
          , s = n(36609)
          , l = n(16497)
          , u = n(25904);
        function c(e, t) {
            var n, r, i;
            return t.full.energy.level >= -(null !== (i = null === (r = e.onUse) || void 0 === r ? void 0 : null === (n = r.energy) || void 0 === n ? void 0 : n.value) && void 0 !== i ? i : 0)
        }
        function d(e, t) {
            var n;
            let r = null === (n = e.crop) || void 0 === n ? void 0 : n.states;
            if (!r || t.canHarvest)
                return !1;
            let i = r[t.state];
            return (null == i ? void 0 : i.onGrow) && t.waterLevel < 50
        }
        function f(e, t) {
            var n, r;
            let i = null === (n = e.crop) || void 0 === n ? void 0 : n.states;
            if (!i || t.canHarvest)
                return 0;
            let o = -t.ageMinutes
              , a = i[t.state];
            for (; (null == a ? void 0 : a.onGrow) && (null == a ? void 0 : null === (r = a.onGrow[0]) || void 0 === r ? void 0 : r.state) && "ripe" !== a.state; )
                o += a.minutesRequired,
                a = i[a.onGrow[0].state];
            return o
        }
        function h(e, t) {
            var n, r, i;
            let o = null === (n = e.crop) || void 0 === n ? void 0 : n.states;
            return !o || t.canHarvest ? 0 : -t.ageMinutes + (null !== (i = null === (r = o[t.state]) || void 0 === r ? void 0 : r.minutesRequired) && void 0 !== i ? i : 0)
        }
        let p = ["placeEntity", "placeObject", "move", "removeEntity", "removeObject"];
        function g(e) {
            var t, n;
            return null == e ? void 0 : null === (n = e.onUse) || void 0 === n ? void 0 : null === (t = n.types) || void 0 === t ? void 0 : t.some(e => ["removeEntity", "removeObject"].includes(e))
        }
        function m(e, t) {
            var n, r, i, o, u, c, d, f, h, g;
            let m = a.l.getInstance();
            if (!e)
                return s.ZP.t("item-not-available", {
                    ns: "ui",
                    defaultValue: "Unrecognized Item"
                });
            if (!t && (null == e ? void 0 : null === (g = e.onUse) || void 0 === g ? void 0 : null === (h = g.types) || void 0 === h ? void 0 : h.some(e => p.includes(e))))
                return s.ZP.t("no-build-permissions", {
                    ns: "ui",
                    defaultValue: "No build permissions at this location"
                });
            if (e.requirements) {
                let t = m.currentPlayer;
                if (!t)
                    return s.ZP.t("no-player", {
                        ns: "ui"
                    });
                if (null === (r = e.requirements.levels) || void 0 === r ? void 0 : r.length)
                    for (let n of e.requirements.levels) {
                        let e = null === (u = t.full.levels) || void 0 === u ? void 0 : u.get(n.levelType);
                        if (n.level > (null !== (c = null == e ? void 0 : e.level) && void 0 !== c ? c : 0)) {
                            let e = s.ZP.t(n.levelType, {
                                ns: "ui",
                                defaultValue: (0,
                                l.je)(n.levelType)
                            });
                            return s.ZP.t("item-skill-required", {
                                defaultValue: "{{skill}} Skill Level {{level}} Required",
                                ns: "ui",
                                skill: e,
                                level: n.level
                            })
                        }
                    }
                if (null === (i = e.requirements.memberships) || void 0 === i ? void 0 : i.length) {
                    for (let n of e.requirements.memberships)
                        if (!t.core.memberships.has(n))
                            return s.ZP.t("item-membership-required-".concat(n), {
                                defaultValue: "".concat((0,
                                l.je)(n), " Membership Required"),
                                ns: "ui"
                            })
                }
                if (e.requirements.mapId) {
                    let t = m.mapId
                      , n = e.requirements.mapId;
                    if (n.is && t !== n.is)
                        return s.ZP.t("item-wrong-map-".concat(n.is), {
                            defaultValue: "Cannot use item at this location",
                            ns: "ui"
                        });
                    if ((null === (d = n.includes) || void 0 === d ? void 0 : d.length) && !n.includes.includes(t))
                        return s.ZP.t("item-wrong-map-".concat(n.includes[0]), {
                            defaultValue: "Cannot use item at this location",
                            ns: "ui"
                        })
                }
                if (null === (o = e.requirements.quests) || void 0 === o ? void 0 : o.length)
                    for (let n of e.requirements.quests) {
                        let e = null === (f = t.full.quests) || void 0 === f ? void 0 : f.get(n);
                        if (!(null == e ? void 0 : e.isComplete)) {
                            let e = s.ZP.t((0,
                            l.sA)(n), {
                                ns: "game",
                                defaultValue: "Undiscovered Quest"
                            });
                            return s.ZP.t("item-quest-required-".concat(n), {
                                defaultValue: "{{quest}} Quest completion required",
                                ns: "ui",
                                quest: e
                            })
                        }
                    }
            }
            if (null === (n = e.useTargets) || void 0 === n ? void 0 : n.mapLabels) {
                let t = m.mapLabels;
                for (let n of e.useTargets.mapLabels)
                    if (!(null == t ? void 0 : t.includes(n)))
                        return s.ZP.t("maplabel-required-".concat(n), {
                            defaultValue: "Location must be ".concat(n, " to use item"),
                            ns: "ui"
                        })
            }
        }
        function v(e, t, n, r, s) {
            var l;
            let c;
            if ("string" == typeof e) {
                let t = o.Z.getGameItem(e);
                if (!t)
                    return !1;
                e = t
            }
            let d = null == e ? void 0 : e.useTargets;
            return !!(d && (null === (l = e.onUse) || void 0 === l ? void 0 : l.types.every(e => {
                var i, l, d, f;
                switch (e) {
                case "harvest":
                    if (c = o.Z.getGameEntity(t),
                    !r || !(null == c ? void 0 : null === (i = c.crop) || void 0 === i ? void 0 : i.states))
                        return !1;
                    {
                        let e = c.crop;
                        if (!e.states[r] || !e.states[r].onHarvest)
                            return !1
                    }
                    break;
                case "fertilize":
                    if (c = o.Z.getGameEntity(t),
                    !r || !(null == c ? void 0 : null === (l = c.crop) || void 0 === l ? void 0 : l.states))
                        return !1;
                    {
                        let e = c.crop;
                        if (!e.states[r] || !e.states[r].onGrow || 0 === e.states[r].onGrow.length)
                            return console.log("cannot fertilize ".concat(t)),
                            !1
                    }
                    break;
                case "removeEntity":
                    let h = o.Z.getGameEntity(t);
                    if (h && !(null == h ? void 0 : h.onRemove))
                        return !1;
                    if (h && "storage" === n && s) {
                        let e = a.l.getInstance().getEntityByUniqueId(s);
                        if ((0,
                        u.ei)(null == e ? void 0 : null === (d = e.storage) || void 0 === d ? void 0 : d.slots) > 0)
                            return !1
                    }
                    break;
                case "removeObject":
                    let p = o.Z.getGameObject(t);
                    if (p && !(null == p ? void 0 : p.onRemove))
                        return !1;
                    break;
                case "move":
                    if ("crop" === n)
                        return !1;
                    let g = null !== (f = o.Z.getGameEntity(t)) && void 0 !== f ? f : o.Z.getGameObject(t);
                    if (null == g ? void 0 : g.immovable)
                        return !1
                }
                return !0
            }
            ))) && (null == d ? void 0 : d.types.some(e => {
                var r, a, s, l;
                if ("entities" === e)
                    return null === (r = d.entities) || void 0 === r ? void 0 : r.includes(t);
                if ("entityTypes" === e)
                    return !!n && (null === (a = d.entityTypes) || void 0 === a ? void 0 : a.includes(n));
                if ("entityLabels" === e) {
                    let e = o.Z.getGameEntity(t);
                    if (null == e ? void 0 : e.labels)
                        return i().isEmpty(i().xor(d.entityLabels, e.labels))
                } else if ("ground" === e)
                    return "ground" === n;
                else if ("pet" === e)
                    return "pet" === t;
                else if ("objects" === e)
                    return null === (s = d.objects) || void 0 === s ? void 0 : s.includes(t);
                else if ("objectTypes" === e) {
                    let e = o.Z.getGameObject(t);
                    return null == e ? void 0 : null === (l = e.types) || void 0 === l ? void 0 : l.every(e => {
                        var t;
                        return null === (t = d.objectTypes) || void 0 === t ? void 0 : t.includes(e)
                    }
                    )
                } else if ("self" === e)
                    return "self" === t;
                return !1
            }
            ))
        }
        function y(e, t, n, r) {
            if ("string" == typeof e) {
                let t = o.Z.getGameItem(e);
                if (!t)
                    return !1;
                e = t
            }
            return !!(e.onUse && v(e, t, n, r)) && (e.onUse.types.includes("removeEntity") || e.onUse.types.includes("removeObject") || e.onUse.types.includes("move"))
        }
        t.ZP = v
    },
    60922: function(e, t, n) {
        "use strict";
        n.d(t, {
            F5: function() {
                return o
            },
            GU: function() {
                return l
            },
            lf: function() {
                return s
            },
            q4: function() {
                return a
            }
        });
        var r = n(53059);
        let i = {
            id: "pixels",
            name: "pixels",
            map: "terravilla",
            mapPrefix: "pixelsNFTFarm-",
            twitter: "",
            defaultCurrency: "cur_coins"
        };
        function o() {
            try {
                let e = window.location.pathname.split("/")[1];
                if ("nucyber" === e && (e = "gridcraft"),
                !e || "map" === e)
                    return i.id;
                return e.toLowerCase().trim()
            } catch (e) {
                return i.id
            }
        }
        function a(e) {
            let t = r.Z.getTenants();
            if (!t)
                return !1;
            let n = Object.values(t).find(t => t.name === e);
            if (!n || (null == n ? void 0 : n.id) === o())
                return !1;
            let i = "".concat(window.location.origin, "/").concat(n.id);
            return window.history.replaceState(null, "", i),
            !0
        }
        function s() {
            return l().map
        }
        function l() {
            var e, t;
            let n = o()
              , a = r.Z.getTenants();
            return null !== (t = null !== (e = null == a ? void 0 : a[n]) && void 0 !== e ? e : null == a ? void 0 : a.pixels) && void 0 !== t ? t : i
        }
    },
    57295: function(e, t, n) {
        "use strict";
        var r = n(35466);
        class i {
            preloadOne(e) {
                if (this.loaded.has(e))
                    return this.loaded.get(e);
                let t = (0,
                r.pt)(e);
                return this.loaded.set(e, t),
                t
            }
            preloadedBlob(e) {
                return this.urls.get((0,
                r.b7)(e))
            }
            canPreload(e) {
                return !!(e && !this.urls.has((0,
                r.b7)(e)))
            }
            async preloadOneBlob(e) {
                let t = (0,
                r.b7)(e);
                if (this.blobs.has(t))
                    return this.blobs.get(t);
                if (t.startsWith("blob:"))
                    return t;
                let n = (async () => {
                    let e = "";
                    try {
                        let n = await (0,
                        r.pt)(t);
                        if (null == n ? void 0 : n.ok) {
                            let t = await n.blob();
                            e = URL.createObjectURL(t)
                        }
                    } catch (e) {}
                    return this.urls.set(t, e),
                    e
                }
                )();
                return this.blobs.set(t, n),
                n
            }
            constructor() {
                this.loaded = new Map,
                this.blobs = new Map,
                this.urls = new Map
            }
        }
        t.Z = new i
    },
    35466: function(e, t, n) {
        "use strict";
        n.d(t, {
            Uk: function() {
                return U
            },
            iy: function() {
                return P
            },
            KG: function() {
                return w
            },
            Ky: function() {
                return x
            },
            Ye: function() {
                return I
            },
            r$: function() {
                return v
            },
            Fp: function() {
                return f
            },
            zB: function() {
                return L
            },
            Ir: function() {
                return u
            },
            FL: function() {
                return M
            },
            TP: function() {
                return h
            },
            aR: function() {
                return O
            },
            xG: function() {
                return b
            },
            zV: function() {
                return E
            },
            uf: function() {
                return y
            },
            _O: function() {
                return A
            },
            fI: function() {
                return c
            },
            T1: function() {
                return d
            },
            ZB: function() {
                return D
            },
            Ul: function() {
                return m
            },
            r5: function() {
                return V
            },
            Sj: function() {
                return _
            },
            DJ: function() {
                return S
            },
            pt: function() {
                return R
            },
            En: function() {
                return $
            },
            b7: function() {
                return j
            }
        });
        var r, i, o = n(14411), a = n(75268);
        function s(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n)
                    e[r] = n[r]
            }
            return e
        }
        var l = function e(t, n) {
            function r(e, r, i) {
                if ("undefined" != typeof document) {
                    "number" == typeof (i = s({}, n, i)).expires && (i.expires = new Date(Date.now() + 864e5 * i.expires)),
                    i.expires && (i.expires = i.expires.toUTCString()),
                    e = encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);
                    var o = "";
                    for (var a in i)
                        i[a] && (o += "; " + a,
                        !0 !== i[a] && (o += "=" + i[a].split(";")[0]));
                    return document.cookie = e + "=" + t.write(r, e) + o
                }
            }
            return Object.create({
                set: r,
                get: function(e) {
                    if ("undefined" != typeof document && (!arguments.length || e)) {
                        for (var n = document.cookie ? document.cookie.split("; ") : [], r = {}, i = 0; i < n.length; i++) {
                            var o = n[i].split("=")
                              , a = o.slice(1).join("=");
                            try {
                                var s = decodeURIComponent(o[0]);
                                if (r[s] = t.read(a, s),
                                e === s)
                                    break
                            } catch (e) {}
                        }
                        return e ? r[e] : r
                    }
                },
                remove: function(e, t) {
                    r(e, "", s({}, t, {
                        expires: -1
                    }))
                },
                withAttributes: function(t) {
                    return e(this.converter, s({}, this.attributes, t))
                },
                withConverter: function(t) {
                    return e(s({}, this.converter, t), this.attributes)
                }
            }, {
                attributes: {
                    value: Object.freeze(n)
                },
                converter: {
                    value: Object.freeze(t)
                }
            })
        }({
            read: function(e) {
                return '"' === e[0] && (e = e.slice(1, -1)),
                e.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent)
            },
            write: function(e) {
                return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent)
            }
        }, {
            path: "/"
        });
        let u = () => {
            var e;
            switch (null !== (e = "production".toString()) && void 0 !== e ? e : "local") {
            case "production":
                return "/favicon";
            case "staging":
                return "/favicon_staging";
            case "preview":
                return "/favicon_preview";
            default:
                return "/favicon_development"
            }
        }
          , c = e => !(!e || d(e)) && !a.Oe.reduce( (t, n) => t || e.startsWith(n), !1)
          , d = e => (null == e ? void 0 : e.startsWith("/")) && !(null == e ? void 0 : e.startsWith("//"))
          , f = e => {
            if (null == e ? void 0 : e.includes("dashboard.pixels")) {
                let t = window.location.hostname;
                if ("dev.pixels.xyz" === t)
                    return e.replace("dashboard.pixels", "dashboard-dev.pixels");
                if ("preview.pixels.xyz" === t)
                    return e.replace("dashboard.pixels", "dashboard-preview.pixels");
                if ("staging.pixels.xyz" === t)
                    return e.replace("dashboard.pixels", "dashboard-staging.pixels")
            } else if ((null == e ? void 0 : e.startsWith("/dashboard/")) || "/dashboard" === e) {
                let t = window.location.hostname
                  , n = e.replace("/dashboard", "");
                return "dev.pixels.xyz" === t ? "//dashboard-dev.pixels.xyz".concat(n) : t.includes("localhost") ? "//localhost:3001/".concat(n) : "preview.pixels.xyz" === t ? "//dashboard-preview.pixels.xyz".concat(n) : "staging.pixels.xyz" === t ? "//dashboard-staging.pixels.xyz".concat(n) : "//dashboard.pixels.xyz".concat(n)
            }
            return e
        }
          , h = e => {
            switch (e) {
            case "metamask":
                return p("isMetaMask");
            case "coinbase":
                return p("isCoinbaseWallet") || window.coinbaseWalletExtension;
            case "okx":
                return window.okxwallet;
            case "trust":
                return window.trustwallet;
            case "ronin":
                var t;
                return null === (t = window.ronin) || void 0 === t ? void 0 : t.provider
            }
        }
          , p = e => {
            var t;
            if (window.ethereum) {
                if (!window.ethereum.isOkxWallet && window.ethereum[e] && !window.ethereum.providers)
                    return window.ethereum;
                if (null === (t = window.ethereum.providers) || void 0 === t ? void 0 : t.length) {
                    let t = window.ethereum.providers.find(t => null == t ? void 0 : t[e]);
                    if (t)
                        return t
                }
                if (window[e])
                    return window[e]
            }
        }
          , g = {}
          , m = (e, t) => {
            if ("pixels-session" === e) {
                let e = "pixels-session";
                if (void 0 === t)
                    return l.get(e);
                if (null === t)
                    l.remove(e, {
                        domain: "pixels.xyz"
                    });
                else {
                    let n = new Date;
                    n.setFullYear(n.getFullYear() + 10),
                    l.set(e, t, {
                        expires: n,
                        secure: !0,
                        sameSite: "strict",
                        domain: "pixels.xyz"
                    })
                }
                return
            }
            if (void 0 === t)
                return g[e] ? g[e] : window.localStorage.getItem(e);
            if (null === t)
                delete g[e],
                window.localStorage.removeItem(e);
            else {
                g[e] = t;
                try {
                    window.localStorage.setItem(e, t)
                } catch (e) {}
            }
        }
          , v = () => {
            Object.keys(localStorage).filter(e => e.startsWith("wc@2:") || e.startsWith("wagmi.") || e.startsWith("-walletlink:")).forEach(e => localStorage.removeItem(e))
        }
          , y = function(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
            return (null != e ? e : 0).toLocaleString(void 0, {
                maximumFractionDigits: t
            })
        }
          , b = (e, t) => {
            var n, r;
            return y(e, null !== (r = null == t ? void 0 : t.roundDecimalPlaces) && void 0 !== r ? r : Math.floor(Math.log10(2 ** (null !== (n = null == t ? void 0 : t.roundBinaryPlaces) && void 0 !== n ? n : 0))))
        }
          , E = (e, t) => e < 1e3 ? b(e, t) : e < 1e6 ? (e / 1e3).toFixed(e < 1e4 ? 1 : 0) + "K" : e < 1e9 ? (e / 1e6).toFixed(e < 1e7 ? 1 : 0) + "M" : e < 1e12 ? (e / 1e9).toFixed(e < 1e10 ? 1 : 0) + "B" : "> 1e12"
          , _ = e => {
            var t;
            return (null == e ? void 0 : e.roundDecimalPlaces) ? null == e ? void 0 : e.roundDecimalPlaces : Math.floor(Math.log10(2 ** (null !== (t = null == e ? void 0 : e.roundBinaryPlaces) && void 0 !== t ? t : 0)))
        }
          , w = (e, t) => {
            var n;
            let r = (null == t ? void 0 : t.roundDecimalPlaces) ? 10 ** t.roundDecimalPlaces : 2 ** (null !== (n = null == t ? void 0 : t.roundBinaryPlaces) && void 0 !== n ? n : 0);
            return Math.ceil(e * r) / r
        }
          , O = (e, t) => {
            var n;
            let r = (null == t ? void 0 : t.roundDecimalPlaces) ? 10 ** t.roundDecimalPlaces : 2 ** (null !== (n = null == t ? void 0 : t.roundBinaryPlaces) && void 0 !== n ? n : 0);
            return Math.floor(e * r) / r
        }
          , A = (e, t) => Math.atan2(t.y - e.y, t.x - e.x)
          , S = (e, t) => (t.x - e.x) ** 2 + (t.y - e.y) ** 2
          , P = e => {
            let {selfPlayer: t, world: n, object: r, useType: i} = e;
            return t ? "self" === i || "pet" === i ? 0 : r ? Math.max(0, Math.abs(t.y - r.y) - r.height / 2) ** 2 + Math.max(0, Math.abs(t.x - r.x) - r.width / 2) ** 2 : (t.y - n.y) * (t.y - n.y) + (t.x - n.x) * (t.x - n.x) : 1e4
        }
          , R = e => window.fetch(e, {
            mode: "cors",
            credentials: "omit"
        })
          , I = async () => {
            try {
                return {
                    version: await window.fetch("/version.json").then(e => e.json())
                }
            } catch (e) {
                return {
                    error: e,
                    version: -1
                }
            }
        }
          , T = {}
          , x = async e => {
            try {
                if (T[e])
                    return T[e];
                let t = encodeURIComponent(e)
                  , n = await window.fetch("".concat(o.LB, "/v1/expand?url=").concat(t)).then(e => e.json());
                if (null == n ? void 0 : n.url)
                    return T[e] = n.url,
                    n.url
            } catch (e) {
                console.error("error looking up redirect", e)
            }
            return e
        }
          , k = /fuck|shit|cunt|cock|fcuk|nigger|5hit/i
          , N = /\b(4r5e|5h1t|5hit|a55|hitler|anal|anus|ar5e|arrse|arse|ass|asshole|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|boiolas|bollock|bollok|boner|boob|booob|boooob|booooob|booooooob|breasts|buceta|bugger|bum|butthole|buttmunch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|cnut|cock|cok|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cyalis|cyberfuc|d1ck|damn|dick|dickhead|dildo|dink|dinks|dirsa|dlck|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculat|ejakulate|f u c k|f u c k e r|f4nny|fag|fanny|fannyflaps|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|flange|fook|fooker|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|heshe|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbat|masturbate|mo-fo|mof0|mofo|mothafuck|mother fuck|motherfuck|muff|mutha|muthafeck|muthafuckk|muther|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|poop|porn|prick|pron|pube|pusse|pussi|pussy|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spunk|s_h_i_t|t1tt1e|teets|teez|testical|testicle|titfuck|tits|titt|titwank|tosser|turd|tw4t|twat|twathead|twatty|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|xrated|xxx|kkk)/gi
          , C = (null === (i = window.navigator) || void 0 === i ? void 0 : null === (r = i.languages) || void 0 === r ? void 0 : r.some(e => null == e ? void 0 : e.startsWith("tl"))) ? /fuck|shit|cunt|cock|fcuk|hitler|[-._+,;:'`#^/\\]+[A-Za-z]+[-._+,;:'`#^/\\]|putang|asshole|asswhole|gago|bastard|beastial|punyeta|ulol|tae|hayop|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|lintik|pakshet|bloody|blowjob|boiolas|bollock|bollok|boo+b|bogo|breasts|buceta|bugger|butthole|buttmunch|buttplug|c0ck|c0cksucker|carpet muncher|bobo|chink|cl1t|clit|clitoris|cnut|cock|cok|cox|cummer|cumming|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cyalis|cyberfuc|d1ck|dickhead|dildo|dinks|dirsa|dlck|donkeyribber|doosh|duche|dyke|ejaculat|ejakulate|f u c k|f u c k e r|f4nny|fanny|fanyy|fatass|fcuk|fcuker|fcuking|fecker|felching|fellate|fellatio|flange|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux0r|gangbang|gangbanged|gangbangs|gaylord|gaysex|god-dam|god-damned|goddamn|goddamned|hardcoresex|hoare|horniest|horny|hotsex|jack-off|jackoff|jerk-off|jism|jizm|jizz|kawk|puta|knobed|knobend|knobhead|knobjocky|knobjokey|kondum|kondums|kummer|kumming|kunilingus|l3i\+ch|l3itch|labia|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat|mo-fo|mof0|mothafuck|mother fucker|motherfuck|muthafeck|muthafuck|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|penis|penisfucker|phonesex|phuck|phuked|phuking|phukked|phukking|phuks|pigfucker|pimpis|pissflaps|pissin|pissing|pissoff|porno|pricks|pube|pusse|pussi|pussy|rectum|retard|rimjaw|schlong|scrote|scrotum|shagger|shaggin|shagging|shemale|skank|smegma|snatch|spunk|t1tt1e5|t1tties|teez|testical|testicle|titfuck|titties|tittyfuck|tittywank|titwank|tw4t|twat|twathead|twatty|twunt|twunter|tranny|trannie|vagina|viagra|vulva|wang|wank|wanker|wanky|whoar|whore|xxx/gi : /fuck|shit|cunt|cock|fcuk|hitler|[-._+,;:'`#^/\\]+[A-Za-z]+[-._+,;:'`#^/\\]|arrse|asshole|asswhole|ballbag|bastard|beastial|beastiality|bellend|bestiality|bi\+ch|biatch|bloody|blowjob|boiolas|bollock|bollok|boo+b|breasts|buceta|bugger|butthole|buttmunch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cl1t|clit|clitoris|cnut|cock|cok|cox|cummer|cumming|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cyalis|cyberfuc|d1ck|dickhead|dildo|dinks|dirsa|dlck|donkeyribber|doosh|duche|dyke|ejaculat|ejakulate|f u c k|f u c k e r|f4nny|fanny|fanyy|fatass|fcuk|fcuker|fcuking|fecker|felching|fellate|fellatio|flange|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux0r|gangbang|gangbanged|gangbangs|gaylord|gaysex|god-dam|god-damned|goddamn|goddamned|hardcoresex|hoare|horniest|horny|hotsex|jack-off|jackoff|jerk-off|jism|jizm|jizz|kawk|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kondum|kondums|kummer|kumming|kunilingus|l3i\+ch|l3itch|labia|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat|mo-fo|mof0|mothafuck|mother fuck|motherfuck|muthafecker|muthafuck|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|penis|penisfucker|phonesex|phuck|phuked|phuking|phukked|phukking|phuks|pigfucker|pimpis|pissflaps|pissin|pissing|pissoff|porno|pornography|pornos|pricks|pube|pusse|pussi|pussy|rectum|retard|rimjaw|schlong|scrote|scrotum|shagger|shaggin|shagging|shemale|skank|smegma|snatch|spunk|t1tt1e5|t1tties|teez|testical|testicle|titfuck|titties|tittyfuck|tittywank|titwank|tw4t|twat|twathead|twatty|twunt|twunter|tranny|trannie|vagina|viagra|vulva|wang|wank|wanker|wanky|whoar|whore|xxx/gi
          , L = e => (N.lastIndex = 0,
        C.lastIndex = 0,
        k.lastIndex = 0,
        k.test(e) || N.test(e) || C.test(e.replace(/[^a-zA-Z1350]/, "")))
          , M = e => e.replaceAll(C, "@#$%").replaceAll(N, "!*^+")
          , D = e => e.replace(/^(http|https)?:?\/\/[^/]*/, "").replace(/\?.*$/, "").replace(/-|\/|\|_|\.png|uploadedAssets/g, "")
          , j = function(e) {
            let t = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1];
            if (!e)
                return "";
            if (e.startsWith("blob:") || e.startsWith("data:"))
                return e;
            e.startsWith("ipfs:") && (e = e.replace("ipfs://", "//ipfs.io/ipfs/")),
            e.startsWith(a.je) && (e = e.replace(a.je, a.pZ));
            let n = e.indexOf(":")
              , r = -1 === n ? e : e.substring(n + 1);
            return t && -1 === e.indexOf("?") && -1 === e.indexOf("#") ? "".concat(r, "?v4") : r
        }
          , U = e => e ? e.startsWith("/assets/ui") ? e.replace("/assets/ui/", "".concat(a.pZ, "/game/ui/")) : e.startsWith("/game") ? "".concat(a.pZ).concat(e) : e.startsWith("/assets/") ? e.replace("/assets/", "".concat(a.pZ, "/game/assets/")) : e.startsWith("/") && !e.startsWith("//") ? "".concat(a.pZ).concat(e) : e : ""
          , $ = e => {
            let t = (null == e ? void 0 : e.toLowerCase()) || ""
              , n = e;
            try {
                if ("terravilla" === t)
                    n = "terravilla";
                else if (t.includes("pixelsnftfarm-")) {
                    let e = t.replace("pixelsnftfarm-", "");
                    e && (n = "pixelsNFTFarm-".concat(e))
                } else if (t.includes("pixelsnftfarm")) {
                    let e = t.replace("pixelsnftfarm", "");
                    e && (n = "pixelsNFTFarm".concat(e))
                } else if (/farm\d+/.test(t)) {
                    let e = t.replace("farm", "");
                    e && (n = "pixelsNFTFarm-".concat(e))
                }
                return n
            } catch (t) {
                return e
            }
        }
        ;
        function V(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            return e.startsWith("pixelsNFTFarm-") ? "".concat(e.replace("pixelsNFTFarm-", t ? "#" : "")) : /terravilla/i.test(e) ? "TV" : e
        }
    },
    97790: function(e, t, n) {
        "use strict";
        var r = n(80919)
          , i = n(53059);
        class o {
            get isInitialized() {
                return !!o.phaserGame
            }
            async loadLibraries(e) {
                return i.Z.loadLibraries(e)
            }
            registerEvents() {
                r.ZP.registerEventListener(r.Vh.RESIZE, e => {
                    var t;
                    null === (t = this.roomScene) || void 0 === t || t.resize(e.width, e.height)
                }
                )
            }
            async initGame() {
                let e = await n.e(989).then(n.t.bind(n, 82260, 23))
                  , t = await Promise.all([n.e(989), n.e(445)]).then(n.bind(n, 25206))
                  , {phaserConfig: i} = await Promise.all([n.e(989), n.e(347)]).then(n.bind(n, 37347));
                return await r.ZP.init(),
                o.phaserGame || (this.audioScene = new t.default,
                i.scene = this.audioScene,
                o.phaserGame = new e.Game(i),
                this.registerEvents()),
                o.phaserGame
            }
            async freezeRoom(e) {
                o.phaserGame.scene.getScenes(!0).forEach(t => {
                    t.events.emit("TRANSITION_OUT", e)
                }
                ),
                await new Promise(t => {
                    setTimeout(t, "quick" !== e ? 1500 : 1e3)
                }
                )
            }
            unfreezeRoom(e) {
                o.phaserGame.scene.getScenes(!0).forEach(t => {
                    t.events.emit("TRANSITION_IN", e)
                }
                )
            }
            pauseRoom() {
                o.phaserGame.scene.getScenes(!0).forEach(e => {
                    e !== this.audioScene && e.scene.pause()
                }
                )
            }
            async killScene() {
                o.phaserGame && (o.phaserGame.scene.getScenes().forEach(e => {
                    e !== this.audioScene && e.scene.remove()
                }
                ),
                this.currentScene = "loader"),
                this.roomScene = void 0
            }
            static get reentrancyCheck() {
                var e;
                return null === (e = window) || void 0 === e ? void 0 : e.pixelsRentrancy
            }
            static set reentrancyCheck(e) {
                console.log("setting re-entrancy", e),
                window && (window.pixelsRentrancy = e)
            }
            async initRoom(e) {
                var t;
                o.phaserGame || await this.initGame(),
                null === (t = this.audioScene) || void 0 === t || t.clearPositional();
                let i = await Promise.all([n.e(989), n.e(640), n.e(445), n.e(220)]).then(n.bind(n, 57220));
                if (o.reentrancyCheck) {
                    console.error("wtf are we doing? We cannot run this twice.");
                    return
                }
                o.reentrancyCheck = !0;
                let a = "room".concat(e.mapId);
                a === this.currentScene && (a = "".concat(a, "2"));
                let s = new i.default(a,e.mapId,e.worldId,e.spawn,e.transition)
                  , l = setTimeout( () => {
                    console.log("Have not loaded after 5 seconds!!!!"),
                    r.ZP.sendEventDelayed(r.fb.SLOW_LOAD)
                }
                , 5e3)
                  , u = () => {
                    let e = this.currentScene && o.phaserGame.scene.getScene(this.currentScene);
                    e || console.log("no scene to destroy"),
                    clearTimeout(l),
                    o.phaserGame.scene.add(a, s),
                    s.scene.start(),
                    this.currentScene = a,
                    this.roomScene = s,
                    null == e || e.scene.remove(),
                    null == s || s.events.once("create", () => {
                        r.ZP.emitEventNow(r.fb.GAME_INITIATED)
                    }
                    ),
                    r.ZP.removeEventListerner(r.fb.GAME_CONNECTED, u),
                    r.ZP.removeEventListerner(r.fb.SVR_CANNOTCONNECT, c),
                    o.reentrancyCheck = !1
                }
                  , c = () => {
                    clearTimeout(l),
                    r.ZP.removeEventListerner(r.fb.GAME_CONNECTED, u),
                    r.ZP.removeEventListerner(r.fb.SVR_CANNOTCONNECT, c),
                    o.reentrancyCheck = !1
                }
                ;
                r.ZP.registerEventListener(r.fb.GAME_CONNECTED, u),
                r.ZP.registerEventListener(r.fb.SVR_CANNOTCONNECT, c)
            }
            destroyGame() {
                var e;
                null === (e = o.phaserGame) || void 0 === e || e.destroy(!0),
                o.phaserGame = null
            }
            constructor() {
                this.currentScene = "loader"
            }
        }
        t.Z = new o
    },
    63534: function(e, t, n) {
        "use strict";
        let r, i, o;
        n.d(t, {
            Z: function() {
                return ty
            }
        });
        var a, s, l, u, c, d = {};
        function f(e, t) {
            return function() {
                return e.apply(t, arguments)
            }
        }
        n.r(d),
        n.d(d, {
            hasBrowserEnv: function() {
                return ev
            },
            hasStandardBrowserEnv: function() {
                return eb
            },
            hasStandardBrowserWebWorkerEnv: function() {
                return eE
            },
            navigator: function() {
                return ey
            },
            origin: function() {
                return e_
            }
        });
        var h = n(83454);
        let {toString: p} = Object.prototype
          , {getPrototypeOf: g} = Object
          , m = (r = Object.create(null),
        e => {
            let t = p.call(e);
            return r[t] || (r[t] = t.slice(8, -1).toLowerCase())
        }
        )
          , v = e => (e = e.toLowerCase(),
        t => m(t) === e)
          , y = e => t => typeof t === e
          , {isArray: b} = Array
          , E = y("undefined")
          , _ = v("ArrayBuffer")
          , w = y("string")
          , O = y("function")
          , A = y("number")
          , S = e => null !== e && "object" == typeof e
          , P = e => {
            if ("object" !== m(e))
                return !1;
            let t = g(e);
            return (null === t || t === Object.prototype || null === Object.getPrototypeOf(t)) && !(Symbol.toStringTag in e) && !(Symbol.iterator in e)
        }
          , R = v("Date")
          , I = v("File")
          , T = v("Blob")
          , x = v("FileList")
          , k = v("URLSearchParams")
          , [N,C,L,M] = ["ReadableStream", "Request", "Response", "Headers"].map(v);
        function D(e, t, {allOwnKeys: n=!1}={}) {
            let r, i;
            if (null != e) {
                if ("object" != typeof e && (e = [e]),
                b(e))
                    for (r = 0,
                    i = e.length; r < i; r++)
                        t.call(null, e[r], r, e);
                else {
                    let i;
                    let o = n ? Object.getOwnPropertyNames(e) : Object.keys(e)
                      , a = o.length;
                    for (r = 0; r < a; r++)
                        i = o[r],
                        t.call(null, e[i], i, e)
                }
            }
        }
        function j(e, t) {
            let n;
            t = t.toLowerCase();
            let r = Object.keys(e)
              , i = r.length;
            for (; i-- > 0; )
                if (t === (n = r[i]).toLowerCase())
                    return n;
            return null
        }
        let U = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : global
          , $ = e => !E(e) && e !== U
          , V = (i = "undefined" != typeof Uint8Array && g(Uint8Array),
        e => i && e instanceof i)
          , B = v("HTMLFormElement")
          , F = ( ({hasOwnProperty: e}) => (t, n) => e.call(t, n))(Object.prototype)
          , q = v("RegExp")
          , G = (e, t) => {
            let n = Object.getOwnPropertyDescriptors(e)
              , r = {};
            D(n, (n, i) => {
                let o;
                !1 !== (o = t(n, i, e)) && (r[i] = o || n)
            }
            ),
            Object.defineProperties(e, r)
        }
          , z = "abcdefghijklmnopqrstuvwxyz"
          , Y = "0123456789"
          , H = {
            DIGIT: Y,
            ALPHA: z,
            ALPHA_DIGIT: z + z.toUpperCase() + Y
        }
          , Z = v("AsyncFunction")
          , W = (a = "function" == typeof setImmediate,
        s = O(U.postMessage),
        a ? setImmediate : s ? (l = `axios@${Math.random()}`,
        u = [],
        U.addEventListener("message", ({source: e, data: t}) => {
            e === U && t === l && u.length && u.shift()()
        }
        , !1),
        e => {
            u.push(e),
            U.postMessage(l, "*")
        }
        ) : e => setTimeout(e))
          , J = "undefined" != typeof queueMicrotask ? queueMicrotask.bind(U) : void 0 !== h && h.nextTick || W;
        var K = {
            isArray: b,
            isArrayBuffer: _,
            isBuffer: function(e) {
                return null !== e && !E(e) && null !== e.constructor && !E(e.constructor) && O(e.constructor.isBuffer) && e.constructor.isBuffer(e)
            },
            isFormData: e => {
                let t;
                return e && ("function" == typeof FormData && e instanceof FormData || O(e.append) && ("formdata" === (t = m(e)) || "object" === t && O(e.toString) && "[object FormData]" === e.toString()))
            }
            ,
            isArrayBufferView: function(e) {
                return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && _(e.buffer)
            },
            isString: w,
            isNumber: A,
            isBoolean: e => !0 === e || !1 === e,
            isObject: S,
            isPlainObject: P,
            isReadableStream: N,
            isRequest: C,
            isResponse: L,
            isHeaders: M,
            isUndefined: E,
            isDate: R,
            isFile: I,
            isBlob: T,
            isRegExp: q,
            isFunction: O,
            isStream: e => S(e) && O(e.pipe),
            isURLSearchParams: k,
            isTypedArray: V,
            isFileList: x,
            forEach: D,
            merge: function e() {
                let {caseless: t} = $(this) && this || {}
                  , n = {}
                  , r = (r, i) => {
                    let o = t && j(n, i) || i;
                    P(n[o]) && P(r) ? n[o] = e(n[o], r) : P(r) ? n[o] = e({}, r) : b(r) ? n[o] = r.slice() : n[o] = r
                }
                ;
                for (let e = 0, t = arguments.length; e < t; e++)
                    arguments[e] && D(arguments[e], r);
                return n
            },
            extend: (e, t, n, {allOwnKeys: r}={}) => (D(t, (t, r) => {
                n && O(t) ? e[r] = f(t, n) : e[r] = t
            }
            , {
                allOwnKeys: r
            }),
            e),
            trim: e => e.trim ? e.trim() : e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ""),
            stripBOM: e => (65279 === e.charCodeAt(0) && (e = e.slice(1)),
            e),
            inherits: (e, t, n, r) => {
                e.prototype = Object.create(t.prototype, r),
                e.prototype.constructor = e,
                Object.defineProperty(e, "super", {
                    value: t.prototype
                }),
                n && Object.assign(e.prototype, n)
            }
            ,
            toFlatObject: (e, t, n, r) => {
                let i, o, a;
                let s = {};
                if (t = t || {},
                null == e)
                    return t;
                do {
                    for (o = (i = Object.getOwnPropertyNames(e)).length; o-- > 0; )
                        a = i[o],
                        (!r || r(a, e, t)) && !s[a] && (t[a] = e[a],
                        s[a] = !0);
                    e = !1 !== n && g(e)
                } while (e && (!n || n(e, t)) && e !== Object.prototype);
                return t
            }
            ,
            kindOf: m,
            kindOfTest: v,
            endsWith: (e, t, n) => {
                e = String(e),
                (void 0 === n || n > e.length) && (n = e.length),
                n -= t.length;
                let r = e.indexOf(t, n);
                return -1 !== r && r === n
            }
            ,
            toArray: e => {
                if (!e)
                    return null;
                if (b(e))
                    return e;
                let t = e.length;
                if (!A(t))
                    return null;
                let n = Array(t);
                for (; t-- > 0; )
                    n[t] = e[t];
                return n
            }
            ,
            forEachEntry: (e, t) => {
                let n;
                let r = (e && e[Symbol.iterator]).call(e);
                for (; (n = r.next()) && !n.done; ) {
                    let r = n.value;
                    t.call(e, r[0], r[1])
                }
            }
            ,
            matchAll: (e, t) => {
                let n;
                let r = [];
                for (; null !== (n = e.exec(t)); )
                    r.push(n);
                return r
            }
            ,
            isHTMLForm: B,
            hasOwnProperty: F,
            hasOwnProp: F,
            reduceDescriptors: G,
            freezeMethods: e => {
                G(e, (t, n) => {
                    if (O(e) && -1 !== ["arguments", "caller", "callee"].indexOf(n))
                        return !1;
                    if (O(e[n])) {
                        if (t.enumerable = !1,
                        "writable"in t) {
                            t.writable = !1;
                            return
                        }
                        t.set || (t.set = () => {
                            throw Error("Can not rewrite read-only method '" + n + "'")
                        }
                        )
                    }
                }
                )
            }
            ,
            toObjectSet: (e, t) => {
                let n = {};
                return (e => {
                    e.forEach(e => {
                        n[e] = !0
                    }
                    )
                }
                )(b(e) ? e : String(e).split(t)),
                n
            }
            ,
            toCamelCase: e => e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function(e, t, n) {
                return t.toUpperCase() + n
            }),
            noop: () => {}
            ,
            toFiniteNumber: (e, t) => null != e && Number.isFinite(e = +e) ? e : t,
            findKey: j,
            global: U,
            isContextDefined: $,
            ALPHABET: H,
            generateString: (e=16, t=H.ALPHA_DIGIT) => {
                let n = ""
                  , {length: r} = t;
                for (; e--; )
                    n += t[Math.random() * r | 0];
                return n
            }
            ,
            isSpecCompliantForm: function(e) {
                return !!(e && O(e.append) && "FormData" === e[Symbol.toStringTag] && e[Symbol.iterator])
            },
            toJSONObject: e => {
                let t = Array(10)
                  , n = (e, r) => {
                    if (S(e)) {
                        if (t.indexOf(e) >= 0)
                            return;
                        if (!("toJSON"in e)) {
                            t[r] = e;
                            let i = b(e) ? [] : {};
                            return D(e, (e, t) => {
                                let o = n(e, r + 1);
                                E(o) || (i[t] = o)
                            }
                            ),
                            t[r] = void 0,
                            i
                        }
                    }
                    return e
                }
                ;
                return n(e, 0)
            }
            ,
            isAsyncFn: Z,
            isThenable: e => e && (S(e) || O(e)) && O(e.then) && O(e.catch),
            setImmediate: W,
            asap: J
        };
        function X(e, t, n, r, i) {
            Error.call(this),
            Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = Error().stack,
            this.message = e,
            this.name = "AxiosError",
            t && (this.code = t),
            n && (this.config = n),
            r && (this.request = r),
            i && (this.response = i,
            this.status = i.status ? i.status : null)
        }
        K.inherits(X, Error, {
            toJSON: function() {
                return {
                    message: this.message,
                    name: this.name,
                    description: this.description,
                    number: this.number,
                    fileName: this.fileName,
                    lineNumber: this.lineNumber,
                    columnNumber: this.columnNumber,
                    stack: this.stack,
                    config: K.toJSONObject(this.config),
                    code: this.code,
                    status: this.status
                }
            }
        });
        let Q = X.prototype
          , ee = {};
        ["ERR_BAD_OPTION_VALUE", "ERR_BAD_OPTION", "ECONNABORTED", "ETIMEDOUT", "ERR_NETWORK", "ERR_FR_TOO_MANY_REDIRECTS", "ERR_DEPRECATED", "ERR_BAD_RESPONSE", "ERR_BAD_REQUEST", "ERR_CANCELED", "ERR_NOT_SUPPORT", "ERR_INVALID_URL"].forEach(e => {
            ee[e] = {
                value: e
            }
        }
        ),
        Object.defineProperties(X, ee),
        Object.defineProperty(Q, "isAxiosError", {
            value: !0
        }),
        X.from = (e, t, n, r, i, o) => {
            let a = Object.create(Q);
            return K.toFlatObject(e, a, function(e) {
                return e !== Error.prototype
            }, e => "isAxiosError" !== e),
            X.call(a, e.message, t, n, r, i),
            a.cause = e,
            a.name = e.name,
            o && Object.assign(a, o),
            a
        }
        ;
        var et = n(21876).Buffer;
        function en(e) {
            return K.isPlainObject(e) || K.isArray(e)
        }
        function er(e) {
            return K.endsWith(e, "[]") ? e.slice(0, -2) : e
        }
        function ei(e, t, n) {
            return e ? e.concat(t).map(function(e, t) {
                return e = er(e),
                !n && t ? "[" + e + "]" : e
            }).join(n ? "." : "") : t
        }
        let eo = K.toFlatObject(K, {}, null, function(e) {
            return /^is[A-Z]/.test(e)
        });
        var ea = function(e, t, n) {
            if (!K.isObject(e))
                throw TypeError("target must be an object");
            t = t || new FormData;
            let r = (n = K.toFlatObject(n, {
                metaTokens: !0,
                dots: !1,
                indexes: !1
            }, !1, function(e, t) {
                return !K.isUndefined(t[e])
            })).metaTokens
              , i = n.visitor || u
              , o = n.dots
              , a = n.indexes
              , s = (n.Blob || "undefined" != typeof Blob && Blob) && K.isSpecCompliantForm(t);
            if (!K.isFunction(i))
                throw TypeError("visitor must be a function");
            function l(e) {
                if (null === e)
                    return "";
                if (K.isDate(e))
                    return e.toISOString();
                if (!s && K.isBlob(e))
                    throw new X("Blob is not supported. Use a Buffer instead.");
                return K.isArrayBuffer(e) || K.isTypedArray(e) ? s && "function" == typeof Blob ? new Blob([e]) : et.from(e) : e
            }
            function u(e, n, i) {
                let s = e;
                if (e && !i && "object" == typeof e) {
                    if (K.endsWith(n, "{}"))
                        n = r ? n : n.slice(0, -2),
                        e = JSON.stringify(e);
                    else {
                        var u;
                        if (K.isArray(e) && (u = e,
                        K.isArray(u) && !u.some(en)) || (K.isFileList(e) || K.endsWith(n, "[]")) && (s = K.toArray(e)))
                            return n = er(n),
                            s.forEach(function(e, r) {
                                K.isUndefined(e) || null === e || t.append(!0 === a ? ei([n], r, o) : null === a ? n : n + "[]", l(e))
                            }),
                            !1
                    }
                }
                return !!en(e) || (t.append(ei(i, n, o), l(e)),
                !1)
            }
            let c = []
              , d = Object.assign(eo, {
                defaultVisitor: u,
                convertValue: l,
                isVisitable: en
            });
            if (!K.isObject(e))
                throw TypeError("data must be an object");
            return !function e(n, r) {
                if (!K.isUndefined(n)) {
                    if (-1 !== c.indexOf(n))
                        throw Error("Circular reference detected in " + r.join("."));
                    c.push(n),
                    K.forEach(n, function(n, o) {
                        !0 === (!(K.isUndefined(n) || null === n) && i.call(t, n, K.isString(o) ? o.trim() : o, r, d)) && e(n, r ? r.concat(o) : [o])
                    }),
                    c.pop()
                }
            }(e),
            t
        };
        function es(e) {
            let t = {
                "!": "%21",
                "'": "%27",
                "(": "%28",
                ")": "%29",
                "~": "%7E",
                "%20": "+",
                "%00": "\0"
            };
            return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g, function(e) {
                return t[e]
            })
        }
        function el(e, t) {
            this._pairs = [],
            e && ea(e, this, t)
        }
        let eu = el.prototype;
        function ec(e) {
            return encodeURIComponent(e).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]")
        }
        function ed(e, t, n) {
            let r;
            if (!t)
                return e;
            let i = n && n.encode || ec
              , o = n && n.serialize;
            if (r = o ? o(t, n) : K.isURLSearchParams(t) ? t.toString() : new el(t,n).toString(i)) {
                let t = e.indexOf("#");
                -1 !== t && (e = e.slice(0, t)),
                e += (-1 === e.indexOf("?") ? "?" : "&") + r
            }
            return e
        }
        eu.append = function(e, t) {
            this._pairs.push([e, t])
        }
        ,
        eu.toString = function(e) {
            let t = e ? function(t) {
                return e.call(this, t, es)
            }
            : es;
            return this._pairs.map(function(e) {
                return t(e[0]) + "=" + t(e[1])
            }, "").join("&")
        }
        ;
        class ef {
            constructor() {
                this.handlers = []
            }
            use(e, t, n) {
                return this.handlers.push({
                    fulfilled: e,
                    rejected: t,
                    synchronous: !!n && n.synchronous,
                    runWhen: n ? n.runWhen : null
                }),
                this.handlers.length - 1
            }
            eject(e) {
                this.handlers[e] && (this.handlers[e] = null)
            }
            clear() {
                this.handlers && (this.handlers = [])
            }
            forEach(e) {
                K.forEach(this.handlers, function(t) {
                    null !== t && e(t)
                })
            }
        }
        var eh = {
            silentJSONParsing: !0,
            forcedJSONParsing: !0,
            clarifyTimeoutError: !1
        }
          , ep = "undefined" != typeof URLSearchParams ? URLSearchParams : el
          , eg = "undefined" != typeof FormData ? FormData : null
          , em = "undefined" != typeof Blob ? Blob : null;
        let ev = "undefined" != typeof window && "undefined" != typeof document
          , ey = "object" == typeof navigator && navigator || void 0
          , eb = ev && (!ey || 0 > ["ReactNative", "NativeScript", "NS"].indexOf(ey.product))
          , eE = "undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && "function" == typeof self.importScripts
          , e_ = ev && window.location.href || "http://localhost";
        var ew = {
            ...d,
            isBrowser: !0,
            classes: {
                URLSearchParams: ep,
                FormData: eg,
                Blob: em
            },
            protocols: ["http", "https", "file", "blob", "url", "data"]
        }
          , eO = function(e) {
            if (K.isFormData(e) && K.isFunction(e.entries)) {
                let t = {};
                return K.forEachEntry(e, (e, n) => {
                    !function e(t, n, r, i) {
                        let o = t[i++];
                        if ("__proto__" === o)
                            return !0;
                        let a = Number.isFinite(+o)
                          , s = i >= t.length;
                        return (o = !o && K.isArray(r) ? r.length : o,
                        s) ? K.hasOwnProp(r, o) ? r[o] = [r[o], n] : r[o] = n : (r[o] && K.isObject(r[o]) || (r[o] = []),
                        e(t, n, r[o], i) && K.isArray(r[o]) && (r[o] = function(e) {
                            let t, n;
                            let r = {}
                              , i = Object.keys(e)
                              , o = i.length;
                            for (t = 0; t < o; t++)
                                r[n = i[t]] = e[n];
                            return r
                        }(r[o]))),
                        !a
                    }(K.matchAll(/\w+|\[(\w*)]/g, e).map(e => "[]" === e[0] ? "" : e[1] || e[0]), n, t, 0)
                }
                ),
                t
            }
            return null
        };
        let eA = {
            transitional: eh,
            adapter: ["xhr", "http", "fetch"],
            transformRequest: [function(e, t) {
                let n;
                let r = t.getContentType() || ""
                  , i = r.indexOf("application/json") > -1
                  , o = K.isObject(e);
                if (o && K.isHTMLForm(e) && (e = new FormData(e)),
                K.isFormData(e))
                    return i ? JSON.stringify(eO(e)) : e;
                if (K.isArrayBuffer(e) || K.isBuffer(e) || K.isStream(e) || K.isFile(e) || K.isBlob(e) || K.isReadableStream(e))
                    return e;
                if (K.isArrayBufferView(e))
                    return e.buffer;
                if (K.isURLSearchParams(e))
                    return t.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1),
                    e.toString();
                if (o) {
                    if (r.indexOf("application/x-www-form-urlencoded") > -1) {
                        var a, s;
                        return (a = e,
                        s = this.formSerializer,
                        ea(a, new ew.classes.URLSearchParams, Object.assign({
                            visitor: function(e, t, n, r) {
                                return ew.isNode && K.isBuffer(e) ? (this.append(t, e.toString("base64")),
                                !1) : r.defaultVisitor.apply(this, arguments)
                            }
                        }, s))).toString()
                    }
                    if ((n = K.isFileList(e)) || r.indexOf("multipart/form-data") > -1) {
                        let t = this.env && this.env.FormData;
                        return ea(n ? {
                            "files[]": e
                        } : e, t && new t, this.formSerializer)
                    }
                }
                return o || i ? (t.setContentType("application/json", !1),
                function(e, t, n) {
                    if (K.isString(e))
                        try {
                            return (0,
                            JSON.parse)(e),
                            K.trim(e)
                        } catch (e) {
                            if ("SyntaxError" !== e.name)
                                throw e
                        }
                    return (0,
                    JSON.stringify)(e)
                }(e)) : e
            }
            ],
            transformResponse: [function(e) {
                let t = this.transitional || eA.transitional
                  , n = t && t.forcedJSONParsing
                  , r = "json" === this.responseType;
                if (K.isResponse(e) || K.isReadableStream(e))
                    return e;
                if (e && K.isString(e) && (n && !this.responseType || r)) {
                    let n = t && t.silentJSONParsing;
                    try {
                        return JSON.parse(e)
                    } catch (e) {
                        if (!n && r) {
                            if ("SyntaxError" === e.name)
                                throw X.from(e, X.ERR_BAD_RESPONSE, this, null, this.response);
                            throw e
                        }
                    }
                }
                return e
            }
            ],
            timeout: 0,
            xsrfCookieName: "XSRF-TOKEN",
            xsrfHeaderName: "X-XSRF-TOKEN",
            maxContentLength: -1,
            maxBodyLength: -1,
            env: {
                FormData: ew.classes.FormData,
                Blob: ew.classes.Blob
            },
            validateStatus: function(e) {
                return e >= 200 && e < 300
            },
            headers: {
                common: {
                    Accept: "application/json, text/plain, */*",
                    "Content-Type": void 0
                }
            }
        };
        K.forEach(["delete", "get", "head", "post", "put", "patch"], e => {
            eA.headers[e] = {}
        }
        );
        let eS = K.toObjectSet(["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"]);
        var eP = e => {
            let t, n, r;
            let i = {};
            return e && e.split("\n").forEach(function(e) {
                r = e.indexOf(":"),
                t = e.substring(0, r).trim().toLowerCase(),
                n = e.substring(r + 1).trim(),
                !t || i[t] && eS[t] || ("set-cookie" === t ? i[t] ? i[t].push(n) : i[t] = [n] : i[t] = i[t] ? i[t] + ", " + n : n)
            }),
            i
        }
        ;
        let eR = Symbol("internals");
        function eI(e) {
            return e && String(e).trim().toLowerCase()
        }
        function eT(e) {
            return !1 === e || null == e ? e : K.isArray(e) ? e.map(eT) : String(e)
        }
        let ex = e => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());
        function ek(e, t, n, r, i) {
            if (K.isFunction(r))
                return r.call(this, t, n);
            if (i && (t = n),
            K.isString(t)) {
                if (K.isString(r))
                    return -1 !== t.indexOf(r);
                if (K.isRegExp(r))
                    return r.test(t)
            }
        }
        class eN {
            constructor(e) {
                e && this.set(e)
            }
            set(e, t, n) {
                let r = this;
                function i(e, t, n) {
                    let i = eI(t);
                    if (!i)
                        throw Error("header name must be a non-empty string");
                    let o = K.findKey(r, i);
                    o && void 0 !== r[o] && !0 !== n && (void 0 !== n || !1 === r[o]) || (r[o || t] = eT(e))
                }
                let o = (e, t) => K.forEach(e, (e, n) => i(e, n, t));
                if (K.isPlainObject(e) || e instanceof this.constructor)
                    o(e, t);
                else if (K.isString(e) && (e = e.trim()) && !ex(e))
                    o(eP(e), t);
                else if (K.isHeaders(e))
                    for (let[t,r] of e.entries())
                        i(r, t, n);
                else
                    null != e && i(t, e, n);
                return this
            }
            get(e, t) {
                if (e = eI(e)) {
                    let n = K.findKey(this, e);
                    if (n) {
                        let e = this[n];
                        if (!t)
                            return e;
                        if (!0 === t)
                            return function(e) {
                                let t;
                                let n = Object.create(null)
                                  , r = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
                                for (; t = r.exec(e); )
                                    n[t[1]] = t[2];
                                return n
                            }(e);
                        if (K.isFunction(t))
                            return t.call(this, e, n);
                        if (K.isRegExp(t))
                            return t.exec(e);
                        throw TypeError("parser must be boolean|regexp|function")
                    }
                }
            }
            has(e, t) {
                if (e = eI(e)) {
                    let n = K.findKey(this, e);
                    return !!(n && void 0 !== this[n] && (!t || ek(this, this[n], n, t)))
                }
                return !1
            }
            delete(e, t) {
                let n = this
                  , r = !1;
                function i(e) {
                    if (e = eI(e)) {
                        let i = K.findKey(n, e);
                        i && (!t || ek(n, n[i], i, t)) && (delete n[i],
                        r = !0)
                    }
                }
                return K.isArray(e) ? e.forEach(i) : i(e),
                r
            }
            clear(e) {
                let t = Object.keys(this)
                  , n = t.length
                  , r = !1;
                for (; n--; ) {
                    let i = t[n];
                    (!e || ek(this, this[i], i, e, !0)) && (delete this[i],
                    r = !0)
                }
                return r
            }
            normalize(e) {
                let t = this
                  , n = {};
                return K.forEach(this, (r, i) => {
                    let o = K.findKey(n, i);
                    if (o) {
                        t[o] = eT(r),
                        delete t[i];
                        return
                    }
                    let a = e ? i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (e, t, n) => t.toUpperCase() + n) : String(i).trim();
                    a !== i && delete t[i],
                    t[a] = eT(r),
                    n[a] = !0
                }
                ),
                this
            }
            concat(...e) {
                return this.constructor.concat(this, ...e)
            }
            toJSON(e) {
                let t = Object.create(null);
                return K.forEach(this, (n, r) => {
                    null != n && !1 !== n && (t[r] = e && K.isArray(n) ? n.join(", ") : n)
                }
                ),
                t
            }
            [Symbol.iterator]() {
                return Object.entries(this.toJSON())[Symbol.iterator]()
            }
            toString() {
                return Object.entries(this.toJSON()).map( ([e,t]) => e + ": " + t).join("\n")
            }
            get[Symbol.toStringTag]() {
                return "AxiosHeaders"
            }
            static from(e) {
                return e instanceof this ? e : new this(e)
            }
            static concat(e, ...t) {
                let n = new this(e);
                return t.forEach(e => n.set(e)),
                n
            }
            static accessor(e) {
                let t = (this[eR] = this[eR] = {
                    accessors: {}
                }).accessors
                  , n = this.prototype;
                function r(e) {
                    let r = eI(e);
                    t[r] || (!function(e, t) {
                        let n = K.toCamelCase(" " + t);
                        ["get", "set", "has"].forEach(r => {
                            Object.defineProperty(e, r + n, {
                                value: function(e, n, i) {
                                    return this[r].call(this, t, e, n, i)
                                },
                                configurable: !0
                            })
                        }
                        )
                    }(n, e),
                    t[r] = !0)
                }
                return K.isArray(e) ? e.forEach(r) : r(e),
                this
            }
        }
        function eC(e, t) {
            let n = this || eA
              , r = t || n
              , i = eN.from(r.headers)
              , o = r.data;
            return K.forEach(e, function(e) {
                o = e.call(n, o, i.normalize(), t ? t.status : void 0)
            }),
            i.normalize(),
            o
        }
        function eL(e) {
            return !!(e && e.__CANCEL__)
        }
        function eM(e, t, n) {
            X.call(this, null == e ? "canceled" : e, X.ERR_CANCELED, t, n),
            this.name = "CanceledError"
        }
        function eD(e, t, n) {
            let r = n.config.validateStatus;
            !n.status || !r || r(n.status) ? e(n) : t(new X("Request failed with status code " + n.status,[X.ERR_BAD_REQUEST, X.ERR_BAD_RESPONSE][Math.floor(n.status / 100) - 4],n.config,n.request,n))
        }
        eN.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]),
        K.reduceDescriptors(eN.prototype, ({value: e}, t) => {
            let n = t[0].toUpperCase() + t.slice(1);
            return {
                get: () => e,
                set(e) {
                    this[n] = e
                }
            }
        }
        ),
        K.freezeMethods(eN),
        K.inherits(eM, X, {
            __CANCEL__: !0
        });
        var ej = function(e, t) {
            let n;
            let r = Array(e = e || 10)
              , i = Array(e)
              , o = 0
              , a = 0;
            return t = void 0 !== t ? t : 1e3,
            function(s) {
                let l = Date.now()
                  , u = i[a];
                n || (n = l),
                r[o] = s,
                i[o] = l;
                let c = a
                  , d = 0;
                for (; c !== o; )
                    d += r[c++],
                    c %= e;
                if ((o = (o + 1) % e) === a && (a = (a + 1) % e),
                l - n < t)
                    return;
                let f = u && l - u;
                return f ? Math.round(1e3 * d / f) : void 0
            }
        }
          , eU = function(e, t) {
            let n, r, i = 0, o = 1e3 / t, a = (t, o=Date.now()) => {
                i = o,
                n = null,
                r && (clearTimeout(r),
                r = null),
                e.apply(null, t)
            }
            ;
            return [ (...e) => {
                let t = Date.now()
                  , s = t - i;
                s >= o ? a(e, t) : (n = e,
                r || (r = setTimeout( () => {
                    r = null,
                    a(n)
                }
                , o - s)))
            }
            , () => n && a(n)]
        };
        let e$ = (e, t, n=3) => {
            let r = 0
              , i = ej(50, 250);
            return eU(n => {
                let o = n.loaded
                  , a = n.lengthComputable ? n.total : void 0
                  , s = o - r
                  , l = i(s);
                r = o,
                e({
                    loaded: o,
                    total: a,
                    progress: a ? o / a : void 0,
                    bytes: s,
                    rate: l || void 0,
                    estimated: l && a && o <= a ? (a - o) / l : void 0,
                    event: n,
                    lengthComputable: null != a,
                    [t ? "download" : "upload"]: !0
                })
            }
            , n)
        }
          , eV = (e, t) => {
            let n = null != e;
            return [r => t[0]({
                lengthComputable: n,
                total: e,
                loaded: r
            }), t[1]]
        }
          , eB = e => (...t) => K.asap( () => e(...t));
        var eF = ew.hasStandardBrowserEnv ? function() {
            let e;
            let t = ew.navigator && /(msie|trident)/i.test(ew.navigator.userAgent)
              , n = document.createElement("a");
            function r(e) {
                let r = e;
                return t && (n.setAttribute("href", r),
                r = n.href),
                n.setAttribute("href", r),
                {
                    href: n.href,
                    protocol: n.protocol ? n.protocol.replace(/:$/, "") : "",
                    host: n.host,
                    search: n.search ? n.search.replace(/^\?/, "") : "",
                    hash: n.hash ? n.hash.replace(/^#/, "") : "",
                    hostname: n.hostname,
                    port: n.port,
                    pathname: "/" === n.pathname.charAt(0) ? n.pathname : "/" + n.pathname
                }
            }
            return e = r(window.location.href),
            function(t) {
                let n = K.isString(t) ? r(t) : t;
                return n.protocol === e.protocol && n.host === e.host
            }
        }() : function() {
            return !0
        }
          , eq = ew.hasStandardBrowserEnv ? {
            write(e, t, n, r, i, o) {
                let a = [e + "=" + encodeURIComponent(t)];
                K.isNumber(n) && a.push("expires=" + new Date(n).toGMTString()),
                K.isString(r) && a.push("path=" + r),
                K.isString(i) && a.push("domain=" + i),
                !0 === o && a.push("secure"),
                document.cookie = a.join("; ")
            },
            read(e) {
                let t = document.cookie.match(RegExp("(^|;\\s*)(" + e + ")=([^;]*)"));
                return t ? decodeURIComponent(t[3]) : null
            },
            remove(e) {
                this.write(e, "", Date.now() - 864e5)
            }
        } : {
            write() {},
            read: () => null,
            remove() {}
        };
        function eG(e, t) {
            return e && !/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t) ? t ? e.replace(/\/?\/$/, "") + "/" + t.replace(/^\/+/, "") : e : t
        }
        let ez = e => e instanceof eN ? {
            ...e
        } : e;
        function eY(e, t) {
            t = t || {};
            let n = {};
            function r(e, t, n) {
                return K.isPlainObject(e) && K.isPlainObject(t) ? K.merge.call({
                    caseless: n
                }, e, t) : K.isPlainObject(t) ? K.merge({}, t) : K.isArray(t) ? t.slice() : t
            }
            function i(e, t, n) {
                return K.isUndefined(t) ? K.isUndefined(e) ? void 0 : r(void 0, e, n) : r(e, t, n)
            }
            function o(e, t) {
                if (!K.isUndefined(t))
                    return r(void 0, t)
            }
            function a(e, t) {
                return K.isUndefined(t) ? K.isUndefined(e) ? void 0 : r(void 0, e) : r(void 0, t)
            }
            function s(n, i, o) {
                return o in t ? r(n, i) : o in e ? r(void 0, n) : void 0
            }
            let l = {
                url: o,
                method: o,
                data: o,
                baseURL: a,
                transformRequest: a,
                transformResponse: a,
                paramsSerializer: a,
                timeout: a,
                timeoutMessage: a,
                withCredentials: a,
                withXSRFToken: a,
                adapter: a,
                responseType: a,
                xsrfCookieName: a,
                xsrfHeaderName: a,
                onUploadProgress: a,
                onDownloadProgress: a,
                decompress: a,
                maxContentLength: a,
                maxBodyLength: a,
                beforeRedirect: a,
                transport: a,
                httpAgent: a,
                httpsAgent: a,
                cancelToken: a,
                socketPath: a,
                responseEncoding: a,
                validateStatus: s,
                headers: (e, t) => i(ez(e), ez(t), !0)
            };
            return K.forEach(Object.keys(Object.assign({}, e, t)), function(r) {
                let o = l[r] || i
                  , a = o(e[r], t[r], r);
                K.isUndefined(a) && o !== s || (n[r] = a)
            }),
            n
        }
        var eH = e => {
            let t;
            let n = eY({}, e)
              , {data: r, withXSRFToken: i, xsrfHeaderName: o, xsrfCookieName: a, headers: s, auth: l} = n;
            if (n.headers = s = eN.from(s),
            n.url = ed(eG(n.baseURL, n.url), e.params, e.paramsSerializer),
            l && s.set("Authorization", "Basic " + btoa((l.username || "") + ":" + (l.password ? unescape(encodeURIComponent(l.password)) : ""))),
            K.isFormData(r)) {
                if (ew.hasStandardBrowserEnv || ew.hasStandardBrowserWebWorkerEnv)
                    s.setContentType(void 0);
                else if (!1 !== (t = s.getContentType())) {
                    let[e,...n] = t ? t.split(";").map(e => e.trim()).filter(Boolean) : [];
                    s.setContentType([e || "multipart/form-data", ...n].join("; "))
                }
            }
            if (ew.hasStandardBrowserEnv && (i && K.isFunction(i) && (i = i(n)),
            i || !1 !== i && eF(n.url))) {
                let e = o && a && eq.read(a);
                e && s.set(o, e)
            }
            return n
        }
          , eZ = "undefined" != typeof XMLHttpRequest && function(e) {
            return new Promise(function(t, n) {
                let r, i, o, a, s;
                let l = eH(e)
                  , u = l.data
                  , c = eN.from(l.headers).normalize()
                  , {responseType: d, onUploadProgress: f, onDownloadProgress: h} = l;
                function p() {
                    a && a(),
                    s && s(),
                    l.cancelToken && l.cancelToken.unsubscribe(r),
                    l.signal && l.signal.removeEventListener("abort", r)
                }
                let g = new XMLHttpRequest;
                function m() {
                    if (!g)
                        return;
                    let r = eN.from("getAllResponseHeaders"in g && g.getAllResponseHeaders());
                    eD(function(e) {
                        t(e),
                        p()
                    }, function(e) {
                        n(e),
                        p()
                    }, {
                        data: d && "text" !== d && "json" !== d ? g.response : g.responseText,
                        status: g.status,
                        statusText: g.statusText,
                        headers: r,
                        config: e,
                        request: g
                    }),
                    g = null
                }
                g.open(l.method.toUpperCase(), l.url, !0),
                g.timeout = l.timeout,
                "onloadend"in g ? g.onloadend = m : g.onreadystatechange = function() {
                    g && 4 === g.readyState && (0 !== g.status || g.responseURL && 0 === g.responseURL.indexOf("file:")) && setTimeout(m)
                }
                ,
                g.onabort = function() {
                    g && (n(new X("Request aborted",X.ECONNABORTED,e,g)),
                    g = null)
                }
                ,
                g.onerror = function() {
                    n(new X("Network Error",X.ERR_NETWORK,e,g)),
                    g = null
                }
                ,
                g.ontimeout = function() {
                    let t = l.timeout ? "timeout of " + l.timeout + "ms exceeded" : "timeout exceeded"
                      , r = l.transitional || eh;
                    l.timeoutErrorMessage && (t = l.timeoutErrorMessage),
                    n(new X(t,r.clarifyTimeoutError ? X.ETIMEDOUT : X.ECONNABORTED,e,g)),
                    g = null
                }
                ,
                void 0 === u && c.setContentType(null),
                "setRequestHeader"in g && K.forEach(c.toJSON(), function(e, t) {
                    g.setRequestHeader(t, e)
                }),
                K.isUndefined(l.withCredentials) || (g.withCredentials = !!l.withCredentials),
                d && "json" !== d && (g.responseType = l.responseType),
                h && ([o,s] = e$(h, !0),
                g.addEventListener("progress", o)),
                f && g.upload && ([i,a] = e$(f),
                g.upload.addEventListener("progress", i),
                g.upload.addEventListener("loadend", a)),
                (l.cancelToken || l.signal) && (r = t => {
                    g && (n(!t || t.type ? new eM(null,e,g) : t),
                    g.abort(),
                    g = null)
                }
                ,
                l.cancelToken && l.cancelToken.subscribe(r),
                l.signal && (l.signal.aborted ? r() : l.signal.addEventListener("abort", r)));
                let v = function(e) {
                    let t = /^([-+\w]{1,25})(:?\/\/|:)/.exec(e);
                    return t && t[1] || ""
                }(l.url);
                if (v && -1 === ew.protocols.indexOf(v)) {
                    n(new X("Unsupported protocol " + v + ":",X.ERR_BAD_REQUEST,e));
                    return
                }
                g.send(u || null)
            }
            )
        }
          , eW = (e, t) => {
            let {length: n} = e = e ? e.filter(Boolean) : [];
            if (t || n) {
                let n, r = new AbortController, i = function(e) {
                    if (!n) {
                        n = !0,
                        a();
                        let t = e instanceof Error ? e : this.reason;
                        r.abort(t instanceof X ? t : new eM(t instanceof Error ? t.message : t))
                    }
                }, o = t && setTimeout( () => {
                    o = null,
                    i(new X(`timeout ${t} of ms exceeded`,X.ETIMEDOUT))
                }
                , t), a = () => {
                    e && (o && clearTimeout(o),
                    o = null,
                    e.forEach(e => {
                        e.unsubscribe ? e.unsubscribe(i) : e.removeEventListener("abort", i)
                    }
                    ),
                    e = null)
                }
                ;
                e.forEach(e => e.addEventListener("abort", i));
                let {signal: s} = r;
                return s.unsubscribe = () => K.asap(a),
                s
            }
        }
        ;
        let eJ = function*(e, t) {
            let n, r = e.byteLength;
            if (!t || r < t) {
                yield e;
                return
            }
            let i = 0;
            for (; i < r; )
                n = i + t,
                yield e.slice(i, n),
                i = n
        }
          , eK = async function*(e, t, n) {
            for await(let r of e)
                yield*eJ(ArrayBuffer.isView(r) ? r : await n(String(r)), t)
        }
          , eX = (e, t, n, r, i) => {
            let o;
            let a = eK(e, t, i)
              , s = 0
              , l = e => {
                !o && (o = !0,
                r && r(e))
            }
            ;
            return new ReadableStream({
                async pull(e) {
                    try {
                        let {done: t, value: r} = await a.next();
                        if (t) {
                            l(),
                            e.close();
                            return
                        }
                        let i = r.byteLength;
                        if (n) {
                            let e = s += i;
                            n(e)
                        }
                        e.enqueue(new Uint8Array(r))
                    } catch (e) {
                        throw l(e),
                        e
                    }
                },
                cancel: e => (l(e),
                a.return())
            },{
                highWaterMark: 2
            })
        }
          , eQ = "function" == typeof fetch && "function" == typeof Request && "function" == typeof Response
          , e0 = eQ && "function" == typeof ReadableStream
          , e1 = eQ && ("function" == typeof TextEncoder ? (o = new TextEncoder,
        e => o.encode(e)) : async e => new Uint8Array(await new Response(e).arrayBuffer()))
          , e2 = (e, ...t) => {
            try {
                return !!e(...t)
            } catch (e) {
                return !1
            }
        }
          , e3 = e0 && e2( () => {
            let e = !1
              , t = new Request(ew.origin,{
                body: new ReadableStream,
                method: "POST",
                get duplex() {
                    return e = !0,
                    "half"
                }
            }).headers.has("Content-Type");
            return e && !t
        }
        )
          , e4 = e0 && e2( () => K.isReadableStream(new Response("").body))
          , e6 = {
            stream: e4 && (e => e.body)
        };
        eQ && (c = new Response,
        ["text", "arrayBuffer", "blob", "formData", "stream"].forEach(e => {
            e6[e] || (e6[e] = K.isFunction(c[e]) ? t => t[e]() : (t, n) => {
                throw new X(`Response type '${e}' is not supported`,X.ERR_NOT_SUPPORT,n)
            }
            )
        }
        ));
        let e5 = async e => {
            if (null == e)
                return 0;
            if (K.isBlob(e))
                return e.size;
            if (K.isSpecCompliantForm(e)) {
                let t = new Request(ew.origin,{
                    method: "POST",
                    body: e
                });
                return (await t.arrayBuffer()).byteLength
            }
            return K.isArrayBufferView(e) || K.isArrayBuffer(e) ? e.byteLength : (K.isURLSearchParams(e) && (e += ""),
            K.isString(e)) ? (await e1(e)).byteLength : void 0
        }
          , e8 = async (e, t) => {
            let n = K.toFiniteNumber(e.getContentLength());
            return null == n ? e5(t) : n
        }
          , e9 = {
            http: null,
            xhr: eZ,
            fetch: eQ && (async e => {
                let t, n, {url: r, method: i, data: o, signal: a, cancelToken: s, timeout: l, onDownloadProgress: u, onUploadProgress: c, responseType: d, headers: f, withCredentials: h="same-origin", fetchOptions: p} = eH(e);
                d = d ? (d + "").toLowerCase() : "text";
                let g = eW([a, s && s.toAbortSignal()], l)
                  , m = g && g.unsubscribe && ( () => {
                    g.unsubscribe()
                }
                );
                try {
                    if (c && e3 && "get" !== i && "head" !== i && 0 !== (n = await e8(f, o))) {
                        let e, t = new Request(r,{
                            method: "POST",
                            body: o,
                            duplex: "half"
                        });
                        if (K.isFormData(o) && (e = t.headers.get("content-type")) && f.setContentType(e),
                        t.body) {
                            let[e,r] = eV(n, e$(eB(c)));
                            o = eX(t.body, 65536, e, r, e1)
                        }
                    }
                    K.isString(h) || (h = h ? "include" : "omit");
                    let a = "credentials"in Request.prototype;
                    t = new Request(r,{
                        ...p,
                        signal: g,
                        method: i.toUpperCase(),
                        headers: f.normalize().toJSON(),
                        body: o,
                        duplex: "half",
                        credentials: a ? h : void 0
                    });
                    let s = await fetch(t)
                      , l = e4 && ("stream" === d || "response" === d);
                    if (e4 && (u || l && m)) {
                        let e = {};
                        ["status", "statusText", "headers"].forEach(t => {
                            e[t] = s[t]
                        }
                        );
                        let t = K.toFiniteNumber(s.headers.get("content-length"))
                          , [n,r] = u && eV(t, e$(eB(u), !0)) || [];
                        s = new Response(eX(s.body, 65536, n, () => {
                            r && r(),
                            m && m()
                        }
                        , e1),e)
                    }
                    d = d || "text";
                    let v = await e6[K.findKey(e6, d) || "text"](s, e);
                    return !l && m && m(),
                    await new Promise( (n, r) => {
                        eD(n, r, {
                            data: v,
                            headers: eN.from(s.headers),
                            status: s.status,
                            statusText: s.statusText,
                            config: e,
                            request: t
                        })
                    }
                    )
                } catch (n) {
                    if (m && m(),
                    n && "TypeError" === n.name && /fetch/i.test(n.message))
                        throw Object.assign(new X("Network Error",X.ERR_NETWORK,e,t), {
                            cause: n.cause || n
                        });
                    throw X.from(n, n && n.code, e, t)
                }
            }
            )
        };
        K.forEach(e9, (e, t) => {
            if (e) {
                try {
                    Object.defineProperty(e, "name", {
                        value: t
                    })
                } catch (e) {}
                Object.defineProperty(e, "adapterName", {
                    value: t
                })
            }
        }
        );
        let e7 = e => `- ${e}`
          , te = e => K.isFunction(e) || null === e || !1 === e;
        var tt = e => {
            let t, n;
            let {length: r} = e = K.isArray(e) ? e : [e]
              , i = {};
            for (let o = 0; o < r; o++) {
                let r;
                if (n = t = e[o],
                !te(t) && void 0 === (n = e9[(r = String(t)).toLowerCase()]))
                    throw new X(`Unknown adapter '${r}'`);
                if (n)
                    break;
                i[r || "#" + o] = n
            }
            if (!n) {
                let e = Object.entries(i).map( ([e,t]) => `adapter ${e} ` + (!1 === t ? "is not supported by the environment" : "is not available in the build"));
                throw new X("There is no suitable adapter to dispatch the request " + (r ? e.length > 1 ? "since :\n" + e.map(e7).join("\n") : " " + e7(e[0]) : "as no adapter specified"),"ERR_NOT_SUPPORT")
            }
            return n
        }
        ;
        function tn(e) {
            if (e.cancelToken && e.cancelToken.throwIfRequested(),
            e.signal && e.signal.aborted)
                throw new eM(null,e)
        }
        function tr(e) {
            return tn(e),
            e.headers = eN.from(e.headers),
            e.data = eC.call(e, e.transformRequest),
            -1 !== ["post", "put", "patch"].indexOf(e.method) && e.headers.setContentType("application/x-www-form-urlencoded", !1),
            tt(e.adapter || eA.adapter)(e).then(function(t) {
                return tn(e),
                t.data = eC.call(e, e.transformResponse, t),
                t.headers = eN.from(t.headers),
                t
            }, function(t) {
                return !eL(t) && (tn(e),
                t && t.response && (t.response.data = eC.call(e, e.transformResponse, t.response),
                t.response.headers = eN.from(t.response.headers))),
                Promise.reject(t)
            })
        }
        let ti = "1.7.6"
          , to = {};
        ["object", "boolean", "number", "function", "string", "symbol"].forEach( (e, t) => {
            to[e] = function(n) {
                return typeof n === e || "a" + (t < 1 ? "n " : " ") + e
            }
        }
        );
        let ta = {};
        to.transitional = function(e, t, n) {
            function r(e, t) {
                return "[Axios v" + ti + "] Transitional option '" + e + "'" + t + (n ? ". " + n : "")
            }
            return (n, i, o) => {
                if (!1 === e)
                    throw new X(r(i, " has been removed" + (t ? " in " + t : "")),X.ERR_DEPRECATED);
                return t && !ta[i] && (ta[i] = !0,
                console.warn(r(i, " has been deprecated since v" + t + " and will be removed in the near future"))),
                !e || e(n, i, o)
            }
        }
        ;
        var ts = {
            assertOptions: function(e, t, n) {
                if ("object" != typeof e)
                    throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);
                let r = Object.keys(e)
                  , i = r.length;
                for (; i-- > 0; ) {
                    let o = r[i]
                      , a = t[o];
                    if (a) {
                        let t = e[o]
                          , n = void 0 === t || a(t, o, e);
                        if (!0 !== n)
                            throw new X("option " + o + " must be " + n,X.ERR_BAD_OPTION_VALUE);
                        continue
                    }
                    if (!0 !== n)
                        throw new X("Unknown option " + o,X.ERR_BAD_OPTION)
                }
            },
            validators: to
        };
        let tl = ts.validators;
        class tu {
            constructor(e) {
                this.defaults = e,
                this.interceptors = {
                    request: new ef,
                    response: new ef
                }
            }
            async request(e, t) {
                try {
                    return await this._request(e, t)
                } catch (e) {
                    if (e instanceof Error) {
                        let t;
                        Error.captureStackTrace ? Error.captureStackTrace(t = {}) : t = Error();
                        let n = t.stack ? t.stack.replace(/^.+\n/, "") : "";
                        try {
                            e.stack ? n && !String(e.stack).endsWith(n.replace(/^.+\n.+\n/, "")) && (e.stack += "\n" + n) : e.stack = n
                        } catch (e) {}
                    }
                    throw e
                }
            }
            _request(e, t) {
                let n, r;
                "string" == typeof e ? (t = t || {}).url = e : t = e || {};
                let {transitional: i, paramsSerializer: o, headers: a} = t = eY(this.defaults, t);
                void 0 !== i && ts.assertOptions(i, {
                    silentJSONParsing: tl.transitional(tl.boolean),
                    forcedJSONParsing: tl.transitional(tl.boolean),
                    clarifyTimeoutError: tl.transitional(tl.boolean)
                }, !1),
                null != o && (K.isFunction(o) ? t.paramsSerializer = {
                    serialize: o
                } : ts.assertOptions(o, {
                    encode: tl.function,
                    serialize: tl.function
                }, !0)),
                t.method = (t.method || this.defaults.method || "get").toLowerCase();
                let s = a && K.merge(a.common, a[t.method]);
                a && K.forEach(["delete", "get", "head", "post", "put", "patch", "common"], e => {
                    delete a[e]
                }
                ),
                t.headers = eN.concat(s, a);
                let l = []
                  , u = !0;
                this.interceptors.request.forEach(function(e) {
                    ("function" != typeof e.runWhen || !1 !== e.runWhen(t)) && (u = u && e.synchronous,
                    l.unshift(e.fulfilled, e.rejected))
                });
                let c = [];
                this.interceptors.response.forEach(function(e) {
                    c.push(e.fulfilled, e.rejected)
                });
                let d = 0;
                if (!u) {
                    let e = [tr.bind(this), void 0];
                    for (e.unshift.apply(e, l),
                    e.push.apply(e, c),
                    r = e.length,
                    n = Promise.resolve(t); d < r; )
                        n = n.then(e[d++], e[d++]);
                    return n
                }
                r = l.length;
                let f = t;
                for (d = 0; d < r; ) {
                    let e = l[d++]
                      , t = l[d++];
                    try {
                        f = e(f)
                    } catch (e) {
                        t.call(this, e);
                        break
                    }
                }
                try {
                    n = tr.call(this, f)
                } catch (e) {
                    return Promise.reject(e)
                }
                for (d = 0,
                r = c.length; d < r; )
                    n = n.then(c[d++], c[d++]);
                return n
            }
            getUri(e) {
                return ed(eG((e = eY(this.defaults, e)).baseURL, e.url), e.params, e.paramsSerializer)
            }
        }
        K.forEach(["delete", "get", "head", "options"], function(e) {
            tu.prototype[e] = function(t, n) {
                return this.request(eY(n || {}, {
                    method: e,
                    url: t,
                    data: (n || {}).data
                }))
            }
        }),
        K.forEach(["post", "put", "patch"], function(e) {
            function t(t) {
                return function(n, r, i) {
                    return this.request(eY(i || {}, {
                        method: e,
                        headers: t ? {
                            "Content-Type": "multipart/form-data"
                        } : {},
                        url: n,
                        data: r
                    }))
                }
            }
            tu.prototype[e] = t(),
            tu.prototype[e + "Form"] = t(!0)
        });
        class tc {
            constructor(e) {
                let t;
                if ("function" != typeof e)
                    throw TypeError("executor must be a function.");
                this.promise = new Promise(function(e) {
                    t = e
                }
                );
                let n = this;
                this.promise.then(e => {
                    if (!n._listeners)
                        return;
                    let t = n._listeners.length;
                    for (; t-- > 0; )
                        n._listeners[t](e);
                    n._listeners = null
                }
                ),
                this.promise.then = e => {
                    let t;
                    let r = new Promise(e => {
                        n.subscribe(e),
                        t = e
                    }
                    ).then(e);
                    return r.cancel = function() {
                        n.unsubscribe(t)
                    }
                    ,
                    r
                }
                ,
                e(function(e, r, i) {
                    n.reason || (n.reason = new eM(e,r,i),
                    t(n.reason))
                })
            }
            throwIfRequested() {
                if (this.reason)
                    throw this.reason
            }
            subscribe(e) {
                if (this.reason) {
                    e(this.reason);
                    return
                }
                this._listeners ? this._listeners.push(e) : this._listeners = [e]
            }
            unsubscribe(e) {
                if (!this._listeners)
                    return;
                let t = this._listeners.indexOf(e);
                -1 !== t && this._listeners.splice(t, 1)
            }
            toAbortSignal() {
                let e = new AbortController
                  , t = t => {
                    e.abort(t)
                }
                ;
                return this.subscribe(t),
                e.signal.unsubscribe = () => this.unsubscribe(t),
                e.signal
            }
            static source() {
                let e;
                return {
                    token: new tc(function(t) {
                        e = t
                    }
                    ),
                    cancel: e
                }
            }
        }
        let td = {
            Continue: 100,
            SwitchingProtocols: 101,
            Processing: 102,
            EarlyHints: 103,
            Ok: 200,
            Created: 201,
            Accepted: 202,
            NonAuthoritativeInformation: 203,
            NoContent: 204,
            ResetContent: 205,
            PartialContent: 206,
            MultiStatus: 207,
            AlreadyReported: 208,
            ImUsed: 226,
            MultipleChoices: 300,
            MovedPermanently: 301,
            Found: 302,
            SeeOther: 303,
            NotModified: 304,
            UseProxy: 305,
            Unused: 306,
            TemporaryRedirect: 307,
            PermanentRedirect: 308,
            BadRequest: 400,
            Unauthorized: 401,
            PaymentRequired: 402,
            Forbidden: 403,
            NotFound: 404,
            MethodNotAllowed: 405,
            NotAcceptable: 406,
            ProxyAuthenticationRequired: 407,
            RequestTimeout: 408,
            Conflict: 409,
            Gone: 410,
            LengthRequired: 411,
            PreconditionFailed: 412,
            PayloadTooLarge: 413,
            UriTooLong: 414,
            UnsupportedMediaType: 415,
            RangeNotSatisfiable: 416,
            ExpectationFailed: 417,
            ImATeapot: 418,
            MisdirectedRequest: 421,
            UnprocessableEntity: 422,
            Locked: 423,
            FailedDependency: 424,
            TooEarly: 425,
            UpgradeRequired: 426,
            PreconditionRequired: 428,
            TooManyRequests: 429,
            RequestHeaderFieldsTooLarge: 431,
            UnavailableForLegalReasons: 451,
            InternalServerError: 500,
            NotImplemented: 501,
            BadGateway: 502,
            ServiceUnavailable: 503,
            GatewayTimeout: 504,
            HttpVersionNotSupported: 505,
            VariantAlsoNegotiates: 506,
            InsufficientStorage: 507,
            LoopDetected: 508,
            NotExtended: 510,
            NetworkAuthenticationRequired: 511
        };
        Object.entries(td).forEach( ([e,t]) => {
            td[t] = e
        }
        );
        let tf = function e(t) {
            let n = new tu(t)
              , r = f(tu.prototype.request, n);
            return K.extend(r, tu.prototype, n, {
                allOwnKeys: !0
            }),
            K.extend(r, n, null, {
                allOwnKeys: !0
            }),
            r.create = function(n) {
                return e(eY(t, n))
            }
            ,
            r
        }(eA);
        tf.Axios = tu,
        tf.CanceledError = eM,
        tf.CancelToken = tc,
        tf.isCancel = eL,
        tf.VERSION = ti,
        tf.toFormData = ea,
        tf.AxiosError = X,
        tf.Cancel = tf.CanceledError,
        tf.all = function(e) {
            return Promise.all(e)
        }
        ,
        tf.spread = function(e) {
            return function(t) {
                return e.apply(null, t)
            }
        }
        ,
        tf.isAxiosError = function(e) {
            return K.isObject(e) && !0 === e.isAxiosError
        }
        ,
        tf.mergeConfig = eY,
        tf.AxiosHeaders = eN,
        tf.formToJSON = e => eO(K.isHTMLForm(e) ? new FormData(e) : e),
        tf.getAdapter = tt,
        tf.HttpStatusCode = td,
        tf.default = tf;
        var th = n(75268)
          , tp = n(60922)
          , tg = n(35466)
          , tm = n(14411);
        class tv {
            async logAction(e) {
                tf.get("".concat(this.baseAPIURL, "/log?message=") + encodeURIComponent(e))
            }
            static webAssemblySupported() {
                try {
                    if ("object" == typeof WebAssembly && "function" == typeof WebAssembly.instantiate) {
                        let e = new WebAssembly.Module(Uint8Array.of(0, 97, 115, 109, 1, 0, 0, 0));
                        if (e instanceof WebAssembly.Module)
                            return new WebAssembly.Instance(e)instanceof WebAssembly.Instance
                    }
                } catch (e) {}
                return !1
            }
            getRecaptcha(e) {
                var t, n;
                let r = null === (n = window) || void 0 === n ? void 0 : null === (t = n.grecaptcha) || void 0 === t ? void 0 : t.enterprise;
                return r ? new Promise( (t, n) => {
                    r.ready( () => {
                        r.execute("6Lc63iQqAAAAANnRrUIMBM71F461lj8mULJfV7IH", {
                            action: e
                        }).then(t).catch(n)
                    }
                    )
                }
                ) : Promise.resolve(void 0)
            }
            getStytchTelemetry() {
                if (!tv.webAssemblySupported())
                    throw {
                        message: "wasm-required"
                    };
                return new Promise( (e, t) => {
                    setTimeout( () => {
                        t("no-telemetryId-available")
                    }
                    , 3e4),
                    window.GetTelemetryID ? window.GetTelemetryID("public-token-live-e4dbf337-9f27-447f-908f-17038ec8d940", "https://auth.pixels.xyz/submit").then(n => {
                        n || (console.log("GetTelemetryID returned nothing"),
                        t({
                            message: "no-telemetryId-available"
                        })),
                        e(n)
                    }
                    ).catch( () => {
                        t({
                            message: "his-air-hose-broke"
                        })
                    }
                    ) : (console.log("GetTelemetryID not on window"),
                    t({
                        message: "no-telemetryId-available"
                    }))
                }
                )
            }
            async captchaOptions(e) {
                let t = {};
                return t.telemetryId = await this.getStytchTelemetry(),
                t
            }
            async completeEmailAuthentication(e, t, n, r) {
                let i = {
                    email: e,
                    password: t,
                    create: n,
                    mapId: r,
                    ...await this.captchaOptions("start_email_authentication")
                };
                try {
                    let {data: e} = await tf.post("".concat(this.baseAPIURL, "/auth/email_authentication"), i);
                    return this.sessionToken = e.sessionToken,
                    this.walletProvider = "email",
                    (0,
                    tg.Ul)("pixels-session", this.sessionToken),
                    (0,
                    tg.Ul)("wallet-provider", "email"),
                    e
                } catch (e) {
                    var o;
                    if (null === (o = e.response) || void 0 === o ? void 0 : o.data)
                        throw e.response.data;
                    throw {
                        error: "server-unreachable",
                        message: "No response from server. Please try again later."
                    }
                }
            }
            async startCryptoAuthentication(e) {
                try {
                    let {data: t} = await tf.post("".concat(this.baseAPIURL, "/auth/start_crypto_authentication"), {
                        walletAddress: e,
                        ...await this.captchaOptions("start_crypto_authentication")
                    }, {
                        headers: {
                            "Content-Type": "application/json"
                        }
                    });
                    if (!t.challenge && t.message)
                        throw t;
                    return t.challenge
                } catch (e) {
                    var t;
                    if (null === (t = e.response) || void 0 === t ? void 0 : t.data)
                        throw e.response.data;
                    throw {
                        error: "server-unreachable",
                        message: "No response from server. Please try again later."
                    }
                }
            }
            async completeCryptoAuthentication(e, t, n, r) {
                try {
                    let {data: i} = await tf.post("".concat(this.baseAPIURL, "/auth/complete_crypto_authentication"), {
                        walletAddress: e,
                        signature: t,
                        mapId: r,
                        tenant: (0,
                        tp.F5)(),
                        walletProvider: n,
                        ...await this.captchaOptions("completeAuth")
                    });
                    return this.sessionToken = i.sessionToken,
                    this.walletProvider = n,
                    (0,
                    tg.Ul)("pixels-session", this.sessionToken),
                    (0,
                    tg.Ul)("wallet-provider", n),
                    i
                } catch (e) {
                    var i;
                    if (null === (i = e.response) || void 0 === i ? void 0 : i.data)
                        throw e.response.data;
                    throw {
                        error: "server-unreachable",
                        message: "No response from server. Please try again later."
                    }
                }
            }
            async startOneTimeAuthentication(e, t, n) {
                try {
                    let {data: r} = await tf.post("".concat(this.baseAPIURL, "/auth/start_onetime_authentication"), {
                        otpckind: e,
                        identifier: "email" === e ? n : t,
                        ...await this.captchaOptions("start_onetime_authentication")
                    });
                    return r.method_id
                } catch (e) {
                    var r;
                    if (null === (r = e.response) || void 0 === r ? void 0 : r.data)
                        throw e.response.data;
                    throw {
                        error: "server-unreachable",
                        message: "No response from server. Please try again later."
                    }
                }
            }
            async completeOneTimeAuthentication(e, t, n) {
                try {
                    let {data: r} = await tf.post("".concat(this.baseAPIURL, "/auth/complete_onetime_authentication"), {
                        id: e,
                        code: t,
                        mapId: n,
                        tenant: (0,
                        tp.F5)(),
                        ...await this.captchaOptions("completeAuth")
                    });
                    return this.sessionToken = r.sessionToken,
                    this.walletProvider = "otpc",
                    (0,
                    tg.Ul)("pixels-session", this.sessionToken),
                    (0,
                    tg.Ul)("wallet-provider", "otpc"),
                    r
                } catch (e) {
                    var r;
                    if (null === (r = e.response) || void 0 === r ? void 0 : r.data)
                        throw e.response.data;
                    throw {
                        error: "server-unreachable",
                        message: "No response from server. Please try again later."
                    }
                }
            }
            async initialize(e, t) {
                let n;
                try {
                    let r = (0,
                    tp.F5)()
                      , i = (0,
                    tg.Ul)("pixels-session");
                    if (!i)
                        return null;
                    let o = (0,
                    tg.Ul)("wallet-provider") || t || "metamask";
                    n = (await tf.post("".concat(this.baseAPIURL, "/auth/initialize"), {
                        authToken: i,
                        mapId: e,
                        tenant: r,
                        walletProvider: o,
                        ver: th.WX,
                        ...await this.captchaOptions("validateSession")
                    })).data,
                    this.sessionToken = n.sessionToken,
                    this.walletProvider = o
                } catch (e) {
                    if (e.response && e.response.data && e.response.data.error)
                        throw e.response.data;
                    if (!e.response)
                        throw {
                            error: "server-unreachable",
                            message: "No response from server when authenticating. Check Internet Connection."
                        };
                    return null
                }
                if (!n.sessionToken && n.error)
                    throw n;
                return n
            }
            async createPlayer(e, t) {
                let {data: n} = await tf.post("".concat(this.baseAPIURL, "/auth/player/upsert"), {
                    username: e,
                    avatar: t,
                    authToken: this.sessionToken,
                    walletProvider: this.walletProvider,
                    tenant: (0,
                    tp.F5)()
                });
                return n
            }
            async rateLimitedGet(e, t) {
                for (; this.limiter; )
                    await this.limiter;
                return this.limiter = (async () => {
                    var n;
                    let r = 1e3 - (Date.now() - (null !== (n = this.lastcall) && void 0 !== n ? n : 0));
                    r > 0 && await new Promise(e => setTimeout(e, r));
                    let {data: i} = await tf.get(t, e);
                    return this.lastcall = Date.now(),
                    i
                }
                )(),
                this.limiter.then(e => (this.limiter = void 0,
                e))
            }
            async fetchPlayerDetails(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                  , n = {
                    headers: {
                        Authorization: this.sessionToken
                    }
                };
                return this.rateLimitedGet(n, "".concat(this.baseAPIURL, "/player?mid=").concat(e, "&detail=").concat(t))
            }
            async fetchPlayersUsernames(e) {
                if (!(null == e ? void 0 : e.length))
                    return {};
                let t = {
                    headers: {
                        Authorization: this.sessionToken
                    }
                }
                  , n = e.map(e => "mid=".concat(e)).join("&");
                try {
                    let {data: e} = await tf.get("".concat(this.baseAPIURL, "/player/usernames?").concat(n), t);
                    return e
                } catch (e) {
                    return {}
                }
            }
            async signOut() {
                let e = (0,
                tg.Ul)("pixels-session");
                if (this.sessionToken = void 0,
                (0,
                tg.Ul)("pixels-session", null),
                (0,
                tg.Ul)("wallet-provider", null),
                (0,
                tg.Ul)("player-nfts", null),
                this.sessionToken = void 0,
                e) {
                    let {data: t} = await tf.post("".concat(this.baseAPIURL, "/auth/sign_out"), {
                        authToken: e
                    });
                    return t
                }
            }
            hashVersion(e) {
                let t = {
                    "6.122": "87bbbwei20",
                    "6.209": "--78DEVO+spins"
                };
                if (t[e])
                    return t[e];
                let n = 0;
                for (let t = 0, r = e.length; t < r; t++)
                    n = (n << 5) - n + (e.charCodeAt(t) + t - 17) | 0;
                return n
            }
            async fetchGameLibrary() {
                let e = (0,
                tp.F5)()
                  , {data: t} = await this.axiosget("".concat(this.baseAPIURL, "/game/library?tenant=").concat(e, "&ver=").concat(th.WX));
                return t
            }
            async fetchGameLibraryExtras(e) {
                let {data: t} = await tf.post("".concat(this.baseAPIURL, "/game/library"), e);
                return t
            }
            async fetchMap(e) {
                let {data: t} = await this.axiosget("".concat(this.baseAPIURL, "/map/").concat(e));
                return t
            }
            async fetchingUgcDecorations(e) {
                let {onlyFetchPending: t} = e
                  , {data: n} = await this.axiosget("".concat(this.baseAPIURL, "/game/ugc/decorations?").concat(t ? "onlyFetchPending=true" : ""));
                return n
            }
            async approveUgcDecoration(e) {
                let {itemId: t, objectId: n} = e
                  , {data: r} = await tf.post("".concat(this.baseAPIURL, "/game/ugc/decorations/approve"), {
                    authToken: (0,
                    tg.Ul)("pixels-session"),
                    itemId: t,
                    objectId: n
                });
                return r
            }
            async rejectUgcDecoration(e) {
                let {itemId: t, objectId: n, reason: r} = e
                  , {data: i} = await tf.post("".concat(this.baseAPIURL, "/game/ugc/decorations/reject"), {
                    authToken: (0,
                    tg.Ul)("pixels-session"),
                    itemId: t,
                    objectId: n,
                    reason: r
                });
                return i
            }
            async axiosget(e, t) {
                let n = Date.now()
                  , r = -1 === e.indexOf("?") ? "".concat(e, "?v=").concat(n) : "".concat(e, "&v=").concat(n)
                  , i = {
                    ...t,
                    headers: {
                        ...null == t ? void 0 : t.headers,
                        "X-Client-Password": (0,
                        tg.Ul)("client_password")
                    }
                };
                try {
                    return await tf.get(r, i)
                } catch (e) {
                    var o;
                    throw (null == e ? void 0 : null === (o = e.response) || void 0 === o ? void 0 : o.data) === "invalid-client-password" ? (0,
                    tg.Ul)("client_password", null) : console.warn(e),
                    e
                }
            }
            async fetchFeaturedMaps() {
                let {data: e} = await tf.get("".concat(this.baseAPIURL, "/maps/featured"));
                return e
            }
            async getStoreItemStockSupply(e, t) {
                let {data: n} = await this.axiosget("".concat(this.baseAPIURL, "/store/").concat(e, "/").concat(t));
                return n
            }
            async fetchPlayerPets(e) {
                console.log("getting pets from ".concat(this.baseAPIURL));
                let {data: t} = await this.axiosget("".concat(this.baseAPIURL, "/pets/owner/").concat(e || "0"));
                return t
            }
            async fetchPet(e) {
                let {data: t} = await this.axiosget("".concat(this.baseAPIURL, "/pet/").concat(e));
                return t
            }
            async fetchPetPreview(e, t) {
                let {data: n} = await this.axiosget("".concat(this.baseAPIURL, "/pet/").concat(e, "/").concat(t));
                return n
            }
            async fetchNFTStats(e) {
                let {data: t} = await tf.get("".concat(this.baseAPIURL, "/nft/stats/").concat(e));
                return t
            }
            async voteForNFT(e, t, n) {
                await tf.put("".concat(this.baseAPIURL, "/nft/vote"), {
                    collection: e,
                    token: t,
                    vote: n
                })
            }
            async timeSync() {
                let e = Date.now();
                console.log("url: ".concat(this.baseAPIURL, "/sync/").concat(e));
                let {data: t} = await tf.get("".concat(this.baseAPIURL, "/sync/").concat(e));
                if (!t)
                    return 0;
                let n = Date.now();
                if (n - e > 2e3)
                    throw Error("timesync too slow");
                return t.now > e && t.now < n ? 0 : -(t.now - n + t.delta) / 2
            }
            getPlayerCachedNfts() {
                try {
                    let e = (0,
                    tg.Ul)("player-nfts") || "";
                    if (!e)
                        return null;
                    return JSON.parse(e)
                } catch (e) {
                    console.log(e)
                }
            }
            savePlayerNfts(e, t) {
                try {
                    let n = {
                        nfts: e,
                        timestamp: Date.now(),
                        addresses: t
                    };
                    (0,
                    tg.Ul)("player-nfts", JSON.stringify(n))
                } catch (e) {
                    console.log(e)
                }
            }
            async getNFTTraitData(e, t) {
                let n = {
                    headers: {
                        Authorization: this.sessionToken
                    }
                };
                if (!this.sessionToken)
                    return [];
                let {data: r} = await tf.get("".concat(this.baseAPIURL, "/player/collections/getNFTData?collection=").concat(e, "&token=").concat(t), n);
                return r || {}
            }
            async getTopFarms() {
                let {data: e} = await tf.get("".concat(this.baseCacheUrl, "/discoverability/top_farms"));
                return e
            }
            async getTopNFTFarms() {
                let {data: e} = await tf.get("".concat(this.baseCacheUrl, "/discoverability/nft/top_farms"));
                return e
            }
            async getTopFreeFarms() {
                let {data: e} = await tf.get("".concat(this.baseCacheUrl, "/discoverability/free/top_farms"));
                return e
            }
            async fetchPlayerFarms(e) {
                let {data: t} = await tf.get("".concat(this.baseAPIURL, "/player/farms?player_id=").concat(e));
                return t
            }
            async searchFarms(e) {
                let {data: t} = await tf.get("".concat(this.baseAPIURL, "/player/search?input=").concat(encodeURIComponent(e)));
                return t
            }
            async farmDetails(e) {
                let {data: t} = await tf.get("".concat(this.baseAPIURL, "/infiniportal/farm_details/").concat(e));
                return t
            }
            async hatchPet(e) {
                try {
                    let {data: t} = await tf.post("".concat(this.baseAPIURL, "/pets/hatch"), {
                        entity: e
                    }, {
                        headers: {
                            Authorization: this.sessionToken
                        }
                    });
                    return t
                } catch (e) {
                    return console.log(null == e ? void 0 : e.message),
                    !1
                }
            }
            async getRoomId(e, t) {
                let {data: n} = await this.axiosget("".concat(this.baseColyeusURL, "/game/findroom/").concat(encodeURIComponent(e), "/").concat(t));
                if (!(null == n ? void 0 : n.roomId))
                    throw Error("please-reload-app");
                return "".concat(null == n ? void 0 : n.roomId, "/").concat(null == n ? void 0 : n.server)
            }
            async getWorldTotals() {
                let {data: e} = await this.axiosget("".concat(this.baseAPIURL, "/game/worlds"));
                return e
            }
            async fetchMarketplaceListingCounts() {
                let {data: e} = await this.axiosget("".concat(this.baseCacheUrl, "/marketplace/listings/count"));
                return e
            }
            async fetchMarketplaceListingsForItem(e, t) {
                let n = Date.now();
                if (this.marketTime && n - this.marketTime < 2e3) {
                    let e = this.marketTime + 2e3 - n;
                    await new Promise(t => setTimeout(t, e))
                }
                let r = {
                    headers: {
                        Authorization: this.sessionToken
                    }
                }
                  , {data: i} = await this.axiosget("".concat(this.baseAPIURL, "/marketplace/item/").concat(e, "?pid=").concat(t), r);
                return this.marketTime = Date.now(),
                i
            }
            async fetchMarketplaceListingsForPlayer(e) {
                let {data: t} = await this.axiosget("".concat(this.baseAPIURL, "/marketplace/player/").concat(e));
                return t
            }
            async fetchPlayerUGC() {
                let {data: e} = await tf.post("".concat(this.baseAPIURL, "/game/ugc/player"), {
                    token: this.sessionToken
                });
                return e
            }
            async checkForStytchAccount(e) {
                let {email: t, phone: n, eth: r, kind: i} = e
                  , o = {
                    headers: {
                        "x-client-version": this.hashVersion(th.WX.toString())
                    }
                }
                  , {data: a} = await this.axiosget("".concat(this.baseAPIURL, "/auth/check/stytch_user"), {
                    params: {
                        email: "email" === i ? t : void 0,
                        phone: "sms" === i || "whatsapp" === i ? n : void 0,
                        eth: "eth" === i ? r : void 0,
                        ver: th.WX
                    },
                    ...o
                });
                return a
            }
            constructor(e, t) {
                this.baseURL = e,
                this.version = t,
                this.baseAPIURL = "".concat(e, "/").concat(t),
                this.baseCacheUrl = "".concat(e, "/cache"),
                this.baseColyeusURL = e
            }
        }
        var ty = new tv(tm.LB,"v1")
    },
    85469: function(e, t, n) {
        "use strict";
        var r = n(63534);
        class i {
            get sessionToken() {
                return this.api.sessionToken
            }
            get walletProvider() {
                return this.api.walletProvider
            }
            async startCryptoAuthentication(e) {
                return this.api.startCryptoAuthentication(e)
            }
            async completeAuthentication(e, t, n, r) {
                return this.api.completeCryptoAuthentication(e, t, n, r)
            }
            async completeEmailAuthentication(e, t, n, r) {
                return this.api.completeEmailAuthentication(e, t, n, r)
            }
            async startOneTimeAuthentication(e, t, n) {
                return this.api.startOneTimeAuthentication(e, t, n)
            }
            async completeOneTimeAuthentication(e, t, n) {
                return this.api.completeOneTimeAuthentication(e, t, n)
            }
            async initialize(e, t) {
                return this.api.initialize(e, t)
            }
            async signOut() {
                return this.api.signOut()
            }
            async createPlayer(e, t) {
                return this.api.createPlayer(e, t)
            }
            async fetchPlayer(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                return this.api.fetchPlayerDetails(e, t)
            }
            async checkForStytchAccount(e) {
                let {email: t, phone: n, eth: r, kind: i} = e;
                return this.api.checkForStytchAccount({
                    email: t,
                    phone: n,
                    eth: r,
                    kind: i
                })
            }
            constructor(e) {
                this.api = e
            }
        }
        t.Z = new i(r.Z)
    },
    4602: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return J
            },
            W: function() {
                return W
            }
        });
        var r, i, o, a, s, l = n(36609), u = n(67421);
        function c(e) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function d() {
            return "function" == typeof XMLHttpRequest || ("undefined" == typeof XMLHttpRequest ? "undefined" : c(XMLHttpRequest)) === "object"
        }
        var f = n(83154)
          , h = n.t(f, 2);
        function p(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                n.push.apply(n, r)
            }
            return n
        }
        function g(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? p(Object(n), !0).forEach(function(t) {
                    var r, i;
                    r = t,
                    i = n[t],
                    (r = function(e) {
                        var t = function(e, t) {
                            if ("object" != m(e) || !e)
                                return e;
                            var n = e[Symbol.toPrimitive];
                            if (void 0 !== n) {
                                var r = n.call(e, t || "default");
                                if ("object" != m(r))
                                    return r;
                                throw TypeError("@@toPrimitive must return a primitive value.")
                            }
                            return ("string" === t ? String : Number)(e)
                        }(e, "string");
                        return "symbol" == m(t) ? t : t + ""
                    }(r))in e ? Object.defineProperty(e, r, {
                        value: i,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : e[r] = i
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : p(Object(n)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                })
            }
            return e
        }
        function m(e) {
            return (m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        "function" == typeof fetch && (o = "undefined" != typeof global && global.fetch ? global.fetch : "undefined" != typeof window && window.fetch ? window.fetch : fetch),
        d() && ("undefined" != typeof global && global.XMLHttpRequest ? a = global.XMLHttpRequest : "undefined" != typeof window && window.XMLHttpRequest && (a = window.XMLHttpRequest)),
        "function" == typeof ActiveXObject && ("undefined" != typeof global && global.ActiveXObject ? s = global.ActiveXObject : "undefined" != typeof window && window.ActiveXObject && (s = window.ActiveXObject)),
        o || !h || a || s || (o = f || h),
        "function" != typeof o && (o = void 0);
        var v = function(e, t) {
            if (t && "object" === m(t)) {
                var n = "";
                for (var r in t)
                    n += "&" + encodeURIComponent(r) + "=" + encodeURIComponent(t[r]);
                if (!n)
                    return e;
                e = e + (-1 !== e.indexOf("?") ? "&" : "?") + n.slice(1)
            }
            return e
        }
          , y = function(e, t, n, r) {
            var i = function(e) {
                if (!e.ok)
                    return n(e.statusText || "Error", {
                        status: e.status
                    });
                e.text().then(function(t) {
                    n(null, {
                        status: e.status,
                        data: t
                    })
                }).catch(n)
            };
            if (r) {
                var a = r(e, t);
                if (a instanceof Promise) {
                    a.then(i).catch(n);
                    return
                }
            }
            "function" == typeof fetch ? fetch(e, t).then(i).catch(n) : o(e, t).then(i).catch(n)
        }
          , b = !1
          , E = function(e, t, n, r) {
            e.queryStringParams && (t = v(t, e.queryStringParams));
            var i = g({}, "function" == typeof e.customHeaders ? e.customHeaders() : e.customHeaders);
            "undefined" == typeof window && "undefined" != typeof global && void 0 !== global.process && global.process.versions && global.process.versions.node && (i["User-Agent"] = "i18next-http-backend (node/".concat(global.process.version, "; ").concat(global.process.platform, " ").concat(global.process.arch, ")")),
            n && (i["Content-Type"] = "application/json");
            var o = "function" == typeof e.requestOptions ? e.requestOptions(n) : e.requestOptions
              , a = g({
                method: n ? "POST" : "GET",
                body: n ? e.stringify(n) : void 0,
                headers: i
            }, b ? {} : o)
              , s = "function" == typeof e.alternateFetch && e.alternateFetch.length >= 1 ? e.alternateFetch : void 0;
            try {
                y(t, a, r, s)
            } catch (e) {
                if (!o || 0 === Object.keys(o).length || !e.message || 0 > e.message.indexOf("not implemented"))
                    return r(e);
                try {
                    Object.keys(o).forEach(function(e) {
                        delete a[e]
                    }),
                    y(t, a, r, s),
                    b = !0
                } catch (e) {
                    r(e)
                }
            }
        }
          , _ = function(e, t, n, r) {
            n && "object" === m(n) && (n = v("", n).slice(1)),
            e.queryStringParams && (t = v(t, e.queryStringParams));
            try {
                (i = a ? new a : new s("MSXML2.XMLHTTP.3.0")).open(n ? "POST" : "GET", t, 1),
                e.crossDomain || i.setRequestHeader("X-Requested-With", "XMLHttpRequest"),
                i.withCredentials = !!e.withCredentials,
                n && i.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"),
                i.overrideMimeType && i.overrideMimeType("application/json");
                var i, o = e.customHeaders;
                if (o = "function" == typeof o ? o() : o)
                    for (var l in o)
                        i.setRequestHeader(l, o[l]);
                i.onreadystatechange = function() {
                    i.readyState > 3 && r(i.status >= 400 ? i.statusText : null, {
                        status: i.status,
                        data: i.responseText
                    })
                }
                ,
                i.send(n)
            } catch (e) {
                console && console.log(e)
            }
        }
          , w = function(e, t, n, r) {
            return ("function" == typeof n && (r = n,
            n = void 0),
            r = r || function() {}
            ,
            o && 0 !== t.indexOf("file:")) ? E(e, t, n, r) : d() || "function" == typeof ActiveXObject ? _(e, t, n, r) : void r(Error("No fetch and no xhr implementation found!"))
        };
        function O(e) {
            return (O = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function A(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                n.push.apply(n, r)
            }
            return n
        }
        function S(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? A(Object(n), !0).forEach(function(t) {
                    P(e, t, n[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : A(Object(n)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                })
            }
            return e
        }
        function P(e, t, n) {
            return (t = R(t))in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        function R(e) {
            var t = function(e, t) {
                if ("object" != O(e) || !e)
                    return e;
                var n = e[Symbol.toPrimitive];
                if (void 0 !== n) {
                    var r = n.call(e, t || "default");
                    if ("object" != O(r))
                        return r;
                    throw TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === t ? String : Number)(e)
            }(e, "string");
            return "symbol" == O(t) ? t : t + ""
        }
        var I = (r = function e(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
              , r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            (function(e, t) {
                if (!(e instanceof t))
                    throw TypeError("Cannot call a class as a function")
            }
            )(this, e),
            this.services = t,
            this.options = n,
            this.allOptions = r,
            this.type = "backend",
            this.init(t, n, r)
        }
        ,
        i = [{
            key: "init",
            value: function(e) {
                var t = this
                  , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                  , r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                if (this.services = e,
                this.options = S(S(S({}, {
                    loadPath: "/locales/{{lng}}/{{ns}}.json",
                    addPath: "/locales/add/{{lng}}/{{ns}}",
                    parse: function(e) {
                        return JSON.parse(e)
                    },
                    stringify: JSON.stringify,
                    parsePayload: function(e, t, n) {
                        return P({}, t, n || "")
                    },
                    parseLoadPayload: function(e, t) {},
                    request: w,
                    reloadInterval: "undefined" == typeof window && 36e5,
                    customHeaders: {},
                    queryStringParams: {},
                    crossDomain: !1,
                    withCredentials: !1,
                    overrideMimeType: !1,
                    requestOptions: {
                        mode: "cors",
                        credentials: "same-origin",
                        cache: "default"
                    }
                }), this.options || {}), n),
                this.allOptions = r,
                this.services && this.options.reloadInterval) {
                    var i = setInterval(function() {
                        return t.reload()
                    }, this.options.reloadInterval);
                    "object" === O(i) && "function" == typeof i.unref && i.unref()
                }
            }
        }, {
            key: "readMulti",
            value: function(e, t, n) {
                this._readAny(e, e, t, t, n)
            }
        }, {
            key: "read",
            value: function(e, t, n) {
                this._readAny([e], e, [t], t, n)
            }
        }, {
            key: "_readAny",
            value: function(e, t, n, r, i) {
                var o, a, s = this, l = this.options.loadPath;
                "function" == typeof this.options.loadPath && (l = this.options.loadPath(e, n)),
                (l = (a = o = l) && "function" == typeof a.then ? o : Promise.resolve(o)).then(function(o) {
                    if (!o)
                        return i(null, {});
                    var a = s.services.interpolator.interpolate(o, {
                        lng: e.join("+"),
                        ns: n.join("+")
                    });
                    s.loadUrl(a, i, t, r)
                })
            }
        }, {
            key: "loadUrl",
            value: function(e, t, n, r) {
                var i = this
                  , o = this.options.parseLoadPayload("string" == typeof n ? [n] : n, "string" == typeof r ? [r] : r);
                this.options.request(this.options, e, o, function(o, a) {
                    var s, l;
                    if (a && (a.status >= 500 && a.status < 600 || !a.status))
                        return t("failed loading " + e + "; status code: " + a.status, !0);
                    if (a && a.status >= 400 && a.status < 500)
                        return t("failed loading " + e + "; status code: " + a.status, !1);
                    if (!a && o && o.message && o.message.toLowerCase().indexOf("failed") > -1 && (o.message.indexOf("fetch") > -1 || o.message.toLowerCase().indexOf("network") > -1))
                        return t("failed loading " + e + ": " + o.message, !0);
                    if (o)
                        return t(o, !1);
                    try {
                        s = "string" == typeof a.data ? i.options.parse(a.data, n, r) : a.data
                    } catch (t) {
                        l = "failed parsing " + e + " to json"
                    }
                    if (l)
                        return t(l, !1);
                    t(null, s)
                })
            }
        }, {
            key: "create",
            value: function(e, t, n, r, i) {
                var o = this;
                if (this.options.addPath) {
                    "string" == typeof e && (e = [e]);
                    var a = this.options.parsePayload(t, n, r)
                      , s = 0
                      , l = []
                      , u = [];
                    e.forEach(function(n) {
                        var r = o.options.addPath;
                        "function" == typeof o.options.addPath && (r = o.options.addPath(n, t));
                        var c = o.services.interpolator.interpolate(r, {
                            lng: n,
                            ns: t
                        });
                        o.options.request(o.options, c, a, function(t, n) {
                            s += 1,
                            l.push(t),
                            u.push(n),
                            s === e.length && "function" == typeof i && i(l, u)
                        })
                    })
                }
            }
        }, {
            key: "reload",
            value: function() {
                var e = this
                  , t = this.services
                  , n = t.backendConnector
                  , r = t.languageUtils
                  , i = t.logger
                  , o = n.language;
                if (!o || "cimode" !== o.toLowerCase()) {
                    var a = []
                      , s = function(e) {
                        r.toResolveHierarchy(e).forEach(function(e) {
                            0 > a.indexOf(e) && a.push(e)
                        })
                    };
                    s(o),
                    this.allOptions.preload && this.allOptions.preload.forEach(function(e) {
                        return s(e)
                    }),
                    a.forEach(function(t) {
                        e.allOptions.ns.forEach(function(e) {
                            n.read(t, e, "read", null, null, function(r, o) {
                                r && i.warn("loading namespace ".concat(e, " for language ").concat(t, " failed"), r),
                                !r && o && i.log("loaded namespace ".concat(e, " for language ").concat(t), o),
                                n.loaded("".concat(t, "|").concat(e), r, o)
                            })
                        })
                    })
                }
            }
        }],
        function(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(e, R(r.key), r)
            }
        }(r.prototype, i),
        Object.defineProperty(r, "prototype", {
            writable: !1
        }),
        r);
        I.type = "backend";
        let {slice: T, forEach: x} = []
          , k = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/
          , N = (e, t, n) => {
            let r = n || {};
            r.path = r.path || "/";
            let i = encodeURIComponent(t)
              , o = `${e}=${i}`;
            if (r.maxAge > 0) {
                let e = r.maxAge - 0;
                if (Number.isNaN(e))
                    throw Error("maxAge should be a Number");
                o += `; Max-Age=${Math.floor(e)}`
            }
            if (r.domain) {
                if (!k.test(r.domain))
                    throw TypeError("option domain is invalid");
                o += `; Domain=${r.domain}`
            }
            if (r.path) {
                if (!k.test(r.path))
                    throw TypeError("option path is invalid");
                o += `; Path=${r.path}`
            }
            if (r.expires) {
                if ("function" != typeof r.expires.toUTCString)
                    throw TypeError("option expires is invalid");
                o += `; Expires=${r.expires.toUTCString()}`
            }
            if (r.httpOnly && (o += "; HttpOnly"),
            r.secure && (o += "; Secure"),
            r.sameSite)
                switch ("string" == typeof r.sameSite ? r.sameSite.toLowerCase() : r.sameSite) {
                case !0:
                case "strict":
                    o += "; SameSite=Strict";
                    break;
                case "lax":
                    o += "; SameSite=Lax";
                    break;
                case "none":
                    o += "; SameSite=None";
                    break;
                default:
                    throw TypeError("option sameSite is invalid")
                }
            return o
        }
          , C = {
            create(e, t, n, r) {
                let i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {
                    path: "/",
                    sameSite: "strict"
                };
                n && (i.expires = new Date,
                i.expires.setTime(i.expires.getTime() + 6e4 * n)),
                r && (i.domain = r),
                document.cookie = N(e, encodeURIComponent(t), i)
            },
            read(e) {
                let t = `${e}=`
                  , n = document.cookie.split(";");
                for (let e = 0; e < n.length; e++) {
                    let r = n[e];
                    for (; " " === r.charAt(0); )
                        r = r.substring(1, r.length);
                    if (0 === r.indexOf(t))
                        return r.substring(t.length, r.length)
                }
                return null
            },
            remove(e) {
                this.create(e, "", -1)
            }
        };
        var L = {
            name: "cookie",
            lookup(e) {
                let {lookupCookie: t} = e;
                if (t && "undefined" != typeof document)
                    return C.read(t) || void 0
            },
            cacheUserLanguage(e, t) {
                let {lookupCookie: n, cookieMinutes: r, cookieDomain: i, cookieOptions: o} = t;
                n && "undefined" != typeof document && C.create(n, e, r, i, o)
            }
        }
          , M = {
            name: "querystring",
            lookup(e) {
                let t, {lookupQuerystring: n} = e;
                if ("undefined" != typeof window) {
                    let {search: e} = window.location;
                    !window.location.search && window.location.hash?.indexOf("?") > -1 && (e = window.location.hash.substring(window.location.hash.indexOf("?")));
                    let r = e.substring(1).split("&");
                    for (let e = 0; e < r.length; e++) {
                        let i = r[e].indexOf("=");
                        i > 0 && r[e].substring(0, i) === n && (t = r[e].substring(i + 1))
                    }
                }
                return t
            }
        };
        let D = null
          , j = () => {
            if (null !== D)
                return D;
            try {
                D = "undefined" !== window && null !== window.localStorage;
                let e = "i18next.translate.boo";
                window.localStorage.setItem(e, "foo"),
                window.localStorage.removeItem(e)
            } catch (e) {
                D = !1
            }
            return D
        }
        ;
        var U = {
            name: "localStorage",
            lookup(e) {
                let {lookupLocalStorage: t} = e;
                if (t && j())
                    return window.localStorage.getItem(t) || void 0
            },
            cacheUserLanguage(e, t) {
                let {lookupLocalStorage: n} = t;
                n && j() && window.localStorage.setItem(n, e)
            }
        };
        let $ = null
          , V = () => {
            if (null !== $)
                return $;
            try {
                $ = "undefined" !== window && null !== window.sessionStorage;
                let e = "i18next.translate.boo";
                window.sessionStorage.setItem(e, "foo"),
                window.sessionStorage.removeItem(e)
            } catch (e) {
                $ = !1
            }
            return $
        }
        ;
        var B = {
            name: "sessionStorage",
            lookup(e) {
                let {lookupSessionStorage: t} = e;
                if (t && V())
                    return window.sessionStorage.getItem(t) || void 0
            },
            cacheUserLanguage(e, t) {
                let {lookupSessionStorage: n} = t;
                n && V() && window.sessionStorage.setItem(n, e)
            }
        }
          , F = {
            name: "navigator",
            lookup(e) {
                let t = [];
                if ("undefined" != typeof navigator) {
                    let {languages: e, userLanguage: n, language: r} = navigator;
                    if (e)
                        for (let n = 0; n < e.length; n++)
                            t.push(e[n]);
                    n && t.push(n),
                    r && t.push(r)
                }
                return t.length > 0 ? t : void 0
            }
        }
          , q = {
            name: "htmlTag",
            lookup(e) {
                let t, {htmlTag: n} = e, r = n || ("undefined" != typeof document ? document.documentElement : null);
                return r && "function" == typeof r.getAttribute && (t = r.getAttribute("lang")),
                t
            }
        }
          , G = {
            name: "path",
            lookup(e) {
                let {lookupFromPathIndex: t} = e;
                if ("undefined" == typeof window)
                    return;
                let n = window.location.pathname.match(/\/([a-zA-Z-]*)/g);
                if (Array.isArray(n))
                    return n["number" == typeof t ? t : 0]?.replace("/", "")
            }
        }
          , z = {
            name: "subdomain",
            lookup(e) {
                let {lookupFromSubdomainIndex: t} = e
                  , n = "undefined" != typeof window && window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);
                if (n)
                    return n["number" == typeof t ? t + 1 : 1]
            }
        };
        class Y {
            constructor(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                this.type = "languageDetector",
                this.detectors = {},
                this.init(e, t)
            }
            init(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                  , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                this.services = e || {
                    languageUtils: {}
                },
                this.options = function(e) {
                    return x.call(T.call(arguments, 1), t => {
                        if (t)
                            for (let n in t)
                                void 0 === e[n] && (e[n] = t[n])
                    }
                    ),
                    e
                }(t, this.options || {}, {
                    order: ["querystring", "cookie", "localStorage", "sessionStorage", "navigator", "htmlTag"],
                    lookupQuerystring: "lng",
                    lookupCookie: "i18next",
                    lookupLocalStorage: "i18nextLng",
                    lookupSessionStorage: "i18nextLng",
                    caches: ["localStorage"],
                    excludeCacheFor: ["cimode"],
                    convertDetectedLanguage: e => e
                }),
                "string" == typeof this.options.convertDetectedLanguage && this.options.convertDetectedLanguage.indexOf("15897") > -1 && (this.options.convertDetectedLanguage = e => e.replace("-", "_")),
                this.options.lookupFromUrlIndex && (this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex),
                this.i18nOptions = n,
                this.addDetector(L),
                this.addDetector(M),
                this.addDetector(U),
                this.addDetector(B),
                this.addDetector(F),
                this.addDetector(q),
                this.addDetector(G),
                this.addDetector(z)
            }
            addDetector(e) {
                return this.detectors[e.name] = e,
                this
            }
            detect(e) {
                e || (e = this.options.order);
                let t = [];
                return (e.forEach(e => {
                    if (this.detectors[e]) {
                        let n = this.detectors[e].lookup(this.options);
                        n && "string" == typeof n && (n = [n]),
                        n && (t = t.concat(n))
                    }
                }
                ),
                t = t.map(e => this.options.convertDetectedLanguage(e)),
                this.services.languageUtils.getBestMatchFromCodes) ? t : t.length > 0 ? t[0] : null
            }
            cacheUserLanguage(e, t) {
                t || (t = this.options.caches),
                t && (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(e) > -1 || t.forEach(t => {
                    this.detectors[t] && this.detectors[t].cacheUserLanguage(e, this.options)
                }
                ))
            }
        }
        Y.type = "languageDetector";
        var H = n(60922);
        let Z = !1;
        l.ZP.on("onLoaded", () => {
            console.log("loading i18n"),
            Z = !0
        }
        ),
        l.ZP.use(I).use(Y).use(u.Db).init({
            debug: !1,
            fallbackLng: "en",
            load: "languageOnly",
            preload: ["en"],
            ns: ["ui", "game", "quest"],
            defaultNS: "ui",
            react: {
                useSuspense: !1
            },
            interpolation: {
                escapeValue: !1
            },
            backend: {
                crossDomain: !0,
                loadPath: function() {
                    let e = (0,
                    H.F5)();
                    return "//pixels-server.pixels.xyz/v1/i18n/{{ns}}/{{lng}}" + "?tenant=".concat(e)
                }
            }
        }, e => {
            Z = !e
        }
        );
        let W = function() {
            let e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            if (e || !Z)
                return l.ZP.reloadResources()
        };
        var J = l.ZP
    },
    53059: function(e, t, n) {
        "use strict";
        n.d(t, {
            Z: function() {
                return s
            }
        });
        var r = n(63534);
        function i(e) {
            let {keyField: t, first: n, second: r, mergefields: i} = e
              , o = [].concat(null != n ? n : []);
            if (!r || 0 === r.length)
                return o;
            let a = {};
            return o.forEach( (e, n) => {
                t in e && (a[e[t]] = n)
            }
            ),
            r.forEach(e => {
                let n = e[t];
                if (n in a) {
                    if (i) {
                        let t = a[n];
                        o[t] = {
                            ...o[t],
                            ...e
                        }
                    }
                } else
                    o.push(e)
            }
            ),
            o
        }
        let o = (e, t) => {
            var n, r, a, s, l;
            let u = t.entities[e];
            if (!u || "generic" !== u.type || !(null === (n = u.generic) || void 0 === n ? void 0 : n.inherits))
                return u;
            let c = u.generic
              , d = o(c.inherits, t);
            if (!(null == d ? void 0 : d.generic))
                return u;
            let f = d.generic;
            return u.generic.defaultState = c.defaultState || f.defaultState,
            u.generic.hittest = null !== (l = c.hittest) && void 0 !== l ? l : f.hittest,
            u.generic.states = (null === (r = c.states) || void 0 === r ? void 0 : r.length) ? i({
                keyField: "name",
                second: c.states,
                first: f.states,
                mergefields: !0
            }) : f.states,
            u.generic.layers = (null === (a = c.layers) || void 0 === a ? void 0 : a.length) ? i({
                keyField: "depth",
                second: c.layers,
                first: f.layers,
                mergefields: !0
            }) : f.layers,
            u.generic.transitions = (null === (s = c.transitions) || void 0 === s ? void 0 : s.length) ? i({
                keyField: "from_to",
                second: c.transitions,
                first: f.transitions,
                mergefields: !1
            }) : f.transitions,
            delete u.generic.inherits,
            u
        }
        ;
        class a {
            async loadMap(e) {
                return this.api.fetchMap(e)
            }
            clearGameLibrary() {
                this.gameLibraryPromise = void 0,
                this.invalidClientPassword = void 0
            }
            async loadLibraries(e) {
                try {
                    this.gameLibraryPromise || (this.gameLibraryPromise = this.api.fetchGameLibrary(),
                    this.gameLibraryPromise.then(e => {
                        this.transformGameLibrary(e)
                    }
                    ).catch(e => {
                        var t;
                        (null == e ? void 0 : null === (t = e.response) || void 0 === t ? void 0 : t.data) === "invalid-client-password" && (this.invalidClientPassword = !0),
                        this.gameLibraryPromise = void 0
                    }
                    ));
                    let t = [this.gameLibraryPromise];
                    e && this.mapId !== e && (this.mapInfoPromise = this.api.fetchMap(e),
                    this.mapLibrary = void 0,
                    this.mapId = e),
                    this.mapInfoPromise && t.push(this.mapInfoPromise);
                    try {
                        await Promise.all(t)
                    } catch (e) {
                        this.gameLibraryPromise = void 0,
                        this.mapInfoPromise = void 0
                    }
                    if (this.mapInfoPromise) {
                        let e = await this.mapInfoPromise;
                        e && (this.mapLibrary = {
                            id: e.id,
                            labels: e.labels,
                            type: e.type,
                            config: {}
                        })
                    }
                    return this.gameLibrary
                } catch (e) {
                    console.log("could not load game library", e),
                    this.gameLibraryPromise = void 0,
                    this.mapInfoPromise = void 0;
                    return
                }
            }
            transformGameLibrary(e) {
                e.sounds && (e.sounds = new Map(e.sounds.map(e => [e.id, e]))),
                e.entities && Object.keys(e.entities).forEach(t => {
                    o(t, e)
                }
                ),
                this.gameLibrary = e
            }
            transformGameLibraryUpdate(e) {
                let t = {
                    sounds: e.sounds
                };
                return Object.entries(e).forEach(e => {
                    let[n,r] = e;
                    "sounds" !== n && (t[n] = {},
                    r.forEach(e => {
                        t[n][e.id] = e
                    }
                    ))
                }
                ),
                t
            }
            isValid() {
                return this.gameLibrary && !!this.gameLibrary.objects && !!this.gameLibrary.avatars && !!this.gameLibrary.tenants
            }
            async reloadOne(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , n = "".concat(e.kind, "s");
                if (!this.gameLibrary && !t)
                    return null;
                try {
                    let t = await this.api.fetchGameLibraryExtras({
                        [n]: [e.id]
                    });
                    if (t) {
                        var r;
                        if (this.updateGameLibrary(this.transformGameLibraryUpdate(t)),
                        "sounds" === n)
                            return this.gameLibrary.sounds.get(e.id);
                        return null === (r = this.gameLibrary[n]) || void 0 === r ? void 0 : r[e.id]
                    }
                } catch (e) {
                    return null
                }
            }
            updateGameLibrary(e) {
                if (!this.gameLibrary) {
                    var t;
                    console.log("got library with ".concat(Object.values(null !== (t = e.tilesets) && void 0 !== t ? t : {}).length, " tilesets")),
                    this.gameLibrary = e;
                    return
                }
                e.objects && Object.assign(this.gameLibrary.objects, e.objects),
                e.stores && Object.assign(this.gameLibrary.stores, e.stores),
                e.entities && (Object.assign(this.gameLibrary.entities, e.entities),
                Object.keys(e.entities).forEach(e => {
                    o(e, this.gameLibrary)
                }
                )),
                e.sounds && e.sounds.forEach(e => {
                    this.gameLibrary.sounds.set(e.id, e)
                }
                ),
                e.tilesets && Object.assign(this.gameLibrary.tilesets, e.tilesets),
                e.quests && Object.assign(this.gameLibrary.quests, e.quests)
            }
            getGameObject(e) {
                var t;
                return null === (t = this.gameLibrary) || void 0 === t ? void 0 : t.objects[e]
            }
            getGameNonWallObjects() {
                if (!this.nonWallObjects) {
                    var e;
                    this.nonWallObjects = (null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.objects) ? Object.values(this.gameLibrary.objects).filter(e => !e.wall) : void 0
                }
                return this.nonWallObjects
            }
            getGameWallObjects() {
                if (!this.wallObjects) {
                    var e;
                    this.wallObjects = (null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.objects) ? Object.values(this.gameLibrary.objects).filter(e => !!e.wall) : void 0
                }
                return this.wallObjects
            }
            getGameWallCategories() {
                if (!this.wallCategories) {
                    let e = this.getGameWallObjects();
                    this.wallCategories = null == e ? void 0 : e.reduce( (e, t) => ({
                        ...e,
                        [t.wall.type]: [...e[t.wall.type] || [], t]
                    }), {})
                }
                return this.wallCategories
            }
            getGameTilesObjects() {
                var e;
                return (null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.tilesets) ? Object.values(this.gameLibrary.tilesets) : void 0
            }
            getGameItems() {
                var e;
                return null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.items
            }
            getGameItem(e) {
                var t;
                return null === (t = this.gameLibrary) || void 0 === t ? void 0 : t.items[e]
            }
            getGameEntities() {
                if (this.gameLibrary) {
                    var e;
                    return Object.values(null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.entities)
                }
            }
            getGameEntity(e) {
                var t;
                return null === (t = this.gameLibrary) || void 0 === t ? void 0 : t.entities[e]
            }
            getGameAvatar(e) {
                var t;
                return null === (t = this.gameLibrary) || void 0 === t ? void 0 : t.avatars[e]
            }
            getGameAvatars() {
                var e;
                return null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.avatars
            }
            getTenants() {
                var e;
                return null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.tenants
            }
            getGameTiles() {
                var e;
                return null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.tilesets
            }
            getGameSoils() {
                var e, t;
                if (null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.entities)
                    return Object.values(null === (t = this.gameLibrary) || void 0 === t ? void 0 : t.entities)
            }
            getGameSound(e) {
                var t;
                return (null === (t = this.gameLibrary) || void 0 === t ? void 0 : t.sounds) && this.gameLibrary.sounds.get(e)
            }
            getGameCurrency(e) {
                var t;
                return null === (t = this.gameLibrary) || void 0 === t ? void 0 : t.currencies[e]
            }
            getGameCurrencies() {
                var e;
                return null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.currencies
            }
            setMapLibrary(e) {
                (null == e ? void 0 : e.config) && (this.mapLibrary = e)
            }
            async updateLibraryItems(e) {
                var t;
                if (this.gameLibrary && (null === (t = this.mapLibrary) || void 0 === t ? void 0 : t.config) && (null == e ? void 0 : e.length))
                    try {
                        let t = await this.api.fetchGameLibraryExtras({
                            items: e
                        });
                        this.updateGameLibrary(this.transformGameLibraryUpdate(t))
                    } catch (e) {
                        console.error("failure getting supplemental objects")
                    }
            }
            async scanGameLibrary(e) {
                var t;
                if (!this.gameLibrary || !(null === (t = this.mapLibrary) || void 0 === t ? void 0 : t.config))
                    return;
                let n = {
                    objects: new Set,
                    entities: new Set,
                    tilesets: new Set,
                    sounds: new Set
                };
                this.mapLibrary.config.objects && Object.entries(this.mapLibrary.config.objects).forEach(e => {
                    let[,t] = e;
                    this.gameLibrary.objects && Object.hasOwn(this.gameLibrary.objects, t.object) || n.objects.add(t.object)
                }
                ),
                this.mapLibrary.config.tiles && Object.entries(this.mapLibrary.config.tiles).forEach(e => {
                    let[,t] = e;
                    this.gameLibrary.tilesets && Object.hasOwn(this.gameLibrary.tilesets, t.tileset) || n.tilesets.add(t.tileset)
                }
                ),
                this.mapLibrary.config.sounds && this.mapLibrary.config.sounds.forEach(e => {
                    this.gameLibrary.sounds && this.gameLibrary.sounds.has(e) || n.sounds.add(e)
                }
                ),
                e.forEach(e => {
                    this.gameLibrary.entities && Object.hasOwn(this.gameLibrary.entities, e.entity) || n.entities.add(e.entity)
                }
                );
                let r = !0
                  , i = {};
                if (Object.entries(n).filter(e => {
                    let[,t] = e;
                    return t.size > 0
                }
                ).forEach(e => {
                    let[t,n] = e;
                    r = !1,
                    i[t] = Array.from(n)
                }
                ),
                !r) {
                    console.log("waiting to retrieve missing elements", i);
                    try {
                        let e = await this.api.fetchGameLibraryExtras(i);
                        this.updateGameLibrary(this.transformGameLibraryUpdate(e))
                    } catch (e) {
                        console.error("failure getting supplemental objects")
                    }
                }
            }
            async getUgcDecorations(e) {
                let {onlyFetchPending: t} = e
                  , n = await this.api.fetchingUgcDecorations({
                    onlyFetchPending: t
                });
                return this.updateGameLibrary(this.transformGameLibraryUpdate({
                    objects: n.objects
                })),
                n
            }
            async approveUgcDecoration(e) {
                let {itemId: t, objectId: n} = e;
                return await this.api.approveUgcDecoration({
                    itemId: t,
                    objectId: n
                })
            }
            async rejectUgcDecoration(e) {
                let {itemId: t, objectId: n, reason: r} = e;
                return await this.api.rejectUgcDecoration({
                    itemId: t,
                    objectId: n,
                    reason: r
                })
            }
            getDefaultCurrency() {
                var e;
                return (null === (e = this.mapLibrary) || void 0 === e ? void 0 : e.defaultCurrency) || "cur_berry"
            }
            getMapType() {
                var e;
                return (null === (e = this.mapLibrary) || void 0 === e ? void 0 : e.type) || "public"
            }
            getMapObjects() {
                var e;
                return null === (e = this.mapLibrary) || void 0 === e ? void 0 : e.config.objects
            }
            getMapObject(e) {
                var t;
                return null === (t = this.getMapObjects()) || void 0 === t ? void 0 : t[e]
            }
            getMapBackground() {
                var e, t, n;
                let r = null === (e = this.mapLibrary) || void 0 === e ? void 0 : e.config.background;
                if (!r)
                    return;
                let i = null === (n = this.gameLibrary) || void 0 === n ? void 0 : null === (t = n.objects) || void 0 === t ? void 0 : t[r];
                if (i)
                    return i
            }
            addMapObject(e) {
                let t = this.getMapObjects();
                if (t) {
                    let n = t[e._id];
                    n ? Object.assign(n, e) : t[e._id] = e
                }
            }
            updateMapTiles(e) {
                let t = this.getMapTiles();
                e && t && e.forEach(e => {
                    t[e._id] = e
                }
                )
            }
            removeMapObject(e) {
                let t = this.getMapObjects();
                t && delete t[e._id]
            }
            getMapTiles() {
                var e;
                return null === (e = this.mapLibrary) || void 0 === e ? void 0 : e.config.tiles
            }
            getNPCProperties(e) {
                return {
                    npcType: e
                }
            }
            getMapSounds() {
                var e, t;
                return null === (t = this.mapLibrary) || void 0 === t ? void 0 : null === (e = t.config) || void 0 === e ? void 0 : e.sounds
            }
            getMapLabels() {
                var e;
                return null === (e = this.mapLibrary) || void 0 === e ? void 0 : e.labels
            }
            getStoreData() {
                var e;
                return null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.stores
            }
            getStore(e) {
                var t, n;
                return null === (n = this.gameLibrary) || void 0 === n ? void 0 : null === (t = n.stores) || void 0 === t ? void 0 : t[e]
            }
            getMapTilesAt(e) {
                let t;
                return this.mapLibrary && (t = Object.values(this.mapLibrary.config.tiles).filter(t => t.x === e.x && t.y === e.y)),
                t
            }
            getGameQuests() {
                var e;
                return null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.quests
            }
            getMapTile(e) {
                var t;
                return null === (t = this.mapLibrary) || void 0 === t ? void 0 : t.config.tiles[e]
            }
            getGameAchievement(e) {
                var t, n;
                return null === (n = this.gameLibrary) || void 0 === n ? void 0 : null === (t = n.achievements) || void 0 === t ? void 0 : t[e]
            }
            getGameAchievements() {
                var e;
                return (null === (e = this.gameLibrary) || void 0 === e ? void 0 : e.achievements) ? Object.values(this.gameLibrary.achievements) : void 0
            }
            isClientPasswordInvalid() {
                return this.invalidClientPassword
            }
            constructor(e) {
                this.api = e
            }
        }
        var s = new a(r.Z)
    },
    72184: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return f
            }
        });
        var r = n(85893)
          , i = n(67294)
          , o = n(11163)
          , a = n(25617)
          , s = n(48583);
        n(4602),
        n(4449),
        n(36958);
        var l = n(15624);
        let u = e => {
            var t, n;
            (null === (t = window) || void 0 === t ? void 0 : t.gtag) && (null === (n = window) || void 0 === n || n.gtag("config", "G-QGP383C71B", {
                page_path: e
            }))
        }
        ;
        var c = n(53059);
        n(35466);
        var d = e => {
            let {children: t} = e
              , [n,r] = (0,
            i.useState)("")
              , [o,a] = (0,
            i.useState)(void 0)
              , [s,l] = (0,
            i.useState)(!0)
              , u = () => {
                l(!0),
                c.Z.loadLibraries().finally( () => {
                    c.Z.isClientPasswordInvalid() ? a(!0) : a(!1),
                    l(!1)
                }
                )
            }
            ;
            return (0,
            i.useEffect)( () => {
                u()
            }
            , []),
            t
        }
          , f = e => {
            let {Component: t, pageProps: n} = e
              , c = (0,
            o.useRouter)();
            return (0,
            i.useEffect)( () => {
                let e = e => {
                    u(e)
                }
                ;
                return c.events.on("routeChangeComplete", e),
                () => {
                    c.events.off("routeChangeComplete", e)
                }
            }
            , [c.events]),
            (0,
            r.jsx)(r.Fragment, {
                children: (0,
                r.jsx)(a.zt, {
                    store: l.h,
                    children: (0,
                    r.jsx)(s.zt, {
                        store: l.e,
                        children: (0,
                        r.jsx)(d, {
                            children: (0,
                            r.jsx)(t, {
                                ...n
                            })
                        })
                    })
                })
            })
        }
    },
    45238: function(e, t, n) {
        "use strict";
        n.d(t, {
            H: function() {
                return i
            },
            q: function() {
                return r
            }
        });
        let r = {};
        function i(e, t) {
            if (e in r) {
                let n = r[e];
                r[e] = (e, r) => {
                    n(e, r),
                    t(e, r)
                }
            } else
                r[e] = t
        }
    },
    69980: function(e, t, n) {
        "use strict";
        n.d(t, {
            U: function() {
                return c
            },
            V: function() {
                return d
            }
        });
        var r = n(45238)
          , i = n(28466)
          , o = n(80919)
          , a = n(73913)
          , s = n(60943)
          , l = n(15624)
          , u = n(25904);
        function c(e) {
            o.ZP.emitEventNow(o.fb.TRADE_SEND, e)
        }
        function d(e, t) {
            var n, r;
            let i = a.l.getInstance()
              , o = e ? null === (r = i.getEntityByUniqueId(e)) || void 0 === r ? void 0 : null === (n = r.storage) || void 0 === n ? void 0 : n.slots : i.currentPlayer.full.inventory.slots;
            if (o)
                return (0,
                u.aG)(o, t.toString())
        }
        function f() {
            return l.e.get(i.eH) ? void 0 : (0,
            i.sG)(l.h.getState())
        }
        let h = e => {
            var t;
            let {slot: n, item: r, adjustment: o, sourceSlot: s} = e
              , u = l.h.getState()
              , d = (0,
            i.KU)(u)
              , h = f();
            if (!h || !d)
                return;
            let p = a.l.getInstance().getSessionId();
            if (!p)
                return;
            let g = null === (t = h.players[p]) || void 0 === t ? void 0 : t.items;
            if (!g)
                return;
            let m = g.map(e => e)
              , v = m.find(e => e.slot === n);
            if (v && !r) {
                let e = v.quantity + o;
                m = m.filter(e => e.slot !== n),
                e > 0 && m.push({
                    ...v,
                    quantity: e
                })
            } else {
                if (!r)
                    return;
                m = m.filter(e => e.slot !== n && e.originalSlot !== s),
                o > 0 && m.push({
                    item: r,
                    quantity: o,
                    originalSlot: null != s ? s : 0,
                    originalSource: void 0,
                    slot: n
                })
            }
            c({
                subcommand: "update",
                tradeId: d,
                trade: {
                    items: m
                }
            })
        }
        ;
        o.rV.inventory.serverStateChange.subscribe(e => {
            var t;
            let n = l.h.getState()
              , r = (0,
            i.KU)(n)
              , o = f();
            if (!o || !r)
                return;
            let {inventory: s} = e
              , u = a.l.getInstance().getSessionId()
              , d = null === (t = o.players[u]) || void 0 === t ? void 0 : t.items;
            if (!d)
                return;
            let h = !1
              , p = d.filter(e => {
                var t;
                let n = null === (t = s.slots) || void 0 === t ? void 0 : t[e.originalSlot.toString()];
                return !!n && n.item === e.item && !(n.quantity < e.quantity) || (h = !0,
                !1)
            }
            );
            h && c({
                subcommand: "update",
                tradeId: r,
                trade: {
                    items: p
                }
            })
        }
        ),
        (0,
        r.H)(i.sU.type, h),
        (0,
        r.H)(i.gJ.type, (e, t) => {
            var n;
            let {slot: r, mouseButton: o} = e
              , l = t.getState()
              , u = (0,
            i.KU)(l)
              , c = f();
            if (!c || !u)
                return;
            let d = a.l.getInstance().getSessionId();
            if (!d)
                return;
            let p = null === (n = c.players[d]) || void 0 === n ? void 0 : n.items;
            if (!p)
                return;
            let g = (0,
            s.B6)(l)
              , m = (0,
            s.xM)(l)
              , v = p.find(e => e.slot === r);
            0 === o ? g ? h({
                slot: r,
                item: g.id,
                sourceSlot: m.slot,
                adjustment: Math.min(1, m.quantity)
            }) : v && !g && h({
                slot: r,
                adjustment: -v.quantity
            }) : 2 === o && (g ? h({
                slot: r,
                item: g.id,
                sourceSlot: m.slot,
                adjustment: Math.ceil(m.quantity / 2)
            }) : !g && v && h({
                slot: r,
                adjustment: -Math.ceil(v.quantity / 2)
            }))
        }
        )
    },
    40723: function(e, t, n) {
        "use strict";
        n.d(t, {
            R: function() {
                return a
            }
        });
        var r = n(66741)
          , i = n(53059)
          , o = n(51309);
        let a = (0,
        r.hg)("game/authenticatedWallet", async (e, t) => {
            try {
                let n = await i.Z.loadLibraries(e.mapId);
                if (!i.Z.isValid())
                    throw "invalid-game-library";
                t.dispatch({
                    type: "game/LIBRARY",
                    payload: !!n
                })
            } catch (e) {
                t.dispatch((0,
                o.gz)({
                    message: ["game-library-unavailable", "Could not load required assets. Try reloading"],
                    allowReload: !0,
                    allowClose: !1
                }))
            }
            return e
        }
        )
    },
    51309: function(e, t, n) {
        "use strict";
        n.d(t, {
            $O: function() {
                return C
            },
            DH: function() {
                return m
            },
            Ec: function() {
                return p
            },
            Gq: function() {
                return h
            },
            H2: function() {
                return y
            },
            Kx: function() {
                return w
            },
            MD: function() {
                return P
            },
            RT: function() {
                return R
            },
            Ti: function() {
                return v
            },
            WS: function() {
                return g
            },
            YR: function() {
                return I
            },
            ZP: function() {
                return b
            },
            cQ: function() {
                return _
            },
            cm: function() {
                return k
            },
            cn: function() {
                return S
            },
            cu: function() {
                return f
            },
            eW: function() {
                return O
            },
            fq: function() {
                return E
            },
            gz: function() {
                return M
            },
            iM: function() {
                return T
            },
            k4: function() {
                return N
            },
            vU: function() {
                return L
            },
            z1: function() {
                return x
            }
        });
        var r = n(66741)
          , i = n(60922)
          , o = n(73913)
          , a = n(97790)
          , s = n(53059)
          , l = n(4602)
          , u = n(83742)
          , c = n(75268);
        let d = (0,
        r.oM)({
            name: "auth",
            initialState: {
                connected: !1,
                isAccountDirty: !1,
                showWalletNotFoundWarning: !1,
                authenticated: !1,
                loading: !0,
                noticeDialog: {
                    visible: !1,
                    allowClose: !1,
                    allowReload: !0,
                    msgKey: ""
                }
            },
            reducers: {
                checkAuthentication: (e, t) => {
                    e.loading = !0,
                    e.mapId = t.payload.mapId
                }
                ,
                walletRequired: (e, t) => {
                    e.showWalletNotFoundWarning = !1 !== t.payload
                }
                ,
                setConnected: (e, t) => {
                    e.errorMessage = "",
                    e.connected = t.payload.connected,
                    e.provider = t.payload.provider,
                    e.eth = t.payload.eth,
                    e.email = t.payload.email,
                    e.newuser = t.payload.newuser,
                    e.methodid = t.payload.methodid,
                    e.code = t.payload.code,
                    e.password = t.payload.password,
                    e.isAccountDirty = !1,
                    t.payload.connected && (e.errorMessage = void 0)
                }
                ,
                continueAsGuest: (e, t) => {
                    var n;
                    e.errorMessage = void 0,
                    e.authenticated = !0,
                    e.mapId = (null === (n = t.payload) || void 0 === n ? void 0 : n.mapId) || (0,
                    i.lf)(),
                    e.loading = !1,
                    e.sessionToken = null
                }
                ,
                createPlayer: (e, t) => {
                    if (e.errorMessage = void 0,
                    e.sessionToken)
                        console.log("waiting for middleware to createplayer"),
                        e.loading = !0;
                    else {
                        console.log("continuing as guest");
                        let n = t.payload.username;
                        /^Guest-/i.test(null != n ? n : "") || (n = "Guest-".concat(n)),
                        e.username = n,
                        e.playerAvatar = {
                            id: t.payload.avatar.id,
                            pieces: t.payload.avatar.pieces
                        }
                    }
                }
                ,
                loadingDone: e => {
                    e.loading = !1
                }
                ,
                authenticate: (e, t) => {
                    e.errorMessage = void 0,
                    e.mapId = t.payload.mapId,
                    e.loading = !0
                }
                ,
                updatedPlayer: (e, t) => {
                    t.payload.username && (e.username = t.payload.username),
                    t.payload.playerId && (e.playerId = t.payload.playerId),
                    t.payload.playerAvatar && (e.playerAvatar = {
                        id: t.payload.playerAvatarId,
                        pieces: t.payload.playerAvatar
                    }),
                    t.payload.mapId && (e.mapId = t.payload.mapId),
                    t.payload.cryptoWallets && (e.cryptoWallets = t.payload.cryptoWallets)
                }
                ,
                authenticatedPlayer: (e, t) => {
                    if (e.loading = !1,
                    e.username = t.payload.username,
                    e.playerId = t.payload.playerId,
                    t.payload.playerAvatar) {
                        var n;
                        e.playerAvatar = {
                            id: null !== (n = t.payload.playerAvatarId) && void 0 !== n ? n : c.ft,
                            pieces: t.payload.playerAvatar
                        }
                    } else
                        e.playerAvatar = (0,
                        u.Tm)(c.UM, void 0);
                    t.payload.mapId && (e.mapId = t.payload.mapId),
                    e.authenticated = !0,
                    e.sessionToken = t.payload.sessionToken,
                    e.provider = t.payload.provider,
                    e.cryptoWallets = t.payload.cryptoWallets,
                    e.currentAvatar = t.payload.currentAvatar,
                    e.errorMessage = void 0
                }
                ,
                authenticateError: (e, t) => {
                    var n;
                    e.errorMessage = null === (n = t.payload) || void 0 === n ? void 0 : n.message,
                    e.loading = !1,
                    e.connected = !1,
                    e.provider = void 0,
                    e.errorMessage && console.log("set error message", JSON.stringify(e.errorMessage))
                }
                ,
                serviceNotification: (e, t) => {
                    var n, r;
                    e.noticeDialog.visible = !0,
                    e.noticeDialog.msgKey = t.payload.message,
                    e.noticeDialog.allowClose = null === (n = t.payload.allowClose) || void 0 === n || n,
                    e.noticeDialog.allowReload = null === (r = t.payload.allowReload) || void 0 === r || r
                }
                ,
                closeNotification: e => {
                    e.noticeDialog.allowClose && (e.noticeDialog.visible = !1)
                }
                ,
                loggedOut: e => {
                    e.loading = !1,
                    e.errorMessage = void 0,
                    e.provider = void 0,
                    e.authenticated = !1,
                    e.connected = !1,
                    e.playerId = void 0,
                    e.username = void 0,
                    e.sessionToken = null,
                    e.playerAvatar = void 0,
                    e.currentAvatar = void 0,
                    e.isAccountDirty = !1,
                    e.cryptoWallets = void 0
                }
                ,
                setIsAccountDirty: (e, t) => {
                    e.isAccountDirty = t.payload
                }
            },
            extraReducers: e => {
                e.addCase("game/ROOM_LOADED", e => {
                    e.noticeDialog.visible = !1
                }
                ),
                e.addCase("game/SVR_CANNOTCONNECT", (e, t) => {
                    var n;
                    e.loading = !0,
                    e.authenticated = !1,
                    e.connected = !1,
                    e.mapId = void 0,
                    e.username = void 0,
                    e.sessionToken = null,
                    e.playerAvatar = void 0,
                    e.currentAvatar = void 0,
                    e.cryptoWallets = void 0,
                    e.errorMessage = null === (n = t.payload) || void 0 === n ? void 0 : n.message
                }
                ),
                e.addCase("game/PLAYER_AVATAR", (e, t) => {
                    t.payload.success ? (t.payload.username && (e.username = t.payload.username),
                    t.payload.playerAvatar && (e.playerAvatar = t.payload.playerAvatar)) : "username-already-exists" === t.payload.message ? e.errorMessage = ["nameInUse", "Name in use"] : e.errorMessage = ["internalServerError", "Task Failed Successfully. msg: UpdateAvatar"]
                }
                ),
                e.addCase("game/SERVICE_COMMAND", (e, t) => {
                    var n, r, i, u, c, d;
                    let f = null == t ? void 0 : null === (r = t.payload) || void 0 === r ? void 0 : null === (n = r.command) || void 0 === n ? void 0 : n.toLowerCase();
                    "notice" === f ? (e.noticeDialog.visible = !0,
                    e.noticeDialog.msgKey = t.payload.message,
                    e.noticeDialog.allowClose = null === (i = t.payload.allowClose) || void 0 === i || i,
                    e.noticeDialog.allowReload = null === (u = t.payload.allowReload) || void 0 === u || u,
                    !1 === t.payload.allowClose && (a.Z.killScene(),
                    o.l.getInstance().disconnect())) : "reload" !== f || !t.payload.id || (null === (c = e.reloadIds) || void 0 === c ? void 0 : c.includes(t.payload.id)) || (e.reloadIds || (e.reloadIds = []),
                    null === (d = (0,
                    l.W)(!0)) || void 0 === d || d.catch(console.error),
                    s.Z.clearGameLibrary(),
                    s.Z.loadLibraries().catch(console.error),
                    e.reloadIds.push(t.payload.id))
                }
                )
            }
        })
          , f = e => e.auth.playerAvatar
          , h = e => e.auth.authenticated
          , p = e => e.auth.username
          , g = e => ({
            email: e.auth.email,
            password: e.auth.password,
            newuser: e.auth.newuser
        })
          , m = e => ({
            method_id: e.auth.methodid,
            code: e.auth.code
        })
          , v = e => e.auth.connected && e.auth.provider
          , y = e => e.auth.loading
          , b = e => e.auth.errorMessage
          , E = e => e.auth.cryptoWallets
          , _ = e => e.auth.noticeDialog
          , {checkAuthentication: w, setConnected: O, walletRequired: A, continueAsGuest: S, createPlayer: P, loadingDone: R, authenticate: I, authenticatedPlayer: T, updatedPlayer: x, authenticateError: k, loggedOut: N, setIsAccountDirty: C, closeNotification: L, serviceNotification: M} = d.actions;
        t.Co = d.reducer
    },
    28274: function(e, t, n) {
        "use strict";
        n.d(t, {
            F0: function() {
                return p
            },
            Gp: function() {
                return O
            },
            U1: function() {
                return b
            },
            Uf: function() {
                return g
            },
            Up: function() {
                return S
            },
            XU: function() {
                return m
            },
            _r: function() {
                return _
            },
            hL: function() {
                return A
            },
            ki: function() {
                return y
            },
            og: function() {
                return v
            },
            qx: function() {
                return E
            },
            sY: function() {
                return h
            },
            yq: function() {
                return w
            }
        });
        var r = n(66741)
          , i = n(68697)
          , o = n(53059)
          , a = n(47414)
          , s = n(80919)
          , l = n(96721)
          , u = n(73913);
        let c = (e, t, n, r) => {
            if (e && !t) {
                let n = u.l.getInstance().getEntityByUniqueId(e);
                t = null == n ? void 0 : n.entity
            }
            t && e && s.ZP.sendEventDelayed(l.mY.clickEntity, {
                mid: e,
                impact: n,
                entity: t,
                inputs: r
            })
        }
          , d = {
            achievements: {},
            showCrafting: !1,
            ui: {
                craftType: "cooking",
                tableTier: 1,
                selectedCraftable: void 0
            }
        }
          , f = (0,
        r.oM)({
            name: "craftingSlice",
            initialState: d,
            reducers: {
                selectCraftable: (e, t) => {
                    e.ui = {
                        ...e.ui,
                        selectedCraftable: t.payload.id
                    }
                }
                ,
                closeCraftingDialog: e => {
                    e.showCrafting && c(e.ui.table_mid, e.ui.table_entity, "uiclose"),
                    e.showCrafting = !1
                }
                ,
                showCraftingWindow: (e, t) => {
                    let {craftType: n, source: r, achievement: i, state: o, quantity: a, finish: s, tableTier: l} = t.payload
                      , u = null == o ? void 0 : o.startsWith("update:");
                    (!u || e.showCrafting && e.ui.table_mid === r) && (e.showCrafting && e.ui.table_mid && e.ui.table_entity && e.ui.craftType !== n && c(e.ui.table_mid, e.ui.table_entity, "uiclose"),
                    i ? e.ui.selectedCraftable = i : r !== e.ui.table_mid && (e.ui.selectedCraftable = void 0),
                    e.ui.craftType = n,
                    e.ui.tableTier = l,
                    e.ui.table_mid = r,
                    e.ui.quantity = a,
                    e.ui.completionTime = s,
                    e.ui.entityState = u ? o.substring(7) : o,
                    e.ui.updated = Date.now(),
                    e.showCrafting = !0)
                }
            },
            extraReducers: e => {
                e.addCase("game/ROOM_LEAVE", e => {
                    e.achievements = {},
                    e.showCrafting = !1,
                    e.ui = {
                        ...d.ui
                    }
                }
                ),
                e.addCase("game/PLAYER_ACHIEVEMENT_ADD", (e, t) => {
                    e.achievements[t.payload.achievement.achievementId] = t.payload.achievement
                }
                ),
                e.addCase("game/PLAYER_ACHIEVEMENT_CHANGED", (e, t) => {
                    e.achievements[t.payload.achievement.achievementId] = t.payload.achievement
                }
                ),
                e.addCase("game/PLAYER_ACHIEVEMENT_REMOVED", (e, t) => {
                    delete e.achievements[t.payload.achievement.achievementId]
                }
                ),
                e.addCase("game/SERVER_BUILD_NODE", (e, t) => {
                    if (e.ui.table_mid && "entity" === t.payload.type && "remove" === t.payload.action) {
                        let n = t.payload._id
                          , r = u.l.getInstance().getEntityByUniqueId(e.ui.table_mid);
                        (e.ui.table_mid === n || (null == r ? void 0 : r.mapEntity_id) === n) && (e.showCrafting = !1)
                    }
                }
                )
            }
        })
          , {selectCraftable: h, closeCraftingDialog: p, showCraftingWindow: g} = f.actions;
        t.ZP = f.reducer;
        let m = e => e.crafting.showCrafting
          , v = e => Object.values(e.crafting.achievements)
          , y = e => e.crafting.ui
          , b = e => e.crafting.ui.selectedCraftable ? e.crafting.achievements[e.crafting.ui.selectedCraftable] || {
            achievementId: e.crafting.ui.selectedCraftable
        } : null
          , E = e => e.crafting.ui.entityState
          , _ = (0,
        i.P1)([b, a.RQ, E], (e, t, n) => r => {
            if (!e || "busy" === n)
                return !1;
            let i = o.Z.getGameAchievement(e.achievementId);
            return !!i && !!i.craftable && i.craftable.requiredItems.every(e => t(e.id) >= e.quantity * r)
        }
        )
          , w = (0,
        i.P1)([b, a.xK], (e, t) => n => {
            let r = Object.values(t.slots);
            if (e) {
                var i;
                let t = o.Z.getGameAchievement(e.achievementId);
                if (!t)
                    return !1;
                if (null === (i = t.craftable) || void 0 === i ? void 0 : i.requiredItems.some(e => r.filter(t => t.item === e.id).some(t => t.quantity === e.quantity)))
                    return !0
            }
            if (t.size > r.length)
                return !0;
            let a = o.Z.getGameItem(n);
            if (!a)
                return !1;
            let s = r.filter(e => e.item === n).reduce( (e, t) => e + t.quantity, 0);
            return !!s && (!a.inventory.maxQuantity || a.inventory.maxQuantity - s % a.inventory.maxQuantity > 0)
        }
        )
          , O = e => {
            let t = b(e);
            if (!t)
                return [];
            let n = o.Z.getGameAchievement(t.achievementId);
            return n && n.craftable ? n.craftable.requiredItems.filter(t => t.unconsumable && t.quantity > (0,
            a.RQ)(e)(t.id)) : []
        }
          , A = e => e.crafting.ui.craftType
          , S = e => {
            var t;
            return !!((null === (t = e.crafting.ui) || void 0 === t ? void 0 : t.entityState) && ["crafting", "ready"].includes(e.crafting.ui.entityState))
        }
    },
    25925: function(e, t, n) {
        "use strict";
        n.d(t, {
            b: function() {
                return o
            }
        });
        var r = n(66741)
          , i = n(73913);
        let o = (0,
        r.hg)("game/fetchWorlds", async () => i.l.getInstance().worldService.fetchWorldData())
    },
    74800: function(e, t, n) {
        "use strict";
        n.d(t, {
            $J: function() {
                return N
            },
            E3: function() {
                return G
            },
            Fd: function() {
                return w
            },
            GP: function() {
                return S
            },
            Hi: function() {
                return E
            },
            Mr: function() {
                return C
            },
            Nb: function() {
                return A
            },
            Rp: function() {
                return D
            },
            Sm: function() {
                return k
            },
            XK: function() {
                return Y
            },
            dM: function() {
                return R
            },
            dd: function() {
                return z
            },
            eW: function() {
                return L
            },
            iJ: function() {
                return U
            },
            io: function() {
                return x
            },
            lW: function() {
                return $
            },
            ni: function() {
                return T
            },
            nl: function() {
                return O
            },
            ol: function() {
                return P
            },
            po: function() {
                return M
            },
            r$: function() {
                return q
            },
            tD: function() {
                return _
            },
            uy: function() {
                return I
            },
            zR: function() {
                return j
            }
        });
        var r, i, o = n(66741), a = n(25925), s = n(35466), l = n(60922), u = n(80919), c = n(75268), d = n(53059), f = n(36609), h = n(4602);
        let p = {
            loading: !0,
            warping: !1,
            connected: !1,
            needNfts: !1,
            worlds: {
                total: 0,
                maxPlayersPerWorld: 0,
                worlds: []
            },
            room: {
                levels: {}
            },
            gameLibraryLoaded: !1,
            player: {
                core: {
                    mid: "butch",
                    isGuest: !0,
                    position: {
                        x: 3e3,
                        y: 3e3
                    },
                    velocity: {
                        x: 0,
                        y: 0
                    },
                    username: "",
                    currentAvatar: {
                        id: "",
                        pieces: ""
                    },
                    typingTimestamp: 0
                },
                full: {
                    playerAvatar: {
                        id: "",
                        pieces: ""
                    },
                    createdAt: 0,
                    cryptoWallets: [],
                    inventory: {
                        size: 0,
                        slots: {},
                        activeRow: 0
                    },
                    energy: {
                        level: 90
                    },
                    levels: {
                        farming: {
                            level: 0,
                            exp: 1,
                            totalExp: 1
                        }
                    },
                    avatar: {
                        display: {
                            body: {
                                species: "human",
                                type: "body",
                                color: "light",
                                gender: "female"
                            },
                            eyes: {
                                species: "human",
                                eyes: "simple"
                            },
                            outfit: {
                                type: "outfit",
                                species: "human",
                                style: "semicasual"
                            },
                            mouth: {
                                species: "human",
                                mouth: "smile"
                            },
                            hair: {
                                style: "elf",
                                color: "black",
                                type: "hair",
                                species: "human"
                            }
                        }
                    },
                    nft: "",
                    animation: "walk",
                    quests: {},
                    bookmarks: {
                        size: 3,
                        baseSize: 3,
                        bookmarkedMaps: []
                    },
                    messages: 0
                }
            },
            urlDisclaimer: {
                isActive: !1
            },
            lookAtText: {
                isActive: !1,
                x: 0,
                y: 0,
                text: ""
            },
            farmPicker: {
                isActive: !1
            },
            currentModal: "",
            npc_dialog: {
                isActive: !1,
                character: "ent_npcMayor",
                currentMessageIndex: 0,
                messages: [],
                queue: []
            },
            playersOnline: {
                isVisible: !1,
                updated: 0
            },
            playerOnlineInfo: {
                isVisible: !1,
                mid: "",
                username: ""
            },
            soundState: {
                global: {
                    mute: "1" === (0,
                    s.Ul)("global_mute"),
                    volume: parseFloat(null !== (r = (0,
                    s.Ul)("global_volume")) && void 0 !== r ? r : "1")
                },
                music: {
                    mute: "1" === (0,
                    s.Ul)("music_mute"),
                    volume: parseFloat(null !== (i = (0,
                    s.Ul)("music_volume")) && void 0 !== i ? i : "1")
                }
            },
            enhancedState: {
                enabled: "1" === (0,
                s.Ul)("enhanced_enabled")
            },
            joystickState: {
                enabled: "0" === (0,
                s.Ul)("joystick_disabled")
            },
            criticalMessage: {
                isActive: !1,
                text: "Reconnecting to Server..."
            },
            nftPicker: {
                isVisible: !1
            },
            petPicker: {
                isVisible: !1,
                mode: "hatched"
            },
            realmrefresh: !1,
            petDetails: {
                isVisible: !1
            },
            socialSettings: {
                isVisible: !1
            },
            questLog: {
                isVisible: !1
            },
            showSkills: !1,
            showSettings: !1,
            farmDetails: {
                isActive: !1,
                mapId: (0,
                l.lf)()
            },
            sidePanel: {
                isActive: !1
            },
            farmUpgradePanel: {
                isActive: !1
            }
        }
          , g = (e, t) => {
            var n;
            let {key: r, level: i} = t.payload;
            (null === (n = e.player) || void 0 === n ? void 0 : n.full) && (e.player.full.levels || (e.player.full.levels = {}),
            r && i && (e.player.full.levels[r] = i))
        }
          , m = (e, t) => {
            let {key: n, level: r} = t.payload;
            e.room && e.room.levels && (e.room.levels[n] = r)
        }
          , v = (e, t) => {
            var n, r, i;
            if (e.npc_dialog.queue.length > 0) {
                let n = e.npc_dialog.queue[e.npc_dialog.queue.length - 1];
                if (t.npcId === n.npcId && t.event === n.event && t.mid === n.event && t.pet === n.pet && (null === (r = t.messages) || void 0 === r ? void 0 : r.length) === (null === (i = n.messages) || void 0 === i ? void 0 : i.length) && t.messages.every( (e, t) => n.messages[t] === e))
                    return !1
            }
            if (t.pet && (e.npc_dialog.isActive && e.npc_dialog.pet || e.npc_dialog.queue.some(e => {
                var n, r;
                return e.pet && (null === (n = e.messages) || void 0 === n ? void 0 : n.length) === (null === (r = t.messages) || void 0 === r ? void 0 : r.length) && e.messages.every( (e, n) => e === t.messages[n])
            }
            )))
                return;
            let o = null === (n = t.messages) || void 0 === n ? void 0 : n.some(e => !e.includes(" ") && !!e.includes("_") && "" === (f.ZP.t(e, {
                ns: "quest",
                defaultValue: ""
            }) || f.ZP.t(e, {
                ns: "game",
                defaultValue: ""
            })));
            return e.npc_dialog.queue.push(t),
            o
        }
          , y = e => {
            if (e.npc_dialog.queue.length > 0) {
                let t = e.npc_dialog.queue[0];
                e.npc_dialog.isActive = !0,
                e.npc_dialog.currentMessageIndex = 0,
                e.npc_dialog.character = t.npcId,
                e.npc_dialog.pet = t.pet,
                e.npc_dialog.messages = t.messages,
                e.npc_dialog.event = t.event,
                e.npc_dialog.queue = e.npc_dialog.queue.slice(1)
            } else
                e.npc_dialog.isActive = !1,
                e.npc_dialog.currentMessageIndex = 0,
                e.npc_dialog.character = void 0,
                e.npc_dialog.pet = void 0,
                e.npc_dialog.messages = []
        }
          , b = (0,
        o.oM)({
            name: "game",
            initialState: p,
            reducers: {
                mapSelected: (e, t) => {
                    e.room.mapId = t.payload.mapId,
                    e.room.lastSavedAt = t.payload.lastSavedAt
                }
                ,
                dialogNext: e => {
                    let {messages: t} = e.npc_dialog
                      , {currentMessageIndex: n} = e.npc_dialog;
                    n += 1,
                    t && n < t.length ? e.npc_dialog.currentMessageIndex = n : y(e)
                }
                ,
                dialogBack: e => {
                    e.npc_dialog.currentMessageIndex = Math.max(e.npc_dialog.currentMessageIndex - 1, 0)
                }
                ,
                togglePlayersOnline: e => {
                    e.playersOnline.isVisible = !e.playersOnline.isVisible
                }
                ,
                setPlayerOnlineInfo: (e, t) => {
                    e.playerOnlineInfo = {
                        isVisible: !0,
                        ...t.payload
                    }
                }
                ,
                unsetPlayerOnlineInfo: e => {
                    e.playerOnlineInfo = {
                        isVisible: !1,
                        mid: "",
                        username: ""
                    }
                }
                ,
                toggleQuestLog: e => {
                    e.questLog.isVisible = !e.questLog.isVisible
                }
                ,
                toggleSkills: e => {
                    e.showSkills = !e.showSkills
                }
                ,
                setWorld: (e, t) => {
                    e.room.worldId = t.payload.worldId,
                    e.room.mapId = t.payload.mapId,
                    e.criticalMessage.text = "Loading...",
                    e.criticalMessage.isActive = !0
                }
                ,
                dismissURLDisclaimer: e => {
                    e.urlDisclaimer.isActive = !1
                }
                ,
                logOut: e => {
                    e.loading = !0,
                    e.connected = !1,
                    e.needNfts = !1,
                    e.lookAtText.isActive = !1,
                    e.room.worldId = void 0,
                    e.room.mapId = void 0,
                    e.room.lastSavedAt = void 0,
                    e.npc_dialog.isActive = !1,
                    e.sidePanel.isActive = !1,
                    e.farmUpgradePanel.isActive = !1,
                    e.questLog.isVisible = !1,
                    e.criticalMessage.isActive = !1
                }
                ,
                updateLookAt: (e, t) => {
                    let {mouse: n, text: r, style: i} = t.payload;
                    e.lookAtText = {
                        isActive: !0,
                        text: r,
                        x: Math.round(n.x),
                        y: Math.round(n.y),
                        style: i
                    }
                }
                ,
                roomWarpBegan: (e, t) => {
                    var n;
                    (null === (n = t.payload) || void 0 === n ? void 0 : n.abort) ? e.warping = !1 : e.warping = !0
                }
                ,
                roomWarpLoading: (e, t) => {
                    e.room.mapId = t.payload.mapId,
                    e.loading = !0
                }
                ,
                closeModal: e => {
                    e.currentModal = ""
                }
                ,
                toggleModal: (e, t) => {
                    let n = t.payload.dialog;
                    n === e.currentModal ? e.currentModal = "" : (e.currentModal = n,
                    "nftpicker" === n && (e.needNfts = !0))
                }
                ,
                openPetPicker: (e, t) => {
                    var n, r, i, o;
                    (null === (n = e.player) || void 0 === n ? void 0 : n.core.isGuest) || (e.needNfts = !0,
                    e.petPicker.mode = null !== (o = null === (r = t.payload) || void 0 === r ? void 0 : r.mode) && void 0 !== o ? o : "hatched",
                    e.petPicker.isVisible = !0,
                    e.petPicker.entity = null === (i = t.payload) || void 0 === i ? void 0 : i.entity,
                    e.currentModal = "",
                    e.questLog.isVisible = !1,
                    e.petDetails.isVisible = !1,
                    e.farmDetails.isActive = !1)
                }
                ,
                closePetPicker: e => {
                    e.petPicker.isVisible = !1
                }
                ,
                mintedPet: e => {
                    e.petPicker.refresh = Date.now() + 6e5
                }
                ,
                togglePetDetails: (e, t) => {
                    var n;
                    (null === (n = t.payload) || void 0 === n ? void 0 : n.petId) ? (e.petDetails.mid = t.payload.petId,
                    e.petDetails.isVisible = !0,
                    e.petDetails.firstReveal = !0,
                    e.petPicker.refresh = Date.now()) : (e.petDetails.mid = void 0,
                    e.petDetails.isVisible = !e.petDetails.isVisible,
                    e.petDetails.firstReveal = !1)
                }
                ,
                toggleSidePanel: e => {
                    e.sidePanel.isActive = !e.sidePanel.isActive
                }
                ,
                activateSidePanel: e => {
                    e.sidePanel.isActive = !0
                }
                ,
                activateFarmUpgradePanel: e => {
                    e.farmUpgradePanel.isActive = !0
                }
                ,
                deactivateFarmUpgradePanel: e => {
                    e.farmUpgradePanel.isActive = !1
                }
                ,
                updateTemplateName: (e, t) => {
                    e.room.templateName = t.payload.newTemplate
                }
                ,
                openSettings: e => {
                    e.showSettings = !0
                }
                ,
                closeSettings: e => {
                    e.showSettings = !1
                }
                ,
                clearRealmRefresh: e => {
                    e.realmrefresh = !1
                }
            },
            extraReducers: e => {
                e.addCase("game/ROOM_LEAVE", e => {
                    e.playerOnlineInfo.isVisible = !1,
                    e.lookAtText.isActive = !1,
                    e.npc_dialog.isActive = !1,
                    e.sidePanel.isActive = !1,
                    e.farmUpgradePanel.isActive = !1,
                    e.showSkills = !1,
                    e.questLog.isVisible = !1,
                    e.farmDetails.isActive = !1,
                    e.petPicker.isVisible = !1,
                    e.petDetails.isVisible = !1,
                    e.room.levels = {}
                }
                ),
                e.addCase("game/ROOM_LOADED", (e, t) => {
                    e.player = t.payload.player,
                    e.playerOnlineInfo.isVisible = !1,
                    e.lookAtText.isActive = !1,
                    e.room.roomType = t.payload.roomType,
                    e.room.templateName = t.payload.templateName,
                    e.sessionId = t.payload.sessionId,
                    e.criticalMessage.isActive = !1,
                    e.npc_dialog.isActive = !1,
                    e.sidePanel.isActive = !1,
                    e.farmUpgradePanel.isActive = !1,
                    e.showSkills = !1,
                    e.showSettings = !1,
                    e.questLog.isVisible = !1,
                    e.farmDetails.mapId = t.payload.mapId,
                    e.farmDetails.isActive = !1,
                    e.currentModal = "",
                    e.petPicker.isVisible = !1,
                    e.petDetails.isVisible = !1
                }
                ),
                e.addCase("game/PLAYER_AVATAR", (e, t) => {
                    if (t.payload.success)
                        switch (e.currentModal) {
                        case "avatar":
                        case "nftpicker":
                        case "social":
                        case "username":
                            e.currentModal = ""
                        }
                }
                ),
                e.addCase("game/ROOM_WARP", e => {
                    e.lookAtText.isActive = !1,
                    e.npc_dialog.isActive = !1,
                    e.sidePanel.isActive = !1,
                    e.farmUpgradePanel.isActive = !1,
                    e.showSkills = !1,
                    e.showSettings = !1,
                    e.questLog.isVisible = !1,
                    e.farmDetails.isActive = !1,
                    e.needNfts = !1,
                    e.room.lastSavedAt = void 0
                }
                ),
                e.addCase("game/SLOW_LOAD", (e, t) => {
                    var n;
                    (null === (n = t.payload) || void 0 === n ? void 0 : n.retry) ? (t.payload.retry <= 2 ? e.criticalMessage.text = "Retrying Connection" : e.criticalMessage.text = "Retrying Connection x".concat(t.payload.retry - 1),
                    e.criticalMessage.isActive = !0) : e.criticalMessage.isActive || (e.criticalMessage.text = "Still Loading...",
                    e.criticalMessage.isActive = !0)
                }
                ),
                e.addCase("game/GAME_INITIATED", e => {
                    e.loading = !1,
                    e.warping = !1,
                    e.connected = !0,
                    e.criticalMessage.isActive = !1,
                    e.room.lastSavedAt = void 0
                }
                ),
                e.addCase("game/PLAYER_JOINED", e => {
                    e.playersOnline.updated += 1
                }
                ),
                e.addCase("game/PLAYER_REMOVED", e => {
                    e.playersOnline.updated += 1
                }
                ),
                u.rV.soundControl.addReduxCase(e, (e, t) => {
                    let {payload: {soundControlKey: n, mute: r, volume: i}} = t;
                    void 0 !== r && (e.soundState[n].mute = r,
                    (0,
                    s.Ul)("".concat(n, "_mute"), r ? "1" : "0")),
                    void 0 !== i && (i = Math.min(Math.max(i, 0), 1),
                    e.soundState[n].volume = i,
                    (0,
                    s.Ul)("".concat(n, "_volume"), i.toString()))
                }
                ),
                u.rV.enhancedControl.addReduxCase(e, (e, t) => {
                    let {payload: {enabled: n}} = t;
                    void 0 !== n && (e.enhancedState.enabled = n,
                    (0,
                    s.Ul)("enhanced_enabled", n ? "1" : "0"),
                    setTimeout( () => {
                        window.location.reload()
                    }
                    , 2e3))
                }
                ),
                u.rV.joystickControl.addReduxCase(e, (e, t) => {
                    let {payload: {enabled: n}} = t;
                    void 0 !== n && (e.joystickState.enabled = n,
                    (0,
                    s.Ul)("joystick_disabled", n ? "0" : "1"))
                }
                ),
                e.addCase("game/LINK_OPEN", (e, t) => {
                    let {link: n, msgKey: r} = t.payload;
                    r || (0,
                    s.fI)(n) ? (e.urlDisclaimer.isActive = !0,
                    e.urlDisclaimer.URL = n,
                    e.urlDisclaimer.msgKey = r) : (0,
                    s.T1)(n) ? window.location.href = n : window.open(n, "_blank")
                }
                ),
                e.addCase("game/GAME_OBJECT_MOUSEOVER", (e, t) => {
                    let {mouse: n, text: r, style: i} = t.payload;
                    e.lookAtText = {
                        isActive: !!r,
                        text: r,
                        x: Math.round(n.x),
                        y: Math.round(n.y),
                        style: i
                    }
                }
                ),
                e.addCase("game/GAME_OBJECT_MOUSEOUT", e => {
                    e.lookAtText = {
                        ...e.lookAtText,
                        isActive: !1
                    }
                }
                ),
                e.addCase("game/LIBRARY", (e, t) => {
                    var n;
                    e.gameLibraryLoaded = !!t.payload,
                    (null === (n = d.Z.getTenants()) || void 0 === n ? void 0 : n[(0,
                    l.F5)()]) || (e.criticalMessage.text = "Unknown Realm...You could be waiting a long time.",
                    e.criticalMessage.isActive = !0,
                    e.gameLibraryLoaded = !1)
                }
                ),
                u.rV.inventory.serverStateChange.addReduxCase(e, (e, t) => {
                    var n;
                    let {inventory: r} = t.payload;
                    r && (null === (n = e.player) || void 0 === n ? void 0 : n.full.inventory) && (e.player.full.inventory = r)
                }
                ),
                u.rV.wardrobe.serverStateChange.addReduxCase(e, (e, t) => {
                    e.player && (e.player.full.wardrobe = t.payload.wardrobe)
                }
                ),
                e.addCase("game/PLAYER_COIN_INVENTORY_CHANGE", (e, t) => {
                    var n;
                    let {coinInventory: r} = t.payload;
                    r && (null === (n = e.player) || void 0 === n ? void 0 : n.full.coinInventory) && (e.player.full.coinInventory = r)
                }
                ),
                e.addCase("game/PLAYER_QUESTPROGRESS_ADDED", (e, t) => {
                    var n;
                    let {quests: r} = t.payload;
                    r && (null === (n = e.player) || void 0 === n ? void 0 : n.full.quests) && (e.player.full.quests = r)
                }
                ),
                e.addCase("game/PLAYER_LEVEL_ADD", g),
                e.addCase("game/PLAYER_LEVEL_CHANGE", g),
                e.addCase("game/SVR_CANNOTCONNECT", (e, t) => {
                    var n, r;
                    e.loading = !0,
                    e.connected = !1,
                    e.lookAtText.isActive = !1,
                    e.room.worldId = void 0,
                    e.room.mapId = void 0,
                    e.room.lastSavedAt = void 0,
                    e.criticalMessage.text = null === (n = t.payload) || void 0 === n ? void 0 : n.message,
                    (null === (r = t.payload) || void 0 === r ? void 0 : r.message) && (e.criticalMessage.isActive = !0)
                }
                ),
                e.addCase("game/NPC_SPEAKS", (e, t) => {
                    let n = t.payload;
                    "function" != typeof n.forEach && (n = [n]),
                    n.reduce( (t, n) => v(e, n) || t, !1) && (0,
                    h.W)(!0),
                    e.npc_dialog.isActive || y(e)
                }
                ),
                e.addCase("game/PLAYER_ENERGY_CHANGE", (e, t) => {
                    var n;
                    let {energy: r} = t.payload;
                    r && (null === (n = e.player) || void 0 === n ? void 0 : n.full.energy) && (e.player.full.energy = r)
                }
                ),
                e.addCase(a.b.fulfilled, (e, t) => {
                    e.worlds = t.payload
                }
                ),
                e.addCase("game/PRESENT_FARM_DETAILS", e => {
                    e.farmDetails.isActive = !0
                }
                ),
                e.addCase("game/DISMISS_FARM_DETAILS", e => {
                    e.farmDetails.isActive = !1
                }
                ),
                e.addCase("game/PLAYER_EXP_CHANGE", (e, t) => {
                    e.player && (e.player.full.levels = {
                        ...t.payload.levels
                    })
                }
                ),
                e.addCase("game/PLAYER_MEMBERSHIPS_CHANGE", (e, t) => {
                    e.player && (e.player.core.memberships = t.payload.memberships)
                }
                ),
                e.addCase("game/ROOM_LEVEL_ADD", m),
                e.addCase("game/ROOM_LEVEL_CHANGED", m),
                e.addCase("game/BOOKMARK_MAP", (e, t) => {
                    var n;
                    let {mapId: r, bookmark: i, environ: o} = t.payload
                      , a = null === (n = e.player) || void 0 === n ? void 0 : n.full.bookmarks;
                    a && (a.bookmarkedMaps || (a.bookmarkedMaps = []),
                    i && r ? a.bookmarkedMaps.push({
                        mapId: r,
                        environ: o
                    }) : !i && r && (a.bookmarkedMaps = a.bookmarkedMaps.filter(e => {
                        var t;
                        return (null !== (t = null == e ? void 0 : e.mapId) && void 0 !== t ? t : e) !== r
                    }
                    )))
                }
                ),
                e.addCase("game/".concat(u.fb.SET_TOS_ACCEPTED), e => {
                    e.player && (e.player.full.tosVersion = c.sV)
                }
                ),
                e.addCase("game/".concat(u.fb.PLAYER_PET_CHANGE), (e, t) => {
                    if (e.player) {
                        var n, r, i, o;
                        ((null === (n = e.player.full.pet) || void 0 === n ? void 0 : n.tokenId) !== (null === (r = t.payload.full.pet) || void 0 === r ? void 0 : r.tokenId) || (null === (i = e.player.full.pet) || void 0 === i ? void 0 : i.avatar.id) !== (null === (o = t.payload.full.pet) || void 0 === o ? void 0 : o.avatar.id)) && (e.petDetails.isVisible = !1),
                        e.player.core.petAvatar = t.payload.core.petAvatar,
                        e.player.full.pet = t.payload.full.pet
                    }
                }
                ),
                e.addCase("game/".concat(u.fb.CLIENT_CMD), (e, t) => {
                    let n = t.payload;
                    "petmint" === n.detail ? e.petPicker.refresh = Date.now() + 9e5 : "realmmint" === n.detail && (e.realmrefresh = !0)
                }
                )
            }
        })
          , {mapSelected: E, roomWarpBegan: _, roomWarpLoading: w, dialogNext: O, dialogBack: A, togglePlayersOnline: S, setPlayerOnlineInfo: P, unsetPlayerOnlineInfo: R, setWorld: I, logOut: T, updateLookAt: x, dismissURLDisclaimer: k, toggleModal: N, closeModal: C, toggleQuestLog: L, toggleSkills: M, toggleSidePanel: D, togglePetDetails: j, closePetPicker: U, openPetPicker: $, activateSidePanel: V, activateFarmUpgradePanel: B, deactivateFarmUpgradePanel: F, openSettings: q, closeSettings: G, clearRealmRefresh: z, updateTemplateName: Y} = b.actions;
        t.ZP = b.reducer
    },
    60943: function(e, t, n) {
        "use strict";
        n.d(t, {
            $Z: function() {
                return g
            },
            B6: function() {
                return l
            },
            NS: function() {
                return u
            },
            aq: function() {
                return p
            },
            hO: function() {
                return m
            },
            me: function() {
                return f
            },
            oi: function() {
                return v
            },
            pc: function() {
                return c
            },
            xM: function() {
                return s
            }
        });
        var r = n(66741)
          , i = n(80919)
          , o = n(73913);
        let a = (0,
        r.oM)({
            name: "storage",
            initialState: {
                openStorage: {
                    isOpen: !1,
                    updated: 0
                },
                selectedEquipment: -1,
                selectedQty: 0,
                activeRow: 0
            },
            reducers: {
                closeStorage: e => {
                    e.openStorage.isOpen = !1
                }
                ,
                setActiveRow: (e, t) => {
                    let {payload: n} = t;
                    e.activeRow = n,
                    i.rV.inventory.changeActiveRow.emit({
                        activeRow: n
                    })
                }
                ,
                selectEquipment: (e, t) => {
                    var n, r, i, o, a;
                    e.selectedEquipment = null !== (o = null === (n = t.payload.slot) || void 0 === n ? void 0 : n.slot) && void 0 !== o ? o : -1,
                    e.storageMid = t.payload.mid,
                    e.selectedItem = t.payload.item,
                    e.selectedSlot = t.payload.slot,
                    e.selectedQty = null !== (a = null === (r = t.payload.slot) || void 0 === r ? void 0 : r.quantity) && void 0 !== a ? a : 0,
                    (null === (i = e.selectedItem) || void 0 === i ? void 0 : i.id) === e.highlightedItem && (e.highlightedItem = void 0)
                }
                ,
                resetEquipment: e => {
                    i.ZP.emitEventNow(i.qM.RELEASE_FROM_CURSOR),
                    e.selectedEquipment = -1,
                    e.storageMid = void 0,
                    e.selectedItem = void 0,
                    e.selectedSlot = void 0,
                    e.placeable = void 0
                }
                ,
                closeInventoryWindow: e => {
                    e.openStorage.isOpen = !1
                }
                ,
                toggleInventoryWindow: e => {
                    e.openStorage.isOpen && !e.openStorage.mid ? e.openStorage.isOpen = !1 : e.openStorage = {
                        isOpen: !0,
                        mid: void 0,
                        updated: 0
                    }
                }
                ,
                moveEquipmentSlot: (e, t) => {}
            },
            extraReducers: e => {
                e.addCase("game/ROOM_LOADED", (e, t) => {
                    var n, r, i, o, a, s;
                    e.selectedEquipment = -1,
                    e.storageMid = void 0,
                    e.selectedItem = void 0,
                    e.selectedSlot = void 0,
                    (null === (i = t.payload.player) || void 0 === i ? void 0 : null === (r = i.full) || void 0 === r ? void 0 : null === (n = r.inventory) || void 0 === n ? void 0 : n.activeRow) >= 0 && (e.activeRow = null === (s = t.payload.player) || void 0 === s ? void 0 : null === (a = s.full) || void 0 === a ? void 0 : null === (o = a.inventory) || void 0 === o ? void 0 : o.activeRow),
                    e.openStorage = {
                        isOpen: !1,
                        updated: 0
                    }
                }
                ),
                e.addCase("game/".concat(i.fb.PLAYER_PET_CHANGE), e => {
                    e.openStorage = {
                        isOpen: !1,
                        updated: 0
                    }
                }
                ),
                e.addCase("game/PLAYER_OPEN_STORAGE", (e, t) => {
                    let n = t.payload.storageId;
                    n ? e.openStorage = {
                        isOpen: !0,
                        mid: n,
                        updated: 0
                    } : e.openStorage = {
                        isOpen: !1,
                        updated: 0
                    }
                }
                ),
                e.addCase("game/ENTITY_ADD", (e, t) => {
                    let n = t.payload
                      , r = n.mapEntity_id;
                    e.openStorage.mid && r === e.openStorage.mid && (e.openStorage = {
                        isOpen: !0,
                        mid: n.mid,
                        updated: 0
                    })
                }
                ),
                e.addCase("game/ROOM_LEAVE", e => {
                    e.openStorage = {
                        isOpen: !1,
                        updated: 0
                    },
                    e.selectedEquipment = -1,
                    e.selectedItem = void 0,
                    e.selectedSlot = void 0,
                    e.storageMid = void 0,
                    e.highlightedItem = void 0
                }
                ),
                e.addCase("game/ENTITY_UPDATE", (e, t) => {
                    t.payload.mid === e.openStorage.mid && (e.openStorage.updated += 1)
                }
                ),
                e.addCase("game/ENTITY_REMOVE", (e, t) => {
                    t.payload.mid === e.openStorage.mid && (e.openStorage = {
                        isOpen: !1,
                        updated: 0
                    })
                }
                ),
                e.addCase("game/SERVER_BUILD_NODE", (e, t) => {
                    if (e.openStorage.mid && "entity" === t.payload.type && "remove" === t.payload.action) {
                        let n = t.payload._id
                          , r = o.l.getInstance().getEntityByUniqueId(e.openStorage.mid);
                        (e.openStorage.mid === n || (null == r ? void 0 : r.mapEntity_id) === n) && (e.openStorage = {
                            isOpen: !1,
                            updated: 0
                        })
                    }
                }
                ),
                e.addCase("game/".concat(i.fb.CLIENT_CMD), (e, t) => {
                    let n = t.payload;
                    if ("itemhighlight" === n.detail) {
                        var r;
                        e.highlightedItem = (null === (r = n.params) || void 0 === r ? void 0 : r[0]) || void 0
                    }
                }
                ),
                i.rV.inventory.serverStateChange.addReduxCase(e, (e, t) => {
                    let {inventory: n} = t.payload;
                    e.activeRow = n.activeRow,
                    function(e) {
                        let t;
                        if (-1 === e.selectedEquipment)
                            return;
                        let n = o.l.getInstance();
                        if (e.storageMid) {
                            if (e.storageMid === n.mapStorageId)
                                t = n.getMapStorage();
                            else {
                                let o = n.getEntityByUniqueId(e.storageMid);
                                if (null == o ? void 0 : o.storage)
                                    t = o.storage;
                                else {
                                    var r, a;
                                    let o = n.currentPlayer;
                                    if ((null == o ? void 0 : null === (a = o.full) || void 0 === a ? void 0 : null === (r = a.pet) || void 0 === r ? void 0 : r.mid) === e.storageMid)
                                        t = o.full.pet.inventory;
                                    else {
                                        e.selectedEquipment = -1,
                                        e.storageMid = void 0,
                                        e.selectedItem = void 0,
                                        e.selectedSlot = void 0,
                                        e.placeable = void 0,
                                        i.ZP.sendEventDelayed(i.qM.RELEASE_FROM_CURSOR);
                                        return
                                    }
                                }
                            }
                        } else
                            t = n.currentPlayer.full.inventory;
                        if (null == t ? void 0 : t.slots) {
                            let n = Object.values((t = JSON.parse(JSON.stringify(t))).slots).find(t => t.slot === e.selectedEquipment);
                            (null == n ? void 0 : n.quantity) ? (e.selectedQty = n.quantity,
                            e.selectedSlot = n) : (e.selectedEquipment = -1,
                            e.storageMid = void 0,
                            e.selectedItem = void 0,
                            e.selectedSlot = void 0,
                            e.placeable = void 0,
                            i.ZP.sendEventDelayed(i.qM.RELEASE_FROM_CURSOR))
                        }
                    }(e)
                }
                ),
                i.rV.attachToCursor.addReduxCase(e, (e, t) => {
                    var n, r;
                    e.placeable = (null === (n = t.payload) || void 0 === n ? void 0 : n.placing) || (null === (r = t.payload) || void 0 === r ? void 0 : r.moving)
                }
                ),
                e.addCase("game/PLAYER_INVENTORY_NEW", (e, t) => {
                    let {item: n} = t.payload;
                    e.highlightedItem = n
                }
                )
            }
        })
          , s = e => ({
            slot: e.storage.selectedEquipment,
            storage: e.storage.storageMid,
            quantity: e.storage.selectedQty,
            attention: e.storage.highlightedItem,
            invslot: e.storage.selectedSlot,
            placeable: e.storage.placeable
        })
          , l = e => {
            if (e.game.player)
                return e.storage.selectedItem
        }
          , u = e => e.storage.openStorage
          , c = e => e.storage.activeRow
          , {closeStorage: d, closeInventoryWindow: f, toggleInventoryWindow: h, resetEquipment: p, selectEquipment: g, setActiveRow: m, moveEquipmentSlot: v} = a.actions;
        t.ZP = a.reducer
    },
    47414: function(e, t, n) {
        "use strict";
        n.d(t, {
            $b: function() {
                return k
            },
            $v: function() {
                return V
            },
            $x: function() {
                return p
            },
            Ai: function() {
                return Y
            },
            CO: function() {
                return c
            },
            GO: function() {
                return E
            },
            K7: function() {
                return _
            },
            Kx: function() {
                return I
            },
            NY: function() {
                return z
            },
            Nz: function() {
                return g
            },
            O$: function() {
                return s
            },
            Od: function() {
                return $
            },
            PD: function() {
                return y
            },
            QV: function() {
                return C
            },
            Qk: function() {
                return H
            },
            RG: function() {
                return O
            },
            RQ: function() {
                return R
            },
            SP: function() {
                return o
            },
            Sx: function() {
                return S
            },
            TR: function() {
                return N
            },
            U7: function() {
                return j
            },
            V4: function() {
                return M
            },
            VQ: function() {
                return W
            },
            Wj: function() {
                return F
            },
            Xt: function() {
                return B
            },
            _i: function() {
                return d
            },
            b_: function() {
                return x
            },
            cV: function() {
                return G
            },
            ge: function() {
                return P
            },
            gx: function() {
                return U
            },
            h2: function() {
                return Z
            },
            iN: function() {
                return q
            },
            lA: function() {
                return v
            },
            o7: function() {
                return u
            },
            oJ: function() {
                return a
            },
            pB: function() {
                return f
            },
            pR: function() {
                return T
            },
            px: function() {
                return m
            },
            qB: function() {
                return D
            },
            qb: function() {
                return L
            },
            wk: function() {
                return w
            },
            x6: function() {
                return h
            },
            xK: function() {
                return A
            },
            y4: function() {
                return l
            },
            zY: function() {
                return b
            }
        });
        var r = n(68697)
          , i = n(4152);
        let o = e => e.game.gameLibraryLoaded
          , a = e => e.game.npc_dialog.isActive
          , s = e => e.game.playersOnline
          , l = e => e.game.questLog
          , u = e => "nftpicker" === e.game.currentModal
          , c = e => e.game.petPicker
          , d = e => e.game.petDetails
          , f = e => {
            var t;
            let {npc_dialog: n} = e.game;
            return {
                dialogMessage: n.messages && n.currentMessageIndex < n.messages.length ? n.messages[n.currentMessageIndex] : null,
                isLastDialog: (null === (t = n.messages) || void 0 === t ? void 0 : t.length) && n.currentMessageIndex === n.messages.length - 1,
                isFirstDialog: 0 === n.currentMessageIndex
            }
        }
          , h = e => {
            var t;
            return e.game.npc_dialog.isActive || e.game.currentModal || e.game.questLog.isVisible || e.game.petPicker.isVisible || (null === (t = e.game.urlDisclaimer) || void 0 === t ? void 0 : t.isActive) && e.game.urlDisclaimer.URL || e.ui.confirmDialog.isVisible || e.game.petDetails.isVisible && e.game.petDetails.firstReveal || e.generalStore.isOpen || e.ui.imageDialog.isVisible && !e.ui.imageDialog.modeless || "none" !== e.marketplace.mode
        }
          , p = e => e.game.lookAtText
          , g = e => e.game.npc_dialog
          , m = e => e.game.criticalMessage
          , v = e => e.game.player
          , y = e => {
            var t;
            let n = null === (t = e.game.player) || void 0 === t ? void 0 : t.full.bookmarks;
            return (null == n ? void 0 : n.bookmarkedMaps) || []
        }
          , b = e => {
            var t, n;
            return (null === (n = e.game.player) || void 0 === n ? void 0 : null === (t = n.full.bookmarks) || void 0 === t ? void 0 : t.size) || i.DEFAULT_BOOKMARKS
        }
          , E = e => e.game.loading || !e.auth.authenticated
          , _ = e => e.game.warping
          , w = e => e.game.needNfts
          , O = e => !!e.game.connected && e.game.sessionId
          , A = e => {
            var t;
            return null === (t = e.game.player) || void 0 === t ? void 0 : t.full.inventory
        }
          , S = e => {
            var t;
            return null === (t = e.game.player) || void 0 === t ? void 0 : t.full.wardrobe
        }
          , P = e => {
            var t;
            let n = new Date
              , r = e.game.player
              , i = (null == r ? void 0 : r.core.memberships) && (null === (t = r.core.memberships.vip) || void 0 === t ? void 0 : t.expiration) ? new Date(r.core.memberships.vip.expiration) : null;
            return !!i && n < i
        }
          , R = (0,
        r.P1)([A], e => t => {
            if (!e || !e || !e.slots || 0 === Object.keys(e.slots).length)
                return 0;
            let n = Object.values(e.slots).filter(e => e.item === t);
            return n.length ? n.reduce( (e, t) => e + t.quantity, 0) : 0
        }
        )
          , I = e => e.game.soundState
          , T = e => e.game.enhancedState
          , x = e => e.game.joystickState
          , k = e => e.game.playersOnline.updated
          , N = e => e.game.playerOnlineInfo
          , C = e => e.game.currentModal
          , L = e => t => {
            var n;
            return (null === (n = e.game.player) || void 0 === n ? void 0 : n.full.levels)[t]
        }
          , M = e => t => e.game.room.levels[t]
          , D = e => e.auth.authenticated && e.auth.username && e.auth.playerAvatar && !e.game.room.worldId
          , j = e => !e.game.room.worldId
          , U = e => e.game.worlds
          , $ = e => e.game.room.mapId
          , V = e => e.game.room.roomType
          , B = e => e.game.room.worldId
          , F = e => e.game.room.templateName
          , q = e => e.game.urlDisclaimer
          , G = e => e.game.showSkills
          , z = e => e.game.showSettings
          , Y = (0,
        r.P1)([e => e.game.farmDetails, e => e.mapEditor.roomSettings], (e, t) => ({
            ...e,
            farmName: t.name,
            ownership: t.ownership,
            ethAddress: t.ownerAddress,
            guild: t.guild,
            labels: t.labels
        }))
          , H = e => e.game.sidePanel.isActive
          , Z = e => e.game.farmUpgradePanel.isActive
          , W = e => e.game.realmrefresh
    },
    72936: function(e, t, n) {
        "use strict";
        n.d(t, {
            tz: function() {
                return c
            },
            w2: function() {
                return d
            },
            wt: function() {
                return f
            }
        });
        var r = n(66741)
          , i = n(4602)
          , o = n(80919);
        function a(e) {
            let t = Date.now()
              , n = (e = e.filter(e => "sys" !== e.creator_id || t - e.createdAt < 3e4)).length - 1500;
            return n > 0 && (e = e.slice(n)),
            e
        }
        function s(e) {
            return "pixels-bot" === e.creator_id && e.message.startsWith("/COMMAND ")
        }
        function l(e) {
            if ("pixels-bot" === e.creator_id) {
                if (Date.now() - e.createdAt > 12e5)
                    return;
                let t = e.message.substring(9);
                if (!t.startsWith("{"))
                    return o.ZP.sendEventDelayed(o.fb.SERVICE_COMMAND, {
                        command: "Notice",
                        message: t,
                        allowClose: !0,
                        allowReload: !0
                    }),
                    {
                        ...e,
                        message: t
                    };
                try {
                    let n = JSON.parse(t);
                    if (n.duration && Date.now() - e.createdAt > n.duration)
                        return;
                    if (o.ZP.sendEventDelayed(o.fb.SERVICE_COMMAND, n),
                    "notice" === n.command && n.message)
                        return {
                            ...e,
                            message: n.message
                        }
                } catch (e) {
                    console.log("invalid command", t, e)
                }
            }
        }
        let u = (0,
        r.oM)({
            name: "chatSlice",
            initialState: {
                isVisible: !1,
                openedNow: !1,
                newMessage: !1,
                chatEnabled: !0,
                messages: [{
                    createdAt: 0,
                    creator_id: "",
                    message: "Welcome To Pixels.",
                    creatorName: "Pixels Bot"
                }]
            },
            reducers: {
                closeChat: e => {
                    e.isVisible = !1
                }
                ,
                toggleChat: e => {
                    e.isVisible ? (e.isVisible = !1,
                    e.openedNow = !1) : (e.isVisible = !0,
                    e.openedNow = !0,
                    e.newMessage = !1)
                }
            },
            extraReducers: e => {
                e.addCase("game/roomWarpBegan", e => {
                    e.openedNow = !1
                }
                ),
                e.addCase("game/ROOM_LOADED", (e, t) => {
                    e.messages = [{
                        createdAt: 0,
                        creator_id: "sys",
                        message: i.Z.t("chat.welcome", "Welcome To Pixels."),
                        creatorName: ""
                    }],
                    e.openedNow = !1,
                    t.payload.messages && t.payload.messages.filter(e => !s(e) || (l(e),
                    !1)).forEach(t => e.messages.push(t)),
                    e.chatEnabled = "private" !== t.payload.roomType && "tutorial" !== t.payload.roomType
                }
                ),
                e.addCase("game/PLAYER_REMOVED", (e, t) => {
                    if (e.messages.slice(-20).some(e => e.creator_id === t.payload.id)) {
                        let n = {
                            creator_id: "sys",
                            createdAt: new Date().getTime(),
                            message: i.Z.t("chat.leavemsg", "{PLAYER} left").replace("{PLAYER}", t.payload.username),
                            creatorName: ""
                        };
                        e.messages = a(e.messages),
                        e.messages.push(n)
                    }
                }
                ),
                e.addCase("game/CHAT_MESSAGE_RCV", (e, t) => {
                    let n = t.payload;
                    (!s(n) || (n = l(n))) && (!e.isVisible && n.creatorName && (e.newMessage = !0),
                    e.messages = a(e.messages),
                    e.messages.push(n))
                }
                )
            }
        })
          , c = e => e.chat
          , {toggleChat: d, closeChat: f} = u.actions;
        t.ZP = u.reducer
    },
    53813: function(e, t, n) {
        "use strict";
        n.d(t, {
            D2: function() {
                return i
            },
            IT: function() {
                return l
            },
            NN: function() {
                return s
            },
            WU: function() {
                return o
            },
            fD: function() {
                return a
            }
        });
        let r = (0,
        n(66741).oM)({
            name: "generalStoreModal",
            initialState: {
                isOpen: !1,
                isLoading: !1
            },
            reducers: {
                openStoreModal: (e, t) => {
                    e.storeId = t.payload,
                    e.isOpen = !0
                }
                ,
                closeStoreModal: e => {
                    e.isOpen = !1
                }
                ,
                buyStoreItem: (e, t) => {
                    e.isLoading = !0
                }
                ,
                sellStoreItem: (e, t) => {
                    e.isLoading = !0
                }
            },
            extraReducers: e => {
                e.addCase("game/ROOM_LEAVE", e => {
                    e.isOpen = !1
                }
                )
            }
        })
          , i = e => e.generalStore
          , {openStoreModal: o, closeStoreModal: a, buyStoreItem: s, sellStoreItem: l} = r.actions;
        t.ZP = r.reducer
    },
    31006: function(e, t, n) {
        "use strict";
        n.d(t, {
            AK: function() {
                return u
            },
            I_: function() {
                return l
            },
            Yy: function() {
                return c
            },
            e4: function() {
                return s
            }
        });
        var r = n(66741)
          , i = n(53059);
        function o(e) {
            return e.filter(e => {
                let t = e.itemId ? i.Z.getGameItem(e.itemId) : void 0
                  , n = e.currencyId ? i.Z.getGameCurrency(e.currencyId) : void 0;
                return !("item" === e.kind && e.itemId && !t || "coins" === e.kind && e.currencyId && !n)
            }
            )
        }
        let a = (0,
        r.oM)({
            name: "mailbox",
            initialState: {
                isVisible: !1,
                isLoading: !0,
                mail: [],
                mailCount: 0
            },
            reducers: {
                openMailbox: e => {
                    e.isVisible = !0
                }
                ,
                closeMailbox: e => {
                    e.isVisible = !1
                }
            },
            extraReducers: e => {
                e.addCase("game/ROOM_LOADED", (e, t) => {
                    var n, r;
                    (null === (n = t.payload.player) || void 0 === n ? void 0 : n.full) && (e.mailCount = null !== (r = t.payload.player.full.messages) && void 0 !== r ? r : 0)
                }
                ),
                e.addCase("game/MAIL_UPDATE", (e, t) => {
                    void 0 !== t.payload.messages && (e.mailCount = t.payload.messages)
                }
                ),
                e.addCase("game/RECEIVE_MAIL", (e, t) => {
                    e.isLoading = !1;
                    let n = o(t.payload.mail);
                    e.mail = n
                }
                ),
                e.addCase("game/COLLECT_MAIL_ITEM_RESPONSE", (e, t) => {
                    if (t.payload.success) {
                        let n = t.payload.mailId
                          , r = o(e.mail.filter(e => e._id != n));
                        e.mail = r
                    }
                }
                )
            }
        })
          , {openMailbox: s, closeMailbox: l} = a.actions
          , u = e => e.mailbox
          , c = e => e.mailbox.mailCount;
        t.ZP = a.reducer
    },
    52677: function(e, t, n) {
        "use strict";
        n.d(t, {
            CL: function() {
                return v
            },
            Cn: function() {
                return y
            },
            DL: function() {
                return S
            },
            Ei: function() {
                return D
            },
            Er: function() {
                return P
            },
            LB: function() {
                return L
            },
            Mp: function() {
                return B
            },
            Mt: function() {
                return x
            },
            Mz: function() {
                return m
            },
            PM: function() {
                return f
            },
            PR: function() {
                return h
            },
            St: function() {
                return O
            },
            T: function() {
                return M
            },
            TI: function() {
                return U
            },
            Vb: function() {
                return N
            },
            Y7: function() {
                return A
            },
            _0: function() {
                return k
            },
            a0: function() {
                return R
            },
            aT: function() {
                return E
            },
            c6: function() {
                return p
            },
            j6: function() {
                return g
            },
            lD: function() {
                return C
            },
            pT: function() {
                return w
            },
            pW: function() {
                return V
            },
            r5: function() {
                return _
            },
            sW: function() {
                return I
            },
            v4: function() {
                return b
            },
            xp: function() {
                return $
            },
            zl: function() {
                return F
            }
        });
        var r = n(66741)
          , i = n(36968)
          , o = n.n(i)
          , a = n(41609)
          , s = n.n(a)
          , l = n(53059)
          , u = n(80919);
        let c = {
            isActive: !1,
            category: "objects",
            mode: "off",
            roomSettings: {
                name: "",
                ownerAddress: void 0,
                members: [],
                restrictions: {
                    bannedAddresses: []
                },
                ownership: {
                    forSale: !1,
                    forRent: !1
                }
            },
            updateVersion: 1
        }
          , d = (0,
        r.oM)({
            name: "mapEditor",
            initialState: {
                ...c
            },
            reducers: {
                setMode: (e, t) => {
                    e.mode = t.payload,
                    e.selectedItem = void 0
                }
                ,
                setCategory: (e, t) => {
                    e.category = t.payload,
                    e.selectedItem = void 0
                }
                ,
                paintObject: (e, t) => {
                    t.payload ? e.selectedItem = {
                        type: "object",
                        object: {
                            def: {
                                ...t.payload
                            }
                        }
                    } : e.selectedItem = void 0,
                    u.rV.attachToCursor.emitDeferred(t.payload ? {
                        type: "object",
                        config: {
                            object: t.payload
                        }
                    } : void 0)
                }
                ,
                paintEntity: (e, t) => {
                    t.payload ? e.selectedItem = {
                        type: "entity",
                        entity: {
                            def: {
                                ...t.payload
                            }
                        }
                    } : e.selectedItem = void 0,
                    u.rV.attachToCursor.emitDeferred(t.payload ? {
                        type: "entity",
                        config: {
                            entity: t.payload
                        }
                    } : void 0)
                }
                ,
                selectObject: (e, t) => {
                    if (null == t ? void 0 : t.payload) {
                        let n = t.payload.object;
                        e.category = (null == n ? void 0 : n.wall) ? "walls" : "objects",
                        e.selectedItem = {
                            type: "object",
                            object: {
                                def: {
                                    ...n
                                },
                                config: {
                                    ...t.payload.config
                                },
                                configDirty: t.payload.configDirty
                            }
                        }
                    } else
                        e.selectedItem = void 0
                }
                ,
                patchObjectConfig: (e, t) => {
                    var n, r;
                    (null === (n = e.selectedItem) || void 0 === n ? void 0 : n.type) === "object" ? (e.selectedItem.object.config = {
                        ...e.selectedItem.object.config,
                        ...t.payload
                    },
                    e.selectedItem.object.configDirty = !0) : (null === (r = e.selectedItem) || void 0 === r ? void 0 : r.type) === "entity" && (e.selectedItem.entity.config = {
                        ...e.selectedItem.entity.config,
                        ...t.payload
                    })
                }
                ,
                updateObject: (e, t) => {
                    var n;
                    (null === (n = e.selectedItem) || void 0 === n ? void 0 : n.type) === "object" && t.payload && (e.selectedItem.object.configDirty = !1)
                }
                ,
                selectEntity: (e, t) => {
                    if (!t.payload) {
                        e.selectedItem = void 0;
                        return
                    }
                    e.selectedItem = {
                        type: "entity",
                        entity: {
                            def: {
                                ...t.payload.entity
                            },
                            config: t.payload.config
                        }
                    }
                }
                ,
                selectTile: (e, t) => {
                    if (!t.payload) {
                        e.selectedItem = void 0;
                        return
                    }
                    e.mode = "paint",
                    e.selectedItem = {
                        type: "tile",
                        tile: {
                            ...t.payload
                        }
                    },
                    u.rV.attachToCursor.emitDeferred(t.payload ? {
                        type: "tile",
                        config: {
                            tile: t.payload
                        }
                    } : void 0)
                }
                ,
                updateRoomSettings: (e, t) => {
                    let n = {
                        ...e.roomSettings
                    };
                    o()(n, t.payload.path, t.payload.value),
                    e.roomSettings = n
                }
            },
            extraReducers: e => {
                u.rV.editor.on.addReduxCase(e, e => {
                    e.isActive = !0,
                    e.category = "objects"
                }
                ),
                u.rV.editor.off.addReduxCase(e, e => {
                    e.isActive = !1,
                    e.mode = "off",
                    e.selectedItem = void 0
                }
                ),
                e.addCase("game/SERVER_BUILD_NODE", (e, t) => {
                    var n, r, i, o, a, s;
                    let u = t.payload;
                    if ("object" === u.type && (null === (n = e.selectedItem) || void 0 === n ? void 0 : n.type) === "object" && (null === (i = e.selectedItem.object) || void 0 === i ? void 0 : null === (r = i.config) || void 0 === r ? void 0 : r._id) === u._id) {
                        if ("update" === u.action) {
                            let t = l.Z.getMapObject(u._id);
                            t && (e.selectedItem.object.config.x = t.x,
                            e.selectedItem.object.config.y = t.y,
                            e.selectedItem.object.config.flip = t.flip)
                        } else
                            "remove" === u.action && (e.selectedItem = void 0)
                    } else
                        "entity" === u.type && (null === (o = e.selectedItem) || void 0 === o ? void 0 : o.type) === "entity" && (null === (s = e.selectedItem.entity) || void 0 === s ? void 0 : null === (a = s.config) || void 0 === a ? void 0 : a.mid) === u._id && "remove" === u.action && (e.selectedItem = void 0);
                    e.updateVersion += 1
                }
                ),
                e.addCase("game/ENTITY_UPDATE", (e, t) => {
                    var n, r, i;
                    if ((null === (n = e.selectedItem) || void 0 === n ? void 0 : n.type) === "entity") {
                        let n = t.payload;
                        n.mid === (null === (i = e.selectedItem.entity) || void 0 === i ? void 0 : null === (r = i.config) || void 0 === r ? void 0 : r.mid) && (e.selectedItem.entity.config = n)
                    }
                }
                ),
                e.addCase("game/ROOM_NAME_CHANGED", (e, t) => {
                    e.roomSettings.name = t.payload,
                    e.updateVersion += 1
                }
                ),
                e.addCase("game/ROOM_OWNER_CHANGED", (e, t) => {
                    var n;
                    e.roomSettings.ownerAddress = null === (n = t.payload) || void 0 === n ? void 0 : n.toLowerCase()
                }
                ),
                e.addCase("game/ROOM_LABELS_CHANGED", (e, t) => {
                    e.roomSettings.labels = t.payload
                }
                ),
                e.addCase("game/ROOM_PERMISSIONS_CHANGED", (e, t) => {
                    e.roomSettings.permissions = t.payload
                }
                ),
                e.addCase("game/ROOM_GUILD_CHANGED", (e, t) => {
                    e.roomSettings.guild = t.payload
                }
                ),
                e.addCase("game/ROOM_RESTRICTIONS_CHANGED", (e, t) => {
                    e.roomSettings.restrictions = t.payload
                }
                ),
                e.addCase("game/ROOM_OWNERSHIP_CHANGED", (e, t) => {
                    e.roomSettings.ownership = t.payload
                }
                ),
                e.addCase("game/ROOM_MEMBERS_CHANGED", (e, t) => {
                    e.roomSettings.members = t.payload
                }
                ),
                e.addCase("game/ROOM_LEAVE", e => {
                    e.roomSettings = {
                        ...c.roomSettings
                    },
                    e.isActive = !1,
                    e.mode = "off",
                    e.selectedItem = void 0,
                    e.updateVersion += 1
                }
                )
            }
        })
          , {setMode: f, setCategory: h, paintObject: p, selectObject: g, paintEntity: m, selectEntity: v, patchObjectConfig: y, updateObject: b, selectTile: E, updateRoomSettings: _} = d.actions;
        t.ZP = d.reducer;
        let w = e => e.mapEditor.isActive
          , O = e => t => t === e.mapEditor.mode
          , A = e => e.mapEditor.category
          , S = e => t => t === e.mapEditor.category
          , P = e => {
            let {selectedItem: t} = e.mapEditor;
            return {
                selectedItem: t
            }
        }
          , R = e => e.mapEditor.updateVersion
          , I = e => {
            var t;
            return !!(null === (t = e.game.player) || void 0 === t ? void 0 : t.full.godmode)
        }
        ;
        function T(e, t) {
            return !!e && !!t && 0 !== t.length && e.some(e => t.includes(e.toUpperCase()))
        }
        let x = e => {
            var t;
            let n = j(e);
            return T(null === (t = e.mapEditor.roomSettings.permissions) || void 0 === t ? void 0 : t.editFarmConfig, n)
        }
          , k = e => {
            var t;
            let n = j(e);
            return T(null === (t = e.mapEditor.roomSettings.permissions) || void 0 === t ? void 0 : t.editMapMembers, n)
        }
          , N = e => {
            var t;
            let n = j(e);
            return T(null === (t = e.mapEditor.roomSettings.permissions) || void 0 === t ? void 0 : t.build, n)
        }
          , C = e => {
            var t;
            let n = j(e);
            return T(null === (t = e.mapEditor.roomSettings.permissions) || void 0 === t ? void 0 : t.remove, n)
        }
          , L = e => {
            var t;
            let n = j(e);
            return !!n && 0 !== n.length && (!!n.includes("OWNER") || T(null === (t = e.mapEditor.roomSettings.permissions) || void 0 === t ? void 0 : t.surplusAccess, n))
        }
          , M = e => {
            var t;
            let n = j(e);
            return !!n && 0 !== n.length && (!!n.includes("OWNER") || T(null === (t = e.mapEditor.roomSettings.permissions) || void 0 === t ? void 0 : t.storageAccess, n))
        }
          , D = e => {
            var t, n, r;
            if (!s()(e.mapEditor.roomSettings.ownerAddress)) {
                let t = !!(null === (r = e.game.player) || void 0 === r ? void 0 : r.full.cryptoWallets.find(t => {
                    var n;
                    return t.address.toLowerCase() === (null === (n = e.mapEditor.roomSettings.ownerAddress) || void 0 === n ? void 0 : n.toLowerCase())
                }
                ));
                if (t)
                    return t
            }
            return !!((null === (t = e.game.room) || void 0 === t ? void 0 : t.mapId) && (null === (n = e.game.player) || void 0 === n ? void 0 : n.full.farms) && e.game.player.full.farms.includes(e.game.room.mapId))
        }
          , j = e => {
            var t, n, r;
            if (null === (t = e.game.player) || void 0 === t ? void 0 : t.full.godmode)
                return ["GOD", "OWNER", "MANAGER", "ANY"];
            if (D(e))
                return ["OWNER", "MANAGER", "ANY"];
            if (e.mapEditor.roomSettings.members && e.mapEditor.roomSettings.members.length > 0) {
                let t = null === (r = e.game.player) || void 0 === r ? void 0 : null === (n = r.core.mid) || void 0 === n ? void 0 : n.toLowerCase()
                  , i = e.mapEditor.roomSettings.members.find(n => {
                    var r, i;
                    return (null === (r = e.game.player) || void 0 === r ? void 0 : r.core.mid) && (null === (i = n.member) || void 0 === i ? void 0 : i.toLowerCase()) === t
                }
                );
                if (null == i ? void 0 : i.roles)
                    return [...i.roles.map(e => e.toUpperCase()), "ANY"]
            }
            return ["ANY"]
        }
          , U = e => {
            var t, n;
            return (null === (t = e.mapEditor.selectedItem) || void 0 === t ? void 0 : t.type) === "object" ? null === (n = e.mapEditor.selectedItem) || void 0 === n ? void 0 : n.object : void 0
        }
          , $ = e => {
            var t, n;
            return (null === (t = e.mapEditor.selectedItem) || void 0 === t ? void 0 : t.type) === "tile" ? null === (n = e.mapEditor.selectedItem) || void 0 === n ? void 0 : n.tile : void 0
        }
          , V = e => {
            var t, n;
            return (null === (t = e.mapEditor.selectedItem) || void 0 === t ? void 0 : t.type) === "entity" ? null === (n = e.mapEditor.selectedItem) || void 0 === n ? void 0 : n.entity : void 0
        }
          , B = e => e.mapEditor.roomSettings
          , F = e => e.mapEditor.roomSettings.restrictions
    },
    71936: function(e, t, n) {
        "use strict";
        n.d(t, {
            SY: function() {
                return s
            },
            Ue: function() {
                return h
            },
            Uj: function() {
                return g
            },
            eo: function() {
                return p
            },
            ft: function() {
                return f
            },
            j4: function() {
                return d
            },
            oG: function() {
                return l
            },
            u4: function() {
                return c
            },
            ww: function() {
                return a
            },
            yW: function() {
                return u
            }
        });
        var r = n(66741)
          , i = n(80919);
        let o = (0,
        r.oM)({
            name: "marketplace",
            initialState: {
                mode: "none"
            },
            reducers: {
                openMarketplace: (e, t) => {
                    e.mode = "marketplace",
                    e.initialCategory = t.payload.initialCategory
                }
                ,
                openListings: e => {
                    e.mode = "listings"
                }
                ,
                close: e => {
                    e.mode = "none"
                }
                ,
                reloadListings: e => {
                    e.reload = Date.now()
                }
                ,
                handlePurchaseSuccess: e => {
                    delete e.purchase
                }
            },
            extraReducers: e => {
                e.addCase("game/".concat(i.fb.MARKETPLACE_SEND), (e, t) => {
                    let {payload: n} = t;
                    "purchase" === n.subcommand && (e.purchase = "pending")
                }
                ),
                e.addCase("game/".concat(i.fb.MARKETPLACE_RECEIVE), (e, t) => {
                    let {payload: n} = t;
                    switch (n.type) {
                    case "purchase-success":
                        {
                            let {...t} = n;
                            e.purchase = t;
                            break
                        }
                    case "purchase-failure":
                        delete e.purchase;
                        break;
                    case "claim-status":
                        "listings" === e.mode && (e.reload = Date.now());
                        break;
                    default:
                        throw Error("Unexpected value ".concat(n))
                    }
                }
                )
            }
        })
          , a = e => "marketplace" === e.marketplace.mode
          , s = e => e.marketplace.initialCategory
          , l = e => "listings" === e.marketplace.mode
          , u = e => e.marketplace.purchase
          , c = e => e.marketplace.reload
          , {openMarketplace: d, openListings: f, reloadListings: h, close: p, handlePurchaseSuccess: g} = o.actions;
        t.ZP = o.reducer
    },
    11941: function(e, t, n) {
        "use strict";
        n.d(t, {
            HS: function() {
                return h
            },
            W_: function() {
                return d
            },
            wm: function() {
                return f
            }
        });
        var r = n(80919)
          , i = n(73913)
          , o = n(28466)
          , a = n(15103)
          , s = n(15624)
          , l = n(45238);
        let u = (0,
        a.cn)([])
          , c = 1
          , d = (0,
        a.cn)(null, (e, t, n) => {
            let r = e(u).slice();
            n.forEach(e => {
                var t, n, i;
                if (e.deduplicationKey) {
                    let t = r.findIndex(t => {
                        let {deduplicationKey: n} = t;
                        return e.deduplicationKey === n
                    }
                    )
                      , i = r[t];
                    if (i) {
                        r.splice(t, 1, {
                            ...i,
                            duplicates: (null !== (n = i.duplicates) && void 0 !== n ? n : 1) + 1
                        });
                        return
                    }
                }
                if (e.stacking && (null === (t = e.text) || void 0 === t ? void 0 : t[e.stacking.textPropertyName]) !== void 0) {
                    let {key: t, textPropertyName: n} = e.stacking
                      , o = null === (i = e.text) || void 0 === i ? void 0 : i[n];
                    if (void 0 !== o) {
                        let e = r.findIndex(e => {
                            let {stacking: n} = e;
                            return (null == n ? void 0 : n.key) === t
                        }
                        )
                          , i = r[e];
                        if (null == i ? void 0 : i.text) {
                            let t = {
                                ...i,
                                text: {
                                    ...i.text
                                }
                            };
                            void 0 === t.text[n] ? t.text[n] = o : t.text[n] += o,
                            r.splice(e, 1, t);
                            return
                        }
                    }
                }
                r.push({
                    ...e,
                    reactKey: ++c
                })
            }
            ),
            t(u, r)
        }
        )
          , f = (0,
        a.cn)(e => e(u).find(t => "trade" !== t.source || e(o.eH)))
          , h = (0,
        a.cn)(null, (e, t, n) => {
            let r = e(u)
              , i = n ? r.findIndex(e => e.reactKey === n.reactKey) : -1;
            t(u, r.slice(Math.max(i + 1, 1)))
        }
        );
        (0,
        l.H)("game/".concat(r.fb.ROOM_LEAVE), () => {
            s.e.set(u, [])
        }
        ),
        (0,
        l.H)("game/".concat(r.fb.TRADE_RECEIVE), e => {
            if ("request" === e.subcommand) {
                let t = i.l.getInstance().getSessionId()
                  , n = Object.keys(e.trade.players).find(e => e !== t)
                  , r = n ? i.l.getInstance().getPlayerCoreBySessionId(n) : void 0;
                s.e.set(d, [{
                    source: "trade",
                    text: {
                        id: "notifications.trade.request",
                        name: null == r ? void 0 : r.username
                    },
                    deduplicationKey: "notifications.trade.request"
                }])
            }
        }
        )
    },
    53660: function(e, t, n) {
        "use strict";
        n.d(t, {
            Vu: function() {
                return o
            },
            _V: function() {
                return a
            },
            pM: function() {
                return i
            }
        });
        let r = (0,
        n(66741).oM)({
            name: "plotSlice",
            initialState: {
                isVisible: !1
            },
            reducers: {
                openPlot: e => {
                    e.isVisible = !0
                }
                ,
                closePlot: e => {
                    e.isVisible = !1
                }
            },
            extraReducers: e => {
                e.addCase("game/ROOM_LEAVE", e => {
                    e.isVisible = !1
                }
                )
            }
        })
          , i = e => e.plot.isVisible
          , {openPlot: o, closePlot: a} = r.actions;
        t.ZP = r.reducer
    },
    17553: function(e, t, n) {
        "use strict";
        n.d(t, {
            Hg: function() {
                return s
            },
            fp: function() {
                return o
            },
            ht: function() {
                return a
            },
            op: function() {
                return i
            }
        });
        let r = (0,
        n(66741).oM)({
            name: "reportSlice",
            initialState: {
                open: !1,
                mid: ""
            },
            reducers: {
                openReportPlayerWindow: (e, t) => {
                    let {payload: n} = t;
                    e.open = !0,
                    e.mid = n.mid
                }
                ,
                closeReportPlayerWindow: e => {
                    e.open = !1,
                    e.mid = ""
                }
            }
        })
          , i = e => e.report.open
          , o = e => e.report.mid
          , {openReportPlayerWindow: a, closeReportPlayerWindow: s} = r.actions;
        t.ZP = r.reducer
    },
    31040: function(e, t, n) {
        "use strict";
        n.d(t, {
            v: function() {
                return a
            }
        });
        var r = n(15103)
          , i = n(80919)
          , o = n(15624);
        let a = (0,
        r.cn)({}, (e, t, n) => {
            if ("clear" === n) {
                t(a, {});
                return
            }
            t(a, {
                ...e(a),
                ...n
            })
        }
        );
        i.rV.sellOrders.fill.subscribe(e => {
            var t;
            let {storeId: n, sellOrderIndex: r} = e
              , i = null !== (t = o.e.get(a)[n]) && void 0 !== t ? t : {
                nextReset: 0,
                orders: []
            }
              , s = i.orders.slice();
            s[r] = {
                ...s[r],
                completedAt: -1
            },
            o.e.set(a, {
                [n]: {
                    ...i,
                    orders: s
                }
            })
        }
        );
        let s = [];
        i.rV.sellOrders.fetch.subscribe(e => {
            let {storeId: t} = e;
            o.e.set(a, {
                [t]: {
                    nextReset: 0,
                    orders: s,
                    ...o.e.get(a)[t],
                    fetching: !0
                }
            })
        }
        )
    },
    28466: function(e, t, n) {
        "use strict";
        n.d(t, {
            $6: function() {
                return u
            },
            KU: function() {
                return c
            },
            V: function() {
                return d
            },
            eH: function() {
                return a
            },
            gJ: function() {
                return h
            },
            sG: function() {
                return l
            },
            sU: function() {
                return f
            }
        });
        var r = n(66741)
          , i = n(80919)
          , o = n(15624);
        let a = (0,
        n(15103).cn)(!1)
          , s = (0,
        r.oM)({
            name: "tradeSlice",
            initialState: {
                trade: null,
                tradeId: "",
                tradeValue: null,
                otherTradeValue: null
            },
            reducers: {
                acceptTrade: e => {
                    o.e.set(a, !1)
                }
                ,
                adjustTrade: (e, t) => {}
                ,
                dropTradeItem: (e, t) => {}
            },
            extraReducers: e => {
                e.addCase("game/".concat(i.fb.TRADE_RECEIVE), (e, t) => {
                    let {payload: n} = t;
                    switch (n.subcommand) {
                    case "request":
                    case "update":
                        var r, i;
                        e.tradeId && e.tradeId !== n.tradeId && console.warn("Server sending new trade while another trade is ongoing", n.tradeId),
                        "request" === n.subcommand && o.e.set(a, !0),
                        e.tradeValue = null !== (r = n.tradeValue) && void 0 !== r ? r : 0,
                        e.otherTradeValue = null !== (i = n.otherTradeValue) && void 0 !== i ? i : 0,
                        e.trade = n.trade,
                        e.tradeId = n.tradeId;
                        break;
                    case "close":
                        e.tradeId === n.tradeId && (e.trade = null,
                        e.tradeId = "",
                        o.e.set(a, !1));
                        break;
                    default:
                        throw Error("Unexpected value ".concat(n))
                    }
                }
                )
            }
        })
          , l = e => e.trade.trade
          , u = e => ({
            tradeValue: e.trade.tradeValue,
            otherTradeValue: e.trade.otherTradeValue
        })
          , c = e => e.trade.tradeId
          , {acceptTrade: d, adjustTrade: f, dropTradeItem: h} = s.actions;
        t.ZP = s.reducer
    },
    98355: function(e, t, n) {
        "use strict";
        n.d(t, {
            Bd: function() {
                return h
            },
            Dw: function() {
                return s
            },
            Ep: function() {
                return _
            },
            Fd: function() {
                return O
            },
            JR: function() {
                return E
            },
            OH: function() {
                return b
            },
            VG: function() {
                return g
            },
            _u: function() {
                return A
            },
            aA: function() {
                return u
            },
            aP: function() {
                return p
            },
            e4: function() {
                return c
            },
            ex: function() {
                return m
            },
            gs: function() {
                return w
            },
            j2: function() {
                return y
            },
            je: function() {
                return v
            },
            jz: function() {
                return l
            },
            rg: function() {
                return S
            },
            tD: function() {
                return a
            },
            vV: function() {
                return d
            },
            wR: function() {
                return f
            }
        });
        var r = n(66741)
          , i = n(80919);
        let o = (0,
        r.oM)({
            name: "ui",
            initialState: {
                portalDialog: {
                    isVisible: !1,
                    mid_portal: "",
                    tenant: "pixels"
                },
                entityInput: {
                    isVisible: !1
                },
                imageDialog: {
                    isVisible: !1,
                    isIframe: !1
                },
                confirmDialog: {
                    isVisible: !1
                },
                hideHUD: !1,
                expandHUD: !1
            },
            reducers: {
                gameDimension: (e, t) => {
                    e.dimension = t.payload
                }
                ,
                portalConfig: (e, t) => {
                    e.portalDialog = {
                        isVisible: !0,
                        mid_portal: t.payload.source,
                        tenant: t.payload.tenant,
                        mode: t.payload.mode || "infiniportal"
                    }
                }
                ,
                showHUD: (e, t) => {
                    e.hideHUD = !t.payload
                }
                ,
                expandHUD: (e, t) => {
                    void 0 === t.payload ? e.expandHUD = !e.expandHUD : e.expandHUD = !!t.payload
                }
                ,
                clearHighlight: (e, t) => {
                    e.highlightButton === t.payload && (e.highlightButton = void 0)
                }
                ,
                portalClose: e => {
                    e.portalDialog = {
                        isVisible: !1,
                        mid_portal: "",
                        tenant: "pixels"
                    }
                }
                ,
                entityInput: (e, t) => {
                    e.entityInput = {
                        isVisible: !0,
                        mid_portal: t.payload.source,
                        prompt: t.payload.prompt,
                        config: t.payload.config
                    }
                }
                ,
                entityInputClose: e => {
                    e.entityInput = {
                        isVisible: !1
                    }
                }
                ,
                confirmDialog: (e, t) => {
                    e.confirmDialog = {
                        isVisible: !0,
                        ...t.payload
                    }
                }
                ,
                confirmDialogClose: e => {
                    e.confirmDialog = {
                        isVisible: !1
                    }
                }
                ,
                imagePopup: (e, t) => {
                    e.imageDialog = {
                        isVisible: !0,
                        url: t.payload.url,
                        isIframe: t.payload.isIframe || !1,
                        modeless: !0 === t.payload.modeless,
                        vertical: !0 === t.payload.vertical
                    }
                }
                ,
                imagePopupClose: e => {
                    e.imageDialog = {
                        isVisible: !1,
                        isIframe: !1
                    }
                }
            },
            extraReducers: e => {
                e.addCase("game/ROOM_LOADED", e => {
                    e.portalDialog = {
                        isVisible: !1,
                        mid_portal: "",
                        tenant: "pixels"
                    },
                    e.entityInput.isVisible = !1,
                    e.imageDialog.isVisible = !1,
                    e.imageDialog.isIframe = !1,
                    e.hideHUD = !1
                }
                ),
                e.addCase("game/".concat(i.fb.CLIENT_CMD), (e, t) => {
                    let n = t.payload;
                    if ("buttonhighlight" === n.detail) {
                        var r;
                        e.highlightButton = (null === (r = n.params) || void 0 === r ? void 0 : r[0]) || void 0
                    }
                }
                )
            }
        })
          , {gameDimension: a, showHUD: s, expandHUD: l, portalConfig: u, portalClose: c, imagePopup: d, imagePopupClose: f, entityInput: h, entityInputClose: p, confirmDialog: g, confirmDialogClose: m, clearHighlight: v} = o.actions
          , y = e => e.ui.portalDialog
          , b = e => e.ui.imageDialog
          , E = e => e.ui.entityInput
          , _ = e => e.ui.confirmDialog
          , w = e => e.ui.hideHUD
          , O = e => e.ui.expandHUD
          , A = e => e.ui.highlightButton
          , S = e => e.ui.dimension;
        t.ZP = o.reducer
    },
    15624: function(e, t, n) {
        "use strict";
        let r, i, o;
        n.d(t, {
            e: function() {
                return es
            },
            h: function() {
                return ea
            }
        });
        var a = n(66741)
          , s = n(45238)
          , l = n(80919)
          , u = n(98355)
          , c = n(53813)
          , d = n(52677);
        Object.entries({
            [u.tD.type]: {
                event: l.Vh.RESIZE
            },
            [c.NN.type]: {
                event: l.Yi.BUY_STORE_ITEM
            },
            [c.IT.type]: {
                event: l.Yi.SELL_STORE_ITEM
            },
            [d.PM.type]: {
                event: l.qM.SET_MODE
            },
            [d.PR.type]: {
                event: l.qM.SET_CATEGORY
            },
            [d.v4.type]: {
                event: l.qM.BUILD_OBJECT
            }
        }).forEach(e => {
            let[t,n] = e;
            (0,
            s.H)(t, e => {
                l.ZP.emitEventNow(n.event, n.adapter ? n.adapter(e) : e)
            }
            )
        }
        );
        var f = n(74800)
          , h = n(51309)
          , p = n(97790)
          , g = n(73913)
          , m = n(35466);
        (0,
        s.H)(f.uy.type, (e, t) => {
            (async () => {
                await l.ZP.init(),
                await p.Z.initGame(),
                await p.Z.initRoom({
                    ...e,
                    transition: e.snap ? "snap" : "intro"
                })
            }
            )()
        }
        ),
        (0,
        s.H)(f.Hi.type, (e, t) => {
            (async () => {
                try {
                    let n = await p.Z.loadLibraries(e.mapId);
                    t.dispatch({
                        type: "game/LIBRARY",
                        payload: !!n
                    })
                } catch (e) {
                    t.dispatch({
                        type: "game/SVR_CANNOTCONNECT",
                        payload: {
                            message: ["mapLoadFailed", "Error Loading Map"]
                        }
                    })
                }
            }
            )()
        }
        ),
        (0,
        s.H)(h.iM.type, (e, t) => {
            e.mapId && t.dispatch((0,
            f.Hi)({
                mapId: e.mapId,
                lastSavedAt: e.lastSavedAt
            }))
        }
        ),
        (0,
        s.H)(h.z1.type, (e, t) => {
            e.mapId && t.dispatch((0,
            f.Hi)({
                mapId: e.mapId,
                lastSavedAt: e.lastSavedAt
            }))
        }
        ),
        (0,
        s.H)(f.ni.type, () => {
            (async () => {
                (0,
                m.r$)(),
                await p.Z.killScene();
                let e = g.l.getInstance();
                await e.disconnect()
            }
            )()
        }
        );
        var v = n(47414)
          , y = n(60922)
          , b = n(53059)
          , E = n(4602);
        let _ = e => "left" === e ? g.l.getInstance().peekLeftMap() : "right" === e ? g.l.getInstance().peekRightMap() : e
          , w = (e, t, n) => {
            let r = null == e ? void 0 : e.match(/\d+$/)
              , i = null == t ? void 0 : t.match(/\d+$/);
            if (!r && !i)
                return "quick";
            let o = "quick";
            if (n) {
                let e = n.split(",");
                "right" === e[0] ? o = "roadleft" : "left" === e[0] ? o = "roadright" : "road" === e[0] && (o = "road")
            }
            return r && i && r[0] === i[0] ? "quick" : o
        }
          , O = (e, t) => {
            let n = null == e ? void 0 : e.match(/\d+$/);
            return (null == t ? void 0 : t.indexOf("*")) !== -1 ? t = t.replace("*", n ? n[0] : "") : ["left", "right"].includes(t) && (t = _(t)),
            (0,
            m.En)(t)
        }
          , A = async e => {
            (0,
            y.q4)(e) && (await (0,
            E.W)(!0),
            b.Z.clearGameLibrary(),
            await b.Z.loadLibraries())
        }
          , S = async (e, t) => {
            var n, r, i;
            let o = (0,
            y.GU)()
              , a = null !== (r = null == e ? void 0 : null === (n = e.tenants) || void 0 === n ? void 0 : n[0]) && void 0 !== r ? r : "pixels";
            if (a !== o.name && (await A(a),
            (o = (0,
            y.GU)()).tutorialQuest && o.tutorialMap)) {
                let e = null === (i = t.full.quests) || void 0 === i ? void 0 : i[o.tutorialQuest];
                if (!(null == e ? void 0 : e.isComplete))
                    return o.tutorialMap
            }
            return e.id
        }
          , P = (e, t) => {
            clearTimeout(r),
            e.dispatch((0,
            f.tD)({
                abort: !0
            })),
            p.Z.unfreezeRoom(t)
        }
        ;
        (0,
        s.H)("game/ROOM_WARP", (e, t) => {
            let n = t.getState()
              , o = (0,
            v.Xt)(n)
              , a = (0,
            v.Od)(n)
              , s = (0,
            v.K7)(n)
              , u = O(a, e.mapId)
              , c = w(a, u, e.spawn)
              , d = (0,
            v.lA)(n);
            if (d) {
                if (!s && !e.abort && e.mapId && o) {
                    t.dispatch((0,
                    f.tD)({})),
                    l.rV.editor.off.emit(),
                    console.log("warp to ".concat(u)),
                    p.Z.freezeRoom(c),
                    i = e.source;
                    let n = b.Z.loadMap(u);
                    n.catch(console.warn),
                    r = setTimeout(async () => {
                        let a;
                        r = void 0,
                        i = void 0;
                        try {
                            a = await n
                        } catch (e) {
                            P(t, c);
                            return
                        }
                        if (!a) {
                            P(t, c);
                            return
                        }
                        p.Z.pauseRoom(),
                        t.dispatch((0,
                        f.Fd)({
                            ...e,
                            mapId: u
                        }));
                        try {
                            let t = g.l.getInstance()
                              , n = await t.disconnect();
                            if (-1 !== n) {
                                let t = await S(a, d);
                                await p.Z.initRoom({
                                    mapId: t,
                                    spawn: e.spawn,
                                    worldId: o,
                                    transition: c
                                })
                            } else
                                await p.Z.initRoom({
                                    mapId: (0,
                                    y.lf)(),
                                    worldId: o,
                                    transition: "quick"
                                })
                        } catch (e) {
                            console.log("this is what happened, dude", e),
                            t.dispatch({
                                type: "game/SVR_CANNOTCONNECT",
                                payload: {
                                    message: ["mapNotFound", "The there there is not there. Try again. Message ID: mapNotFound"]
                                }
                            })
                        }
                    }
                    , "quick" !== c ? 1500 : 1e3)
                } else
                    s && e.abort && ("quick" === c || "portal" === c) && r && i && e.source === i && P(t, c)
            }
        }
        );
        var R = n(60943)
          , I = n(96808)
          , T = n(96721)
          , x = n(16497);
        let k = 0;
        l.rV.gameObjectClicked.subscribe(e => {
            var t, n, r, i, o, a;
            let s = Date.now();
            if (s - k < 150)
                return;
            k = s;
            let u = ea.getState()
              , c = (0,
            d.pT)(u)
              , h = (0,
            R.NS)(u);
            if (c || (null == h ? void 0 : h.isOpen))
                return;
            let {selfPlayer: p, world: v} = e;
            if (!p)
                return;
            let y = (0,
            m.iy)(e)
              , E = g.l.getInstance()
              , _ = null === (t = E.currentPlayer) || void 0 === t ? void 0 : t.full.pet
              , w = 90;
            if (_ && _.happiness > 50 && (null !== (r = null === (n = _.traits) || void 0 === n ? void 0 : n.Speed) && void 0 !== r ? r : 0) > 1 && (w += 32 + (_.traits.Speed - 1)),
            y > w * w) {
                ea.dispatch((0,
                f.io)({
                    mouse: e.mouse,
                    text: "hover.toofar"
                }));
                return
            }
            e.animation && (null === (i = E.scene) || void 0 === i || i.playOneTimeAnimation(e.animation));
            let O = (0,
            R.xM)(u)
              , A = (0,
            R.B6)(u);
            if (A && !(null == h ? void 0 : h.isOpen)) {
                if ((null === (o = A.onUse) || void 0 === o ? void 0 : o.types.includes("move")) && (0,
                I.ZP)(A, e.key, e.type || e.entityType, e.cropState, e.mid)) {
                    let t = e.useType || "unknown"
                      , n = "object" === t ? b.Z.getGameObject(e.key) : b.Z.getGameEntity(e.key);
                    if (n && void 0 !== e.entityState) {
                        let t = n;
                        n = {
                            ...t,
                            generic: {
                                ...t.generic,
                                defaultState: e.entityState
                            }
                        }
                    }
                    l.rV.attachToCursor.emit({
                        type: t,
                        mid: e.targetId,
                        moving: !0,
                        startCoords: e.world,
                        config: {
                            [t]: n
                        }
                    })
                } else
                    "npc" !== e.entityType || (0,
                    I.ZP)(A, e.npcId, "npc") ? l.ZP.emitEventNow(l.qM.PLAYER_USED_ITEM, {
                        item: {
                            id: A.id,
                            inventorySlot: O.slot
                        },
                        target: {
                            id: e.targetId,
                            mid: e.targetId,
                            type: e.useType || "unknown"
                        },
                        client: {
                            key: e.key,
                            entityType: e.entityType,
                            cropState: e.cropState
                        }
                    }) : l.ZP.emitEventNow(l.qM.PLAYER_CLICKED_NPC, {
                        npcId: e.npcId,
                        mid: e.targetId
                    });
                return
            }
            if ("npc" === e.entityType) {
                l.ZP.emitEventNow(l.qM.PLAYER_CLICKED_NPC, {
                    npcId: e.npcId,
                    mid: e.targetId
                });
                return
            }
            if ("storage" === e.entityType) {
                let t = e.targetId
                  , n = E.getEntityByUniqueId(t);
                if (n) {
                    let e = b.Z.getGameEntity(n.entity);
                    ((null == e ? void 0 : null === (a = e.storage) || void 0 === a ? void 0 : a.transient) || (0,
                    d.T)(ea.getState())) && l.ZP.emitEventNow(l.fb.PLAYER_OPEN_STORAGE, {
                        storageId: t
                    })
                }
                return
            }
            if ("generic" === e.entityType && e.clickable) {
                l.ZP.emitEventNow(T.mY.clickEntity, {
                    mid: e.targetId,
                    entity: e.entityId,
                    impact: "click",
                    inputs: [null == v ? void 0 : v.x, null == v ? void 0 : v.y]
                });
                return
            }
            if (e.action) {
                let t = e.action;
                if (t.room) {
                    let e = t.room;
                    l.ZP.emitEventNow(l.fb.ROOM_WARP, {
                        mapId: e,
                        spawn: t.spawn
                    })
                }
                t.link && ("https://play.pixels.online/terravilla101" === t.link.toLowerCase() ? l.ZP.emitEventNow(l.fb.ROOM_WARP, {
                    mapId: "terravilla"
                }) : /^[^./:]*$/.test(e.action.link) ? l.ZP.emitEventNow(l.fb.ROOM_WARP, {
                    mapId: t.link.trim()
                }) : l.ZP.emitEventNow(l.fb.LINK_OPEN, {
                    link: t.link.trim(),
                    msgKey: t.confirm
                })),
                t.dialog && ea.dispatch({
                    type: "game/PRESENT_UI",
                    payload: {
                        ui: t.dialog,
                        params: [t.spawn],
                        source: e.targetId
                    }
                }),
                t.sound && l.rV.playSound.emit(t.sound),
                t.sharelink && (0,
                x.Bf)(t.sharelink, "Play Pixels.xyz")
            } else
                "self" === e.useType || ("pet" === e.useType ? ea.dispatch((0,
                f.zR)({})) : "otherPlayer" === e.useType ? ea.dispatch((0,
                f.ol)({
                    mid: e.mid,
                    username: e.username
                })) : console.log("nothing to do", e))
        }
        );
        var N = n(27361)
          , C = n.n(N);
        let L = 0;
        (0,
        s.H)("game/PLAYER_CLICKED", (e, t) => {
            let n = Date.now();
            if (n - L < 150)
                return;
            L = n;
            let r = t.getState()
              , i = (0,
            d.pT)(r)
              , o = (0,
            R.NS)(r);
            if (!i && !(null == o ? void 0 : o.isOpen)) {
                let t = (0,
                R.B6)(r)
                  , n = (0,
                R.xM)(r);
                if (t) {
                    var a, s, u, c, f;
                    let r = (null === (a = t.onUse) || void 0 === a ? void 0 : a.placeEntity) || (null === (s = t.onUse) || void 0 === s ? void 0 : s.placeObject)
                      , i = C()(e, "context.tempNode.isBuildAreaFree", !1);
                    if (r && !i)
                        return;
                    let o = {
                        type: "ground",
                        x: C()(e, "context.tempNode.position.x") || C()(e, "world.x"),
                        y: C()(e, "context.tempNode.position.y") || C()(e, "world.y")
                    };
                    if (null == t ? void 0 : null === (u = t.onUse) || void 0 === u ? void 0 : u.types.includes("move")) {
                        if (o.type = C()(e, "context.tempNode.type"),
                        o.mid = C()(e, "context.tempNode.mid"),
                        !o.type || !o.mid || !i)
                            return;
                        l.rV.attachToCursor.emit({
                            type: "item",
                            config: {
                                item: t
                            }
                        })
                    } else if ((null === (c = t.onUse) || void 0 === c ? void 0 : c.types.includes("placeTile")) || (null === (f = t.onUse) || void 0 === f ? void 0 : f.types.includes("removeTile"))) {
                        if (!i)
                            return;
                        o.tiles = C()(e, "context.tiles")
                    }
                    l.ZP.emitEventNow(l.qM.PLAYER_USED_ITEM, {
                        item: {
                            id: t.id,
                            inventorySlot: n.slot
                        },
                        target: o,
                        client: {
                            key: "ground",
                            entityType: "ground"
                        }
                    })
                }
            }
        }
        );
        var M = n(36968)
          , D = n.n(M);
        (0,
        s.H)(d.r5.type, (e, t) => {
            switch (e.path) {
            case "restrictions.bannedAddresses":
                let n = {
                    restrictions: {
                        ...(0,
                        d.zl)(t.getState())
                    }
                };
                D()(n, e.path, e.value),
                l.ZP.emitEventNow(l.qM.ROOM_RESTRICTIONS, {
                    ...n.restrictions
                });
                break;
            case "permissions.use":
                l.ZP.emitEventNow(l.qM.ROOM_PERMISSIONS, {
                    permissions: {
                        use: e.value
                    }
                });
                break;
            case "guild":
                l.ZP.emitEventNow(l.qM.ROOM_PERMISSIONS, {
                    guild: e.value
                });
                break;
            case "name":
                l.ZP.emitEventNow(l.qM.ROOM_NAME, e.value);
                break;
            case "ownership.forSale":
                l.ZP.emitEventNow(l.qM.ROOM_OWNERSHIP, {
                    forSale: e.value
                })
            }
        }
        ),
        (0,
        s.H)("mapEditor/addMember", e => {
            l.ZP.emitEventNow(l.qM.ROOM_MEMBERS, e)
        }
        ),
        (0,
        s.H)("game/PLAYER_COLLIDED_WITH_OBJECT", e => {
            if (null == e ? void 0 : e.onCollide) {
                let t = e.onCollide;
                t.teleport && l.ZP.emitEventNow(l.fb.ROOM_WARP, {
                    mapId: t.teleport,
                    spawn: t.spawn,
                    source: e.key
                }),
                t.sound && l.rV.playSound.emit(t.sound),
                t.trigger && l.ZP.emitEventNow(l.Yi.TRIGGER_EVENT, {
                    trigger: e.onCollide.trigger,
                    targetId: e.targetId
                }),
                t.link && l.ZP.emitEventNow(l.fb.LINK_OPEN, {
                    link: t.link.trim(),
                    msgKey: t.confirm
                })
            }
        }
        ),
        (0,
        s.H)("game/PLAYER_UNCOLLIDED_WITH_OBJECT", e => {
            if (null == e ? void 0 : e.onCollide) {
                let t = e.onCollide;
                t.teleport && l.ZP.emitEventNow(l.fb.ROOM_WARP, {
                    mapId: t.teleport,
                    spawn: t.spawn,
                    source: e.key,
                    abort: !0
                })
            }
        }
        );
        var j = n(28274)
          , U = n(53660)
          , $ = n(71936)
          , V = n(31006);
        function B() {
            if (navigator.serviceWorker && "PushManager"in window)
                return navigator.serviceWorker.register("/workers/push-worker.js?v=1").then(function(e) {
                    return o = e
                }).catch( () => {
                    o = void 0
                }
                )
        }
        async function F() {
            return await B(),
            o && "denied" !== Notification.permission
        }
        async function q() {
            if (await B(),
            !o)
                return !1;
            let e = await o.pushManager.getSubscription();
            return !(!e || e.expirationTime && Date.now() > e.expirationTime)
        }
        async function G() {
            if (await B(),
            !o)
                return;
            await new Promise(function(e, t) {
                if ("granted" === Notification.permission)
                    e(Notification.permission);
                else {
                    let n = Notification.requestPermission(function(t) {
                        e(t)
                    });
                    n && n.then(e, t)
                }
            }
            ).then(function(e) {
                if ("granted" !== e)
                    throw Error("We weren't granted permission.")
            });
            let e = {
                userVisibleOnly: !0,
                applicationServerKey: function(e) {
                    let t = "=".repeat((4 - e.length % 4) % 4)
                      , n = (e + t).replace(/-/g, "+").replace(/_/g, "/")
                      , r = window.atob(n)
                      , i = new Uint8Array(r.length);
                    for (let e = 0; e < r.length; ++e)
                        i[e] = r.charCodeAt(e);
                    return i
                }("BFOtTI6ukP9_JEyYf0Kxuk9JZnL4okcSVnztjI8Scflrq0Wx38XctJ1UtKbpNoK-LnGDYPYB-fkXP8U1Y4epKcw")
            };
            return o.pushManager.subscribe(e).then(function(e) {
                return console.log("Received PushSubscription: ", JSON.stringify(e)),
                e
            })
        }
        async function z() {
            return !await q() && !!await F()
        }
        var Y = n(30908);
        let H = "craft:"
          , Z = !1;
        (0,
        s.H)("game/PRESENT_UI", (e, t) => {
            var n, r, i, o, a, s, h, p, m, v, y;
            let {ui: E, source: _} = e
              , w = e.params;
            if (w || (w = [e.param]),
            E.includes("marketplace-") && "marketplace-listings" !== E) {
                t.dispatch((0,
                $.j4)({
                    initialCategory: E.split("marketplace-")[1]
                }));
                return
            }
            switch (E) {
            case "farmDetails":
                t.dispatch({
                    type: "game/PRESENT_FARM_DETAILS"
                });
                break;
            case "farmPicker":
            case "plotDialog":
                t.dispatch((0,
                U.Vu)());
                break;
            case "portalConfig":
                t.dispatch((0,
                R.aq)()),
                t.dispatch((0,
                u.aA)({
                    source: _,
                    tenant: "pixels",
                    mode: null == w ? void 0 : w[0]
                }));
                break;
            case "entityInput":
                t.dispatch((0,
                R.aq)()),
                t.dispatch((0,
                u.Bd)({
                    source: _,
                    prompt: null == w ? void 0 : w[0],
                    config: w.slice(1)
                }));
                break;
            case "marketplace":
                t.dispatch((0,
                R.aq)()),
                t.dispatch((0,
                $.j4)({}));
                break;
            case "marketplace-listings":
                t.dispatch((0,
                R.aq)()),
                t.dispatch((0,
                $.ft)());
                break;
            case "portalConfigTenant":
                t.dispatch((0,
                R.aq)()),
                t.dispatch((0,
                u.aA)({
                    source: _,
                    mode: null == w ? void 0 : w[0]
                }));
                break;
            case "openHUD":
                t.dispatch((0,
                u.jz)(!0));
                break;
            case "hideHUD":
                t.dispatch((0,
                u.Dw)(!1));
                break;
            case "showHUD":
                t.dispatch((0,
                u.Dw)(!0));
                break;
            case "link":
                "string" == typeof (null == w ? void 0 : w[0]) && l.ZP.emitEventNow(l.fb.LINK_OPEN, {
                    link: null == w ? void 0 : w[0],
                    msgKey: null == w ? void 0 : w[1]
                });
                break;
            case "petStorage":
                {
                    let e = null === (n = g.l.getInstance().selfPlayer) || void 0 === n ? void 0 : n.pet;
                    e && l.ZP.emitEventNow(l.fb.PLAYER_OPEN_STORAGE, {
                        storageId: e.mid
                    })
                }
                break;
            case "wardrobe":
                l.ZP.emitEventNow(l.fb.PLAYER_OPEN_STORAGE, {
                    storageId: "wardrobe"
                });
                break;
            case "petPicker":
                t.dispatch((0,
                f.lW)({
                    mode: "hatched",
                    entity: _
                }));
                break;
            case "petCapsule":
                t.dispatch((0,
                f.lW)({
                    mode: "capsule",
                    entity: _
                }));
                break;
            case "petDetails":
                t.dispatch((0,
                f.zR)({
                    petId: null == w ? void 0 : w[0]
                }));
                break;
            case "mapStorage":
                (0,
                d.LB)(t.getState()) && l.ZP.emitEventNow(l.fb.PLAYER_OPEN_STORAGE, {
                    storageId: g.l.getInstance().mapStorageId
                });
                break;
            case "entityStorage":
                {
                    let e = g.l.getInstance().getEntityByUniqueId(_);
                    if (e) {
                        let n = b.Z.getGameEntity(e.entity);
                        ((null == n ? void 0 : null === (r = n.storage) || void 0 === r ? void 0 : r.transient) || (0,
                        d.T)(t.getState())) && l.ZP.emitEventNow(l.fb.PLAYER_OPEN_STORAGE, {
                            storageId: _
                        })
                    }
                }
                break;
            case "popupMap":
                let O = null !== (o = null == w ? void 0 : w[0]) && void 0 !== o ? o : "obj_mapTerravilla"
                  , A = b.Z.getGameObject(O);
                (null == A ? void 0 : null === (i = A.sprite) || void 0 === i ? void 0 : i.image) && (A.sprite.size && A.sprite.size.height > A.sprite.size.width ? t.dispatch((0,
                u.vV)({
                    url: null == A ? void 0 : null === (a = A.sprite) || void 0 === a ? void 0 : a.image,
                    vertical: !0
                })) : t.dispatch((0,
                u.vV)({
                    url: null == A ? void 0 : null === (s = A.sprite) || void 0 === s ? void 0 : s.image
                })));
                break;
            case "popupFrame":
                t.dispatch((0,
                u.vV)({
                    url: (null == w ? void 0 : w[0]) || "https://www.pixels.xyz",
                    isIframe: !0
                }));
                break;
            case "theatreFrame":
                (null == w ? void 0 : w[0]) === "close" ? t.dispatch((0,
                u.wR)()) : t.dispatch((0,
                u.vV)({
                    url: (null == w ? void 0 : w[0]) || "https://www.pixels.xyz",
                    isIframe: !0,
                    modeless: !0
                }));
                break;
            case "closeCrafting":
                t.dispatch((0,
                j.F0)());
                break;
            case "closeStore":
                t.dispatch((0,
                c.fD)());
                break;
            case "openMailbox":
                t.dispatch((0,
                R.aq)()),
                t.dispatch((0,
                V.e4)());
                break;
            case "closeMailbox":
                t.dispatch((0,
                V.I_)());
                break;
            case "webpush":
                if (Z)
                    break;
                z().then(e => {
                    e && t.dispatch((0,
                    u.VG)({
                        prompt: null == w ? void 0 : w[0],
                        yesno: !0,
                        callback: e => {
                            "yes" === e ? G().then(e => {
                                if (e) {
                                    let t = JSON.parse(JSON.stringify(e));
                                    l.ZP.emitEventNow(l.Yi.PUSH_SUBSCRIBE, {
                                        endpoint: t.endpoint,
                                        expiration: t.expirationTime,
                                        extra: {
                                            ...t,
                                            endpoint: void 0,
                                            expirationTime: void 0
                                        }
                                    })
                                }
                            }
                            ).catch(e => {
                                console.log(e)
                            }
                            ) : "no" === e && (Z = !0)
                        }
                    }))
                }
                );
                break;
            default:
                if (E.startsWith(H) || Y.Skills.includes(E)) {
                    let e = E.replace(H, "")
                      , n = null !== (h = null == w ? void 0 : w[1]) && void 0 !== h ? h : "";
                    (null == n ? void 0 : n.startsWith("update:")) || t.dispatch((0,
                    R.aq)()),
                    t.dispatch((0,
                    j.Uf)({
                        source: null != _ ? _ : "",
                        craftType: e,
                        tableTier: null !== (p = null == w ? void 0 : w[0]) && void 0 !== p ? p : 1,
                        state: n,
                        achievement: null !== (m = null == w ? void 0 : w[2]) && void 0 !== m ? m : "",
                        finish: null !== (v = null == w ? void 0 : w[3]) && void 0 !== v ? v : 1,
                        quantity: null !== (y = null == w ? void 0 : w[4]) && void 0 !== y ? y : 1
                    }))
                } else
                    b.Z.getStore(E) ? (t.dispatch((0,
                    R.aq)()),
                    t.dispatch((0,
                    c.WU)(E))) : console.log("unknown dialog ".concat(E))
            }
        }
        ),
        (0,
        s.H)(R.oi.type, e => {
            let {sourceIndex: t, targetIndex: n, sourceContainer: r, targetContainer: i} = e;
            (t !== n || r !== i) && l.rV.inventory.swapItems.emit(e)
        }
        );
        var W = n(75268)
          , J = n(11941)
          , K = n(25904);
        (0,
        s.H)("game/".concat(l.fb.PLAYER_EXP_CHANGE), (e, t) => {
            var n, r, i;
            let o = null === (n = t.getState().game.player) || void 0 === n ? void 0 : n.full;
            if (!o)
                return;
            let a = o.levels
              , s = e.levels
              , l = []
              , u = o.quests;
            !Y.Skills.every(e => {
                var t, n;
                return ((null === (t = a[e]) || void 0 === t ? void 0 : t.level) || 0) === ((null === (n = s[e]) || void 0 === n ? void 0 : n.level) || 0)
            }
            ) && (null === (r = Object.values(b.Z.getGameItems() || {}).filter(e => {
                var t, n;
                return null == e ? void 0 : null === (n = e.requirements) || void 0 === n ? void 0 : null === (t = n.levels) || void 0 === t ? void 0 : t.some(e => {
                    let {levelType: t, level: n} = e;
                    return !!Y.Skills.includes(t) && n >= 0
                }
                )
            }
            )) || void 0 === r || r.filter(e => {
                var t, n;
                return (null === (t = e.requirements.levels) || void 0 === t ? void 0 : t.some(e => {
                    var t;
                    return e.level > ((null === (t = a[e.levelType]) || void 0 === t ? void 0 : t.level) || 0)
                }
                )) && e.requirements.levels.every(e => {
                    var t;
                    return ((null === (t = s[e.levelType]) || void 0 === t ? void 0 : t.level) || 0) >= e.level
                }
                ) && (!(null === (n = e.requirements) || void 0 === n ? void 0 : n.quests) || e.requirements.quests.every(e => {
                    var t;
                    return null === (t = u[e]) || void 0 === t ? void 0 : t.isComplete
                }
                ))
            }
            ).forEach(e => l.push({
                source: "item",
                icon: e.image,
                text: {
                    id: "notifications.itemUnlocked",
                    name: (0,
                    x.sA)(e.id)
                },
                deduplicationKey: "notifications.itemUnlocked-".concat(e.id)
            })),
            null === (i = Object.values(b.Z.getGameAchievements() || {}).filter(e => {
                var t;
                return (null === (t = e.craftable) || void 0 === t ? void 0 : t.autoGrant) && e.craftable.requiredLevel > 0
            }
            )) || void 0 === i || i.filter(e => {
                var t, n;
                if (!e.craftable || (0,
                K.aG)(o.achievements, e.id))
                    return !1;
                let r = e.craftable.requiredLevel || 0
                  , i = e.craftable.requiredSkill;
                if (!i || !r)
                    return !1;
                let l = (null === (t = a[i]) || void 0 === t ? void 0 : t.level) || 0;
                return ((null === (n = s[i]) || void 0 === n ? void 0 : n.level) || 0) >= r && l < r
            }
            ).forEach(e => {
                let t = e.craftable.requiredSkill;
                l.push({
                    source: "achievement",
                    icon: "".concat(W.fd).concat(t, ".png"),
                    text: {
                        id: "notifications.globalAchievementUnlocked",
                        name: (0,
                        x.sA)(e.id)
                    },
                    deduplicationKey: "notifications.globalAchievementUnlocked-".concat(e.id)
                })
            }
            ),
            l.length && es.set(J.W_, l))
        }
        ),
        n(69980),
        (0,
        s.H)(R.$Z.type, (e, t) => {
            let {mid: n, item: r} = e;
            !n && r && function(e, t) {
                if (e) {
                    let f;
                    let h = t && function(e) {
                        var t;
                        if (!(null == e ? void 0 : null === (t = e.useTargets) || void 0 === t ? void 0 : t.types.includes("mapLabels")) || !e.useTargets.mapLabels)
                            return !0;
                        let n = g.l.getInstance().mapLabels;
                        return e.useTargets.mapLabels.every(e => n.includes(e))
                    }(e);
                    if (f = {
                        type: "item",
                        config: {
                            item: e
                        }
                    },
                    h) {
                        var n, r, i, o, a, s, u, c, d;
                        if (null == e ? void 0 : null === (n = e.onUse) || void 0 === n ? void 0 : n.placeObject)
                            f = {
                                type: "object",
                                config: {
                                    object: b.Z.getGameObject(null == e ? void 0 : null === (u = e.onUse) || void 0 === u ? void 0 : u.placeObject)
                                },
                                placing: !0
                            };
                        else if (null == e ? void 0 : null === (i = e.onUse) || void 0 === i ? void 0 : null === (r = i.placeEntity) || void 0 === r ? void 0 : r.entity) {
                            let t = b.Z.getGameEntity(e.onUse.placeEntity.entity);
                            f = {
                                type: "entity",
                                config: {
                                    entity: t
                                },
                                placing: !0
                            },
                            (null == t ? void 0 : t.generic) && e.onUse.placeEntity.state && (f.config.entity.generic.defaultState = e.onUse.placeEntity.state)
                        } else
                            (null === (a = e.onUse) || void 0 === a ? void 0 : null === (o = a.placeTile) || void 0 === o ? void 0 : o.tileset) ? f = {
                                type: "tile",
                                config: {
                                    tile: {
                                        tilesetId: null === (d = e.onUse) || void 0 === d ? void 0 : null === (c = d.placeTile) || void 0 === c ? void 0 : c.tileset
                                    }
                                }
                            } : (null === (s = e.onUse) || void 0 === s ? void 0 : s.types.includes("removeTile")) && (f = {
                                type: "tile",
                                config: {
                                    tile: {}
                                }
                            })
                    }
                    let p = (0,
                    I.hD)(e);
                    l.rV.attachToCursor.emit({
                        ...f,
                        editingWithoutPermissions: p && !h,
                        removing: p
                    })
                }
            }(r, !e.ctrl && (0,
            d.Vb)(t.getState()))
        }
        );
        var X = n(63534);
        (0,
        s.H)("game/CLIENT_CMD", e => {
            let {detail: t, source: n, params: r} = e;
            switch (t) {
            case "petHatch":
                n && X.Z.hatchPet(n).then(e => {
                    var t, i;
                    "success" === e ? l.ZP.sendEventDelayed(T.mY.clickEntity, {
                        mid: n,
                        impact: "hatched",
                        entity: null !== (t = null == r ? void 0 : r[0]) && void 0 !== t ? t : "ent_growthlab"
                    }) : l.ZP.sendEventDelayed(T.mY.clickEntity, {
                        mid: n,
                        impact: "failed",
                        entity: null !== (i = null == r ? void 0 : r[0]) && void 0 !== i ? i : "ent_growthlab"
                    })
                }
                );
                break;
            case "roninInjectedFunction":
                try {
                    var i, o, a, s, u, c, d, f, h;
                    let e = ea.getState()
                      , t = null !== (h = null == r ? void 0 : r[0]) && void 0 !== h ? h : "cbRoninCall"
                      , n = null === (a = e.game.player) || void 0 === a ? void 0 : null === (o = a.full) || void 0 === o ? void 0 : null === (i = o.cryptoWallets) || void 0 === i ? void 0 : i.map(e => e.address);
                    null === (f = window.ronin) || void 0 === f || null === (d = f.provider) || void 0 === d || null === (c = d[t]) || void 0 === c || c.call(d, {
                        userId: null === (u = e.game.player) || void 0 === u ? void 0 : null === (s = u.core) || void 0 === s ? void 0 : s.mid,
                        addresses: n
                    }).then(e => {
                        console.log("Ronin injected function result: ", e)
                    }
                    ).catch(e => {
                        console.log("Ronin injected function ERROR: ", e)
                    }
                    )
                } catch (e) {
                    console.log(e)
                }
            }
        }
        );
        var Q = n(32701);
        (0,
        s.H)("game/PLAYER_COIN_INVENTORY_CHANGE", e => {
            e.added > 0 && ((null == e ? void 0 : e.currencyId) === "cur_pixel" && (0,
            Q.T)("pixel"),
            (null == e ? void 0 : e.currencyId) === "cur_coins" && (0,
            Q.T)("coins"))
        }
        );
        var ee = n(85469)
          , et = n(40723)
          , en = n(72936)
          , er = n(17553)
          , ei = n(28466)
          , eo = n(15103);
        let ea = (0,
        a.xC)({
            reducer: {
                auth: h.Co,
                game: f.ZP,
                ui: u.ZP,
                mailbox: V.ZP,
                generalStore: c.ZP,
                marketplace: $.ZP,
                chat: en.ZP,
                plot: U.ZP,
                report: er.ZP,
                storage: R.ZP,
                trade: ei.ZP,
                mapEditor: d.ZP,
                crafting: j.ZP
            },
            middleware: e => e().concat(e => t => n => {
                if (n.type === h.Kx.type)
                    (async () => {
                        try {
                            var t, r, i, o;
                            let a = null !== (i = (0,
                            m.Ul)("wallet-provider")) && void 0 !== i ? i : "unknown"
                              , s = await ee.Z.initialize(null !== (o = (0,
                            m.En)(null === (t = n.payload) || void 0 === t ? void 0 : t.mapId)) && void 0 !== o ? o : "", a)
                              , l = null == s ? void 0 : s.player
                              , u = (0,
                            y.F5)()
                              , c = null == l ? void 0 : null === (r = l.location) || void 0 === r ? void 0 : r.mapId
                              , d = null == s ? void 0 : s.targetTenant;
                            if (d && d !== u) {
                                window.open("/".concat(d, "/").concat(c), "_self");
                                return
                            }
                            s && ee.Z.sessionToken && (e.dispatch((0,
                            et.R)({
                                mapId: c
                            })),
                            e.dispatch((0,
                            h.iM)({
                                sessionToken: ee.Z.sessionToken,
                                provider: ee.Z.walletProvider,
                                username: l.username,
                                playerId: l._id.toString(),
                                playerAvatarId: l.playerAvatarId,
                                playerAvatar: l.playerAvatar,
                                lastSavedAt: l.lastSavedAt,
                                cryptoWallets: l.cryptoWallets,
                                currentAvatar: l.currentAvatar,
                                mapId: c
                            })))
                        } catch (t) {
                            console.warn(t),
                            (null == t ? void 0 : t.error) && ("server-maintenance" === t.error || "server-unreachable" === t.error) && e.dispatch((0,
                            h.gz)({
                                message: t.message || t.error,
                                allowReload: !0,
                                allowClose: !1
                            }))
                        }
                        e.dispatch((0,
                        h.RT)())
                    }
                    )();
                else if (n.type === h.YR.type)
                    ;
                else if (h.MD.match(n)) {
                    let {username: t, avatar: r} = n.payload;
                    (async () => {
                        if (ee.Z.sessionToken) {
                            var n, i, o, a;
                            try {
                                let o = await ee.Z.createPlayer(t, r);
                                (null == o ? void 0 : null === (n = o.player) || void 0 === n ? void 0 : n.username) ? e.dispatch((0,
                                h.z1)({
                                    username: o.player.username,
                                    playerId: o.player._id,
                                    cryptoWallets: o.player.cryptoWallets,
                                    playerAvatarId: r.id,
                                    playerAvatar: r.pieces,
                                    mapId: null === (i = o.player.location) || void 0 === i ? void 0 : i.mapId
                                })) : (null == o ? void 0 : o.message) && "username-already-exists" === o.message && e.dispatch((0,
                                h.cm)({
                                    message: ["nameInUse", "Name in use"]
                                }))
                            } catch (t) {
                                (null == t ? void 0 : null === (a = t.response) || void 0 === a ? void 0 : null === (o = a.data) || void 0 === o ? void 0 : o.message) === "username-already-exists" ? e.dispatch((0,
                                h.cm)({
                                    message: ["nameInUse", "Name in use"]
                                })) : e.dispatch((0,
                                h.cm)({
                                    message: ["internalServerError", "Unknown Error Occurred Creating Player"]
                                }))
                            }
                        }
                    }
                    )()
                } else
                    n.type === f.ni.type && (async () => {
                        ee.Z.sessionToken && ee.Z.signOut().catch(e => {
                            console.log("error signing out", e)
                        }
                        ),
                        e.dispatch((0,
                        h.k4)())
                    }
                    )();
                return t(n)
            }
            ).concat(e => t => n => {
                let r = s.q[n.type];
                return r && r(n.payload, e),
                t(n)
            }
            )
        })
          , es = (0,
        eo.MT)()
    },
    21876: function(e) {
        !function() {
            var t = {
                675: function(e, t) {
                    "use strict";
                    t.byteLength = function(e) {
                        var t = l(e)
                          , n = t[0]
                          , r = t[1];
                        return (n + r) * 3 / 4 - r
                    }
                    ,
                    t.toByteArray = function(e) {
                        var t, n, o = l(e), a = o[0], s = o[1], u = new i((a + s) * 3 / 4 - s), c = 0, d = s > 0 ? a - 4 : a;
                        for (n = 0; n < d; n += 4)
                            t = r[e.charCodeAt(n)] << 18 | r[e.charCodeAt(n + 1)] << 12 | r[e.charCodeAt(n + 2)] << 6 | r[e.charCodeAt(n + 3)],
                            u[c++] = t >> 16 & 255,
                            u[c++] = t >> 8 & 255,
                            u[c++] = 255 & t;
                        return 2 === s && (t = r[e.charCodeAt(n)] << 2 | r[e.charCodeAt(n + 1)] >> 4,
                        u[c++] = 255 & t),
                        1 === s && (t = r[e.charCodeAt(n)] << 10 | r[e.charCodeAt(n + 1)] << 4 | r[e.charCodeAt(n + 2)] >> 2,
                        u[c++] = t >> 8 & 255,
                        u[c++] = 255 & t),
                        u
                    }
                    ,
                    t.fromByteArray = function(e) {
                        for (var t, r = e.length, i = r % 3, o = [], a = 0, s = r - i; a < s; a += 16383)
                            o.push(function(e, t, r) {
                                for (var i, o = [], a = t; a < r; a += 3)
                                    o.push(n[(i = (e[a] << 16 & 16711680) + (e[a + 1] << 8 & 65280) + (255 & e[a + 2])) >> 18 & 63] + n[i >> 12 & 63] + n[i >> 6 & 63] + n[63 & i]);
                                return o.join("")
                            }(e, a, a + 16383 > s ? s : a + 16383));
                        return 1 === i ? o.push(n[(t = e[r - 1]) >> 2] + n[t << 4 & 63] + "==") : 2 === i && o.push(n[(t = (e[r - 2] << 8) + e[r - 1]) >> 10] + n[t >> 4 & 63] + n[t << 2 & 63] + "="),
                        o.join("")
                    }
                    ;
                    for (var n = [], r = [], i = "undefined" != typeof Uint8Array ? Uint8Array : Array, o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", a = 0, s = o.length; a < s; ++a)
                        n[a] = o[a],
                        r[o.charCodeAt(a)] = a;
                    function l(e) {
                        var t = e.length;
                        if (t % 4 > 0)
                            throw Error("Invalid string. Length must be a multiple of 4");
                        var n = e.indexOf("=");
                        -1 === n && (n = t);
                        var r = n === t ? 0 : 4 - n % 4;
                        return [n, r]
                    }
                    r["-".charCodeAt(0)] = 62,
                    r["_".charCodeAt(0)] = 63
                },
                72: function(e, t, n) {
                    "use strict";
                    var r = n(675)
                      , i = n(783)
                      , o = "function" == typeof Symbol && "function" == typeof Symbol.for ? Symbol.for("nodejs.util.inspect.custom") : null;
                    function a(e) {
                        if (e > 2147483647)
                            throw RangeError('The value "' + e + '" is invalid for option "size"');
                        var t = new Uint8Array(e);
                        return Object.setPrototypeOf(t, s.prototype),
                        t
                    }
                    function s(e, t, n) {
                        if ("number" == typeof e) {
                            if ("string" == typeof t)
                                throw TypeError('The "string" argument must be of type string. Received type number');
                            return c(e)
                        }
                        return l(e, t, n)
                    }
                    function l(e, t, n) {
                        if ("string" == typeof e)
                            return function(e, t) {
                                if (("string" != typeof t || "" === t) && (t = "utf8"),
                                !s.isEncoding(t))
                                    throw TypeError("Unknown encoding: " + t);
                                var n = 0 | h(e, t)
                                  , r = a(n)
                                  , i = r.write(e, t);
                                return i !== n && (r = r.slice(0, i)),
                                r
                            }(e, t);
                        if (ArrayBuffer.isView(e))
                            return d(e);
                        if (null == e)
                            throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e);
                        if (T(e, ArrayBuffer) || e && T(e.buffer, ArrayBuffer) || "undefined" != typeof SharedArrayBuffer && (T(e, SharedArrayBuffer) || e && T(e.buffer, SharedArrayBuffer)))
                            return function(e, t, n) {
                                var r;
                                if (t < 0 || e.byteLength < t)
                                    throw RangeError('"offset" is outside of buffer bounds');
                                if (e.byteLength < t + (n || 0))
                                    throw RangeError('"length" is outside of buffer bounds');
                                return Object.setPrototypeOf(r = void 0 === t && void 0 === n ? new Uint8Array(e) : void 0 === n ? new Uint8Array(e,t) : new Uint8Array(e,t,n), s.prototype),
                                r
                            }(e, t, n);
                        if ("number" == typeof e)
                            throw TypeError('The "value" argument must not be of type number. Received type number');
                        var r = e.valueOf && e.valueOf();
                        if (null != r && r !== e)
                            return s.from(r, t, n);
                        var i = function(e) {
                            if (s.isBuffer(e)) {
                                var t, n = 0 | f(e.length), r = a(n);
                                return 0 === r.length || e.copy(r, 0, 0, n),
                                r
                            }
                            return void 0 !== e.length ? "number" != typeof e.length || (t = e.length) != t ? a(0) : d(e) : "Buffer" === e.type && Array.isArray(e.data) ? d(e.data) : void 0
                        }(e);
                        if (i)
                            return i;
                        if ("undefined" != typeof Symbol && null != Symbol.toPrimitive && "function" == typeof e[Symbol.toPrimitive])
                            return s.from(e[Symbol.toPrimitive]("string"), t, n);
                        throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e)
                    }
                    function u(e) {
                        if ("number" != typeof e)
                            throw TypeError('"size" argument must be of type number');
                        if (e < 0)
                            throw RangeError('The value "' + e + '" is invalid for option "size"')
                    }
                    function c(e) {
                        return u(e),
                        a(e < 0 ? 0 : 0 | f(e))
                    }
                    function d(e) {
                        for (var t = e.length < 0 ? 0 : 0 | f(e.length), n = a(t), r = 0; r < t; r += 1)
                            n[r] = 255 & e[r];
                        return n
                    }
                    function f(e) {
                        if (e >= 2147483647)
                            throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");
                        return 0 | e
                    }
                    function h(e, t) {
                        if (s.isBuffer(e))
                            return e.length;
                        if (ArrayBuffer.isView(e) || T(e, ArrayBuffer))
                            return e.byteLength;
                        if ("string" != typeof e)
                            throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e);
                        var n = e.length
                          , r = arguments.length > 2 && !0 === arguments[2];
                        if (!r && 0 === n)
                            return 0;
                        for (var i = !1; ; )
                            switch (t) {
                            case "ascii":
                            case "latin1":
                            case "binary":
                                return n;
                            case "utf8":
                            case "utf-8":
                                return S(e).length;
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return 2 * n;
                            case "hex":
                                return n >>> 1;
                            case "base64":
                                return R(e).length;
                            default:
                                if (i)
                                    return r ? -1 : S(e).length;
                                t = ("" + t).toLowerCase(),
                                i = !0
                            }
                    }
                    function p(e, t, n) {
                        var i, o, a = !1;
                        if ((void 0 === t || t < 0) && (t = 0),
                        t > this.length || ((void 0 === n || n > this.length) && (n = this.length),
                        n <= 0 || (n >>>= 0) <= (t >>>= 0)))
                            return "";
                        for (e || (e = "utf8"); ; )
                            switch (e) {
                            case "hex":
                                return function(e, t, n) {
                                    var r = e.length;
                                    (!t || t < 0) && (t = 0),
                                    (!n || n < 0 || n > r) && (n = r);
                                    for (var i = "", o = t; o < n; ++o)
                                        i += x[e[o]];
                                    return i
                                }(this, t, n);
                            case "utf8":
                            case "utf-8":
                                return y(this, t, n);
                            case "ascii":
                                return function(e, t, n) {
                                    var r = "";
                                    n = Math.min(e.length, n);
                                    for (var i = t; i < n; ++i)
                                        r += String.fromCharCode(127 & e[i]);
                                    return r
                                }(this, t, n);
                            case "latin1":
                            case "binary":
                                return function(e, t, n) {
                                    var r = "";
                                    n = Math.min(e.length, n);
                                    for (var i = t; i < n; ++i)
                                        r += String.fromCharCode(e[i]);
                                    return r
                                }(this, t, n);
                            case "base64":
                                return i = t,
                                o = n,
                                0 === i && o === this.length ? r.fromByteArray(this) : r.fromByteArray(this.slice(i, o));
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return function(e, t, n) {
                                    for (var r = e.slice(t, n), i = "", o = 0; o < r.length; o += 2)
                                        i += String.fromCharCode(r[o] + 256 * r[o + 1]);
                                    return i
                                }(this, t, n);
                            default:
                                if (a)
                                    throw TypeError("Unknown encoding: " + e);
                                e = (e + "").toLowerCase(),
                                a = !0
                            }
                    }
                    function g(e, t, n) {
                        var r = e[t];
                        e[t] = e[n],
                        e[n] = r
                    }
                    function m(e, t, n, r, i) {
                        var o;
                        if (0 === e.length)
                            return -1;
                        if ("string" == typeof n ? (r = n,
                        n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648),
                        (o = n = +n) != o && (n = i ? 0 : e.length - 1),
                        n < 0 && (n = e.length + n),
                        n >= e.length) {
                            if (i)
                                return -1;
                            n = e.length - 1
                        } else if (n < 0) {
                            if (!i)
                                return -1;
                            n = 0
                        }
                        if ("string" == typeof t && (t = s.from(t, r)),
                        s.isBuffer(t))
                            return 0 === t.length ? -1 : v(e, t, n, r, i);
                        if ("number" == typeof t)
                            return (t &= 255,
                            "function" == typeof Uint8Array.prototype.indexOf) ? i ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : v(e, [t], n, r, i);
                        throw TypeError("val must be string, number or Buffer")
                    }
                    function v(e, t, n, r, i) {
                        var o, a = 1, s = e.length, l = t.length;
                        if (void 0 !== r && ("ucs2" === (r = String(r).toLowerCase()) || "ucs-2" === r || "utf16le" === r || "utf-16le" === r)) {
                            if (e.length < 2 || t.length < 2)
                                return -1;
                            a = 2,
                            s /= 2,
                            l /= 2,
                            n /= 2
                        }
                        function u(e, t) {
                            return 1 === a ? e[t] : e.readUInt16BE(t * a)
                        }
                        if (i) {
                            var c = -1;
                            for (o = n; o < s; o++)
                                if (u(e, o) === u(t, -1 === c ? 0 : o - c)) {
                                    if (-1 === c && (c = o),
                                    o - c + 1 === l)
                                        return c * a
                                } else
                                    -1 !== c && (o -= o - c),
                                    c = -1
                        } else
                            for (n + l > s && (n = s - l),
                            o = n; o >= 0; o--) {
                                for (var d = !0, f = 0; f < l; f++)
                                    if (u(e, o + f) !== u(t, f)) {
                                        d = !1;
                                        break
                                    }
                                if (d)
                                    return o
                            }
                        return -1
                    }
                    function y(e, t, n) {
                        n = Math.min(e.length, n);
                        for (var r = [], i = t; i < n; ) {
                            var o, a, s, l, u = e[i], c = null, d = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
                            if (i + d <= n)
                                switch (d) {
                                case 1:
                                    u < 128 && (c = u);
                                    break;
                                case 2:
                                    (192 & (o = e[i + 1])) == 128 && (l = (31 & u) << 6 | 63 & o) > 127 && (c = l);
                                    break;
                                case 3:
                                    o = e[i + 1],
                                    a = e[i + 2],
                                    (192 & o) == 128 && (192 & a) == 128 && (l = (15 & u) << 12 | (63 & o) << 6 | 63 & a) > 2047 && (l < 55296 || l > 57343) && (c = l);
                                    break;
                                case 4:
                                    o = e[i + 1],
                                    a = e[i + 2],
                                    s = e[i + 3],
                                    (192 & o) == 128 && (192 & a) == 128 && (192 & s) == 128 && (l = (15 & u) << 18 | (63 & o) << 12 | (63 & a) << 6 | 63 & s) > 65535 && l < 1114112 && (c = l)
                                }
                            null === c ? (c = 65533,
                            d = 1) : c > 65535 && (c -= 65536,
                            r.push(c >>> 10 & 1023 | 55296),
                            c = 56320 | 1023 & c),
                            r.push(c),
                            i += d
                        }
                        return function(e) {
                            var t = e.length;
                            if (t <= 4096)
                                return String.fromCharCode.apply(String, e);
                            for (var n = "", r = 0; r < t; )
                                n += String.fromCharCode.apply(String, e.slice(r, r += 4096));
                            return n
                        }(r)
                    }
                    function b(e, t, n) {
                        if (e % 1 != 0 || e < 0)
                            throw RangeError("offset is not uint");
                        if (e + t > n)
                            throw RangeError("Trying to access beyond buffer length")
                    }
                    function E(e, t, n, r, i, o) {
                        if (!s.isBuffer(e))
                            throw TypeError('"buffer" argument must be a Buffer instance');
                        if (t > i || t < o)
                            throw RangeError('"value" argument is out of bounds');
                        if (n + r > e.length)
                            throw RangeError("Index out of range")
                    }
                    function _(e, t, n, r, i, o) {
                        if (n + r > e.length || n < 0)
                            throw RangeError("Index out of range")
                    }
                    function w(e, t, n, r, o) {
                        return t = +t,
                        n >>>= 0,
                        o || _(e, t, n, 4, 34028234663852886e22, -34028234663852886e22),
                        i.write(e, t, n, r, 23, 4),
                        n + 4
                    }
                    function O(e, t, n, r, o) {
                        return t = +t,
                        n >>>= 0,
                        o || _(e, t, n, 8, 17976931348623157e292, -17976931348623157e292),
                        i.write(e, t, n, r, 52, 8),
                        n + 8
                    }
                    t.Buffer = s,
                    t.SlowBuffer = function(e) {
                        return +e != e && (e = 0),
                        s.alloc(+e)
                    }
                    ,
                    t.INSPECT_MAX_BYTES = 50,
                    t.kMaxLength = 2147483647,
                    s.TYPED_ARRAY_SUPPORT = function() {
                        try {
                            var e = new Uint8Array(1)
                              , t = {
                                foo: function() {
                                    return 42
                                }
                            };
                            return Object.setPrototypeOf(t, Uint8Array.prototype),
                            Object.setPrototypeOf(e, t),
                            42 === e.foo()
                        } catch (e) {
                            return !1
                        }
                    }(),
                    s.TYPED_ARRAY_SUPPORT || "undefined" == typeof console || "function" != typeof console.error || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),
                    Object.defineProperty(s.prototype, "parent", {
                        enumerable: !0,
                        get: function() {
                            if (s.isBuffer(this))
                                return this.buffer
                        }
                    }),
                    Object.defineProperty(s.prototype, "offset", {
                        enumerable: !0,
                        get: function() {
                            if (s.isBuffer(this))
                                return this.byteOffset
                        }
                    }),
                    s.poolSize = 8192,
                    s.from = function(e, t, n) {
                        return l(e, t, n)
                    }
                    ,
                    Object.setPrototypeOf(s.prototype, Uint8Array.prototype),
                    Object.setPrototypeOf(s, Uint8Array),
                    s.alloc = function(e, t, n) {
                        return (u(e),
                        e <= 0) ? a(e) : void 0 !== t ? "string" == typeof n ? a(e).fill(t, n) : a(e).fill(t) : a(e)
                    }
                    ,
                    s.allocUnsafe = function(e) {
                        return c(e)
                    }
                    ,
                    s.allocUnsafeSlow = function(e) {
                        return c(e)
                    }
                    ,
                    s.isBuffer = function(e) {
                        return null != e && !0 === e._isBuffer && e !== s.prototype
                    }
                    ,
                    s.compare = function(e, t) {
                        if (T(e, Uint8Array) && (e = s.from(e, e.offset, e.byteLength)),
                        T(t, Uint8Array) && (t = s.from(t, t.offset, t.byteLength)),
                        !s.isBuffer(e) || !s.isBuffer(t))
                            throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
                        if (e === t)
                            return 0;
                        for (var n = e.length, r = t.length, i = 0, o = Math.min(n, r); i < o; ++i)
                            if (e[i] !== t[i]) {
                                n = e[i],
                                r = t[i];
                                break
                            }
                        return n < r ? -1 : r < n ? 1 : 0
                    }
                    ,
                    s.isEncoding = function(e) {
                        switch (String(e).toLowerCase()) {
                        case "hex":
                        case "utf8":
                        case "utf-8":
                        case "ascii":
                        case "latin1":
                        case "binary":
                        case "base64":
                        case "ucs2":
                        case "ucs-2":
                        case "utf16le":
                        case "utf-16le":
                            return !0;
                        default:
                            return !1
                        }
                    }
                    ,
                    s.concat = function(e, t) {
                        if (!Array.isArray(e))
                            throw TypeError('"list" argument must be an Array of Buffers');
                        if (0 === e.length)
                            return s.alloc(0);
                        if (void 0 === t)
                            for (n = 0,
                            t = 0; n < e.length; ++n)
                                t += e[n].length;
                        var n, r = s.allocUnsafe(t), i = 0;
                        for (n = 0; n < e.length; ++n) {
                            var o = e[n];
                            if (T(o, Uint8Array) && (o = s.from(o)),
                            !s.isBuffer(o))
                                throw TypeError('"list" argument must be an Array of Buffers');
                            o.copy(r, i),
                            i += o.length
                        }
                        return r
                    }
                    ,
                    s.byteLength = h,
                    s.prototype._isBuffer = !0,
                    s.prototype.swap16 = function() {
                        var e = this.length;
                        if (e % 2 != 0)
                            throw RangeError("Buffer size must be a multiple of 16-bits");
                        for (var t = 0; t < e; t += 2)
                            g(this, t, t + 1);
                        return this
                    }
                    ,
                    s.prototype.swap32 = function() {
                        var e = this.length;
                        if (e % 4 != 0)
                            throw RangeError("Buffer size must be a multiple of 32-bits");
                        for (var t = 0; t < e; t += 4)
                            g(this, t, t + 3),
                            g(this, t + 1, t + 2);
                        return this
                    }
                    ,
                    s.prototype.swap64 = function() {
                        var e = this.length;
                        if (e % 8 != 0)
                            throw RangeError("Buffer size must be a multiple of 64-bits");
                        for (var t = 0; t < e; t += 8)
                            g(this, t, t + 7),
                            g(this, t + 1, t + 6),
                            g(this, t + 2, t + 5),
                            g(this, t + 3, t + 4);
                        return this
                    }
                    ,
                    s.prototype.toString = function() {
                        var e = this.length;
                        return 0 === e ? "" : 0 == arguments.length ? y(this, 0, e) : p.apply(this, arguments)
                    }
                    ,
                    s.prototype.toLocaleString = s.prototype.toString,
                    s.prototype.equals = function(e) {
                        if (!s.isBuffer(e))
                            throw TypeError("Argument must be a Buffer");
                        return this === e || 0 === s.compare(this, e)
                    }
                    ,
                    s.prototype.inspect = function() {
                        var e = ""
                          , n = t.INSPECT_MAX_BYTES;
                        return e = this.toString("hex", 0, n).replace(/(.{2})/g, "$1 ").trim(),
                        this.length > n && (e += " ... "),
                        "<Buffer " + e + ">"
                    }
                    ,
                    o && (s.prototype[o] = s.prototype.inspect),
                    s.prototype.compare = function(e, t, n, r, i) {
                        if (T(e, Uint8Array) && (e = s.from(e, e.offset, e.byteLength)),
                        !s.isBuffer(e))
                            throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof e);
                        if (void 0 === t && (t = 0),
                        void 0 === n && (n = e ? e.length : 0),
                        void 0 === r && (r = 0),
                        void 0 === i && (i = this.length),
                        t < 0 || n > e.length || r < 0 || i > this.length)
                            throw RangeError("out of range index");
                        if (r >= i && t >= n)
                            return 0;
                        if (r >= i)
                            return -1;
                        if (t >= n)
                            return 1;
                        if (t >>>= 0,
                        n >>>= 0,
                        r >>>= 0,
                        i >>>= 0,
                        this === e)
                            return 0;
                        for (var o = i - r, a = n - t, l = Math.min(o, a), u = this.slice(r, i), c = e.slice(t, n), d = 0; d < l; ++d)
                            if (u[d] !== c[d]) {
                                o = u[d],
                                a = c[d];
                                break
                            }
                        return o < a ? -1 : a < o ? 1 : 0
                    }
                    ,
                    s.prototype.includes = function(e, t, n) {
                        return -1 !== this.indexOf(e, t, n)
                    }
                    ,
                    s.prototype.indexOf = function(e, t, n) {
                        return m(this, e, t, n, !0)
                    }
                    ,
                    s.prototype.lastIndexOf = function(e, t, n) {
                        return m(this, e, t, n, !1)
                    }
                    ,
                    s.prototype.write = function(e, t, n, r) {
                        if (void 0 === t)
                            r = "utf8",
                            n = this.length,
                            t = 0;
                        else if (void 0 === n && "string" == typeof t)
                            r = t,
                            n = this.length,
                            t = 0;
                        else if (isFinite(t))
                            t >>>= 0,
                            isFinite(n) ? (n >>>= 0,
                            void 0 === r && (r = "utf8")) : (r = n,
                            n = void 0);
                        else
                            throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                        var i, o, a, s, l, u, c, d, f, h, p, g, m = this.length - t;
                        if ((void 0 === n || n > m) && (n = m),
                        e.length > 0 && (n < 0 || t < 0) || t > this.length)
                            throw RangeError("Attempt to write outside buffer bounds");
                        r || (r = "utf8");
                        for (var v = !1; ; )
                            switch (r) {
                            case "hex":
                                return function(e, t, n, r) {
                                    n = Number(n) || 0;
                                    var i = e.length - n;
                                    r ? (r = Number(r)) > i && (r = i) : r = i;
                                    var o = t.length;
                                    r > o / 2 && (r = o / 2);
                                    for (var a = 0; a < r; ++a) {
                                        var s = parseInt(t.substr(2 * a, 2), 16);
                                        if (s != s)
                                            break;
                                        e[n + a] = s
                                    }
                                    return a
                                }(this, e, t, n);
                            case "utf8":
                            case "utf-8":
                                return l = t,
                                u = n,
                                I(S(e, this.length - l), this, l, u);
                            case "ascii":
                                return c = t,
                                d = n,
                                I(P(e), this, c, d);
                            case "latin1":
                            case "binary":
                                return i = this,
                                o = e,
                                a = t,
                                s = n,
                                I(P(o), i, a, s);
                            case "base64":
                                return f = t,
                                h = n,
                                I(R(e), this, f, h);
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return p = t,
                                g = n,
                                I(function(e, t) {
                                    for (var n, r, i = [], o = 0; o < e.length && !((t -= 2) < 0); ++o)
                                        r = (n = e.charCodeAt(o)) >> 8,
                                        i.push(n % 256),
                                        i.push(r);
                                    return i
                                }(e, this.length - p), this, p, g);
                            default:
                                if (v)
                                    throw TypeError("Unknown encoding: " + r);
                                r = ("" + r).toLowerCase(),
                                v = !0
                            }
                    }
                    ,
                    s.prototype.toJSON = function() {
                        return {
                            type: "Buffer",
                            data: Array.prototype.slice.call(this._arr || this, 0)
                        }
                    }
                    ,
                    s.prototype.slice = function(e, t) {
                        var n = this.length;
                        e = ~~e,
                        t = void 0 === t ? n : ~~t,
                        e < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n),
                        t < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n),
                        t < e && (t = e);
                        var r = this.subarray(e, t);
                        return Object.setPrototypeOf(r, s.prototype),
                        r
                    }
                    ,
                    s.prototype.readUIntLE = function(e, t, n) {
                        e >>>= 0,
                        t >>>= 0,
                        n || b(e, t, this.length);
                        for (var r = this[e], i = 1, o = 0; ++o < t && (i *= 256); )
                            r += this[e + o] * i;
                        return r
                    }
                    ,
                    s.prototype.readUIntBE = function(e, t, n) {
                        e >>>= 0,
                        t >>>= 0,
                        n || b(e, t, this.length);
                        for (var r = this[e + --t], i = 1; t > 0 && (i *= 256); )
                            r += this[e + --t] * i;
                        return r
                    }
                    ,
                    s.prototype.readUInt8 = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 1, this.length),
                        this[e]
                    }
                    ,
                    s.prototype.readUInt16LE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 2, this.length),
                        this[e] | this[e + 1] << 8
                    }
                    ,
                    s.prototype.readUInt16BE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 2, this.length),
                        this[e] << 8 | this[e + 1]
                    }
                    ,
                    s.prototype.readUInt32LE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 4, this.length),
                        (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
                    }
                    ,
                    s.prototype.readUInt32BE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 4, this.length),
                        16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
                    }
                    ,
                    s.prototype.readIntLE = function(e, t, n) {
                        e >>>= 0,
                        t >>>= 0,
                        n || b(e, t, this.length);
                        for (var r = this[e], i = 1, o = 0; ++o < t && (i *= 256); )
                            r += this[e + o] * i;
                        return r >= (i *= 128) && (r -= Math.pow(2, 8 * t)),
                        r
                    }
                    ,
                    s.prototype.readIntBE = function(e, t, n) {
                        e >>>= 0,
                        t >>>= 0,
                        n || b(e, t, this.length);
                        for (var r = t, i = 1, o = this[e + --r]; r > 0 && (i *= 256); )
                            o += this[e + --r] * i;
                        return o >= (i *= 128) && (o -= Math.pow(2, 8 * t)),
                        o
                    }
                    ,
                    s.prototype.readInt8 = function(e, t) {
                        return (e >>>= 0,
                        t || b(e, 1, this.length),
                        128 & this[e]) ? -((255 - this[e] + 1) * 1) : this[e]
                    }
                    ,
                    s.prototype.readInt16LE = function(e, t) {
                        e >>>= 0,
                        t || b(e, 2, this.length);
                        var n = this[e] | this[e + 1] << 8;
                        return 32768 & n ? 4294901760 | n : n
                    }
                    ,
                    s.prototype.readInt16BE = function(e, t) {
                        e >>>= 0,
                        t || b(e, 2, this.length);
                        var n = this[e + 1] | this[e] << 8;
                        return 32768 & n ? 4294901760 | n : n
                    }
                    ,
                    s.prototype.readInt32LE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 4, this.length),
                        this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
                    }
                    ,
                    s.prototype.readInt32BE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 4, this.length),
                        this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
                    }
                    ,
                    s.prototype.readFloatLE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 4, this.length),
                        i.read(this, e, !0, 23, 4)
                    }
                    ,
                    s.prototype.readFloatBE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 4, this.length),
                        i.read(this, e, !1, 23, 4)
                    }
                    ,
                    s.prototype.readDoubleLE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 8, this.length),
                        i.read(this, e, !0, 52, 8)
                    }
                    ,
                    s.prototype.readDoubleBE = function(e, t) {
                        return e >>>= 0,
                        t || b(e, 8, this.length),
                        i.read(this, e, !1, 52, 8)
                    }
                    ,
                    s.prototype.writeUIntLE = function(e, t, n, r) {
                        if (e = +e,
                        t >>>= 0,
                        n >>>= 0,
                        !r) {
                            var i = Math.pow(2, 8 * n) - 1;
                            E(this, e, t, n, i, 0)
                        }
                        var o = 1
                          , a = 0;
                        for (this[t] = 255 & e; ++a < n && (o *= 256); )
                            this[t + a] = e / o & 255;
                        return t + n
                    }
                    ,
                    s.prototype.writeUIntBE = function(e, t, n, r) {
                        if (e = +e,
                        t >>>= 0,
                        n >>>= 0,
                        !r) {
                            var i = Math.pow(2, 8 * n) - 1;
                            E(this, e, t, n, i, 0)
                        }
                        var o = n - 1
                          , a = 1;
                        for (this[t + o] = 255 & e; --o >= 0 && (a *= 256); )
                            this[t + o] = e / a & 255;
                        return t + n
                    }
                    ,
                    s.prototype.writeUInt8 = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 1, 255, 0),
                        this[t] = 255 & e,
                        t + 1
                    }
                    ,
                    s.prototype.writeUInt16LE = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 2, 65535, 0),
                        this[t] = 255 & e,
                        this[t + 1] = e >>> 8,
                        t + 2
                    }
                    ,
                    s.prototype.writeUInt16BE = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 2, 65535, 0),
                        this[t] = e >>> 8,
                        this[t + 1] = 255 & e,
                        t + 2
                    }
                    ,
                    s.prototype.writeUInt32LE = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 4, 4294967295, 0),
                        this[t + 3] = e >>> 24,
                        this[t + 2] = e >>> 16,
                        this[t + 1] = e >>> 8,
                        this[t] = 255 & e,
                        t + 4
                    }
                    ,
                    s.prototype.writeUInt32BE = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 4, 4294967295, 0),
                        this[t] = e >>> 24,
                        this[t + 1] = e >>> 16,
                        this[t + 2] = e >>> 8,
                        this[t + 3] = 255 & e,
                        t + 4
                    }
                    ,
                    s.prototype.writeIntLE = function(e, t, n, r) {
                        if (e = +e,
                        t >>>= 0,
                        !r) {
                            var i = Math.pow(2, 8 * n - 1);
                            E(this, e, t, n, i - 1, -i)
                        }
                        var o = 0
                          , a = 1
                          , s = 0;
                        for (this[t] = 255 & e; ++o < n && (a *= 256); )
                            e < 0 && 0 === s && 0 !== this[t + o - 1] && (s = 1),
                            this[t + o] = (e / a >> 0) - s & 255;
                        return t + n
                    }
                    ,
                    s.prototype.writeIntBE = function(e, t, n, r) {
                        if (e = +e,
                        t >>>= 0,
                        !r) {
                            var i = Math.pow(2, 8 * n - 1);
                            E(this, e, t, n, i - 1, -i)
                        }
                        var o = n - 1
                          , a = 1
                          , s = 0;
                        for (this[t + o] = 255 & e; --o >= 0 && (a *= 256); )
                            e < 0 && 0 === s && 0 !== this[t + o + 1] && (s = 1),
                            this[t + o] = (e / a >> 0) - s & 255;
                        return t + n
                    }
                    ,
                    s.prototype.writeInt8 = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 1, 127, -128),
                        e < 0 && (e = 255 + e + 1),
                        this[t] = 255 & e,
                        t + 1
                    }
                    ,
                    s.prototype.writeInt16LE = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 2, 32767, -32768),
                        this[t] = 255 & e,
                        this[t + 1] = e >>> 8,
                        t + 2
                    }
                    ,
                    s.prototype.writeInt16BE = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 2, 32767, -32768),
                        this[t] = e >>> 8,
                        this[t + 1] = 255 & e,
                        t + 2
                    }
                    ,
                    s.prototype.writeInt32LE = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 4, 2147483647, -2147483648),
                        this[t] = 255 & e,
                        this[t + 1] = e >>> 8,
                        this[t + 2] = e >>> 16,
                        this[t + 3] = e >>> 24,
                        t + 4
                    }
                    ,
                    s.prototype.writeInt32BE = function(e, t, n) {
                        return e = +e,
                        t >>>= 0,
                        n || E(this, e, t, 4, 2147483647, -2147483648),
                        e < 0 && (e = 4294967295 + e + 1),
                        this[t] = e >>> 24,
                        this[t + 1] = e >>> 16,
                        this[t + 2] = e >>> 8,
                        this[t + 3] = 255 & e,
                        t + 4
                    }
                    ,
                    s.prototype.writeFloatLE = function(e, t, n) {
                        return w(this, e, t, !0, n)
                    }
                    ,
                    s.prototype.writeFloatBE = function(e, t, n) {
                        return w(this, e, t, !1, n)
                    }
                    ,
                    s.prototype.writeDoubleLE = function(e, t, n) {
                        return O(this, e, t, !0, n)
                    }
                    ,
                    s.prototype.writeDoubleBE = function(e, t, n) {
                        return O(this, e, t, !1, n)
                    }
                    ,
                    s.prototype.copy = function(e, t, n, r) {
                        if (!s.isBuffer(e))
                            throw TypeError("argument should be a Buffer");
                        if (n || (n = 0),
                        r || 0 === r || (r = this.length),
                        t >= e.length && (t = e.length),
                        t || (t = 0),
                        r > 0 && r < n && (r = n),
                        r === n || 0 === e.length || 0 === this.length)
                            return 0;
                        if (t < 0)
                            throw RangeError("targetStart out of bounds");
                        if (n < 0 || n >= this.length)
                            throw RangeError("Index out of range");
                        if (r < 0)
                            throw RangeError("sourceEnd out of bounds");
                        r > this.length && (r = this.length),
                        e.length - t < r - n && (r = e.length - t + n);
                        var i = r - n;
                        if (this === e && "function" == typeof Uint8Array.prototype.copyWithin)
                            this.copyWithin(t, n, r);
                        else if (this === e && n < t && t < r)
                            for (var o = i - 1; o >= 0; --o)
                                e[o + t] = this[o + n];
                        else
                            Uint8Array.prototype.set.call(e, this.subarray(n, r), t);
                        return i
                    }
                    ,
                    s.prototype.fill = function(e, t, n, r) {
                        if ("string" == typeof e) {
                            if ("string" == typeof t ? (r = t,
                            t = 0,
                            n = this.length) : "string" == typeof n && (r = n,
                            n = this.length),
                            void 0 !== r && "string" != typeof r)
                                throw TypeError("encoding must be a string");
                            if ("string" == typeof r && !s.isEncoding(r))
                                throw TypeError("Unknown encoding: " + r);
                            if (1 === e.length) {
                                var i, o = e.charCodeAt(0);
                                ("utf8" === r && o < 128 || "latin1" === r) && (e = o)
                            }
                        } else
                            "number" == typeof e ? e &= 255 : "boolean" == typeof e && (e = Number(e));
                        if (t < 0 || this.length < t || this.length < n)
                            throw RangeError("Out of range index");
                        if (n <= t)
                            return this;
                        if (t >>>= 0,
                        n = void 0 === n ? this.length : n >>> 0,
                        e || (e = 0),
                        "number" == typeof e)
                            for (i = t; i < n; ++i)
                                this[i] = e;
                        else {
                            var a = s.isBuffer(e) ? e : s.from(e, r)
                              , l = a.length;
                            if (0 === l)
                                throw TypeError('The value "' + e + '" is invalid for argument "value"');
                            for (i = 0; i < n - t; ++i)
                                this[i + t] = a[i % l]
                        }
                        return this
                    }
                    ;
                    var A = /[^+/0-9A-Za-z-_]/g;
                    function S(e, t) {
                        t = t || 1 / 0;
                        for (var n, r = e.length, i = null, o = [], a = 0; a < r; ++a) {
                            if ((n = e.charCodeAt(a)) > 55295 && n < 57344) {
                                if (!i) {
                                    if (n > 56319 || a + 1 === r) {
                                        (t -= 3) > -1 && o.push(239, 191, 189);
                                        continue
                                    }
                                    i = n;
                                    continue
                                }
                                if (n < 56320) {
                                    (t -= 3) > -1 && o.push(239, 191, 189),
                                    i = n;
                                    continue
                                }
                                n = (i - 55296 << 10 | n - 56320) + 65536
                            } else
                                i && (t -= 3) > -1 && o.push(239, 191, 189);
                            if (i = null,
                            n < 128) {
                                if ((t -= 1) < 0)
                                    break;
                                o.push(n)
                            } else if (n < 2048) {
                                if ((t -= 2) < 0)
                                    break;
                                o.push(n >> 6 | 192, 63 & n | 128)
                            } else if (n < 65536) {
                                if ((t -= 3) < 0)
                                    break;
                                o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
                            } else if (n < 1114112) {
                                if ((t -= 4) < 0)
                                    break;
                                o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
                            } else
                                throw Error("Invalid code point")
                        }
                        return o
                    }
                    function P(e) {
                        for (var t = [], n = 0; n < e.length; ++n)
                            t.push(255 & e.charCodeAt(n));
                        return t
                    }
                    function R(e) {
                        return r.toByteArray(function(e) {
                            if ((e = (e = e.split("=")[0]).trim().replace(A, "")).length < 2)
                                return "";
                            for (; e.length % 4 != 0; )
                                e += "=";
                            return e
                        }(e))
                    }
                    function I(e, t, n, r) {
                        for (var i = 0; i < r && !(i + n >= t.length) && !(i >= e.length); ++i)
                            t[i + n] = e[i];
                        return i
                    }
                    function T(e, t) {
                        return e instanceof t || null != e && null != e.constructor && null != e.constructor.name && e.constructor.name === t.name
                    }
                    var x = function() {
                        for (var e = "0123456789abcdef", t = Array(256), n = 0; n < 16; ++n)
                            for (var r = 16 * n, i = 0; i < 16; ++i)
                                t[r + i] = e[n] + e[i];
                        return t
                    }()
                },
                783: function(e, t) {
                    t.read = function(e, t, n, r, i) {
                        var o, a, s = 8 * i - r - 1, l = (1 << s) - 1, u = l >> 1, c = -7, d = n ? i - 1 : 0, f = n ? -1 : 1, h = e[t + d];
                        for (d += f,
                        o = h & (1 << -c) - 1,
                        h >>= -c,
                        c += s; c > 0; o = 256 * o + e[t + d],
                        d += f,
                        c -= 8)
                            ;
                        for (a = o & (1 << -c) - 1,
                        o >>= -c,
                        c += r; c > 0; a = 256 * a + e[t + d],
                        d += f,
                        c -= 8)
                            ;
                        if (0 === o)
                            o = 1 - u;
                        else {
                            if (o === l)
                                return a ? NaN : 1 / 0 * (h ? -1 : 1);
                            a += Math.pow(2, r),
                            o -= u
                        }
                        return (h ? -1 : 1) * a * Math.pow(2, o - r)
                    }
                    ,
                    t.write = function(e, t, n, r, i, o) {
                        var a, s, l, u = 8 * o - i - 1, c = (1 << u) - 1, d = c >> 1, f = 23 === i ? 5960464477539062e-23 : 0, h = r ? 0 : o - 1, p = r ? 1 : -1, g = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
                        for (isNaN(t = Math.abs(t)) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0,
                        a = c) : (a = Math.floor(Math.log(t) / Math.LN2),
                        t * (l = Math.pow(2, -a)) < 1 && (a--,
                        l *= 2),
                        a + d >= 1 ? t += f / l : t += f * Math.pow(2, 1 - d),
                        t * l >= 2 && (a++,
                        l /= 2),
                        a + d >= c ? (s = 0,
                        a = c) : a + d >= 1 ? (s = (t * l - 1) * Math.pow(2, i),
                        a += d) : (s = t * Math.pow(2, d - 1) * Math.pow(2, i),
                        a = 0)); i >= 8; e[n + h] = 255 & s,
                        h += p,
                        s /= 256,
                        i -= 8)
                            ;
                        for (a = a << i | s,
                        u += i; u > 0; e[n + h] = 255 & a,
                        h += p,
                        a /= 256,
                        u -= 8)
                            ;
                        e[n + h - p] |= 128 * g
                    }
                }
            }
              , n = {};
            function r(e) {
                var i = n[e];
                if (void 0 !== i)
                    return i.exports;
                var o = n[e] = {
                    exports: {}
                }
                  , a = !0;
                try {
                    t[e](o, o.exports, r),
                    a = !1
                } finally {
                    a && delete n[e]
                }
                return o.exports
            }
            r.ab = "//";
            var i = r(72);
            e.exports = i
        }()
    },
    4449: function() {},
    36958: function() {},
    21293: function(e) {
        e.exports = {
            container: "animations_container__JwfMW"
        }
    },
    77663: function(e) {
        !function() {
            var t = {
                229: function(e) {
                    var t, n, r, i = e.exports = {};
                    function o() {
                        throw Error("setTimeout has not been defined")
                    }
                    function a() {
                        throw Error("clearTimeout has not been defined")
                    }
                    function s(e) {
                        if (t === setTimeout)
                            return setTimeout(e, 0);
                        if ((t === o || !t) && setTimeout)
                            return t = setTimeout,
                            setTimeout(e, 0);
                        try {
                            return t(e, 0)
                        } catch (n) {
                            try {
                                return t.call(null, e, 0)
                            } catch (n) {
                                return t.call(this, e, 0)
                            }
                        }
                    }
                    !function() {
                        try {
                            t = "function" == typeof setTimeout ? setTimeout : o
                        } catch (e) {
                            t = o
                        }
                        try {
                            n = "function" == typeof clearTimeout ? clearTimeout : a
                        } catch (e) {
                            n = a
                        }
                    }();
                    var l = []
                      , u = !1
                      , c = -1;
                    function d() {
                        u && r && (u = !1,
                        r.length ? l = r.concat(l) : c = -1,
                        l.length && f())
                    }
                    function f() {
                        if (!u) {
                            var e = s(d);
                            u = !0;
                            for (var t = l.length; t; ) {
                                for (r = l,
                                l = []; ++c < t; )
                                    r && r[c].run();
                                c = -1,
                                t = l.length
                            }
                            r = null,
                            u = !1,
                            function(e) {
                                if (n === clearTimeout)
                                    return clearTimeout(e);
                                if ((n === a || !n) && clearTimeout)
                                    return n = clearTimeout,
                                    clearTimeout(e);
                                try {
                                    n(e)
                                } catch (t) {
                                    try {
                                        return n.call(null, e)
                                    } catch (t) {
                                        return n.call(this, e)
                                    }
                                }
                            }(e)
                        }
                    }
                    function h(e, t) {
                        this.fun = e,
                        this.array = t
                    }
                    function p() {}
                    i.nextTick = function(e) {
                        var t = Array(arguments.length - 1);
                        if (arguments.length > 1)
                            for (var n = 1; n < arguments.length; n++)
                                t[n - 1] = arguments[n];
                        l.push(new h(e,t)),
                        1 !== l.length || u || s(f)
                    }
                    ,
                    h.prototype.run = function() {
                        this.fun.apply(null, this.array)
                    }
                    ,
                    i.title = "browser",
                    i.browser = !0,
                    i.env = {},
                    i.argv = [],
                    i.version = "",
                    i.versions = {},
                    i.on = p,
                    i.addListener = p,
                    i.once = p,
                    i.off = p,
                    i.removeListener = p,
                    i.removeAllListeners = p,
                    i.emit = p,
                    i.prependListener = p,
                    i.prependOnceListener = p,
                    i.listeners = function(e) {
                        return []
                    }
                    ,
                    i.binding = function(e) {
                        throw Error("process.binding is not supported")
                    }
                    ,
                    i.cwd = function() {
                        return "/"
                    }
                    ,
                    i.chdir = function(e) {
                        throw Error("process.chdir is not supported")
                    }
                    ,
                    i.umask = function() {
                        return 0
                    }
                }
            }
              , n = {};
            function r(e) {
                var i = n[e];
                if (void 0 !== i)
                    return i.exports;
                var o = n[e] = {
                    exports: {}
                }
                  , a = !0;
                try {
                    t[e](o, o.exports, r),
                    a = !1
                } finally {
                    a && delete n[e]
                }
                return o.exports
            }
            r.ab = "//";
            var i = r(229);
            e.exports = i
        }()
    },
    11163: function(e, t, n) {
        e.exports = n(26036)
    },
    25617: function(e, t, n) {
        "use strict";
        n.d(t, {
            zt: function() {
                return h
            },
            I0: function() {
                return v
            },
            v9: function() {
                return b
            }
        });
        var r, i, o, a, s = n(67294), l = s.createContext(null), u = function(e) {
            e()
        }, c = {
            notify: function() {},
            get: function() {
                return []
            }
        };
        function d(e, t) {
            var n, r = c;
            function i() {
                a.onStateChange && a.onStateChange()
            }
            function o() {
                if (!n) {
                    var o, a, s;
                    n = t ? t.addNestedSub(i) : e.subscribe(i),
                    o = u,
                    a = null,
                    s = null,
                    r = {
                        clear: function() {
                            a = null,
                            s = null
                        },
                        notify: function() {
                            o(function() {
                                for (var e = a; e; )
                                    e.callback(),
                                    e = e.next
                            })
                        },
                        get: function() {
                            for (var e = [], t = a; t; )
                                e.push(t),
                                t = t.next;
                            return e
                        },
                        subscribe: function(e) {
                            var t = !0
                              , n = s = {
                                callback: e,
                                next: null,
                                prev: s
                            };
                            return n.prev ? n.prev.next = n : a = n,
                            function() {
                                t && null !== a && (t = !1,
                                n.next ? n.next.prev = n.prev : s = n.prev,
                                n.prev ? n.prev.next = n.next : a = n.next)
                            }
                        }
                    }
                }
            }
            var a = {
                addNestedSub: function(e) {
                    return o(),
                    r.subscribe(e)
                },
                notifyNestedSubs: function() {
                    r.notify()
                },
                handleChangeWrapper: i,
                isSubscribed: function() {
                    return !!n
                },
                trySubscribe: o,
                tryUnsubscribe: function() {
                    n && (n(),
                    n = void 0,
                    r.clear(),
                    r = c)
                },
                getListeners: function() {
                    return r
                }
            };
            return a
        }
        var f = "undefined" != typeof window && void 0 !== window.document && void 0 !== window.document.createElement ? s.useLayoutEffect : s.useEffect
          , h = function(e) {
            var t = e.store
              , n = e.context
              , r = e.children
              , i = (0,
            s.useMemo)(function() {
                var e = d(t);
                return {
                    store: t,
                    subscription: e
                }
            }, [t])
              , o = (0,
            s.useMemo)(function() {
                return t.getState()
            }, [t]);
            f(function() {
                var e = i.subscription;
                return e.onStateChange = e.notifyNestedSubs,
                e.trySubscribe(),
                o !== t.getState() && e.notifyNestedSubs(),
                function() {
                    e.tryUnsubscribe(),
                    e.onStateChange = null
                }
            }, [i, o]);
            var a = n || l;
            return s.createElement(a.Provider, {
                value: i
            }, r)
        };
        function p() {
            return (0,
            s.useContext)(l)
        }
        function g(e) {
            void 0 === e && (e = l);
            var t = e === l ? p : function() {
                return (0,
                s.useContext)(e)
            }
            ;
            return function() {
                return t().store
            }
        }
        n(8679),
        n(72973),
        n(87462);
        var m = g()
          , v = (void 0 === r && (r = l),
        i = r === l ? m : g(r),
        function() {
            return i().dispatch
        }
        )
          , y = function(e, t) {
            return e === t
        }
          , b = (void 0 === o && (o = l),
        a = o === l ? p : function() {
            return (0,
            s.useContext)(o)
        }
        ,
        function(e, t) {
            void 0 === t && (t = y);
            var n = a()
              , r = function(e, t, n, r) {
                var i, o = (0,
                s.useReducer)(function(e) {
                    return e + 1
                }, 0)[1], a = (0,
                s.useMemo)(function() {
                    return d(n, r)
                }, [n, r]), l = (0,
                s.useRef)(), u = (0,
                s.useRef)(), c = (0,
                s.useRef)(), h = (0,
                s.useRef)(), p = n.getState();
                try {
                    if (e !== u.current || p !== c.current || l.current) {
                        var g = e(p);
                        i = void 0 !== h.current && t(g, h.current) ? h.current : g
                    } else
                        i = h.current
                } catch (e) {
                    throw l.current && (e.message += "\nThe error may be correlated with this previous error:\n" + l.current.stack + "\n\n"),
                    e
                }
                return f(function() {
                    u.current = e,
                    c.current = p,
                    h.current = i,
                    l.current = void 0
                }),
                f(function() {
                    function e() {
                        try {
                            var e = n.getState();
                            if (e === c.current)
                                return;
                            var r = u.current(e);
                            if (t(r, h.current))
                                return;
                            h.current = r,
                            c.current = e
                        } catch (e) {
                            l.current = e
                        }
                        o()
                    }
                    return a.onStateChange = e,
                    a.trySubscribe(),
                    e(),
                    function() {
                        return a.tryUnsubscribe()
                    }
                }, [n, a]),
                i
            }(e, t, n.store, n.subscription);
            return (0,
            s.useDebugValue)(r),
            r
        }
        );
        u = n(73935).unstable_batchedUpdates
    },
    88359: function(e, t) {
        "use strict";
        var n = 60103
          , r = 60106
          , i = 60107
          , o = 60108
          , a = 60114
          , s = 60109
          , l = 60110
          , u = 60112
          , c = 60113
          , d = 60120
          , f = 60115
          , h = 60116;
        if ("function" == typeof Symbol && Symbol.for) {
            var p = Symbol.for;
            p("react.element"),
            p("react.portal"),
            p("react.fragment"),
            p("react.strict_mode"),
            p("react.profiler"),
            p("react.provider"),
            p("react.context"),
            p("react.forward_ref"),
            p("react.suspense"),
            p("react.suspense_list"),
            p("react.memo"),
            p("react.lazy"),
            p("react.block"),
            p("react.server.block"),
            p("react.fundamental"),
            p("react.debug_trace_mode"),
            p("react.legacy_hidden")
        }
    },
    72973: function(e, t, n) {
        "use strict";
        n(88359)
    },
    68697: function(e, t, n) {
        "use strict";
        n.d(t, {
            P1: function() {
                return o
            }
        });
        var r = "NOT_FOUND"
          , i = function(e, t) {
            return e === t
        }
          , o = function(e) {
            for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                n[r - 1] = arguments[r];
            return function() {
                for (var t, r = arguments.length, i = Array(r), o = 0; o < r; o++)
                    i[o] = arguments[o];
                var a = 0
                  , s = {
                    memoizeOptions: void 0
                }
                  , l = i.pop();
                if ("object" == typeof l && (s = l,
                l = i.pop()),
                "function" != typeof l)
                    throw Error("createSelector expects an output function after the inputs, but received: [" + typeof l + "]");
                var u = s.memoizeOptions
                  , c = void 0 === u ? n : u
                  , d = Array.isArray(c) ? c : [c]
                  , f = function(e) {
                    var t = Array.isArray(e[0]) ? e[0] : e;
                    if (!t.every(function(e) {
                        return "function" == typeof e
                    }))
                        throw Error("createSelector expects all input-selectors to be functions, but received the following types: [" + t.map(function(e) {
                            return "function" == typeof e ? "function " + (e.name || "unnamed") + "()" : typeof e
                        }).join(", ") + "]");
                    return t
                }(i)
                  , h = e.apply(void 0, [function() {
                    return a++,
                    l.apply(null, arguments)
                }
                ].concat(d))
                  , p = e(function() {
                    for (var e = [], n = f.length, r = 0; r < n; r++)
                        e.push(f[r].apply(null, arguments));
                    return t = h.apply(null, e)
                });
                return Object.assign(p, {
                    resultFunc: l,
                    memoizedResultFunc: h,
                    dependencies: f,
                    lastResult: function() {
                        return t
                    },
                    recomputations: function() {
                        return a
                    },
                    resetRecomputations: function() {
                        return a = 0
                    }
                }),
                p
            }
        }(function(e, t) {
            var n, o, a = "object" == typeof t ? t : {
                equalityCheck: t
            }, s = a.equalityCheck, l = a.maxSize, u = void 0 === l ? 1 : l, c = a.resultEqualityCheck, d = (n = void 0 === s ? i : s,
            function(e, t) {
                if (null === e || null === t || e.length !== t.length)
                    return !1;
                for (var r = e.length, i = 0; i < r; i++)
                    if (!n(e[i], t[i]))
                        return !1;
                return !0
            }
            ), f = 1 === u ? {
                get: function(e) {
                    return o && d(o.key, e) ? o.value : r
                },
                put: function(e, t) {
                    o = {
                        key: e,
                        value: t
                    }
                },
                getEntries: function() {
                    return o ? [o] : []
                },
                clear: function() {
                    o = void 0
                }
            } : function(e, t) {
                var n = [];
                function i(e) {
                    var i = n.findIndex(function(n) {
                        return t(e, n.key)
                    });
                    if (i > -1) {
                        var o = n[i];
                        return i > 0 && (n.splice(i, 1),
                        n.unshift(o)),
                        o.value
                    }
                    return r
                }
                return {
                    get: i,
                    put: function(t, o) {
                        i(t) === r && (n.unshift({
                            key: t,
                            value: o
                        }),
                        n.length > e && n.pop())
                    },
                    getEntries: function() {
                        return n
                    },
                    clear: function() {
                        n = []
                    }
                }
            }(u, d);
            function h() {
                var t = f.get(arguments);
                if (t === r) {
                    if (t = e.apply(null, arguments),
                    c) {
                        var n = f.getEntries().find(function(e) {
                            return c(e.value, t)
                        });
                        n && (t = n.value)
                    }
                    f.put(arguments, t)
                }
                return t
            }
            return h.clearCache = function() {
                return f.clear()
            }
            ,
            h
        })
    },
    71739: function(e) {
        e.exports = {
            area: !0,
            base: !0,
            br: !0,
            col: !0,
            embed: !0,
            hr: !0,
            img: !0,
            input: !0,
            link: !0,
            meta: !0,
            param: !0,
            source: !0,
            track: !0,
            wbr: !0
        }
    },
    83154: function(e, t, n) {
        var r;
        if ("function" == typeof fetch && (r = void 0 !== n.g && n.g.fetch ? n.g.fetch : "undefined" != typeof window && window.fetch ? window.fetch : fetch),
        "undefined" == typeof window) {
            var i = r || n(68203);
            i.default && (i = i.default),
            t.default = i,
            e.exports = t.default
        }
    },
    87462: function(e, t, n) {
        "use strict";
        function r() {
            return (r = Object.assign ? Object.assign.bind() : function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var r in n)
                        ({}).hasOwnProperty.call(n, r) && (e[r] = n[r])
                }
                return e
            }
            ).apply(null, arguments)
        }
        n.d(t, {
            Z: function() {
                return r
            }
        })
    },
    66005: function(e, t, n) {
        "use strict";
        n.d(t, {
            q: function() {
                return nu
            },
            q_: function() {
                return t1
            }
        });
        var r, i, o, a, s = n(67294), l = Object.defineProperty, u = {};
        ( (e, t) => {
            for (var n in t)
                l(e, n, {
                    get: t[n],
                    enumerable: !0
                })
        }
        )(u, {
            assign: () => B,
            colors: () => U,
            createStringInterpolator: () => i,
            skipAnimation: () => $,
            to: () => o,
            willAdvance: () => V
        });
        var c = P()
          , d = e => w(e, c)
          , f = P();
        d.write = e => w(e, f);
        var h = P();
        d.onStart = e => w(e, h);
        var p = P();
        d.onFrame = e => w(e, p);
        var g = P();
        d.onFinish = e => w(e, g);
        var m = [];
        d.setTimeout = (e, t) => {
            let n = d.now() + t
              , r = () => {
                let e = m.findIndex(e => e.cancel == r);
                ~e && m.splice(e, 1),
                E -= ~e ? 1 : 0
            }
              , i = {
                time: n,
                handler: e,
                cancel: r
            };
            return m.splice(v(n), 0, i),
            E += 1,
            O(),
            i
        }
        ;
        var v = e => ~(~m.findIndex(t => t.time > e) || ~m.length);
        d.cancel = e => {
            h.delete(e),
            p.delete(e),
            g.delete(e),
            c.delete(e),
            f.delete(e)
        }
        ,
        d.sync = e => {
            _ = !0,
            d.batchedUpdates(e),
            _ = !1
        }
        ,
        d.throttle = e => {
            let t;
            function n() {
                try {
                    e(...t)
                } finally {
                    t = null
                }
            }
            function r(...e) {
                t = e,
                d.onStart(n)
            }
            return r.handler = e,
            r.cancel = () => {
                h.delete(n),
                t = null
            }
            ,
            r
        }
        ;
        var y = "undefined" != typeof window ? window.requestAnimationFrame : () => {}
        ;
        d.use = e => y = e,
        d.now = "undefined" != typeof performance ? () => performance.now() : Date.now,
        d.batchedUpdates = e => e(),
        d.catch = console.error,
        d.frameLoop = "always",
        d.advance = () => {
            "demand" !== d.frameLoop ? console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand") : S()
        }
        ;
        var b = -1
          , E = 0
          , _ = !1;
        function w(e, t) {
            _ ? (t.delete(e),
            e(0)) : (t.add(e),
            O())
        }
        function O() {
            b < 0 && (b = 0,
            "demand" !== d.frameLoop && y(A))
        }
        function A() {
            ~b && (y(A),
            d.batchedUpdates(S))
        }
        function S() {
            let e = b
              , t = v(b = d.now());
            if (t && (R(m.splice(0, t), e => e.handler()),
            E -= t),
            !E) {
                b = -1;
                return
            }
            h.flush(),
            c.flush(e ? Math.min(64, b - e) : 16.667),
            p.flush(),
            f.flush(),
            g.flush()
        }
        function P() {
            let e = new Set
              , t = e;
            return {
                add(n) {
                    E += t != e || e.has(n) ? 0 : 1,
                    e.add(n)
                },
                delete: n => (E -= t == e && e.has(n) ? 1 : 0,
                e.delete(n)),
                flush(n) {
                    t.size && (e = new Set,
                    E -= t.size,
                    R(t, t => t(n) && e.add(t)),
                    E += e.size,
                    t = e)
                }
            }
        }
        function R(e, t) {
            e.forEach(e => {
                try {
                    t(e)
                } catch (e) {
                    d.catch(e)
                }
            }
            )
        }
        function I() {}
        var T = (e, t, n) => Object.defineProperty(e, t, {
            value: n,
            writable: !0,
            configurable: !0
        })
          , x = {
            arr: Array.isArray,
            obj: e => !!e && "Object" === e.constructor.name,
            fun: e => "function" == typeof e,
            str: e => "string" == typeof e,
            num: e => "number" == typeof e,
            und: e => void 0 === e
        };
        function k(e, t) {
            if (x.arr(e)) {
                if (!x.arr(t) || e.length !== t.length)
                    return !1;
                for (let n = 0; n < e.length; n++)
                    if (e[n] !== t[n])
                        return !1;
                return !0
            }
            return e === t
        }
        var N = (e, t) => e.forEach(t);
        function C(e, t, n) {
            if (x.arr(e)) {
                for (let r = 0; r < e.length; r++)
                    t.call(n, e[r], `${r}`);
                return
            }
            for (let r in e)
                e.hasOwnProperty(r) && t.call(n, e[r], r)
        }
        var L = e => x.und(e) ? [] : x.arr(e) ? e : [e];
        function M(e, t) {
            if (e.size) {
                let n = Array.from(e);
                e.clear(),
                N(n, t)
            }
        }
        var D = (e, ...t) => M(e, e => e(...t))
          , j = () => "undefined" == typeof window || !window.navigator || /ServerSideRendering|^Deno\//.test(window.navigator.userAgent)
          , U = null
          , $ = !1
          , V = I
          , B = e => {
            e.to && (o = e.to),
            e.now && (d.now = e.now),
            void 0 !== e.colors && (U = e.colors),
            null != e.skipAnimation && ($ = e.skipAnimation),
            e.createStringInterpolator && (i = e.createStringInterpolator),
            e.requestAnimationFrame && d.use(e.requestAnimationFrame),
            e.batchedUpdates && (d.batchedUpdates = e.batchedUpdates),
            e.willAdvance && (V = e.willAdvance),
            e.frameLoop && (d.frameLoop = e.frameLoop)
        }
          , F = new Set
          , q = []
          , G = []
          , z = 0
          , Y = {
            get idle() {
                return !F.size && !q.length
            },
            start(e) {
                z > e.priority ? (F.add(e),
                d.onStart(H)) : (Z(e),
                d(J))
            },
            advance: J,
            sort(e) {
                if (z)
                    d.onFrame( () => Y.sort(e));
                else {
                    let t = q.indexOf(e);
                    ~t && (q.splice(t, 1),
                    W(e))
                }
            },
            clear() {
                q = [],
                F.clear()
            }
        };
        function H() {
            F.forEach(Z),
            F.clear(),
            d(J)
        }
        function Z(e) {
            q.includes(e) || W(e)
        }
        function W(e) {
            q.splice(function(e, t) {
                let n = e.findIndex(t);
                return n < 0 ? e.length : n
            }(q, t => t.priority > e.priority), 0, e)
        }
        function J(e) {
            let t = G;
            for (let n = 0; n < q.length; n++) {
                let r = q[n];
                z = r.priority,
                r.idle || (V(r),
                r.advance(e),
                r.idle || t.push(r))
            }
            return z = 0,
            (G = q).length = 0,
            (q = t).length > 0
        }
        var K = "[-+]?\\d*\\.?\\d+"
          , X = K + "%";
        function Q(...e) {
            return "\\(\\s*(" + e.join(")\\s*,\\s*(") + ")\\s*\\)"
        }
        var ee = RegExp("rgb" + Q(K, K, K))
          , et = RegExp("rgba" + Q(K, K, K, K))
          , en = RegExp("hsl" + Q(K, X, X))
          , er = RegExp("hsla" + Q(K, X, X, K))
          , ei = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/
          , eo = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/
          , ea = /^#([0-9a-fA-F]{6})$/
          , es = /^#([0-9a-fA-F]{8})$/;
        function el(e, t, n) {
            return (n < 0 && (n += 1),
            n > 1 && (n -= 1),
            n < 1 / 6) ? e + (t - e) * 6 * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e
        }
        function eu(e, t, n) {
            let r = n < .5 ? n * (1 + t) : n + t - n * t
              , i = 2 * n - r;
            return Math.round(255 * el(i, r, e + 1 / 3)) << 24 | Math.round(255 * el(i, r, e)) << 16 | Math.round(255 * el(i, r, e - 1 / 3)) << 8
        }
        function ec(e) {
            let t = parseInt(e, 10);
            return t < 0 ? 0 : t > 255 ? 255 : t
        }
        function ed(e) {
            return (parseFloat(e) % 360 + 360) % 360 / 360
        }
        function ef(e) {
            let t = parseFloat(e);
            return t < 0 ? 0 : t > 1 ? 255 : Math.round(255 * t)
        }
        function eh(e) {
            let t = parseFloat(e);
            return t < 0 ? 0 : t > 100 ? 1 : t / 100
        }
        function ep(e) {
            let t;
            let n = "number" == typeof e ? e >>> 0 === e && e >= 0 && e <= 4294967295 ? e : null : (t = ea.exec(e)) ? parseInt(t[1] + "ff", 16) >>> 0 : U && void 0 !== U[e] ? U[e] : (t = ee.exec(e)) ? (ec(t[1]) << 24 | ec(t[2]) << 16 | ec(t[3]) << 8 | 255) >>> 0 : (t = et.exec(e)) ? (ec(t[1]) << 24 | ec(t[2]) << 16 | ec(t[3]) << 8 | ef(t[4])) >>> 0 : (t = ei.exec(e)) ? parseInt(t[1] + t[1] + t[2] + t[2] + t[3] + t[3] + "ff", 16) >>> 0 : (t = es.exec(e)) ? parseInt(t[1], 16) >>> 0 : (t = eo.exec(e)) ? parseInt(t[1] + t[1] + t[2] + t[2] + t[3] + t[3] + t[4] + t[4], 16) >>> 0 : (t = en.exec(e)) ? (255 | eu(ed(t[1]), eh(t[2]), eh(t[3]))) >>> 0 : (t = er.exec(e)) ? (eu(ed(t[1]), eh(t[2]), eh(t[3])) | ef(t[4])) >>> 0 : null;
            if (null === n)
                return e;
            let r = (4278190080 & (n = n || 0)) >>> 24
              , i = (16711680 & n) >>> 16
              , o = (65280 & n) >>> 8
              , a = (255 & n) / 255;
            return `rgba(${r}, ${i}, ${o}, ${a})`
        }
        var eg = (e, t, n) => {
            if (x.fun(e))
                return e;
            if (x.arr(e))
                return eg({
                    range: e,
                    output: t,
                    extrapolate: n
                });
            if (x.str(e.output[0]))
                return i(e);
            let r = e.output
              , o = e.range || [0, 1]
              , a = e.extrapolateLeft || e.extrapolate || "extend"
              , s = e.extrapolateRight || e.extrapolate || "extend"
              , l = e.easing || (e => e);
            return t => {
                let n = function(e, t) {
                    for (var n = 1; n < t.length - 1 && !(t[n] >= e); ++n)
                        ;
                    return n - 1
                }(t, o);
                return function(e, t, n, r, i, o, a, s, l) {
                    let u = l ? l(e) : e;
                    if (u < t) {
                        if ("identity" === a)
                            return u;
                        "clamp" === a && (u = t)
                    }
                    if (u > n) {
                        if ("identity" === s)
                            return u;
                        "clamp" === s && (u = n)
                    }
                    return r === i ? r : t === n ? e <= t ? r : i : (t === -1 / 0 ? u = -u : n === 1 / 0 ? u -= t : u = (u - t) / (n - t),
                    u = o(u),
                    r === -1 / 0 ? u = -u : i === 1 / 0 ? u += r : u = u * (i - r) + r,
                    u)
                }(t, o[n], o[n + 1], r[n], r[n + 1], l, a, s, e.map)
            }
        }
          , em = Symbol.for("FluidValue.get")
          , ev = Symbol.for("FluidValue.observers")
          , ey = e => !!(e && e[em])
          , eb = e => e && e[em] ? e[em]() : e
          , eE = e => e[ev] || null;
        function e_(e, t) {
            let n = e[ev];
            n && n.forEach(e => {
                e.eventObserved ? e.eventObserved(t) : e(t)
            }
            )
        }
        var ew = class {
            constructor(e) {
                if (!e && !(e = this.get))
                    throw Error("Unknown getter");
                eO(this, e)
            }
        }
          , eO = (e, t) => eP(e, em, t);
        function eA(e, t) {
            if (e[em]) {
                let n = e[ev];
                n || eP(e, ev, n = new Set),
                !n.has(t) && (n.add(t),
                e.observerAdded && e.observerAdded(n.size, t))
            }
            return t
        }
        function eS(e, t) {
            let n = e[ev];
            if (n && n.has(t)) {
                let r = n.size - 1;
                r ? n.delete(t) : e[ev] = null,
                e.observerRemoved && e.observerRemoved(r, t)
            }
        }
        var eP = (e, t, n) => Object.defineProperty(e, t, {
            value: n,
            writable: !0,
            configurable: !0
        })
          , eR = /[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g
          , eI = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi
          , eT = RegExp(`(${eR.source})(%|[a-z]+)`, "i")
          , ex = /rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi
          , ek = /var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/
          , eN = e => {
            let[t,n] = eC(e);
            if (!t || j())
                return e;
            let r = window.getComputedStyle(document.documentElement).getPropertyValue(t);
            if (r)
                return r.trim();
            if (n && n.startsWith("--")) {
                let e = window.getComputedStyle(document.documentElement).getPropertyValue(n);
                if (e)
                    return e
            } else if (n && ek.test(n))
                return eN(n);
            else if (n)
                return n;
            return e
        }
          , eC = e => {
            let t = ek.exec(e);
            if (!t)
                return [, ];
            let[,n,r] = t;
            return [n, r]
        }
          , eL = (e, t, n, r, i) => `rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`
          , eM = e => {
            a || (a = U ? RegExp(`(${Object.keys(U).join("|")})(?!\\w)`, "g") : /^\b$/);
            let t = e.output.map(e => eb(e).replace(ek, eN).replace(eI, ep).replace(a, ep))
              , n = t.map(e => e.match(eR).map(Number))
              , r = n[0].map( (e, t) => n.map(e => {
                if (!(t in e))
                    throw Error('The arity of each "output" value must be equal');
                return e[t]
            }
            )).map(t => eg({
                ...e,
                output: t
            }));
            return e => {
                let n = !eT.test(t[0]) && t.find(e => eT.test(e))?.replace(eR, "")
                  , i = 0;
                return t[0].replace(eR, () => `${r[i++](e)}${n || ""}`).replace(ex, eL)
            }
        }
          , eD = "react-spring: "
          , ej = e => {
            let t = !1;
            if ("function" != typeof e)
                throw TypeError(`${eD}once requires a function parameter`);
            return (...n) => {
                t || (e(...n),
                t = !0)
            }
        }
          , eU = ej(console.warn)
          , e$ = ej(console.warn);
        function eV(e) {
            return x.str(e) && ("#" == e[0] || /\d/.test(e) || !j() && ek.test(e) || e in (U || {}))
        }
        var eB = j() ? s.useEffect : s.useLayoutEffect
          , eF = () => {
            let e = (0,
            s.useRef)(!1);
            return eB( () => (e.current = !0,
            () => {
                e.current = !1
            }
            ), []),
            e
        }
        ;
        function eq() {
            let e = (0,
            s.useState)()[1]
              , t = eF();
            return () => {
                t.current && e(Math.random())
            }
        }
        var eG = e => (0,
        s.useEffect)(e, ez)
          , ez = [];
        function eY(e) {
            let t = (0,
            s.useRef)();
            return (0,
            s.useEffect)( () => {
                t.current = e
            }
            ),
            t.current
        }
        var eH = Symbol.for("Animated:node")
          , eZ = e => !!e && e[eH] === e
          , eW = e => e && e[eH]
          , eJ = (e, t) => T(e, eH, t)
          , eK = e => e && e[eH] && e[eH].getPayload()
          , eX = class {
            constructor() {
                eJ(this, this)
            }
            getPayload() {
                return this.payload || []
            }
        }
          , eQ = class extends eX {
            constructor(e) {
                super(),
                this._value = e,
                this.done = !0,
                this.durationProgress = 0,
                x.num(this._value) && (this.lastPosition = this._value)
            }
            static create(e) {
                return new eQ(e)
            }
            getPayload() {
                return [this]
            }
            getValue() {
                return this._value
            }
            setValue(e, t) {
                return x.num(e) && (this.lastPosition = e,
                t && (e = Math.round(e / t) * t,
                this.done && (this.lastPosition = e))),
                this._value !== e && (this._value = e,
                !0)
            }
            reset() {
                let {done: e} = this;
                this.done = !1,
                x.num(this._value) && (this.elapsedTime = 0,
                this.durationProgress = 0,
                this.lastPosition = this._value,
                e && (this.lastVelocity = null),
                this.v0 = null)
            }
        }
          , e0 = class extends eQ {
            constructor(e) {
                super(0),
                this._string = null,
                this._toString = eg({
                    output: [e, e]
                })
            }
            static create(e) {
                return new e0(e)
            }
            getValue() {
                let e = this._string;
                return null == e ? this._string = this._toString(this._value) : e
            }
            setValue(e) {
                if (x.str(e)) {
                    if (e == this._string)
                        return !1;
                    this._string = e,
                    this._value = 1
                } else {
                    if (!super.setValue(e))
                        return !1;
                    this._string = null
                }
                return !0
            }
            reset(e) {
                e && (this._toString = eg({
                    output: [this.getValue(), e]
                })),
                this._value = 0,
                super.reset()
            }
        }
          , e1 = {
            dependencies: null
        }
          , e2 = class extends eX {
            constructor(e) {
                super(),
                this.source = e,
                this.setValue(e)
            }
            getValue(e) {
                let t = {};
                return C(this.source, (n, r) => {
                    eZ(n) ? t[r] = n.getValue(e) : ey(n) ? t[r] = eb(n) : e || (t[r] = n)
                }
                ),
                t
            }
            setValue(e) {
                this.source = e,
                this.payload = this._makePayload(e)
            }
            reset() {
                this.payload && N(this.payload, e => e.reset())
            }
            _makePayload(e) {
                if (e) {
                    let t = new Set;
                    return C(e, this._addToPayload, t),
                    Array.from(t)
                }
            }
            _addToPayload(e) {
                e1.dependencies && ey(e) && e1.dependencies.add(e);
                let t = eK(e);
                t && N(t, e => this.add(e))
            }
        }
          , e3 = class extends e2 {
            constructor(e) {
                super(e)
            }
            static create(e) {
                return new e3(e)
            }
            getValue() {
                return this.source.map(e => e.getValue())
            }
            setValue(e) {
                let t = this.getPayload();
                return e.length == t.length ? t.map( (t, n) => t.setValue(e[n])).some(Boolean) : (super.setValue(e.map(e4)),
                !0)
            }
        }
        ;
        function e4(e) {
            return (eV(e) ? e0 : eQ).create(e)
        }
        function e6(e) {
            let t = eW(e);
            return t ? t.constructor : x.arr(e) ? e3 : eV(e) ? e0 : eQ
        }
        var e5 = (e, t) => {
            let n = !x.fun(e) || e.prototype && e.prototype.isReactComponent;
            return (0,
            s.forwardRef)( (r, i) => {
                let o = (0,
                s.useRef)(null)
                  , a = n && (0,
                s.useCallback)(e => {
                    o.current = (i && (x.fun(i) ? i(e) : i.current = e),
                    e)
                }
                , [i])
                  , [l,u] = function(e, t) {
                    let n = new Set;
                    return e1.dependencies = n,
                    e.style && (e = {
                        ...e,
                        style: t.createAnimatedStyle(e.style)
                    }),
                    e = new e2(e),
                    e1.dependencies = null,
                    [e, n]
                }(r, t)
                  , c = eq()
                  , f = () => {
                    let e = o.current;
                    (!n || e) && !1 === (!!e && t.applyAnimatedValues(e, l.getValue(!0))) && c()
                }
                  , h = new e8(f,u)
                  , p = (0,
                s.useRef)();
                eB( () => (p.current = h,
                N(u, e => eA(e, h)),
                () => {
                    p.current && (N(p.current.deps, e => eS(e, p.current)),
                    d.cancel(p.current.update))
                }
                )),
                (0,
                s.useEffect)(f, []),
                eG( () => () => {
                    let e = p.current;
                    N(e.deps, t => eS(t, e))
                }
                );
                let g = t.getComponentProps(l.getValue());
                return s.createElement(e, {
                    ...g,
                    ref: a
                })
            }
            )
        }
          , e8 = class {
            constructor(e, t) {
                this.update = e,
                this.deps = t
            }
            eventObserved(e) {
                "change" == e.type && d.write(this.update)
            }
        }
          , e9 = Symbol.for("AnimatedComponent")
          , e7 = e => x.str(e) ? e : e && x.str(e.displayName) ? e.displayName : x.fun(e) && e.name || null;
        function te(e, ...t) {
            return x.fun(e) ? e(...t) : e
        }
        var tt = (e, t) => !0 === e || !!(t && e && (x.fun(e) ? e(t) : L(e).includes(t)))
          , tn = (e, t) => x.obj(e) ? t && e[t] : e
          , tr = (e, t) => !0 === e.default ? e[t] : e.default ? e.default[t] : void 0
          , ti = e => e
          , to = (e, t=ti) => {
            let n = ta;
            e.default && !0 !== e.default && (n = Object.keys(e = e.default));
            let r = {};
            for (let i of n) {
                let n = t(e[i], i);
                x.und(n) || (r[i] = n)
            }
            return r
        }
          , ta = ["config", "onProps", "onStart", "onChange", "onPause", "onResume", "onRest"]
          , ts = {
            config: 1,
            from: 1,
            to: 1,
            ref: 1,
            loop: 1,
            reset: 1,
            pause: 1,
            cancel: 1,
            reverse: 1,
            immediate: 1,
            default: 1,
            delay: 1,
            onProps: 1,
            onStart: 1,
            onChange: 1,
            onPause: 1,
            onResume: 1,
            onRest: 1,
            onResolve: 1,
            items: 1,
            trail: 1,
            sort: 1,
            expires: 1,
            initial: 1,
            enter: 1,
            update: 1,
            leave: 1,
            children: 1,
            onDestroyed: 1,
            keys: 1,
            callId: 1,
            parentId: 1
        };
        function tl(e) {
            let t = function(e) {
                let t = {}
                  , n = 0;
                if (C(e, (e, r) => {
                    !ts[r] && (t[r] = e,
                    n++)
                }
                ),
                n)
                    return t
            }(e);
            if (t) {
                let n = {
                    to: t
                };
                return C(e, (e, r) => r in t || (n[r] = e)),
                n
            }
            return {
                ...e
            }
        }
        function tu(e) {
            return e = eb(e),
            x.arr(e) ? e.map(tu) : eV(e) ? u.createStringInterpolator({
                range: [0, 1],
                output: [e, e]
            })(1) : e
        }
        function tc(e) {
            return x.fun(e) || x.arr(e) && x.obj(e[0])
        }
        var td = {
            tension: 170,
            friction: 26,
            mass: 1,
            damping: 1,
            easing: e => e,
            clamp: !1
        }
          , tf = class {
            constructor() {
                this.velocity = 0,
                Object.assign(this, td)
            }
        }
        ;
        function th(e, t) {
            if (x.und(t.decay)) {
                let n = !x.und(t.tension) || !x.und(t.friction);
                !n && x.und(t.frequency) && x.und(t.damping) && x.und(t.mass) || (e.duration = void 0,
                e.decay = void 0),
                n && (e.frequency = void 0)
            } else
                e.duration = void 0
        }
        var tp = []
          , tg = class {
            constructor() {
                this.changed = !1,
                this.values = tp,
                this.toValues = null,
                this.fromValues = tp,
                this.config = new tf,
                this.immediate = !1
            }
        }
        ;
        function tm(e, {key: t, props: n, defaultProps: r, state: i, actions: o}) {
            return new Promise( (a, s) => {
                let l, c;
                let f = tt(n.cancel ?? r?.cancel, t);
                if (f)
                    g();
                else {
                    x.und(n.pause) || (i.paused = tt(n.pause, t));
                    let e = r?.pause;
                    !0 !== e && (e = i.paused || tt(e, t)),
                    l = te(n.delay || 0, t),
                    e ? (i.resumeQueue.add(p),
                    o.pause()) : (o.resume(),
                    p())
                }
                function h() {
                    i.resumeQueue.add(p),
                    i.timeouts.delete(c),
                    c.cancel(),
                    l = c.time - d.now()
                }
                function p() {
                    l > 0 && !u.skipAnimation ? (i.delayed = !0,
                    c = d.setTimeout(g, l),
                    i.pauseQueue.add(h),
                    i.timeouts.add(c)) : g()
                }
                function g() {
                    i.delayed && (i.delayed = !1),
                    i.pauseQueue.delete(h),
                    i.timeouts.delete(c),
                    e <= (i.cancelId || 0) && (f = !0);
                    try {
                        o.start({
                            ...n,
                            callId: e,
                            cancel: f
                        }, a)
                    } catch (e) {
                        s(e)
                    }
                }
            }
            )
        }
        var tv = (e, t) => 1 == t.length ? t[0] : t.some(e => e.cancelled) ? tE(e.get()) : t.every(e => e.noop) ? ty(e.get()) : tb(e.get(), t.every(e => e.finished))
          , ty = e => ({
            value: e,
            noop: !0,
            finished: !0,
            cancelled: !1
        })
          , tb = (e, t, n=!1) => ({
            value: e,
            finished: t,
            cancelled: n
        })
          , tE = e => ({
            value: e,
            cancelled: !0,
            finished: !1
        });
        function t_(e, t, n, r) {
            let {callId: i, parentId: o, onRest: a} = t
              , {asyncTo: s, promise: l} = n;
            return o || e !== s || t.reset ? n.promise = (async () => {
                let c, f, h;
                n.asyncId = i,
                n.asyncTo = e;
                let p = to(t, (e, t) => "onRest" === t ? void 0 : e)
                  , g = new Promise( (e, t) => (c = e,
                f = t))
                  , m = e => {
                    let t = i <= (n.cancelId || 0) && tE(r) || i !== n.asyncId && tb(r, !1);
                    if (t)
                        throw e.result = t,
                        f(e),
                        e
                }
                  , v = (e, t) => {
                    let o = new tO
                      , a = new tA;
                    return (async () => {
                        if (u.skipAnimation)
                            throw tw(n),
                            a.result = tb(r, !1),
                            f(a),
                            a;
                        m(o);
                        let s = x.obj(e) ? {
                            ...e
                        } : {
                            ...t,
                            to: e
                        };
                        s.parentId = i,
                        C(p, (e, t) => {
                            x.und(s[t]) && (s[t] = e)
                        }
                        );
                        let l = await r.start(s);
                        return m(o),
                        n.paused && await new Promise(e => {
                            n.resumeQueue.add(e)
                        }
                        ),
                        l
                    }
                    )()
                }
                ;
                if (u.skipAnimation)
                    return tw(n),
                    tb(r, !1);
                try {
                    let t;
                    t = x.arr(e) ? (async e => {
                        for (let t of e)
                            await v(t)
                    }
                    )(e) : Promise.resolve(e(v, r.stop.bind(r))),
                    await Promise.all([t.then(c), g]),
                    h = tb(r.get(), !0, !1)
                } catch (e) {
                    if (e instanceof tO)
                        h = e.result;
                    else if (e instanceof tA)
                        h = e.result;
                    else
                        throw e
                } finally {
                    i == n.asyncId && (n.asyncId = o,
                    n.asyncTo = o ? s : void 0,
                    n.promise = o ? l : void 0)
                }
                return x.fun(a) && d.batchedUpdates( () => {
                    a(h, r, r.item)
                }
                ),
                h
            }
            )() : l
        }
        function tw(e, t) {
            M(e.timeouts, e => e.cancel()),
            e.pauseQueue.clear(),
            e.resumeQueue.clear(),
            e.asyncId = e.asyncTo = e.promise = void 0,
            t && (e.cancelId = t)
        }
        var tO = class extends Error {
            constructor() {
                super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")
            }
        }
          , tA = class extends Error {
            constructor() {
                super("SkipAnimationSignal")
            }
        }
          , tS = e => e instanceof tR
          , tP = 1
          , tR = class extends ew {
            constructor() {
                super(...arguments),
                this.id = tP++,
                this._priority = 0
            }
            get priority() {
                return this._priority
            }
            set priority(e) {
                this._priority != e && (this._priority = e,
                this._onPriorityChange(e))
            }
            get() {
                let e = eW(this);
                return e && e.getValue()
            }
            to(...e) {
                return u.to(this, e)
            }
            interpolate(...e) {
                return eU(`${eD}The "interpolate" function is deprecated in v9 (use "to" instead)`),
                u.to(this, e)
            }
            toJSON() {
                return this.get()
            }
            observerAdded(e) {
                1 == e && this._attach()
            }
            observerRemoved(e) {
                0 == e && this._detach()
            }
            _attach() {}
            _detach() {}
            _onChange(e, t=!1) {
                e_(this, {
                    type: "change",
                    parent: this,
                    value: e,
                    idle: t
                })
            }
            _onPriorityChange(e) {
                this.idle || Y.sort(this),
                e_(this, {
                    type: "priority",
                    parent: this,
                    priority: e
                })
            }
        }
          , tI = Symbol.for("SpringPhase")
          , tT = e => (1 & e[tI]) > 0
          , tx = e => (2 & e[tI]) > 0
          , tk = e => (4 & e[tI]) > 0
          , tN = (e, t) => t ? e[tI] |= 3 : e[tI] &= -3
          , tC = (e, t) => t ? e[tI] |= 4 : e[tI] &= -5
          , tL = class extends tR {
            constructor(e, t) {
                if (super(),
                this.animation = new tg,
                this.defaultProps = {},
                this._state = {
                    paused: !1,
                    delayed: !1,
                    pauseQueue: new Set,
                    resumeQueue: new Set,
                    timeouts: new Set
                },
                this._pendingCalls = new Set,
                this._lastCallId = 0,
                this._lastToId = 0,
                this._memoizedDuration = 0,
                !x.und(e) || !x.und(t)) {
                    let n = x.obj(e) ? {
                        ...e
                    } : {
                        ...t,
                        from: e
                    };
                    x.und(n.default) && (n.default = !0),
                    this.start(n)
                }
            }
            get idle() {
                return !(tx(this) || this._state.asyncTo) || tk(this)
            }
            get goal() {
                return eb(this.animation.to)
            }
            get velocity() {
                let e = eW(this);
                return e instanceof eQ ? e.lastVelocity || 0 : e.getPayload().map(e => e.lastVelocity || 0)
            }
            get hasAnimated() {
                return tT(this)
            }
            get isAnimating() {
                return tx(this)
            }
            get isPaused() {
                return tk(this)
            }
            get isDelayed() {
                return this._state.delayed
            }
            advance(e) {
                let t = !0
                  , n = !1
                  , r = this.animation
                  , {toValues: i} = r
                  , {config: o} = r
                  , a = eK(r.to);
                !a && ey(r.to) && (i = L(eb(r.to))),
                r.values.forEach( (s, l) => {
                    if (s.done)
                        return;
                    let u = s.constructor == e0 ? 1 : a ? a[l].lastPosition : i[l]
                      , c = r.immediate
                      , d = u;
                    if (!c) {
                        let t;
                        if (d = s.lastPosition,
                        o.tension <= 0) {
                            s.done = !0;
                            return
                        }
                        let n = s.elapsedTime += e
                          , i = r.fromValues[l]
                          , a = null != s.v0 ? s.v0 : s.v0 = x.arr(o.velocity) ? o.velocity[l] : o.velocity
                          , f = o.precision || (i == u ? .005 : Math.min(1, .001 * Math.abs(u - i)));
                        if (x.und(o.duration)) {
                            if (o.decay) {
                                let e = !0 === o.decay ? .998 : o.decay
                                  , r = Math.exp(-(1 - e) * n);
                                d = i + a / (1 - e) * (1 - r),
                                c = Math.abs(s.lastPosition - d) <= f,
                                t = a * r
                            } else {
                                t = null == s.lastVelocity ? a : s.lastVelocity;
                                let n = o.restVelocity || f / 10
                                  , r = o.clamp ? 0 : o.bounce
                                  , l = !x.und(r)
                                  , h = i == u ? s.v0 > 0 : i < u
                                  , p = Math.ceil(e / 1);
                                for (let e = 0; e < p && !(!(Math.abs(t) > n) && (c = Math.abs(u - d) <= f)); ++e) {
                                    l && (d == u || d > u == h) && (t = -t * r,
                                    d = u);
                                    let e = (-(1e-6 * o.tension) * (d - u) + -(.001 * o.friction) * t) / o.mass;
                                    t += 1 * e,
                                    d += 1 * t
                                }
                            }
                        } else {
                            let r = 1;
                            o.duration > 0 && (this._memoizedDuration !== o.duration && (this._memoizedDuration = o.duration,
                            s.durationProgress > 0 && (s.elapsedTime = o.duration * s.durationProgress,
                            n = s.elapsedTime += e)),
                            r = (r = (o.progress || 0) + n / this._memoizedDuration) > 1 ? 1 : r < 0 ? 0 : r,
                            s.durationProgress = r),
                            t = ((d = i + o.easing(r) * (u - i)) - s.lastPosition) / e,
                            c = 1 == r
                        }
                        s.lastVelocity = t,
                        Number.isNaN(d) && (console.warn("Got NaN while animating:", this),
                        c = !0)
                    }
                    a && !a[l].done && (c = !1),
                    c ? s.done = !0 : t = !1,
                    s.setValue(d, o.round) && (n = !0)
                }
                );
                let s = eW(this)
                  , l = s.getValue();
                if (t) {
                    let e = eb(r.to);
                    (l !== e || n) && !o.decay ? (s.setValue(e),
                    this._onChange(e)) : n && o.decay && this._onChange(l),
                    this._stop()
                } else
                    n && this._onChange(l)
            }
            set(e) {
                return d.batchedUpdates( () => {
                    this._stop(),
                    this._focus(e),
                    this._set(e)
                }
                ),
                this
            }
            pause() {
                this._update({
                    pause: !0
                })
            }
            resume() {
                this._update({
                    pause: !1
                })
            }
            finish() {
                if (tx(this)) {
                    let {to: e, config: t} = this.animation;
                    d.batchedUpdates( () => {
                        this._onStart(),
                        t.decay || this._set(e, !1),
                        this._stop()
                    }
                    )
                }
                return this
            }
            update(e) {
                return (this.queue || (this.queue = [])).push(e),
                this
            }
            start(e, t) {
                let n;
                return x.und(e) ? (n = this.queue || [],
                this.queue = []) : n = [x.obj(e) ? e : {
                    ...t,
                    to: e
                }],
                Promise.all(n.map(e => this._update(e))).then(e => tv(this, e))
            }
            stop(e) {
                let {to: t} = this.animation;
                return this._focus(this.get()),
                tw(this._state, e && this._lastCallId),
                d.batchedUpdates( () => this._stop(t, e)),
                this
            }
            reset() {
                this._update({
                    reset: !0
                })
            }
            eventObserved(e) {
                "change" == e.type ? this._start() : "priority" == e.type && (this.priority = e.priority + 1)
            }
            _prepareNode(e) {
                let t = this.key || ""
                  , {to: n, from: r} = e;
                (null == (n = x.obj(n) ? n[t] : n) || tc(n)) && (n = void 0),
                null == (r = x.obj(r) ? r[t] : r) && (r = void 0);
                let i = {
                    to: n,
                    from: r
                };
                return tT(this) || (e.reverse && ([n,r] = [r, n]),
                r = eb(r),
                x.und(r) ? eW(this) || this._set(n) : this._set(r)),
                i
            }
            _update({...e}, t) {
                let {key: n, defaultProps: r} = this;
                e.default && Object.assign(r, to(e, (e, t) => /^on/.test(t) ? tn(e, n) : e)),
                tV(this, e, "onProps"),
                tB(this, "onProps", e, this);
                let i = this._prepareNode(e);
                if (Object.isFrozen(this))
                    throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");
                let o = this._state;
                return tm(++this._lastCallId, {
                    key: n,
                    props: e,
                    defaultProps: r,
                    state: o,
                    actions: {
                        pause: () => {
                            tk(this) || (tC(this, !0),
                            D(o.pauseQueue),
                            tB(this, "onPause", tb(this, tM(this, this.animation.to)), this))
                        }
                        ,
                        resume: () => {
                            tk(this) && (tC(this, !1),
                            tx(this) && this._resume(),
                            D(o.resumeQueue),
                            tB(this, "onResume", tb(this, tM(this, this.animation.to)), this))
                        }
                        ,
                        start: this._merge.bind(this, i)
                    }
                }).then(n => {
                    if (e.loop && n.finished && !(t && n.noop)) {
                        let t = tD(e);
                        if (t)
                            return this._update(t, !0)
                    }
                    return n
                }
                )
            }
            _merge(e, t, n) {
                if (t.cancel)
                    return this.stop(!0),
                    n(tE(this));
                let r = !x.und(e.to)
                  , i = !x.und(e.from);
                if (r || i) {
                    if (!(t.callId > this._lastToId))
                        return n(tE(this));
                    this._lastToId = t.callId
                }
                let {key: o, defaultProps: a, animation: s} = this
                  , {to: l, from: u} = s
                  , {to: c=l, from: f=u} = e;
                i && !r && (!t.default || x.und(c)) && (c = f),
                t.reverse && ([c,f] = [f, c]);
                let h = !k(f, u);
                h && (s.from = f),
                f = eb(f);
                let p = !k(c, l);
                p && this._focus(c);
                let g = tc(t.to)
                  , {config: m} = s
                  , {decay: v, velocity: y} = m;
                (r || i) && (m.velocity = 0),
                t.config && !g && function(e, t, n) {
                    for (let r in n && (th(n = {
                        ...n
                    }, t),
                    t = {
                        ...n,
                        ...t
                    }),
                    th(e, t),
                    Object.assign(e, t),
                    td)
                        null == e[r] && (e[r] = td[r]);
                    let {frequency: r, damping: i} = e
                      , {mass: o} = e;
                    x.und(r) || (r < .01 && (r = .01),
                    i < 0 && (i = 0),
                    e.tension = Math.pow(2 * Math.PI / r, 2) * o,
                    e.friction = 4 * Math.PI * i * o / r)
                }(m, te(t.config, o), t.config !== a.config ? te(a.config, o) : void 0);
                let b = eW(this);
                if (!b || x.und(c))
                    return n(tb(this, !0));
                let E = x.und(t.reset) ? i && !t.default : !x.und(f) && tt(t.reset, o)
                  , _ = E ? f : this.get()
                  , w = tu(c)
                  , O = x.num(w) || x.arr(w) || eV(w)
                  , A = !g && (!O || tt(a.immediate || t.immediate, o));
                if (p) {
                    let e = e6(c);
                    if (e !== b.constructor) {
                        if (A)
                            b = this._set(w);
                        else
                            throw Error(`Cannot animate between ${b.constructor.name} and ${e.name}, as the "to" prop suggests`)
                    }
                }
                let S = b.constructor
                  , P = ey(c)
                  , R = !1;
                if (!P) {
                    let e = E || !tT(this) && h;
                    (p || e) && (P = !(R = k(tu(_), w))),
                    (k(s.immediate, A) || A) && k(m.decay, v) && k(m.velocity, y) || (P = !0)
                }
                if (R && tx(this) && (s.changed && !E ? P = !0 : P || this._stop(l)),
                !g && ((P || ey(l)) && (s.values = b.getPayload(),
                s.toValues = ey(c) ? null : S == e0 ? [1] : L(w)),
                s.immediate == A || (s.immediate = A,
                A || E || this._set(l)),
                P)) {
                    let {onRest: e} = s;
                    N(t$, e => tV(this, t, e));
                    let r = tb(this, tM(this, l));
                    D(this._pendingCalls, r),
                    this._pendingCalls.add(n),
                    s.changed && d.batchedUpdates( () => {
                        s.changed = !E,
                        e?.(r, this),
                        E ? te(a.onRest, r) : s.onStart?.(r, this)
                    }
                    )
                }
                E && this._set(_),
                g ? n(t_(t.to, t, this._state, this)) : P ? this._start() : tx(this) && !p ? this._pendingCalls.add(n) : n(ty(_))
            }
            _focus(e) {
                let t = this.animation;
                e !== t.to && (eE(this) && this._detach(),
                t.to = e,
                eE(this) && this._attach())
            }
            _attach() {
                let e = 0
                  , {to: t} = this.animation;
                ey(t) && (eA(t, this),
                tS(t) && (e = t.priority + 1)),
                this.priority = e
            }
            _detach() {
                let {to: e} = this.animation;
                ey(e) && eS(e, this)
            }
            _set(e, t=!0) {
                let n = eb(e);
                if (!x.und(n)) {
                    let e = eW(this);
                    if (!e || !k(n, e.getValue())) {
                        let r = e6(n);
                        e && e.constructor == r ? e.setValue(n) : eJ(this, r.create(n)),
                        e && d.batchedUpdates( () => {
                            this._onChange(n, t)
                        }
                        )
                    }
                }
                return eW(this)
            }
            _onStart() {
                let e = this.animation;
                e.changed || (e.changed = !0,
                tB(this, "onStart", tb(this, tM(this, e.to)), this))
            }
            _onChange(e, t) {
                t || (this._onStart(),
                te(this.animation.onChange, e, this)),
                te(this.defaultProps.onChange, e, this),
                super._onChange(e, t)
            }
            _start() {
                let e = this.animation;
                eW(this).reset(eb(e.to)),
                e.immediate || (e.fromValues = e.values.map(e => e.lastPosition)),
                tx(this) || (tN(this, !0),
                tk(this) || this._resume())
            }
            _resume() {
                u.skipAnimation ? this.finish() : Y.start(this)
            }
            _stop(e, t) {
                if (tx(this)) {
                    tN(this, !1);
                    let n = this.animation;
                    N(n.values, e => {
                        e.done = !0
                    }
                    ),
                    n.toValues && (n.onChange = n.onPause = n.onResume = void 0),
                    e_(this, {
                        type: "idle",
                        parent: this
                    });
                    let r = t ? tE(this.get()) : tb(this.get(), tM(this, e ?? n.to));
                    D(this._pendingCalls, r),
                    n.changed && (n.changed = !1,
                    tB(this, "onRest", r, this))
                }
            }
        }
        ;
        function tM(e, t) {
            let n = tu(t);
            return k(tu(e.get()), n)
        }
        function tD(e, t=e.loop, n=e.to) {
            let r = te(t);
            if (r) {
                let i = !0 !== r && tl(r)
                  , o = (i || e).reverse
                  , a = !i || i.reset;
                return tj({
                    ...e,
                    loop: t,
                    default: !1,
                    pause: void 0,
                    to: !o || tc(n) ? n : void 0,
                    from: a ? e.from : void 0,
                    reset: a,
                    ...i
                })
            }
        }
        function tj(e) {
            let {to: t, from: n} = e = tl(e)
              , r = new Set;
            return x.obj(t) && tU(t, r),
            x.obj(n) && tU(n, r),
            e.keys = r.size ? Array.from(r) : null,
            e
        }
        function tU(e, t) {
            C(e, (e, n) => null != e && t.add(n))
        }
        var t$ = ["onStart", "onRest", "onChange", "onPause", "onResume"];
        function tV(e, t, n) {
            e.animation[n] = t[n] !== tr(t, n) ? tn(t[n], e.key) : void 0
        }
        function tB(e, t, ...n) {
            e.animation[t]?.(...n),
            e.defaultProps[t]?.(...n)
        }
        var tF = ["onStart", "onChange", "onRest"]
          , tq = 1
          , tG = class {
            constructor(e, t) {
                this.id = tq++,
                this.springs = {},
                this.queue = [],
                this._lastAsyncId = 0,
                this._active = new Set,
                this._changed = new Set,
                this._started = !1,
                this._state = {
                    paused: !1,
                    pauseQueue: new Set,
                    resumeQueue: new Set,
                    timeouts: new Set
                },
                this._events = {
                    onStart: new Map,
                    onChange: new Map,
                    onRest: new Map
                },
                this._onFrame = this._onFrame.bind(this),
                t && (this._flush = t),
                e && this.start({
                    default: !0,
                    ...e
                })
            }
            get idle() {
                return !this._state.asyncTo && Object.values(this.springs).every(e => e.idle && !e.isDelayed && !e.isPaused)
            }
            get item() {
                return this._item
            }
            set item(e) {
                this._item = e
            }
            get() {
                let e = {};
                return this.each( (t, n) => e[n] = t.get()),
                e
            }
            set(e) {
                for (let t in e) {
                    let n = e[t];
                    x.und(n) || this.springs[t].set(n)
                }
            }
            update(e) {
                return e && this.queue.push(tj(e)),
                this
            }
            start(e) {
                let {queue: t} = this;
                return (e ? t = L(e).map(tj) : this.queue = [],
                this._flush) ? this._flush(this, t) : (tK(this, t),
                tz(this, t))
            }
            stop(e, t) {
                if (!!e !== e && (t = e),
                t) {
                    let n = this.springs;
                    N(L(t), t => n[t].stop(!!e))
                } else
                    tw(this._state, this._lastAsyncId),
                    this.each(t => t.stop(!!e));
                return this
            }
            pause(e) {
                if (x.und(e))
                    this.start({
                        pause: !0
                    });
                else {
                    let t = this.springs;
                    N(L(e), e => t[e].pause())
                }
                return this
            }
            resume(e) {
                if (x.und(e))
                    this.start({
                        pause: !1
                    });
                else {
                    let t = this.springs;
                    N(L(e), e => t[e].resume())
                }
                return this
            }
            each(e) {
                C(this.springs, e)
            }
            _onFrame() {
                let {onStart: e, onChange: t, onRest: n} = this._events
                  , r = this._active.size > 0
                  , i = this._changed.size > 0;
                (r && !this._started || i && !this._started) && (this._started = !0,
                M(e, ([e,t]) => {
                    t.value = this.get(),
                    e(t, this, this._item)
                }
                ));
                let o = !r && this._started
                  , a = i || o && n.size ? this.get() : null;
                i && t.size && M(t, ([e,t]) => {
                    t.value = a,
                    e(t, this, this._item)
                }
                ),
                o && (this._started = !1,
                M(n, ([e,t]) => {
                    t.value = a,
                    e(t, this, this._item)
                }
                ))
            }
            eventObserved(e) {
                if ("change" == e.type)
                    this._changed.add(e.parent),
                    e.idle || this._active.add(e.parent);
                else {
                    if ("idle" != e.type)
                        return;
                    this._active.delete(e.parent)
                }
                d.onFrame(this._onFrame)
            }
        }
        ;
        function tz(e, t) {
            return Promise.all(t.map(t => tY(e, t))).then(t => tv(e, t))
        }
        async function tY(e, t, n) {
            let {keys: r, to: i, from: o, loop: a, onRest: s, onResolve: l} = t
              , u = x.obj(t.default) && t.default;
            a && (t.loop = !1),
            !1 === i && (t.to = null),
            !1 === o && (t.from = null);
            let c = x.arr(i) || x.fun(i) ? i : void 0;
            c ? (t.to = void 0,
            t.onRest = void 0,
            u && (u.onRest = void 0)) : N(tF, n => {
                let r = t[n];
                if (x.fun(r)) {
                    let i = e._events[n];
                    t[n] = ({finished: e, cancelled: t}) => {
                        let n = i.get(r);
                        n ? (e || (n.finished = !1),
                        t && (n.cancelled = !0)) : i.set(r, {
                            value: null,
                            finished: e || !1,
                            cancelled: t || !1
                        })
                    }
                    ,
                    u && (u[n] = t[n])
                }
            }
            );
            let f = e._state;
            !f.paused === t.pause ? (f.paused = t.pause,
            D(t.pause ? f.pauseQueue : f.resumeQueue)) : f.paused && (t.pause = !0);
            let h = (r || Object.keys(e.springs)).map(n => e.springs[n].start(t))
              , p = !0 === t.cancel || !0 === tr(t, "cancel");
            (c || p && f.asyncId) && h.push(tm(++e._lastAsyncId, {
                props: t,
                state: f,
                actions: {
                    pause: I,
                    resume: I,
                    start(t, n) {
                        p ? (tw(f, e._lastAsyncId),
                        n(tE(e))) : (t.onRest = s,
                        n(t_(c, t, f, e)))
                    }
                }
            })),
            f.paused && await new Promise(e => {
                f.resumeQueue.add(e)
            }
            );
            let g = tv(e, await Promise.all(h));
            if (a && g.finished && !(n && g.noop)) {
                let n = tD(t, a, i);
                if (n)
                    return tK(e, [n]),
                    tY(e, n, !0)
            }
            return l && d.batchedUpdates( () => l(g, e, e.item)),
            g
        }
        function tH(e, t) {
            let n = {
                ...e.springs
            };
            return t && N(L(t), e => {
                x.und(e.keys) && (e = tj(e)),
                x.obj(e.to) || (e = {
                    ...e,
                    to: void 0
                }),
                tJ(n, e, e => tW(e))
            }
            ),
            tZ(e, n),
            n
        }
        function tZ(e, t) {
            C(t, (t, n) => {
                e.springs[n] || (e.springs[n] = t,
                eA(t, e))
            }
            )
        }
        function tW(e, t) {
            let n = new tL;
            return n.key = e,
            t && eA(n, t),
            n
        }
        function tJ(e, t, n) {
            t.keys && N(t.keys, r => {
                (e[r] || (e[r] = n(r)))._prepareNode(t)
            }
            )
        }
        function tK(e, t) {
            N(t, t => {
                tJ(e.springs, t, t => tW(t, e))
            }
            )
        }
        var tX = ({children: e, ...t}) => {
            let n = (0,
            s.useContext)(tQ)
              , r = t.pause || !!n.pause
              , i = t.immediate || !!n.immediate;
            t = function(e, t) {
                let[n] = (0,
                s.useState)( () => ({
                    inputs: t,
                    result: e()
                }))
                  , r = (0,
                s.useRef)()
                  , i = r.current
                  , o = i;
                return o ? t && o.inputs && function(e, t) {
                    if (e.length !== t.length)
                        return !1;
                    for (let n = 0; n < e.length; n++)
                        if (e[n] !== t[n])
                            return !1;
                    return !0
                }(t, o.inputs) || (o = {
                    inputs: t,
                    result: e()
                }) : o = n,
                (0,
                s.useEffect)( () => {
                    r.current = o,
                    i == n && (n.inputs = n.result = void 0)
                }
                , [o]),
                o.result
            }( () => ({
                pause: r,
                immediate: i
            }), [r, i]);
            let {Provider: o} = tQ;
            return s.createElement(o, {
                value: t
            }, e)
        }
          , tQ = (r = {},
        Object.assign(tX, s.createContext(r)),
        tX.Provider._context = tX,
        tX.Consumer._context = tX,
        tX);
        tX.Provider = tQ.Provider,
        tX.Consumer = tQ.Consumer;
        var t0 = () => {
            let e = []
              , t = function(t) {
                e$(`${eD}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);
                let r = [];
                return N(e, (e, i) => {
                    if (x.und(t))
                        r.push(e.start());
                    else {
                        let o = n(t, e, i);
                        o && r.push(e.start(o))
                    }
                }
                ),
                r
            };
            t.current = e,
            t.add = function(t) {
                e.includes(t) || e.push(t)
            }
            ,
            t.delete = function(t) {
                let n = e.indexOf(t);
                ~n && e.splice(n, 1)
            }
            ,
            t.pause = function() {
                return N(e, e => e.pause(...arguments)),
                this
            }
            ,
            t.resume = function() {
                return N(e, e => e.resume(...arguments)),
                this
            }
            ,
            t.set = function(t) {
                N(e, (e, n) => {
                    let r = x.fun(t) ? t(n, e) : t;
                    r && e.set(r)
                }
                )
            }
            ,
            t.start = function(t) {
                let n = [];
                return N(e, (e, r) => {
                    if (x.und(t))
                        n.push(e.start());
                    else {
                        let i = this._getProps(t, e, r);
                        i && n.push(e.start(i))
                    }
                }
                ),
                n
            }
            ,
            t.stop = function() {
                return N(e, e => e.stop(...arguments)),
                this
            }
            ,
            t.update = function(t) {
                return N(e, (e, n) => e.update(this._getProps(t, e, n))),
                this
            }
            ;
            let n = function(e, t, n) {
                return x.fun(e) ? e(n, t) : e
            };
            return t._getProps = n,
            t
        }
        ;
        function t1(e, t) {
            let n = x.fun(e)
              , [[r],i] = function(e, t, n) {
                let r = x.fun(t) && t;
                r && !n && (n = []);
                let i = (0,
                s.useMemo)( () => r || 3 == arguments.length ? t0() : void 0, [])
                  , o = (0,
                s.useRef)(0)
                  , a = eq()
                  , l = (0,
                s.useMemo)( () => ({
                    ctrls: [],
                    queue: [],
                    flush(e, t) {
                        let n = tH(e, t);
                        return !(o.current > 0) || l.queue.length || Object.keys(n).some(t => !e.springs[t]) ? new Promise(r => {
                            tZ(e, n),
                            l.queue.push( () => {
                                r(tz(e, t))
                            }
                            ),
                            a()
                        }
                        ) : tz(e, t)
                    }
                }), [])
                  , u = (0,
                s.useRef)([...l.ctrls])
                  , c = []
                  , d = eY(e) || 0;
                function f(e, n) {
                    for (let i = e; i < n; i++) {
                        let e = u.current[i] || (u.current[i] = new tG(null,l.flush))
                          , n = r ? r(i, e) : t[i];
                        n && (c[i] = function(e) {
                            let t = tj(e);
                            return x.und(t.default) && (t.default = to(t)),
                            t
                        }(n))
                    }
                }
                (0,
                s.useMemo)( () => {
                    N(u.current.slice(e, d), e => {
                        e.ref?.delete(e),
                        i?.delete(e),
                        e.stop(!0)
                    }
                    ),
                    u.current.length = e,
                    f(d, e)
                }
                , [e]),
                (0,
                s.useMemo)( () => {
                    f(0, Math.min(d, e))
                }
                , n);
                let h = u.current.map( (e, t) => tH(e, c[t]))
                  , p = (0,
                s.useContext)(tX)
                  , g = eY(p)
                  , m = p !== g && function(e) {
                    for (let t in e)
                        return !0;
                    return !1
                }(p);
                eB( () => {
                    o.current++,
                    l.ctrls = u.current;
                    let {queue: e} = l;
                    e.length && (l.queue = [],
                    N(e, e => e())),
                    N(u.current, (e, t) => {
                        i?.add(e),
                        m && e.start({
                            default: p
                        });
                        let n = c[t];
                        if (n) {
                            var r;
                            (r = n.ref) && e.ref !== r && (e.ref?.delete(e),
                            r.add(e),
                            e.ref = r),
                            e.ref ? e.queue.push(n) : e.start(n)
                        }
                    }
                    )
                }
                ),
                eG( () => () => {
                    N(l.ctrls, e => e.stop(!0))
                }
                );
                let v = h.map(e => ({
                    ...e
                }));
                return i ? [v, i] : v
            }(1, n ? e : [e], n ? t || [] : t);
            return n || 2 == arguments.length ? [r, i] : r
        }
        var t2 = class extends tR {
            constructor(e, t) {
                super(),
                this.source = e,
                this.idle = !0,
                this._active = new Set,
                this.calc = eg(...t);
                let n = this._get();
                eJ(this, e6(n).create(n))
            }
            advance(e) {
                let t = this._get();
                k(t, this.get()) || (eW(this).setValue(t),
                this._onChange(t, this.idle)),
                !this.idle && t4(this._active) && t6(this)
            }
            _get() {
                let e = x.arr(this.source) ? this.source.map(eb) : L(eb(this.source));
                return this.calc(...e)
            }
            _start() {
                this.idle && !t4(this._active) && (this.idle = !1,
                N(eK(this), e => {
                    e.done = !1
                }
                ),
                u.skipAnimation ? (d.batchedUpdates( () => this.advance()),
                t6(this)) : Y.start(this))
            }
            _attach() {
                let e = 1;
                N(L(this.source), t => {
                    ey(t) && eA(t, this),
                    tS(t) && (t.idle || this._active.add(t),
                    e = Math.max(e, t.priority + 1))
                }
                ),
                this.priority = e,
                this._start()
            }
            _detach() {
                N(L(this.source), e => {
                    ey(e) && eS(e, this)
                }
                ),
                this._active.clear(),
                t6(this)
            }
            eventObserved(e) {
                "change" == e.type ? e.idle ? this.advance() : (this._active.add(e.parent),
                this._start()) : "idle" == e.type ? this._active.delete(e.parent) : "priority" == e.type && (this.priority = L(this.source).reduce( (e, t) => Math.max(e, (tS(t) ? t.priority : 0) + 1), 0))
            }
        }
        ;
        function t3(e) {
            return !1 !== e.idle
        }
        function t4(e) {
            return !e.size || Array.from(e).every(t3)
        }
        function t6(e) {
            e.idle || (e.idle = !0,
            N(eK(e), e => {
                e.done = !0
            }
            ),
            e_(e, {
                type: "idle",
                parent: e
            }))
        }
        u.assign({
            createStringInterpolator: eM,
            to: (e, t) => new t2(e,t)
        }),
        Y.advance;
        var t5 = n(73935)
          , t8 = /^--/
          , t9 = {}
          , t7 = {
            animationIterationCount: !0,
            borderImageOutset: !0,
            borderImageSlice: !0,
            borderImageWidth: !0,
            boxFlex: !0,
            boxFlexGroup: !0,
            boxOrdinalGroup: !0,
            columnCount: !0,
            columns: !0,
            flex: !0,
            flexGrow: !0,
            flexPositive: !0,
            flexShrink: !0,
            flexNegative: !0,
            flexOrder: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowSpan: !0,
            gridRowStart: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnSpan: !0,
            gridColumnStart: !0,
            fontWeight: !0,
            lineClamp: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            tabSize: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0,
            fillOpacity: !0,
            floodOpacity: !0,
            stopOpacity: !0,
            strokeDasharray: !0,
            strokeDashoffset: !0,
            strokeMiterlimit: !0,
            strokeOpacity: !0,
            strokeWidth: !0
        }
          , ne = (e, t) => e + t.charAt(0).toUpperCase() + t.substring(1)
          , nt = ["Webkit", "Ms", "Moz", "O"];
        t7 = Object.keys(t7).reduce( (e, t) => (nt.forEach(n => e[ne(n, t)] = e[t]),
        e), t7);
        var nn = /^(matrix|translate|scale|rotate|skew)/
          , nr = /^(translate)/
          , ni = /^(rotate|skew)/
          , no = (e, t) => x.num(e) && 0 !== e ? e + t : e
          , na = (e, t) => x.arr(e) ? e.every(e => na(e, t)) : x.num(e) ? e === t : parseFloat(e) === t
          , ns = class extends e2 {
            constructor({x: e, y: t, z: n, ...r}) {
                let i = []
                  , o = [];
                (e || t || n) && (i.push([e || 0, t || 0, n || 0]),
                o.push(e => [`translate3d(${e.map(e => no(e, "px")).join(",")})`, na(e, 0)])),
                C(r, (e, t) => {
                    if ("transform" === t)
                        i.push([e || ""]),
                        o.push(e => [e, "" === e]);
                    else if (nn.test(t)) {
                        if (delete r[t],
                        x.und(e))
                            return;
                        let n = nr.test(t) ? "px" : ni.test(t) ? "deg" : "";
                        i.push(L(e)),
                        o.push("rotate3d" === t ? ([e,t,r,i]) => [`rotate3d(${e},${t},${r},${no(i, n)})`, na(i, 0)] : e => [`${t}(${e.map(e => no(e, n)).join(",")})`, na(e, t.startsWith("scale") ? 1 : 0)])
                    }
                }
                ),
                i.length && (r.transform = new nl(i,o)),
                super(r)
            }
        }
          , nl = class extends ew {
            constructor(e, t) {
                super(),
                this.inputs = e,
                this.transforms = t,
                this._value = null
            }
            get() {
                return this._value || (this._value = this._get())
            }
            _get() {
                let e = ""
                  , t = !0;
                return N(this.inputs, (n, r) => {
                    let i = eb(n[0])
                      , [o,a] = this.transforms[r](x.arr(i) ? i : n.map(eb));
                    e += " " + o,
                    t = t && a
                }
                ),
                t ? "none" : e
            }
            observerAdded(e) {
                1 == e && N(this.inputs, e => N(e, e => ey(e) && eA(e, this)))
            }
            observerRemoved(e) {
                0 == e && N(this.inputs, e => N(e, e => ey(e) && eS(e, this)))
            }
            eventObserved(e) {
                "change" == e.type && (this._value = null),
                e_(this, e)
            }
        }
        ;
        u.assign({
            batchedUpdates: t5.unstable_batchedUpdates,
            createStringInterpolator: eM,
            colors: {
                transparent: 0,
                aliceblue: 4042850303,
                antiquewhite: 4209760255,
                aqua: 16777215,
                aquamarine: 2147472639,
                azure: 4043309055,
                beige: 4126530815,
                bisque: 4293182719,
                black: 255,
                blanchedalmond: 4293643775,
                blue: 65535,
                blueviolet: 2318131967,
                brown: 2771004159,
                burlywood: 3736635391,
                burntsienna: 3934150143,
                cadetblue: 1604231423,
                chartreuse: 2147418367,
                chocolate: 3530104575,
                coral: 4286533887,
                cornflowerblue: 1687547391,
                cornsilk: 4294499583,
                crimson: 3692313855,
                cyan: 16777215,
                darkblue: 35839,
                darkcyan: 9145343,
                darkgoldenrod: 3095792639,
                darkgray: 2846468607,
                darkgreen: 6553855,
                darkgrey: 2846468607,
                darkkhaki: 3182914559,
                darkmagenta: 2332068863,
                darkolivegreen: 1433087999,
                darkorange: 4287365375,
                darkorchid: 2570243327,
                darkred: 2332033279,
                darksalmon: 3918953215,
                darkseagreen: 2411499519,
                darkslateblue: 1211993087,
                darkslategray: 793726975,
                darkslategrey: 793726975,
                darkturquoise: 13554175,
                darkviolet: 2483082239,
                deeppink: 4279538687,
                deepskyblue: 12582911,
                dimgray: 1768516095,
                dimgrey: 1768516095,
                dodgerblue: 512819199,
                firebrick: 2988581631,
                floralwhite: 4294635775,
                forestgreen: 579543807,
                fuchsia: 4278255615,
                gainsboro: 3705462015,
                ghostwhite: 4177068031,
                gold: 4292280575,
                goldenrod: 3668254975,
                gray: 2155905279,
                green: 8388863,
                greenyellow: 2919182335,
                grey: 2155905279,
                honeydew: 4043305215,
                hotpink: 4285117695,
                indianred: 3445382399,
                indigo: 1258324735,
                ivory: 4294963455,
                khaki: 4041641215,
                lavender: 3873897215,
                lavenderblush: 4293981695,
                lawngreen: 2096890111,
                lemonchiffon: 4294626815,
                lightblue: 2916673279,
                lightcoral: 4034953471,
                lightcyan: 3774873599,
                lightgoldenrodyellow: 4210742015,
                lightgray: 3553874943,
                lightgreen: 2431553791,
                lightgrey: 3553874943,
                lightpink: 4290167295,
                lightsalmon: 4288707327,
                lightseagreen: 548580095,
                lightskyblue: 2278488831,
                lightslategray: 2005441023,
                lightslategrey: 2005441023,
                lightsteelblue: 2965692159,
                lightyellow: 4294959359,
                lime: 16711935,
                limegreen: 852308735,
                linen: 4210091775,
                magenta: 4278255615,
                maroon: 2147483903,
                mediumaquamarine: 1724754687,
                mediumblue: 52735,
                mediumorchid: 3126187007,
                mediumpurple: 2473647103,
                mediumseagreen: 1018393087,
                mediumslateblue: 2070474495,
                mediumspringgreen: 16423679,
                mediumturquoise: 1221709055,
                mediumvioletred: 3340076543,
                midnightblue: 421097727,
                mintcream: 4127193855,
                mistyrose: 4293190143,
                moccasin: 4293178879,
                navajowhite: 4292783615,
                navy: 33023,
                oldlace: 4260751103,
                olive: 2155872511,
                olivedrab: 1804477439,
                orange: 4289003775,
                orangered: 4282712319,
                orchid: 3664828159,
                palegoldenrod: 4008225535,
                palegreen: 2566625535,
                paleturquoise: 2951671551,
                palevioletred: 3681588223,
                papayawhip: 4293907967,
                peachpuff: 4292524543,
                peru: 3448061951,
                pink: 4290825215,
                plum: 3718307327,
                powderblue: 2967529215,
                purple: 2147516671,
                rebeccapurple: 1714657791,
                red: 4278190335,
                rosybrown: 3163525119,
                royalblue: 1097458175,
                saddlebrown: 2336560127,
                salmon: 4202722047,
                sandybrown: 4104413439,
                seagreen: 780883967,
                seashell: 4294307583,
                sienna: 2689740287,
                silver: 3233857791,
                skyblue: 2278484991,
                slateblue: 1784335871,
                slategray: 1887473919,
                slategrey: 1887473919,
                snow: 4294638335,
                springgreen: 16744447,
                steelblue: 1182971135,
                tan: 3535047935,
                teal: 8421631,
                thistle: 3636451583,
                tomato: 4284696575,
                turquoise: 1088475391,
                violet: 4001558271,
                wheat: 4125012991,
                white: 4294967295,
                whitesmoke: 4126537215,
                yellow: 4294902015,
                yellowgreen: 2597139199
            }
        });
        var nu = ( (e, {applyAnimatedValues: t= () => !1, createAnimatedStyle: n=e => new e2(e), getComponentProps: r=e => e}={}) => {
            let i = {
                applyAnimatedValues: t,
                createAnimatedStyle: n,
                getComponentProps: r
            }
              , o = e => {
                let t = e7(e) || "Anonymous";
                return (e = x.str(e) ? o[e] || (o[e] = e5(e, i)) : e[e9] || (e[e9] = e5(e, i))).displayName = `Animated(${t})`,
                e
            }
            ;
            return C(e, (t, n) => {
                x.arr(e) && (n = e7(t)),
                o[n] = o(t)
            }
            ),
            {
                animated: o
            }
        }
        )(["a", "abbr", "address", "area", "article", "aside", "audio", "b", "base", "bdi", "bdo", "big", "blockquote", "body", "br", "button", "canvas", "caption", "cite", "code", "col", "colgroup", "data", "datalist", "dd", "del", "details", "dfn", "dialog", "div", "dl", "dt", "em", "embed", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "iframe", "img", "input", "ins", "kbd", "keygen", "label", "legend", "li", "link", "main", "map", "mark", "menu", "menuitem", "meta", "meter", "nav", "noscript", "object", "ol", "optgroup", "option", "output", "p", "param", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "script", "section", "select", "small", "source", "span", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "textarea", "tfoot", "th", "thead", "time", "title", "tr", "track", "u", "ul", "var", "video", "wbr", "circle", "clipPath", "defs", "ellipse", "foreignObject", "g", "image", "line", "linearGradient", "mask", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "stop", "svg", "text", "tspan"], {
            applyAnimatedValues: function(e, t) {
                if (!e.nodeType || !e.setAttribute)
                    return !1;
                let n = "filter" === e.nodeName || e.parentNode && "filter" === e.parentNode.nodeName
                  , {style: r, children: i, scrollTop: o, scrollLeft: a, viewBox: s, ...l} = t
                  , u = Object.values(l)
                  , c = Object.keys(l).map(t => n || e.hasAttribute(t) ? t : t9[t] || (t9[t] = t.replace(/([A-Z])/g, e => "-" + e.toLowerCase())));
                for (let t in void 0 !== i && (e.textContent = i),
                r)
                    if (r.hasOwnProperty(t)) {
                        var d;
                        let n = null == (d = r[t]) || "boolean" == typeof d || "" === d ? "" : "number" != typeof d || 0 === d || t8.test(t) || t7.hasOwnProperty(t) && t7[t] ? ("" + d).trim() : d + "px";
                        t8.test(t) ? e.style.setProperty(t, n) : e.style[t] = n
                    }
                c.forEach( (t, n) => {
                    e.setAttribute(t, u[n])
                }
                ),
                void 0 !== o && (e.scrollTop = o),
                void 0 !== a && (e.scrollLeft = a),
                void 0 !== s && e.setAttribute("viewBox", s)
            },
            createAnimatedStyle: e => new ns(e),
            getComponentProps: ({scrollTop: e, scrollLeft: t, ...n}) => n
        }).animated
    },
    76629: function(e, t, n) {
        "use strict";
        function r(e, t) {
            t.headers = e.headers || {},
            t.statusMessage = e.statusText,
            t.statusCode = e.status,
            t.data = e.response
        }
        function i(e, t, n) {
            return new Promise(function(i, o) {
                n = n || {};
                var a, s, l, u = new XMLHttpRequest, c = n.body, d = n.headers || {};
                for (a in n.timeout && (u.timeout = n.timeout),
                u.ontimeout = u.onerror = function(e) {
                    e.timeout = "timeout" == e.type,
                    o(e)
                }
                ,
                u.open(e, t.href || t),
                u.onload = function() {
                    for (l = u.getAllResponseHeaders().trim().split(/[\r\n]+/),
                    r(u, u); s = l.shift(); )
                        s = s.split(": "),
                        u.headers[s.shift().toLowerCase()] = s.join(": ");
                    if ((s = u.headers["content-type"]) && ~s.indexOf("application/json"))
                        try {
                            u.data = JSON.parse(u.data, n.reviver)
                        } catch (e) {
                            return r(u, e),
                            o(e)
                        }
                    (u.status >= 400 ? o : i)(u)
                }
                ,
                "u" > typeof FormData && c instanceof FormData || c && "object" == typeof c && (d["content-type"] = "application/json",
                c = JSON.stringify(c)),
                u.withCredentials = !!n.withCredentials,
                d)
                    u.setRequestHeader(a, d[a]);
                u.send(c)
            }
            )
        }
        n.r(t),
        n.d(t, {
            del: function() {
                return l
            },
            get: function() {
                return o
            },
            patch: function() {
                return s
            },
            post: function() {
                return a
            },
            put: function() {
                return u
            },
            send: function() {
                return i
            }
        });
        var o = i.bind(i, "GET")
          , a = i.bind(i, "POST")
          , s = i.bind(i, "PATCH")
          , l = i.bind(i, "DELETE")
          , u = i.bind(i, "PUT")
    },
    36609: function(e, t, n) {
        "use strict";
        n.d(t, {
            ZP: function() {
                return ee
            }
        });
        let r = {
            type: "logger",
            log(e) {
                this.output("log", e)
            },
            warn(e) {
                this.output("warn", e)
            },
            error(e) {
                this.output("error", e)
            },
            output(e, t) {
                console && console[e] && console[e].apply(console, t)
            }
        };
        class i {
            constructor(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                this.init(e, t)
            }
            init(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                this.prefix = t.prefix || "i18next:",
                this.logger = e || r,
                this.options = t,
                this.debug = t.debug
            }
            log() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n];
                return this.forward(t, "log", "", !0)
            }
            warn() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n];
                return this.forward(t, "warn", "", !0)
            }
            error() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n];
                return this.forward(t, "error", "")
            }
            deprecate() {
                for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n];
                return this.forward(t, "warn", "WARNING DEPRECATED: ", !0)
            }
            forward(e, t, n, r) {
                return r && !this.debug ? null : ("string" == typeof e[0] && (e[0] = `${n}${this.prefix} ${e[0]}`),
                this.logger[t](e))
            }
            create(e) {
                return new i(this.logger,{
                    prefix: `${this.prefix}:${e}:`,
                    ...this.options
                })
            }
            clone(e) {
                return (e = e || this.options).prefix = e.prefix || this.prefix,
                new i(this.logger,e)
            }
        }
        var o = new i;
        class a {
            constructor() {
                this.observers = {}
            }
            on(e, t) {
                return e.split(" ").forEach(e => {
                    this.observers[e] || (this.observers[e] = new Map);
                    let n = this.observers[e].get(t) || 0;
                    this.observers[e].set(t, n + 1)
                }
                ),
                this
            }
            off(e, t) {
                if (this.observers[e]) {
                    if (!t) {
                        delete this.observers[e];
                        return
                    }
                    this.observers[e].delete(t)
                }
            }
            emit(e) {
                for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                    n[r - 1] = arguments[r];
                this.observers[e] && Array.from(this.observers[e].entries()).forEach(e => {
                    let[t,r] = e;
                    for (let e = 0; e < r; e++)
                        t(...n)
                }
                ),
                this.observers["*"] && Array.from(this.observers["*"].entries()).forEach(t => {
                    let[r,i] = t;
                    for (let t = 0; t < i; t++)
                        r.apply(r, [e, ...n])
                }
                )
            }
        }
        let s = () => {
            let e, t;
            let n = new Promise( (n, r) => {
                e = n,
                t = r
            }
            );
            return n.resolve = e,
            n.reject = t,
            n
        }
          , l = e => null == e ? "" : "" + e
          , u = (e, t, n) => {
            e.forEach(e => {
                t[e] && (n[e] = t[e])
            }
            )
        }
          , c = /###/g
          , d = e => e && e.indexOf("###") > -1 ? e.replace(c, ".") : e
          , f = e => !e || "string" == typeof e
          , h = (e, t, n) => {
            let r = "string" != typeof t ? t : t.split(".")
              , i = 0;
            for (; i < r.length - 1; ) {
                if (f(e))
                    return {};
                let t = d(r[i]);
                !e[t] && n && (e[t] = new n),
                e = Object.prototype.hasOwnProperty.call(e, t) ? e[t] : {},
                ++i
            }
            return f(e) ? {} : {
                obj: e,
                k: d(r[i])
            }
        }
          , p = (e, t, n) => {
            let {obj: r, k: i} = h(e, t, Object);
            if (void 0 !== r || 1 === t.length) {
                r[i] = n;
                return
            }
            let o = t[t.length - 1]
              , a = t.slice(0, t.length - 1)
              , s = h(e, a, Object);
            for (; void 0 === s.obj && a.length; )
                o = `${a[a.length - 1]}.${o}`,
                (s = h(e, a = a.slice(0, a.length - 1), Object)) && s.obj && void 0 !== s.obj[`${s.k}.${o}`] && (s.obj = void 0);
            s.obj[`${s.k}.${o}`] = n
        }
          , g = (e, t, n, r) => {
            let {obj: i, k: o} = h(e, t, Object);
            i[o] = i[o] || [],
            i[o].push(n)
        }
          , m = (e, t) => {
            let {obj: n, k: r} = h(e, t);
            if (n)
                return n[r]
        }
          , v = (e, t, n) => {
            let r = m(e, n);
            return void 0 !== r ? r : m(t, n)
        }
          , y = (e, t, n) => {
            for (let r in t)
                "__proto__" !== r && "constructor" !== r && (r in e ? "string" == typeof e[r] || e[r]instanceof String || "string" == typeof t[r] || t[r]instanceof String ? n && (e[r] = t[r]) : y(e[r], t[r], n) : e[r] = t[r]);
            return e
        }
          , b = e => e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
        var E = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
            "/": "&#x2F;"
        };
        let _ = e => "string" == typeof e ? e.replace(/[&<>"'\/]/g, e => E[e]) : e;
        class w {
            constructor(e) {
                this.capacity = e,
                this.regExpMap = new Map,
                this.regExpQueue = []
            }
            getRegExp(e) {
                let t = this.regExpMap.get(e);
                if (void 0 !== t)
                    return t;
                let n = new RegExp(e);
                return this.regExpQueue.length === this.capacity && this.regExpMap.delete(this.regExpQueue.shift()),
                this.regExpMap.set(e, n),
                this.regExpQueue.push(e),
                n
            }
        }
        let O = [" ", ",", "?", "!", ";"]
          , A = new w(20)
          , S = (e, t, n) => {
            t = t || "",
            n = n || "";
            let r = O.filter(e => 0 > t.indexOf(e) && 0 > n.indexOf(e));
            if (0 === r.length)
                return !0;
            let i = A.getRegExp(`(${r.map(e => "?" === e ? "\\?" : e).join("|")})`)
              , o = !i.test(e);
            if (!o) {
                let t = e.indexOf(n);
                t > 0 && !i.test(e.substring(0, t)) && (o = !0)
            }
            return o
        }
          , P = function(e, t) {
            let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ".";
            if (!e)
                return;
            if (e[t])
                return e[t];
            let r = t.split(n)
              , i = e;
            for (let e = 0; e < r.length; ) {
                let t;
                if (!i || "object" != typeof i)
                    return;
                let o = "";
                for (let a = e; a < r.length; ++a)
                    if (a !== e && (o += n),
                    o += r[a],
                    void 0 !== (t = i[o])) {
                        if (["string", "number", "boolean"].indexOf(typeof t) > -1 && a < r.length - 1)
                            continue;
                        e += a - e + 1;
                        break
                    }
                i = t
            }
            return i
        }
          , R = e => e && e.indexOf("_") > 0 ? e.replace("_", "-") : e;
        class I extends a {
            constructor(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    ns: ["translation"],
                    defaultNS: "translation"
                };
                super(),
                this.data = e || {},
                this.options = t,
                void 0 === this.options.keySeparator && (this.options.keySeparator = "."),
                void 0 === this.options.ignoreJSONStructure && (this.options.ignoreJSONStructure = !0)
            }
            addNamespaces(e) {
                0 > this.options.ns.indexOf(e) && this.options.ns.push(e)
            }
            removeNamespaces(e) {
                let t = this.options.ns.indexOf(e);
                t > -1 && this.options.ns.splice(t, 1)
            }
            getResource(e, t, n) {
                let r, i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o = void 0 !== i.keySeparator ? i.keySeparator : this.options.keySeparator, a = void 0 !== i.ignoreJSONStructure ? i.ignoreJSONStructure : this.options.ignoreJSONStructure;
                e.indexOf(".") > -1 ? r = e.split(".") : (r = [e, t],
                n && (Array.isArray(n) ? r.push(...n) : "string" == typeof n && o ? r.push(...n.split(o)) : r.push(n)));
                let s = m(this.data, r);
                return (!s && !t && !n && e.indexOf(".") > -1 && (e = r[0],
                t = r[1],
                n = r.slice(2).join(".")),
                s || !a || "string" != typeof n) ? s : P(this.data && this.data[e] && this.data[e][t], n, o)
            }
            addResource(e, t, n, r) {
                let i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {
                    silent: !1
                }
                  , o = void 0 !== i.keySeparator ? i.keySeparator : this.options.keySeparator
                  , a = [e, t];
                n && (a = a.concat(o ? n.split(o) : n)),
                e.indexOf(".") > -1 && (a = e.split("."),
                r = t,
                t = a[1]),
                this.addNamespaces(t),
                p(this.data, a, r),
                i.silent || this.emit("added", e, t, n, r)
            }
            addResources(e, t, n) {
                let r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {
                    silent: !1
                };
                for (let r in n)
                    ("string" == typeof n[r] || Array.isArray(n[r])) && this.addResource(e, t, r, n[r], {
                        silent: !0
                    });
                r.silent || this.emit("added", e, t, n)
            }
            addResourceBundle(e, t, n, r, i) {
                let o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {
                    silent: !1,
                    skipCopy: !1
                }
                  , a = [e, t];
                e.indexOf(".") > -1 && (a = e.split("."),
                r = n,
                n = t,
                t = a[1]),
                this.addNamespaces(t);
                let s = m(this.data, a) || {};
                o.skipCopy || (n = JSON.parse(JSON.stringify(n))),
                r ? y(s, n, i) : s = {
                    ...s,
                    ...n
                },
                p(this.data, a, s),
                o.silent || this.emit("added", e, t, n)
            }
            removeResourceBundle(e, t) {
                this.hasResourceBundle(e, t) && delete this.data[e][t],
                this.removeNamespaces(t),
                this.emit("removed", e, t)
            }
            hasResourceBundle(e, t) {
                return void 0 !== this.getResource(e, t)
            }
            getResourceBundle(e, t) {
                return (t || (t = this.options.defaultNS),
                "v1" === this.options.compatibilityAPI) ? {
                    ...this.getResource(e, t)
                } : this.getResource(e, t)
            }
            getDataByLanguage(e) {
                return this.data[e]
            }
            hasLanguageSomeTranslations(e) {
                let t = this.getDataByLanguage(e);
                return !!(t && Object.keys(t) || []).find(e => t[e] && Object.keys(t[e]).length > 0)
            }
            toJSON() {
                return this.data
            }
        }
        var T = {
            processors: {},
            addPostProcessor(e) {
                this.processors[e.name] = e
            },
            handle(e, t, n, r, i) {
                return e.forEach(e => {
                    this.processors[e] && (t = this.processors[e].process(t, n, r, i))
                }
                ),
                t
            }
        };
        let x = {};
        class k extends a {
            constructor(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                super(),
                u(["resourceStore", "languageUtils", "pluralResolver", "interpolator", "backendConnector", "i18nFormat", "utils"], e, this),
                this.options = t,
                void 0 === this.options.keySeparator && (this.options.keySeparator = "."),
                this.logger = o.create("translator")
            }
            changeLanguage(e) {
                e && (this.language = e)
            }
            exists(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    interpolation: {}
                };
                if (null == e)
                    return !1;
                let n = this.resolve(e, t);
                return n && void 0 !== n.res
            }
            extractFromKey(e, t) {
                let n = void 0 !== t.nsSeparator ? t.nsSeparator : this.options.nsSeparator;
                void 0 === n && (n = ":");
                let r = void 0 !== t.keySeparator ? t.keySeparator : this.options.keySeparator
                  , i = t.ns || this.options.defaultNS || []
                  , o = n && e.indexOf(n) > -1
                  , a = !this.options.userDefinedKeySeparator && !t.keySeparator && !this.options.userDefinedNsSeparator && !t.nsSeparator && !S(e, n, r);
                if (o && !a) {
                    let t = e.match(this.interpolator.nestingRegexp);
                    if (t && t.length > 0)
                        return {
                            key: e,
                            namespaces: i
                        };
                    let o = e.split(n);
                    (n !== r || n === r && this.options.ns.indexOf(o[0]) > -1) && (i = o.shift()),
                    e = o.join(r)
                }
                return "string" == typeof i && (i = [i]),
                {
                    key: e,
                    namespaces: i
                }
            }
            translate(e, t, n) {
                if ("object" != typeof t && this.options.overloadTranslationOptionHandler && (t = this.options.overloadTranslationOptionHandler(arguments)),
                "object" == typeof t && (t = {
                    ...t
                }),
                t || (t = {}),
                null == e)
                    return "";
                Array.isArray(e) || (e = [String(e)]);
                let r = void 0 !== t.returnDetails ? t.returnDetails : this.options.returnDetails
                  , i = void 0 !== t.keySeparator ? t.keySeparator : this.options.keySeparator
                  , {key: o, namespaces: a} = this.extractFromKey(e[e.length - 1], t)
                  , s = a[a.length - 1]
                  , l = t.lng || this.language
                  , u = t.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
                if (l && "cimode" === l.toLowerCase()) {
                    if (u) {
                        let e = t.nsSeparator || this.options.nsSeparator;
                        return r ? {
                            res: `${s}${e}${o}`,
                            usedKey: o,
                            exactUsedKey: o,
                            usedLng: l,
                            usedNS: s,
                            usedParams: this.getUsedParamsDetails(t)
                        } : `${s}${e}${o}`
                    }
                    return r ? {
                        res: o,
                        usedKey: o,
                        exactUsedKey: o,
                        usedLng: l,
                        usedNS: s,
                        usedParams: this.getUsedParamsDetails(t)
                    } : o
                }
                let c = this.resolve(e, t)
                  , d = c && c.res
                  , f = c && c.usedKey || o
                  , h = c && c.exactUsedKey || o
                  , p = Object.prototype.toString.apply(d)
                  , g = void 0 !== t.joinArrays ? t.joinArrays : this.options.joinArrays
                  , m = !this.i18nFormat || this.i18nFormat.handleAsObject
                  , v = "string" != typeof d && "boolean" != typeof d && "number" != typeof d;
                if (m && d && v && 0 > ["[object Number]", "[object Function]", "[object RegExp]"].indexOf(p) && !("string" == typeof g && Array.isArray(d))) {
                    if (!t.returnObjects && !this.options.returnObjects) {
                        this.options.returnedObjectHandler || this.logger.warn("accessing an object - but returnObjects options is not enabled!");
                        let e = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(f, d, {
                            ...t,
                            ns: a
                        }) : `key '${o} (${this.language})' returned an object instead of string.`;
                        return r ? (c.res = e,
                        c.usedParams = this.getUsedParamsDetails(t),
                        c) : e
                    }
                    if (i) {
                        let e = Array.isArray(d)
                          , n = e ? [] : {}
                          , r = e ? h : f;
                        for (let e in d)
                            if (Object.prototype.hasOwnProperty.call(d, e)) {
                                let o = `${r}${i}${e}`;
                                n[e] = this.translate(o, {
                                    ...t,
                                    joinArrays: !1,
                                    ns: a
                                }),
                                n[e] === o && (n[e] = d[e])
                            }
                        d = n
                    }
                } else if (m && "string" == typeof g && Array.isArray(d))
                    (d = d.join(g)) && (d = this.extendTranslation(d, e, t, n));
                else {
                    let r = !1
                      , a = !1
                      , u = void 0 !== t.count && "string" != typeof t.count
                      , f = k.hasDefaultValue(t)
                      , h = u ? this.pluralResolver.getSuffix(l, t.count, t) : ""
                      , p = t.ordinal && u ? this.pluralResolver.getSuffix(l, t.count, {
                        ordinal: !1
                    }) : ""
                      , g = u && !t.ordinal && 0 === t.count && this.pluralResolver.shouldUseIntlApi()
                      , m = g && t[`defaultValue${this.options.pluralSeparator}zero`] || t[`defaultValue${h}`] || t[`defaultValue${p}`] || t.defaultValue;
                    !this.isValidLookup(d) && f && (r = !0,
                    d = m),
                    this.isValidLookup(d) || (a = !0,
                    d = o);
                    let v = (t.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey) && a ? void 0 : d
                      , y = f && m !== d && this.options.updateMissing;
                    if (a || r || y) {
                        if (this.logger.log(y ? "updateKey" : "missingKey", l, s, o, y ? m : d),
                        i) {
                            let e = this.resolve(o, {
                                ...t,
                                keySeparator: !1
                            });
                            e && e.res && this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")
                        }
                        let e = []
                          , n = this.languageUtils.getFallbackCodes(this.options.fallbackLng, t.lng || this.language);
                        if ("fallback" === this.options.saveMissingTo && n && n[0])
                            for (let t = 0; t < n.length; t++)
                                e.push(n[t]);
                        else
                            "all" === this.options.saveMissingTo ? e = this.languageUtils.toResolveHierarchy(t.lng || this.language) : e.push(t.lng || this.language);
                        let r = (e, n, r) => {
                            let i = f && r !== d ? r : v;
                            this.options.missingKeyHandler ? this.options.missingKeyHandler(e, s, n, i, y, t) : this.backendConnector && this.backendConnector.saveMissing && this.backendConnector.saveMissing(e, s, n, i, y, t),
                            this.emit("missingKey", e, s, n, d)
                        }
                        ;
                        this.options.saveMissing && (this.options.saveMissingPlurals && u ? e.forEach(e => {
                            let n = this.pluralResolver.getSuffixes(e, t);
                            g && t[`defaultValue${this.options.pluralSeparator}zero`] && 0 > n.indexOf(`${this.options.pluralSeparator}zero`) && n.push(`${this.options.pluralSeparator}zero`),
                            n.forEach(n => {
                                r([e], o + n, t[`defaultValue${n}`] || m)
                            }
                            )
                        }
                        ) : r(e, o, m))
                    }
                    d = this.extendTranslation(d, e, t, c, n),
                    a && d === o && this.options.appendNamespaceToMissingKey && (d = `${s}:${o}`),
                    (a || r) && this.options.parseMissingKeyHandler && (d = "v1" !== this.options.compatibilityAPI ? this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${s}:${o}` : o, r ? d : void 0) : this.options.parseMissingKeyHandler(d))
                }
                return r ? (c.res = d,
                c.usedParams = this.getUsedParamsDetails(t),
                c) : d
            }
            extendTranslation(e, t, n, r, i) {
                var o = this;
                if (this.i18nFormat && this.i18nFormat.parse)
                    e = this.i18nFormat.parse(e, {
                        ...this.options.interpolation.defaultVariables,
                        ...n
                    }, n.lng || this.language || r.usedLng, r.usedNS, r.usedKey, {
                        resolved: r
                    });
                else if (!n.skipInterpolation) {
                    let a;
                    n.interpolation && this.interpolator.init({
                        ...n,
                        interpolation: {
                            ...this.options.interpolation,
                            ...n.interpolation
                        }
                    });
                    let s = "string" == typeof e && (n && n.interpolation && void 0 !== n.interpolation.skipOnVariables ? n.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
                    if (s) {
                        let t = e.match(this.interpolator.nestingRegexp);
                        a = t && t.length
                    }
                    let l = n.replace && "string" != typeof n.replace ? n.replace : n;
                    if (this.options.interpolation.defaultVariables && (l = {
                        ...this.options.interpolation.defaultVariables,
                        ...l
                    }),
                    e = this.interpolator.interpolate(e, l, n.lng || this.language || r.usedLng, n),
                    s) {
                        let t = e.match(this.interpolator.nestingRegexp);
                        a < (t && t.length) && (n.nest = !1)
                    }
                    !n.lng && "v1" !== this.options.compatibilityAPI && r && r.res && (n.lng = this.language || r.usedLng),
                    !1 !== n.nest && (e = this.interpolator.nest(e, function() {
                        for (var e = arguments.length, r = Array(e), a = 0; a < e; a++)
                            r[a] = arguments[a];
                        return i && i[0] === r[0] && !n.context ? (o.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),
                        null) : o.translate(...r, t)
                    }, n)),
                    n.interpolation && this.interpolator.reset()
                }
                let a = n.postProcess || this.options.postProcess
                  , s = "string" == typeof a ? [a] : a;
                return null != e && s && s.length && !1 !== n.applyPostProcessor && (e = T.handle(s, e, t, this.options && this.options.postProcessPassResolved ? {
                    i18nResolved: {
                        ...r,
                        usedParams: this.getUsedParamsDetails(n)
                    },
                    ...n
                } : n, this)),
                e
            }
            resolve(e) {
                let t, n, r, i, o, a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return "string" == typeof e && (e = [e]),
                e.forEach(e => {
                    if (this.isValidLookup(t))
                        return;
                    let s = this.extractFromKey(e, a)
                      , l = s.key;
                    n = l;
                    let u = s.namespaces;
                    this.options.fallbackNS && (u = u.concat(this.options.fallbackNS));
                    let c = void 0 !== a.count && "string" != typeof a.count
                      , d = c && !a.ordinal && 0 === a.count && this.pluralResolver.shouldUseIntlApi()
                      , f = void 0 !== a.context && ("string" == typeof a.context || "number" == typeof a.context) && "" !== a.context
                      , h = a.lngs ? a.lngs : this.languageUtils.toResolveHierarchy(a.lng || this.language, a.fallbackLng);
                    u.forEach(e => {
                        this.isValidLookup(t) || (o = e,
                        !x[`${h[0]}-${e}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(o) && (x[`${h[0]}-${e}`] = !0,
                        this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`, "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),
                        h.forEach(n => {
                            let o;
                            if (this.isValidLookup(t))
                                return;
                            i = n;
                            let s = [l];
                            if (this.i18nFormat && this.i18nFormat.addLookupKeys)
                                this.i18nFormat.addLookupKeys(s, l, n, e, a);
                            else {
                                let e;
                                c && (e = this.pluralResolver.getSuffix(n, a.count, a));
                                let t = `${this.options.pluralSeparator}zero`
                                  , r = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
                                if (c && (s.push(l + e),
                                a.ordinal && 0 === e.indexOf(r) && s.push(l + e.replace(r, this.options.pluralSeparator)),
                                d && s.push(l + t)),
                                f) {
                                    let n = `${l}${this.options.contextSeparator}${a.context}`;
                                    s.push(n),
                                    c && (s.push(n + e),
                                    a.ordinal && 0 === e.indexOf(r) && s.push(n + e.replace(r, this.options.pluralSeparator)),
                                    d && s.push(n + t))
                                }
                            }
                            for (; o = s.pop(); )
                                this.isValidLookup(t) || (r = o,
                                t = this.getResource(n, e, o, a))
                        }
                        ))
                    }
                    )
                }
                ),
                {
                    res: t,
                    usedKey: n,
                    exactUsedKey: r,
                    usedLng: i,
                    usedNS: o
                }
            }
            isValidLookup(e) {
                return void 0 !== e && !(!this.options.returnNull && null === e) && !(!this.options.returnEmptyString && "" === e)
            }
            getResource(e, t, n) {
                let r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                return this.i18nFormat && this.i18nFormat.getResource ? this.i18nFormat.getResource(e, t, n, r) : this.resourceStore.getResource(e, t, n, r)
            }
            getUsedParamsDetails() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , t = e.replace && "string" != typeof e.replace
                  , n = t ? e.replace : e;
                if (t && void 0 !== e.count && (n.count = e.count),
                this.options.interpolation.defaultVariables && (n = {
                    ...this.options.interpolation.defaultVariables,
                    ...n
                }),
                !t)
                    for (let e of (n = {
                        ...n
                    },
                    ["defaultValue", "ordinal", "context", "replace", "lng", "lngs", "fallbackLng", "ns", "keySeparator", "nsSeparator", "returnObjects", "returnDetails", "joinArrays", "postProcess", "interpolation"]))
                        delete n[e];
                return n
            }
            static hasDefaultValue(e) {
                let t = "defaultValue";
                for (let n in e)
                    if (Object.prototype.hasOwnProperty.call(e, n) && t === n.substring(0, t.length) && void 0 !== e[n])
                        return !0;
                return !1
            }
        }
        let N = e => e.charAt(0).toUpperCase() + e.slice(1);
        class C {
            constructor(e) {
                this.options = e,
                this.supportedLngs = this.options.supportedLngs || !1,
                this.logger = o.create("languageUtils")
            }
            getScriptPartFromCode(e) {
                if (!(e = R(e)) || 0 > e.indexOf("-"))
                    return null;
                let t = e.split("-");
                return 2 === t.length ? null : (t.pop(),
                "x" === t[t.length - 1].toLowerCase()) ? null : this.formatLanguageCode(t.join("-"))
            }
            getLanguagePartFromCode(e) {
                if (!(e = R(e)) || 0 > e.indexOf("-"))
                    return e;
                let t = e.split("-");
                return this.formatLanguageCode(t[0])
            }
            formatLanguageCode(e) {
                if ("string" == typeof e && e.indexOf("-") > -1) {
                    let t = ["hans", "hant", "latn", "cyrl", "cans", "mong", "arab"]
                      , n = e.split("-");
                    return this.options.lowerCaseLng ? n = n.map(e => e.toLowerCase()) : 2 === n.length ? (n[0] = n[0].toLowerCase(),
                    n[1] = n[1].toUpperCase(),
                    t.indexOf(n[1].toLowerCase()) > -1 && (n[1] = N(n[1].toLowerCase()))) : 3 === n.length && (n[0] = n[0].toLowerCase(),
                    2 === n[1].length && (n[1] = n[1].toUpperCase()),
                    "sgn" !== n[0] && 2 === n[2].length && (n[2] = n[2].toUpperCase()),
                    t.indexOf(n[1].toLowerCase()) > -1 && (n[1] = N(n[1].toLowerCase())),
                    t.indexOf(n[2].toLowerCase()) > -1 && (n[2] = N(n[2].toLowerCase()))),
                    n.join("-")
                }
                return this.options.cleanCode || this.options.lowerCaseLng ? e.toLowerCase() : e
            }
            isSupportedCode(e) {
                return ("languageOnly" === this.options.load || this.options.nonExplicitSupportedLngs) && (e = this.getLanguagePartFromCode(e)),
                !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(e) > -1
            }
            getBestMatchFromCodes(e) {
                let t;
                return e ? (e.forEach(e => {
                    if (t)
                        return;
                    let n = this.formatLanguageCode(e);
                    (!this.options.supportedLngs || this.isSupportedCode(n)) && (t = n)
                }
                ),
                !t && this.options.supportedLngs && e.forEach(e => {
                    if (t)
                        return;
                    let n = this.getLanguagePartFromCode(e);
                    if (this.isSupportedCode(n))
                        return t = n;
                    t = this.options.supportedLngs.find(e => {
                        if (e === n || !(0 > e.indexOf("-") && 0 > n.indexOf("-")) && (e.indexOf("-") > 0 && 0 > n.indexOf("-") && e.substring(0, e.indexOf("-")) === n || 0 === e.indexOf(n) && n.length > 1))
                            return e
                    }
                    )
                }
                ),
                t || (t = this.getFallbackCodes(this.options.fallbackLng)[0]),
                t) : null
            }
            getFallbackCodes(e, t) {
                if (!e)
                    return [];
                if ("function" == typeof e && (e = e(t)),
                "string" == typeof e && (e = [e]),
                Array.isArray(e))
                    return e;
                if (!t)
                    return e.default || [];
                let n = e[t];
                return n || (n = e[this.getScriptPartFromCode(t)]),
                n || (n = e[this.formatLanguageCode(t)]),
                n || (n = e[this.getLanguagePartFromCode(t)]),
                n || (n = e.default),
                n || []
            }
            toResolveHierarchy(e, t) {
                let n = this.getFallbackCodes(t || this.options.fallbackLng || [], e)
                  , r = []
                  , i = e => {
                    e && (this.isSupportedCode(e) ? r.push(e) : this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))
                }
                ;
                return "string" == typeof e && (e.indexOf("-") > -1 || e.indexOf("_") > -1) ? ("languageOnly" !== this.options.load && i(this.formatLanguageCode(e)),
                "languageOnly" !== this.options.load && "currentOnly" !== this.options.load && i(this.getScriptPartFromCode(e)),
                "currentOnly" !== this.options.load && i(this.getLanguagePartFromCode(e))) : "string" == typeof e && i(this.formatLanguageCode(e)),
                n.forEach(e => {
                    0 > r.indexOf(e) && i(this.formatLanguageCode(e))
                }
                ),
                r
            }
        }
        let L = [{
            lngs: ["ach", "ak", "am", "arn", "br", "fil", "gun", "ln", "mfe", "mg", "mi", "oc", "pt", "pt-BR", "tg", "tl", "ti", "tr", "uz", "wa"],
            nr: [1, 2],
            fc: 1
        }, {
            lngs: ["af", "an", "ast", "az", "bg", "bn", "ca", "da", "de", "dev", "el", "en", "eo", "es", "et", "eu", "fi", "fo", "fur", "fy", "gl", "gu", "ha", "hi", "hu", "hy", "ia", "it", "kk", "kn", "ku", "lb", "mai", "ml", "mn", "mr", "nah", "nap", "nb", "ne", "nl", "nn", "no", "nso", "pa", "pap", "pms", "ps", "pt-PT", "rm", "sco", "se", "si", "so", "son", "sq", "sv", "sw", "ta", "te", "tk", "ur", "yo"],
            nr: [1, 2],
            fc: 2
        }, {
            lngs: ["ay", "bo", "cgg", "fa", "ht", "id", "ja", "jbo", "ka", "km", "ko", "ky", "lo", "ms", "sah", "su", "th", "tt", "ug", "vi", "wo", "zh"],
            nr: [1],
            fc: 3
        }, {
            lngs: ["be", "bs", "cnr", "dz", "hr", "ru", "sr", "uk"],
            nr: [1, 2, 5],
            fc: 4
        }, {
            lngs: ["ar"],
            nr: [0, 1, 2, 3, 11, 100],
            fc: 5
        }, {
            lngs: ["cs", "sk"],
            nr: [1, 2, 5],
            fc: 6
        }, {
            lngs: ["csb", "pl"],
            nr: [1, 2, 5],
            fc: 7
        }, {
            lngs: ["cy"],
            nr: [1, 2, 3, 8],
            fc: 8
        }, {
            lngs: ["fr"],
            nr: [1, 2],
            fc: 9
        }, {
            lngs: ["ga"],
            nr: [1, 2, 3, 7, 11],
            fc: 10
        }, {
            lngs: ["gd"],
            nr: [1, 2, 3, 20],
            fc: 11
        }, {
            lngs: ["is"],
            nr: [1, 2],
            fc: 12
        }, {
            lngs: ["jv"],
            nr: [0, 1],
            fc: 13
        }, {
            lngs: ["kw"],
            nr: [1, 2, 3, 4],
            fc: 14
        }, {
            lngs: ["lt"],
            nr: [1, 2, 10],
            fc: 15
        }, {
            lngs: ["lv"],
            nr: [1, 2, 0],
            fc: 16
        }, {
            lngs: ["mk"],
            nr: [1, 2],
            fc: 17
        }, {
            lngs: ["mnk"],
            nr: [0, 1, 2],
            fc: 18
        }, {
            lngs: ["mt"],
            nr: [1, 2, 11, 20],
            fc: 19
        }, {
            lngs: ["or"],
            nr: [2, 1],
            fc: 2
        }, {
            lngs: ["ro"],
            nr: [1, 2, 20],
            fc: 20
        }, {
            lngs: ["sl"],
            nr: [5, 1, 2, 3],
            fc: 21
        }, {
            lngs: ["he", "iw"],
            nr: [1, 2, 20, 21],
            fc: 22
        }]
          , M = {
            1: e => Number(e > 1),
            2: e => Number(1 != e),
            3: e => 0,
            4: e => Number(e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2),
            5: e => Number(0 == e ? 0 : 1 == e ? 1 : 2 == e ? 2 : e % 100 >= 3 && e % 100 <= 10 ? 3 : e % 100 >= 11 ? 4 : 5),
            6: e => Number(1 == e ? 0 : e >= 2 && e <= 4 ? 1 : 2),
            7: e => Number(1 == e ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2),
            8: e => Number(1 == e ? 0 : 2 == e ? 1 : 8 != e && 11 != e ? 2 : 3),
            9: e => Number(e >= 2),
            10: e => Number(1 == e ? 0 : 2 == e ? 1 : e < 7 ? 2 : e < 11 ? 3 : 4),
            11: e => Number(1 == e || 11 == e ? 0 : 2 == e || 12 == e ? 1 : e > 2 && e < 20 ? 2 : 3),
            12: e => Number(e % 10 != 1 || e % 100 == 11),
            13: e => Number(0 !== e),
            14: e => Number(1 == e ? 0 : 2 == e ? 1 : 3 == e ? 2 : 3),
            15: e => Number(e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2),
            16: e => Number(e % 10 == 1 && e % 100 != 11 ? 0 : 0 !== e ? 1 : 2),
            17: e => Number(1 == e || e % 10 == 1 && e % 100 != 11 ? 0 : 1),
            18: e => Number(0 == e ? 0 : 1 == e ? 1 : 2),
            19: e => Number(1 == e ? 0 : 0 == e || e % 100 > 1 && e % 100 < 11 ? 1 : e % 100 > 10 && e % 100 < 20 ? 2 : 3),
            20: e => Number(1 == e ? 0 : 0 == e || e % 100 > 0 && e % 100 < 20 ? 1 : 2),
            21: e => Number(e % 100 == 1 ? 1 : e % 100 == 2 ? 2 : e % 100 == 3 || e % 100 == 4 ? 3 : 0),
            22: e => Number(1 == e ? 0 : 2 == e ? 1 : (e < 0 || e > 10) && e % 10 == 0 ? 2 : 3)
        }
          , D = ["v1", "v2", "v3"]
          , j = ["v4"]
          , U = {
            zero: 0,
            one: 1,
            two: 2,
            few: 3,
            many: 4,
            other: 5
        }
          , $ = () => {
            let e = {};
            return L.forEach(t => {
                t.lngs.forEach(n => {
                    e[n] = {
                        numbers: t.nr,
                        plurals: M[t.fc]
                    }
                }
                )
            }
            ),
            e
        }
        ;
        class V {
            constructor(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                this.languageUtils = e,
                this.options = t,
                this.logger = o.create("pluralResolver"),
                (!this.options.compatibilityJSON || j.includes(this.options.compatibilityJSON)) && ("undefined" == typeof Intl || !Intl.PluralRules) && (this.options.compatibilityJSON = "v3",
                this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),
                this.rules = $(),
                this.pluralRulesCache = {}
            }
            addRule(e, t) {
                this.rules[e] = t
            }
            clearCache() {
                this.pluralRulesCache = {}
            }
            getRule(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                if (this.shouldUseIntlApi())
                    try {
                        let n = R("dev" === e ? "en" : e)
                          , r = t.ordinal ? "ordinal" : "cardinal"
                          , i = JSON.stringify({
                            cleanedCode: n,
                            type: r
                        });
                        if (i in this.pluralRulesCache)
                            return this.pluralRulesCache[i];
                        let o = new Intl.PluralRules(n,{
                            type: r
                        });
                        return this.pluralRulesCache[i] = o,
                        o
                    } catch (e) {
                        return
                    }
                return this.rules[e] || this.rules[this.languageUtils.getLanguagePartFromCode(e)]
            }
            needsPlural(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                  , n = this.getRule(e, t);
                return this.shouldUseIntlApi() ? n && n.resolvedOptions().pluralCategories.length > 1 : n && n.numbers.length > 1
            }
            getPluralFormsOfKey(e, t) {
                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                return this.getSuffixes(e, n).map(e => `${t}${e}`)
            }
            getSuffixes(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                  , n = this.getRule(e, t);
                return n ? this.shouldUseIntlApi() ? n.resolvedOptions().pluralCategories.sort( (e, t) => U[e] - U[t]).map(e => `${this.options.prepend}${t.ordinal ? `ordinal${this.options.prepend}` : ""}${e}`) : n.numbers.map(n => this.getSuffix(e, n, t)) : []
            }
            getSuffix(e, t) {
                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
                  , r = this.getRule(e, n);
                return r ? this.shouldUseIntlApi() ? `${this.options.prepend}${n.ordinal ? `ordinal${this.options.prepend}` : ""}${r.select(t)}` : this.getSuffixRetroCompatible(r, t) : (this.logger.warn(`no plural rule found for: ${e}`),
                "")
            }
            getSuffixRetroCompatible(e, t) {
                let n = e.noAbs ? e.plurals(t) : e.plurals(Math.abs(t))
                  , r = e.numbers[n];
                this.options.simplifyPluralSuffix && 2 === e.numbers.length && 1 === e.numbers[0] && (2 === r ? r = "plural" : 1 === r && (r = ""));
                let i = () => this.options.prepend && r.toString() ? this.options.prepend + r.toString() : r.toString();
                return "v1" === this.options.compatibilityJSON ? 1 === r ? "" : "number" == typeof r ? `_plural_${r.toString()}` : i() : "v2" === this.options.compatibilityJSON || this.options.simplifyPluralSuffix && 2 === e.numbers.length && 1 === e.numbers[0] ? i() : this.options.prepend && n.toString() ? this.options.prepend + n.toString() : n.toString()
            }
            shouldUseIntlApi() {
                return !D.includes(this.options.compatibilityJSON)
            }
        }
        let B = function(e, t, n) {
            let r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "."
              , i = !(arguments.length > 4) || void 0 === arguments[4] || arguments[4]
              , o = v(e, t, n);
            return !o && i && "string" == typeof n && void 0 === (o = P(e, n, r)) && (o = P(t, n, r)),
            o
        }
          , F = e => e.replace(/\$/g, "$$$$");
        class q {
            constructor() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                this.logger = o.create("interpolator"),
                this.options = e,
                this.format = e.interpolation && e.interpolation.format || (e => e),
                this.init(e)
            }
            init() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                e.interpolation || (e.interpolation = {
                    escapeValue: !0
                });
                let {escape: t, escapeValue: n, useRawValueToEscape: r, prefix: i, prefixEscaped: o, suffix: a, suffixEscaped: s, formatSeparator: l, unescapeSuffix: u, unescapePrefix: c, nestingPrefix: d, nestingPrefixEscaped: f, nestingSuffix: h, nestingSuffixEscaped: p, nestingOptionsSeparator: g, maxReplaces: m, alwaysFormat: v} = e.interpolation;
                this.escape = void 0 !== t ? t : _,
                this.escapeValue = void 0 === n || n,
                this.useRawValueToEscape = void 0 !== r && r,
                this.prefix = i ? b(i) : o || "{{",
                this.suffix = a ? b(a) : s || "}}",
                this.formatSeparator = l || ",",
                this.unescapePrefix = u ? "" : c || "-",
                this.unescapeSuffix = this.unescapePrefix ? "" : u || "",
                this.nestingPrefix = d ? b(d) : f || b("$t("),
                this.nestingSuffix = h ? b(h) : p || b(")"),
                this.nestingOptionsSeparator = g || ",",
                this.maxReplaces = m || 1e3,
                this.alwaysFormat = void 0 !== v && v,
                this.resetRegExp()
            }
            reset() {
                this.options && this.init(this.options)
            }
            resetRegExp() {
                let e = (e, t) => e && e.source === t ? (e.lastIndex = 0,
                e) : RegExp(t, "g");
                this.regexp = e(this.regexp, `${this.prefix}(.+?)${this.suffix}`),
                this.regexpUnescape = e(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),
                this.nestingRegexp = e(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`)
            }
            interpolate(e, t, n, r) {
                let i, o, a;
                let s = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {}
                  , u = e => {
                    if (0 > e.indexOf(this.formatSeparator)) {
                        let i = B(t, s, e, this.options.keySeparator, this.options.ignoreJSONStructure);
                        return this.alwaysFormat ? this.format(i, void 0, n, {
                            ...r,
                            ...t,
                            interpolationkey: e
                        }) : i
                    }
                    let i = e.split(this.formatSeparator)
                      , o = i.shift().trim()
                      , a = i.join(this.formatSeparator).trim();
                    return this.format(B(t, s, o, this.options.keySeparator, this.options.ignoreJSONStructure), a, n, {
                        ...r,
                        ...t,
                        interpolationkey: o
                    })
                }
                ;
                this.resetRegExp();
                let c = r && r.missingInterpolationHandler || this.options.missingInterpolationHandler
                  , d = r && r.interpolation && void 0 !== r.interpolation.skipOnVariables ? r.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
                return [{
                    regex: this.regexpUnescape,
                    safeValue: e => F(e)
                }, {
                    regex: this.regexp,
                    safeValue: e => this.escapeValue ? F(this.escape(e)) : F(e)
                }].forEach(t => {
                    for (a = 0; i = t.regex.exec(e); ) {
                        let n = i[1].trim();
                        if (void 0 === (o = u(n))) {
                            if ("function" == typeof c) {
                                let t = c(e, i, r);
                                o = "string" == typeof t ? t : ""
                            } else if (r && Object.prototype.hasOwnProperty.call(r, n))
                                o = "";
                            else if (d) {
                                o = i[0];
                                continue
                            } else
                                this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),
                                o = ""
                        } else
                            "string" == typeof o || this.useRawValueToEscape || (o = l(o));
                        let s = t.safeValue(o);
                        if (e = e.replace(i[0], s),
                        d ? (t.regex.lastIndex += o.length,
                        t.regex.lastIndex -= i[0].length) : t.regex.lastIndex = 0,
                        ++a >= this.maxReplaces)
                            break
                    }
                }
                ),
                e
            }
            nest(e, t) {
                let n, r, i, o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, a = (e, t) => {
                    let n = this.nestingOptionsSeparator;
                    if (0 > e.indexOf(n))
                        return e;
                    let r = e.split(RegExp(`${n}[ ]*{`))
                      , o = `{${r[1]}`;
                    e = r[0];
                    let a = (o = this.interpolate(o, i)).match(/'/g)
                      , s = o.match(/"/g);
                    (a && a.length % 2 == 0 && !s || s.length % 2 != 0) && (o = o.replace(/'/g, '"'));
                    try {
                        i = JSON.parse(o),
                        t && (i = {
                            ...t,
                            ...i
                        })
                    } catch (t) {
                        return this.logger.warn(`failed parsing options string in nesting for key ${e}`, t),
                        `${e}${n}${o}`
                    }
                    return i.defaultValue && i.defaultValue.indexOf(this.prefix) > -1 && delete i.defaultValue,
                    e
                }
                ;
                for (; n = this.nestingRegexp.exec(e); ) {
                    let s = [];
                    (i = (i = {
                        ...o
                    }).replace && "string" != typeof i.replace ? i.replace : i).applyPostProcessor = !1,
                    delete i.defaultValue;
                    let u = !1;
                    if (-1 !== n[0].indexOf(this.formatSeparator) && !/{.*}/.test(n[1])) {
                        let e = n[1].split(this.formatSeparator).map(e => e.trim());
                        n[1] = e.shift(),
                        s = e,
                        u = !0
                    }
                    if ((r = t(a.call(this, n[1].trim(), i), i)) && n[0] === e && "string" != typeof r)
                        return r;
                    "string" != typeof r && (r = l(r)),
                    r || (this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),
                    r = ""),
                    u && (r = s.reduce( (e, t) => this.format(e, t, o.lng, {
                        ...o,
                        interpolationkey: n[1].trim()
                    }), r.trim())),
                    e = e.replace(n[0], r),
                    this.regexp.lastIndex = 0
                }
                return e
            }
        }
        let G = e => {
            let t = e.toLowerCase().trim()
              , n = {};
            if (e.indexOf("(") > -1) {
                let r = e.split("(");
                t = r[0].toLowerCase().trim();
                let i = r[1].substring(0, r[1].length - 1);
                "currency" === t && 0 > i.indexOf(":") ? n.currency || (n.currency = i.trim()) : "relativetime" === t && 0 > i.indexOf(":") ? n.range || (n.range = i.trim()) : i.split(";").forEach(e => {
                    if (e) {
                        let[t,...r] = e.split(":")
                          , i = r.join(":").trim().replace(/^'+|'+$/g, "")
                          , o = t.trim();
                        n[o] || (n[o] = i),
                        "false" === i && (n[o] = !1),
                        "true" === i && (n[o] = !0),
                        isNaN(i) || (n[o] = parseInt(i, 10))
                    }
                }
                )
            }
            return {
                formatName: t,
                formatOptions: n
            }
        }
          , z = e => {
            let t = {};
            return (n, r, i) => {
                let o = i;
                i && i.interpolationkey && i.formatParams && i.formatParams[i.interpolationkey] && i[i.interpolationkey] && (o = {
                    ...o,
                    [i.interpolationkey]: void 0
                });
                let a = r + JSON.stringify(o)
                  , s = t[a];
                return s || (s = e(R(r), i),
                t[a] = s),
                s(n)
            }
        }
        ;
        class Y {
            constructor() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                this.logger = o.create("formatter"),
                this.options = e,
                this.formats = {
                    number: z( (e, t) => {
                        let n = new Intl.NumberFormat(e,{
                            ...t
                        });
                        return e => n.format(e)
                    }
                    ),
                    currency: z( (e, t) => {
                        let n = new Intl.NumberFormat(e,{
                            ...t,
                            style: "currency"
                        });
                        return e => n.format(e)
                    }
                    ),
                    datetime: z( (e, t) => {
                        let n = new Intl.DateTimeFormat(e,{
                            ...t
                        });
                        return e => n.format(e)
                    }
                    ),
                    relativetime: z( (e, t) => {
                        let n = new Intl.RelativeTimeFormat(e,{
                            ...t
                        });
                        return e => n.format(e, t.range || "day")
                    }
                    ),
                    list: z( (e, t) => {
                        let n = new Intl.ListFormat(e,{
                            ...t
                        });
                        return e => n.format(e)
                    }
                    )
                },
                this.init(e)
            }
            init(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    interpolation: {}
                }
                  , n = t.interpolation;
                this.formatSeparator = n.formatSeparator ? n.formatSeparator : n.formatSeparator || ","
            }
            add(e, t) {
                this.formats[e.toLowerCase().trim()] = t
            }
            addCached(e, t) {
                this.formats[e.toLowerCase().trim()] = z(t)
            }
            format(e, t, n) {
                let r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}
                  , i = t.split(this.formatSeparator);
                if (i.length > 1 && i[0].indexOf("(") > 1 && 0 > i[0].indexOf(")") && i.find(e => e.indexOf(")") > -1)) {
                    let e = i.findIndex(e => e.indexOf(")") > -1);
                    i[0] = [i[0], ...i.splice(1, e)].join(this.formatSeparator)
                }
                return i.reduce( (e, t) => {
                    let {formatName: i, formatOptions: o} = G(t);
                    if (this.formats[i]) {
                        let t = e;
                        try {
                            let a = r && r.formatParams && r.formatParams[r.interpolationkey] || {}
                              , s = a.locale || a.lng || r.locale || r.lng || n;
                            t = this.formats[i](e, s, {
                                ...o,
                                ...r,
                                ...a
                            })
                        } catch (e) {
                            this.logger.warn(e)
                        }
                        return t
                    }
                    return this.logger.warn(`there was no format function for ${i}`),
                    e
                }
                , e)
            }
        }
        let H = (e, t) => {
            void 0 !== e.pending[t] && (delete e.pending[t],
            e.pendingCount--)
        }
        ;
        class Z extends a {
            constructor(e, t, n) {
                let r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                super(),
                this.backend = e,
                this.store = t,
                this.services = n,
                this.languageUtils = n.languageUtils,
                this.options = r,
                this.logger = o.create("backendConnector"),
                this.waitingReads = [],
                this.maxParallelReads = r.maxParallelReads || 10,
                this.readingCalls = 0,
                this.maxRetries = r.maxRetries >= 0 ? r.maxRetries : 5,
                this.retryTimeout = r.retryTimeout >= 1 ? r.retryTimeout : 350,
                this.state = {},
                this.queue = [],
                this.backend && this.backend.init && this.backend.init(n, r.backend, r)
            }
            queueLoad(e, t, n, r) {
                let i = {}
                  , o = {}
                  , a = {}
                  , s = {};
                return e.forEach(e => {
                    let r = !0;
                    t.forEach(t => {
                        let a = `${e}|${t}`;
                        !n.reload && this.store.hasResourceBundle(e, t) ? this.state[a] = 2 : this.state[a] < 0 || (1 === this.state[a] ? void 0 === o[a] && (o[a] = !0) : (this.state[a] = 1,
                        r = !1,
                        void 0 === o[a] && (o[a] = !0),
                        void 0 === i[a] && (i[a] = !0),
                        void 0 === s[t] && (s[t] = !0)))
                    }
                    ),
                    r || (a[e] = !0)
                }
                ),
                (Object.keys(i).length || Object.keys(o).length) && this.queue.push({
                    pending: o,
                    pendingCount: Object.keys(o).length,
                    loaded: {},
                    errors: [],
                    callback: r
                }),
                {
                    toLoad: Object.keys(i),
                    pending: Object.keys(o),
                    toLoadLanguages: Object.keys(a),
                    toLoadNamespaces: Object.keys(s)
                }
            }
            loaded(e, t, n) {
                let r = e.split("|")
                  , i = r[0]
                  , o = r[1];
                t && this.emit("failedLoading", i, o, t),
                !t && n && this.store.addResourceBundle(i, o, n, void 0, void 0, {
                    skipCopy: !0
                }),
                this.state[e] = t ? -1 : 2,
                t && n && (this.state[e] = 0);
                let a = {};
                this.queue.forEach(n => {
                    g(n.loaded, [i], o),
                    H(n, e),
                    t && n.errors.push(t),
                    0 !== n.pendingCount || n.done || (Object.keys(n.loaded).forEach(e => {
                        a[e] || (a[e] = {});
                        let t = n.loaded[e];
                        t.length && t.forEach(t => {
                            void 0 === a[e][t] && (a[e][t] = !0)
                        }
                        )
                    }
                    ),
                    n.done = !0,
                    n.errors.length ? n.callback(n.errors) : n.callback())
                }
                ),
                this.emit("loaded", a),
                this.queue = this.queue.filter(e => !e.done)
            }
            read(e, t, n) {
                let r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
                  , i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : this.retryTimeout
                  , o = arguments.length > 5 ? arguments[5] : void 0;
                if (!e.length)
                    return o(null, {});
                if (this.readingCalls >= this.maxParallelReads) {
                    this.waitingReads.push({
                        lng: e,
                        ns: t,
                        fcName: n,
                        tried: r,
                        wait: i,
                        callback: o
                    });
                    return
                }
                this.readingCalls++;
                let a = (a, s) => {
                    if (this.readingCalls--,
                    this.waitingReads.length > 0) {
                        let e = this.waitingReads.shift();
                        this.read(e.lng, e.ns, e.fcName, e.tried, e.wait, e.callback)
                    }
                    if (a && s && r < this.maxRetries) {
                        setTimeout( () => {
                            this.read.call(this, e, t, n, r + 1, 2 * i, o)
                        }
                        , i);
                        return
                    }
                    o(a, s)
                }
                  , s = this.backend[n].bind(this.backend);
                if (2 === s.length) {
                    try {
                        let n = s(e, t);
                        n && "function" == typeof n.then ? n.then(e => a(null, e)).catch(a) : a(null, n)
                    } catch (e) {
                        a(e)
                    }
                    return
                }
                return s(e, t, a)
            }
            prepareLoading(e, t) {
                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
                  , r = arguments.length > 3 ? arguments[3] : void 0;
                if (!this.backend)
                    return this.logger.warn("No backend was added via i18next.use. Will not load resources."),
                    r && r();
                "string" == typeof e && (e = this.languageUtils.toResolveHierarchy(e)),
                "string" == typeof t && (t = [t]);
                let i = this.queueLoad(e, t, n, r);
                if (!i.toLoad.length)
                    return i.pending.length || r(),
                    null;
                i.toLoad.forEach(e => {
                    this.loadOne(e)
                }
                )
            }
            load(e, t, n) {
                this.prepareLoading(e, t, {}, n)
            }
            reload(e, t, n) {
                this.prepareLoading(e, t, {
                    reload: !0
                }, n)
            }
            loadOne(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                  , n = e.split("|")
                  , r = n[0]
                  , i = n[1];
                this.read(r, i, "read", void 0, void 0, (n, o) => {
                    n && this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`, n),
                    !n && o && this.logger.log(`${t}loaded namespace ${i} for language ${r}`, o),
                    this.loaded(e, n, o)
                }
                )
            }
            saveMissing(e, t, n, r, i) {
                let o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {}
                  , a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : () => {}
                ;
                if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(t)) {
                    this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`, "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");
                    return
                }
                if (null != n && "" !== n) {
                    if (this.backend && this.backend.create) {
                        let s = {
                            ...o,
                            isUpdate: i
                        }
                          , l = this.backend.create.bind(this.backend);
                        if (l.length < 6)
                            try {
                                let i;
                                (i = 5 === l.length ? l(e, t, n, r, s) : l(e, t, n, r)) && "function" == typeof i.then ? i.then(e => a(null, e)).catch(a) : a(null, i)
                            } catch (e) {
                                a(e)
                            }
                        else
                            l(e, t, n, r, a, s)
                    }
                    e && e[0] && this.store.addResource(e[0], t, n, r)
                }
            }
        }
        let W = () => ({
            debug: !1,
            initImmediate: !0,
            ns: ["translation"],
            defaultNS: ["translation"],
            fallbackLng: ["dev"],
            fallbackNS: !1,
            supportedLngs: !1,
            nonExplicitSupportedLngs: !1,
            load: "all",
            preload: !1,
            simplifyPluralSuffix: !0,
            keySeparator: ".",
            nsSeparator: ":",
            pluralSeparator: "_",
            contextSeparator: "_",
            partialBundledLanguages: !1,
            saveMissing: !1,
            updateMissing: !1,
            saveMissingTo: "fallback",
            saveMissingPlurals: !0,
            missingKeyHandler: !1,
            missingInterpolationHandler: !1,
            postProcess: !1,
            postProcessPassResolved: !1,
            returnNull: !1,
            returnEmptyString: !0,
            returnObjects: !1,
            joinArrays: !1,
            returnedObjectHandler: !1,
            parseMissingKeyHandler: !1,
            appendNamespaceToMissingKey: !1,
            appendNamespaceToCIMode: !1,
            overloadTranslationOptionHandler: e => {
                let t = {};
                if ("object" == typeof e[1] && (t = e[1]),
                "string" == typeof e[1] && (t.defaultValue = e[1]),
                "string" == typeof e[2] && (t.tDescription = e[2]),
                "object" == typeof e[2] || "object" == typeof e[3]) {
                    let n = e[3] || e[2];
                    Object.keys(n).forEach(e => {
                        t[e] = n[e]
                    }
                    )
                }
                return t
            }
            ,
            interpolation: {
                escapeValue: !0,
                format: e => e,
                prefix: "{{",
                suffix: "}}",
                formatSeparator: ",",
                unescapePrefix: "-",
                nestingPrefix: "$t(",
                nestingSuffix: ")",
                nestingOptionsSeparator: ",",
                maxReplaces: 1e3,
                skipOnVariables: !0
            }
        })
          , J = e => ("string" == typeof e.ns && (e.ns = [e.ns]),
        "string" == typeof e.fallbackLng && (e.fallbackLng = [e.fallbackLng]),
        "string" == typeof e.fallbackNS && (e.fallbackNS = [e.fallbackNS]),
        e.supportedLngs && 0 > e.supportedLngs.indexOf("cimode") && (e.supportedLngs = e.supportedLngs.concat(["cimode"])),
        e)
          , K = () => {}
          , X = e => {
            Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t => {
                "function" == typeof e[t] && (e[t] = e[t].bind(e))
            }
            )
        }
        ;
        class Q extends a {
            constructor() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , t = arguments.length > 1 ? arguments[1] : void 0;
                if (super(),
                this.options = J(e),
                this.services = {},
                this.logger = o,
                this.modules = {
                    external: []
                },
                X(this),
                t && !this.isInitialized && !e.isClone) {
                    if (!this.options.initImmediate)
                        return this.init(e, t),
                        this;
                    setTimeout( () => {
                        this.init(e, t)
                    }
                    , 0)
                }
            }
            init() {
                var e = this;
                let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , n = arguments.length > 1 ? arguments[1] : void 0;
                this.isInitializing = !0,
                "function" == typeof t && (n = t,
                t = {}),
                !t.defaultNS && !1 !== t.defaultNS && t.ns && ("string" == typeof t.ns ? t.defaultNS = t.ns : 0 > t.ns.indexOf("translation") && (t.defaultNS = t.ns[0]));
                let r = W();
                this.options = {
                    ...r,
                    ...this.options,
                    ...J(t)
                },
                "v1" !== this.options.compatibilityAPI && (this.options.interpolation = {
                    ...r.interpolation,
                    ...this.options.interpolation
                }),
                void 0 !== t.keySeparator && (this.options.userDefinedKeySeparator = t.keySeparator),
                void 0 !== t.nsSeparator && (this.options.userDefinedNsSeparator = t.nsSeparator);
                let i = e => e ? "function" == typeof e ? new e : e : null;
                if (!this.options.isClone) {
                    let t;
                    this.modules.logger ? o.init(i(this.modules.logger), this.options) : o.init(null, this.options),
                    this.modules.formatter ? t = this.modules.formatter : "undefined" != typeof Intl && (t = Y);
                    let n = new C(this.options);
                    this.store = new I(this.options.resources,this.options);
                    let a = this.services;
                    a.logger = o,
                    a.resourceStore = this.store,
                    a.languageUtils = n,
                    a.pluralResolver = new V(n,{
                        prepend: this.options.pluralSeparator,
                        compatibilityJSON: this.options.compatibilityJSON,
                        simplifyPluralSuffix: this.options.simplifyPluralSuffix
                    }),
                    t && (!this.options.interpolation.format || this.options.interpolation.format === r.interpolation.format) && (a.formatter = i(t),
                    a.formatter.init(a, this.options),
                    this.options.interpolation.format = a.formatter.format.bind(a.formatter)),
                    a.interpolator = new q(this.options),
                    a.utils = {
                        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
                    },
                    a.backendConnector = new Z(i(this.modules.backend),a.resourceStore,a,this.options),
                    a.backendConnector.on("*", function(t) {
                        for (var n = arguments.length, r = Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++)
                            r[i - 1] = arguments[i];
                        e.emit(t, ...r)
                    }),
                    this.modules.languageDetector && (a.languageDetector = i(this.modules.languageDetector),
                    a.languageDetector.init && a.languageDetector.init(a, this.options.detection, this.options)),
                    this.modules.i18nFormat && (a.i18nFormat = i(this.modules.i18nFormat),
                    a.i18nFormat.init && a.i18nFormat.init(this)),
                    this.translator = new k(this.services,this.options),
                    this.translator.on("*", function(t) {
                        for (var n = arguments.length, r = Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++)
                            r[i - 1] = arguments[i];
                        e.emit(t, ...r)
                    }),
                    this.modules.external.forEach(e => {
                        e.init && e.init(this)
                    }
                    )
                }
                if (this.format = this.options.interpolation.format,
                n || (n = K),
                this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
                    let e = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
                    e.length > 0 && "dev" !== e[0] && (this.options.lng = e[0])
                }
                this.services.languageDetector || this.options.lng || this.logger.warn("init: no languageDetector is used and no lng is defined"),
                ["getResource", "hasResourceBundle", "getResourceBundle", "getDataByLanguage"].forEach(t => {
                    this[t] = function() {
                        return e.store[t](...arguments)
                    }
                }
                ),
                ["addResource", "addResources", "addResourceBundle", "removeResourceBundle"].forEach(t => {
                    this[t] = function() {
                        return e.store[t](...arguments),
                        e
                    }
                }
                );
                let a = s()
                  , l = () => {
                    let e = (e, t) => {
                        this.isInitializing = !1,
                        this.isInitialized && !this.initializedStoreOnce && this.logger.warn("init: i18next is already initialized. You should call init just once!"),
                        this.isInitialized = !0,
                        this.options.isClone || this.logger.log("initialized", this.options),
                        this.emit("initialized", this.options),
                        a.resolve(t),
                        n(e, t)
                    }
                    ;
                    if (this.languages && "v1" !== this.options.compatibilityAPI && !this.isInitialized)
                        return e(null, this.t.bind(this));
                    this.changeLanguage(this.options.lng, e)
                }
                ;
                return this.options.resources || !this.options.initImmediate ? l() : setTimeout(l, 0),
                a
            }
            loadResources(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : K
                  , n = t
                  , r = "string" == typeof e ? e : this.language;
                if ("function" == typeof e && (n = e),
                !this.options.resources || this.options.partialBundledLanguages) {
                    if (r && "cimode" === r.toLowerCase() && (!this.options.preload || 0 === this.options.preload.length))
                        return n();
                    let e = []
                      , t = t => {
                        t && "cimode" !== t && this.services.languageUtils.toResolveHierarchy(t).forEach(t => {
                            "cimode" !== t && 0 > e.indexOf(t) && e.push(t)
                        }
                        )
                    }
                    ;
                    r ? t(r) : this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e => t(e)),
                    this.options.preload && this.options.preload.forEach(e => t(e)),
                    this.services.backendConnector.load(e, this.options.ns, e => {
                        e || this.resolvedLanguage || !this.language || this.setResolvedLanguage(this.language),
                        n(e)
                    }
                    )
                } else
                    n(null)
            }
            reloadResources(e, t, n) {
                let r = s();
                return "function" == typeof e && (n = e,
                e = void 0),
                "function" == typeof t && (n = t,
                t = void 0),
                e || (e = this.languages),
                t || (t = this.options.ns),
                n || (n = K),
                this.services.backendConnector.reload(e, t, e => {
                    r.resolve(),
                    n(e)
                }
                ),
                r
            }
            use(e) {
                if (!e)
                    throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");
                if (!e.type)
                    throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");
                return "backend" === e.type && (this.modules.backend = e),
                ("logger" === e.type || e.log && e.warn && e.error) && (this.modules.logger = e),
                "languageDetector" === e.type && (this.modules.languageDetector = e),
                "i18nFormat" === e.type && (this.modules.i18nFormat = e),
                "postProcessor" === e.type && T.addPostProcessor(e),
                "formatter" === e.type && (this.modules.formatter = e),
                "3rdParty" === e.type && this.modules.external.push(e),
                this
            }
            setResolvedLanguage(e) {
                if (e && this.languages && !(["cimode", "dev"].indexOf(e) > -1))
                    for (let e = 0; e < this.languages.length; e++) {
                        let t = this.languages[e];
                        if (!(["cimode", "dev"].indexOf(t) > -1) && this.store.hasLanguageSomeTranslations(t)) {
                            this.resolvedLanguage = t;
                            break
                        }
                    }
            }
            changeLanguage(e, t) {
                var n = this;
                this.isLanguageChangingTo = e;
                let r = s();
                this.emit("languageChanging", e);
                let i = e => {
                    this.language = e,
                    this.languages = this.services.languageUtils.toResolveHierarchy(e),
                    this.resolvedLanguage = void 0,
                    this.setResolvedLanguage(e)
                }
                  , o = (e, o) => {
                    o ? (i(o),
                    this.translator.changeLanguage(o),
                    this.isLanguageChangingTo = void 0,
                    this.emit("languageChanged", o),
                    this.logger.log("languageChanged", o)) : this.isLanguageChangingTo = void 0,
                    r.resolve(function() {
                        return n.t(...arguments)
                    }),
                    t && t(e, function() {
                        return n.t(...arguments)
                    })
                }
                  , a = t => {
                    e || t || !this.services.languageDetector || (t = []);
                    let n = "string" == typeof t ? t : this.services.languageUtils.getBestMatchFromCodes(t);
                    n && (this.language || i(n),
                    this.translator.language || this.translator.changeLanguage(n),
                    this.services.languageDetector && this.services.languageDetector.cacheUserLanguage && this.services.languageDetector.cacheUserLanguage(n)),
                    this.loadResources(n, e => {
                        o(e, n)
                    }
                    )
                }
                ;
                return e || !this.services.languageDetector || this.services.languageDetector.async ? !e && this.services.languageDetector && this.services.languageDetector.async ? 0 === this.services.languageDetector.detect.length ? this.services.languageDetector.detect().then(a) : this.services.languageDetector.detect(a) : a(e) : a(this.services.languageDetector.detect()),
                r
            }
            getFixedT(e, t, n) {
                var r = this;
                let i = function(e, t) {
                    let o, a;
                    if ("object" != typeof t) {
                        for (var s = arguments.length, l = Array(s > 2 ? s - 2 : 0), u = 2; u < s; u++)
                            l[u - 2] = arguments[u];
                        o = r.options.overloadTranslationOptionHandler([e, t].concat(l))
                    } else
                        o = {
                            ...t
                        };
                    o.lng = o.lng || i.lng,
                    o.lngs = o.lngs || i.lngs,
                    o.ns = o.ns || i.ns,
                    "" !== o.keyPrefix && (o.keyPrefix = o.keyPrefix || n || i.keyPrefix);
                    let c = r.options.keySeparator || ".";
                    return a = o.keyPrefix && Array.isArray(e) ? e.map(e => `${o.keyPrefix}${c}${e}`) : o.keyPrefix ? `${o.keyPrefix}${c}${e}` : e,
                    r.t(a, o)
                };
                return "string" == typeof e ? i.lng = e : i.lngs = e,
                i.ns = t,
                i.keyPrefix = n,
                i
            }
            t() {
                return this.translator && this.translator.translate(...arguments)
            }
            exists() {
                return this.translator && this.translator.exists(...arguments)
            }
            setDefaultNamespace(e) {
                this.options.defaultNS = e
            }
            hasLoadedNamespace(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                if (!this.isInitialized)
                    return this.logger.warn("hasLoadedNamespace: i18next was not initialized", this.languages),
                    !1;
                if (!this.languages || !this.languages.length)
                    return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty", this.languages),
                    !1;
                let n = t.lng || this.resolvedLanguage || this.languages[0]
                  , r = !!this.options && this.options.fallbackLng
                  , i = this.languages[this.languages.length - 1];
                if ("cimode" === n.toLowerCase())
                    return !0;
                let o = (e, t) => {
                    let n = this.services.backendConnector.state[`${e}|${t}`];
                    return -1 === n || 0 === n || 2 === n
                }
                ;
                if (t.precheck) {
                    let e = t.precheck(this, o);
                    if (void 0 !== e)
                        return e
                }
                return !!(this.hasResourceBundle(n, e) || !this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages || o(n, e) && (!r || o(i, e)))
            }
            loadNamespaces(e, t) {
                let n = s();
                return this.options.ns ? ("string" == typeof e && (e = [e]),
                e.forEach(e => {
                    0 > this.options.ns.indexOf(e) && this.options.ns.push(e)
                }
                ),
                this.loadResources(e => {
                    n.resolve(),
                    t && t(e)
                }
                ),
                n) : (t && t(),
                Promise.resolve())
            }
            loadLanguages(e, t) {
                let n = s();
                "string" == typeof e && (e = [e]);
                let r = this.options.preload || []
                  , i = e.filter(e => 0 > r.indexOf(e) && this.services.languageUtils.isSupportedCode(e));
                return i.length ? (this.options.preload = r.concat(i),
                this.loadResources(e => {
                    n.resolve(),
                    t && t(e)
                }
                ),
                n) : (t && t(),
                Promise.resolve())
            }
            dir(e) {
                return (e || (e = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language)),
                e) ? ["ar", "shu", "sqr", "ssh", "xaa", "yhd", "yud", "aao", "abh", "abv", "acm", "acq", "acw", "acx", "acy", "adf", "ads", "aeb", "aec", "afb", "ajp", "apc", "apd", "arb", "arq", "ars", "ary", "arz", "auz", "avl", "ayh", "ayl", "ayn", "ayp", "bbz", "pga", "he", "iw", "ps", "pbt", "pbu", "pst", "prp", "prd", "ug", "ur", "ydd", "yds", "yih", "ji", "yi", "hbo", "men", "xmn", "fa", "jpr", "peo", "pes", "prs", "dv", "sam", "ckb"].indexOf((this.services && this.services.languageUtils || new C(W())).getLanguagePartFromCode(e)) > -1 || e.toLowerCase().indexOf("-arab") > 1 ? "rtl" : "ltr" : "rtl"
            }
            static createInstance() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , t = arguments.length > 1 ? arguments[1] : void 0;
                return new Q(e,t)
            }
            cloneInstance() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : K
                  , n = e.forkResourceStore;
                n && delete e.forkResourceStore;
                let r = {
                    ...this.options,
                    ...e,
                    isClone: !0
                }
                  , i = new Q(r);
                return (void 0 !== e.debug || void 0 !== e.prefix) && (i.logger = i.logger.clone(e)),
                ["store", "services", "language"].forEach(e => {
                    i[e] = this[e]
                }
                ),
                i.services = {
                    ...this.services
                },
                i.services.utils = {
                    hasLoadedNamespace: i.hasLoadedNamespace.bind(i)
                },
                n && (i.store = new I(this.store.data,r),
                i.services.resourceStore = i.store),
                i.translator = new k(i.services,r),
                i.translator.on("*", function(e) {
                    for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                        n[r - 1] = arguments[r];
                    i.emit(e, ...n)
                }),
                i.init(r, t),
                i.translator.options = r,
                i.translator.backendConnector.services.utils = {
                    hasLoadedNamespace: i.hasLoadedNamespace.bind(i)
                },
                i
            }
            toJSON() {
                return {
                    options: this.options,
                    store: this.store,
                    language: this.language,
                    languages: this.languages,
                    resolvedLanguage: this.resolvedLanguage
                }
            }
        }
        let ee = Q.createInstance();
        ee.createInstance = Q.createInstance,
        ee.createInstance,
        ee.dir,
        ee.init,
        ee.loadResources,
        ee.reloadResources,
        ee.use,
        ee.changeLanguage,
        ee.getFixedT,
        ee.t,
        ee.exists,
        ee.setDefaultNamespace,
        ee.hasLoadedNamespace,
        ee.loadNamespaces,
        ee.loadLanguages
    },
    48583: function(e, t, n) {
        "use strict";
        n.d(t, {
            KO: function() {
                return c
            },
            zt: function() {
                return s
            }
        });
        var r = n(67294)
          , i = n(15103);
        let o = (0,
        r.createContext)(void 0)
          , a = e => {
            let t = (0,
            r.useContext)(o);
            return (null == e ? void 0 : e.store) || t || (0,
            i.K7)()
        }
          , s = ({children: e, store: t}) => {
            let n = (0,
            r.useRef)();
            return t || n.current || (n.current = (0,
            i.MT)()),
            (0,
            r.createElement)(o.Provider, {
                value: t || n.current
            }, e)
        }
          , l = e => "function" == typeof (null == e ? void 0 : e.then)
          , u = r.use || (e => {
            if ("pending" === e.status)
                throw e;
            if ("fulfilled" === e.status)
                return e.value;
            if ("rejected" === e.status)
                throw e.reason;
            throw e.status = "pending",
            e.then(t => {
                e.status = "fulfilled",
                e.value = t
            }
            , t => {
                e.status = "rejected",
                e.reason = t
            }
            ),
            e
        }
        );
        function c(e, t) {
            return [function(e, t) {
                let n = a(t)
                  , [[i,o,s],c] = (0,
                r.useReducer)(t => {
                    let r = n.get(e);
                    return Object.is(t[0], r) && t[1] === n && t[2] === e ? t : [r, n, e]
                }
                , void 0, () => [n.get(e), n, e])
                  , d = i;
                (o !== n || s !== e) && (c(),
                d = n.get(e));
                let f = null == t ? void 0 : t.delay;
                return (0,
                r.useEffect)( () => {
                    let t = n.sub(e, () => {
                        if ("number" == typeof f) {
                            setTimeout(c, f);
                            return
                        }
                        c()
                    }
                    );
                    return c(),
                    t
                }
                , [n, e, f]),
                (0,
                r.useDebugValue)(d),
                l(d) ? u(d) : d
            }(e, t), function(e, t) {
                let n = a(t);
                return (0,
                r.useCallback)( (...t) => {
                    if (!("write"in e))
                        throw Error("not writable atom");
                    return n.set(e, ...t)
                }
                , [n, e])
            }(e, t)]
        }
    },
    15103: function(e, t, n) {
        "use strict";
        let r;
        n.d(t, {
            K7: function() {
                return E
            },
            MT: function() {
                return b
            },
            cn: function() {
                return o
            }
        });
        let i = 0;
        function o(e, t) {
            let n = `atom${++i}`
              , r = {
                toString: () => n
            };
            return "function" == typeof e ? r.read = e : (r.init = e,
            r.read = e => e(r),
            r.write = (e, t, n) => t(r, "function" == typeof n ? n(e(r)) : n)),
            t && (r.write = t),
            r
        }
        let a = e => "init"in e
          , s = e => !!e.write
          , l = new WeakMap
          , u = (e, t) => {
            l.set(e, t),
            e.catch( () => {}
            ).finally( () => l.delete(e))
        }
          , c = (e, t) => {
            let n = l.get(e);
            n && (l.delete(e),
            n(t))
        }
          , d = (e, t) => {
            e.status = "fulfilled",
            e.value = t
        }
          , f = (e, t) => {
            e.status = "rejected",
            e.reason = t
        }
          , h = e => "function" == typeof (null == e ? void 0 : e.then)
          , p = (e, t) => "v"in e && "v"in t && Object.is(e.v, t.v)
          , g = (e, t) => "e"in e && "e"in t && Object.is(e.e, t.e)
          , m = e => "v"in e && e.v instanceof Promise
          , v = (e, t) => "v"in e && "v"in t && e.v.orig && e.v.orig === t.v.orig
          , y = e => {
            if ("e"in e)
                throw e.e;
            return e.v
        }
          , b = () => {
            let e, t;
            let n = new WeakMap
              , r = new WeakMap
              , i = new Map;
            e = new Set,
            t = new Set;
            let o = e => n.get(e)
              , l = (e, t) => {
                Object.freeze(t);
                let r = n.get(e);
                if (n.set(e, t),
                i.has(e) || i.set(e, r),
                r && m(r)) {
                    let e = "v"in t ? t.v instanceof Promise ? t.v : Promise.resolve(t.v) : Promise.reject(t.e);
                    c(r.v, e)
                }
            }
              , b = (e, t, n) => {
                let r = new Map
                  , i = !1;
                n.forEach( (n, o) => {
                    n || o !== e || (n = t),
                    n ? (r.set(o, n),
                    t.d.get(o) !== n && (i = !0)) : console.warn("[Bug] atom state not found")
                }
                ),
                (i || t.d.size !== r.size) && (t.d = r)
            }
              , E = (e, t, n) => {
                let r = o(e)
                  , i = {
                    d: (null == r ? void 0 : r.d) || new Map,
                    v: t
                };
                if (n && b(e, i, n),
                r && p(r, i) && r.d === i.d)
                    return r;
                if (r && m(r) && m(i) && v(r, i)) {
                    if (r.d === i.d)
                        return r;
                    i.v = r.v
                }
                return l(e, i),
                i
            }
              , _ = (e, t, n, i) => {
                if (h(t)) {
                    let a;
                    let s = new Promise( (i, l) => {
                        let u = !1;
                        t.then(t => {
                            if (!u) {
                                u = !0;
                                let a = o(e)
                                  , l = E(e, s, n);
                                d(s, t),
                                i(t),
                                r.has(e) && (null == a ? void 0 : a.d) !== l.d && N(e, l, null == a ? void 0 : a.d)
                            }
                        }
                        , t => {
                            if (!u) {
                                u = !0;
                                let i = o(e)
                                  , a = E(e, s, n);
                                f(s, t),
                                l(t),
                                r.has(e) && (null == i ? void 0 : i.d) !== a.d && N(e, a, null == i ? void 0 : i.d)
                            }
                        }
                        ),
                        a = e => {
                            u || (u = !0,
                            e.then(e => d(s, e), e => f(s, e)),
                            i(e))
                        }
                    }
                    );
                    return s.orig = t,
                    s.status = "pending",
                    u(s, e => {
                        e && a(e),
                        null == i || i()
                    }
                    ),
                    E(e, s, n)
                }
                return E(e, t, n)
            }
              , w = (e, t, n) => {
                let r = o(e)
                  , i = {
                    d: (null == r ? void 0 : r.d) || new Map,
                    e: t
                };
                return (n && b(e, i, n),
                r && g(r, i) && r.d === i.d) ? r : (l(e, i),
                i)
            }
              , O = (e, t) => {
                let n, i;
                let l = o(e);
                if (!t && l && (r.has(e) || Array.from(l.d).every( ([t,n]) => t === e || O(t) === n)))
                    return l;
                let u = new Map
                  , c = !0;
                try {
                    let t = e.read(t => {
                        if (t === e) {
                            let e = o(t);
                            if (e)
                                return u.set(t, e),
                                y(e);
                            if (a(t))
                                return u.set(t, void 0),
                                t.init;
                            throw Error("no atom init")
                        }
                        let n = O(t);
                        return u.set(t, n),
                        y(n)
                    }
                    , {
                        get signal() {
                            return n || (n = new AbortController),
                            n.signal
                        },
                        get setSelf() {
                            return s(e) || console.warn("setSelf function cannot be used with read-only atom"),
                            !i && s(e) && (i = (...t) => {
                                if (c && console.warn("setSelf function cannot be called in sync"),
                                !c)
                                    return T(e, ...t)
                            }
                            ),
                            i
                        }
                    });
                    return _(e, t, u, () => null == n ? void 0 : n.abort())
                } catch (t) {
                    return w(e, t, u)
                } finally {
                    c = !1
                }
            }
              , A = e => {
                let t = r.get(e);
                return t || (t = x(e)),
                t
            }
              , S = (e, t) => !t.l.size && (!t.t.size || 1 === t.t.size && t.t.has(e))
              , P = e => {
                let t = r.get(e);
                t && S(e, t) && k(e)
            }
              , R = e => {
                let t = new Map
                  , n = new WeakMap
                  , a = e => {
                    var t;
                    let n = new Set(null == (t = r.get(e)) ? void 0 : t.t);
                    return i.forEach( (t, r) => {
                        var i;
                        (null == (i = o(r)) ? void 0 : i.d.has(e)) && n.add(r)
                    }
                    ),
                    n
                }
                  , s = e => {
                    a(e).forEach(r => {
                        r !== e && (t.set(r, (t.get(r) || new Set).add(e)),
                        n.set(r, (n.get(r) || 0) + 1),
                        s(r))
                    }
                    )
                }
                ;
                s(e);
                let l = e => {
                    a(e).forEach(r => {
                        var i;
                        if (r !== e) {
                            let e = n.get(r);
                            if (e && n.set(r, --e),
                            !e) {
                                let e = !!(null == (i = t.get(r)) ? void 0 : i.size);
                                if (e) {
                                    let t = o(r)
                                      , n = O(r, !0);
                                    e = !t || !p(t, n)
                                }
                                e || t.forEach(e => e.delete(r))
                            }
                            l(r)
                        }
                    }
                    )
                }
                ;
                l(e)
            }
              , I = (t, ...n) => {
                let r = !0
                  , i = t.write(e => y(O(e)), (n, ...i) => {
                    let s;
                    if (n === t) {
                        if (!a(n))
                            throw Error("atom not writable");
                        let e = o(n)
                          , t = _(n, i[0]);
                        e && p(e, t) || R(n)
                    } else
                        s = I(n, ...i);
                    if (!r) {
                        let t = C();
                        e.forEach(e => e({
                            type: "async-write",
                            flushed: t
                        }))
                    }
                    return s
                }
                , ...n);
                return r = !1,
                i
            }
              , T = (t, ...n) => {
                let r = I(t, ...n)
                  , i = C();
                return e.forEach(e => e({
                    type: "write",
                    flushed: i
                })),
                r
            }
              , x = (e, n, i) => {
                var a;
                let l = i || [];
                null == (a = o(e)) || a.d.forEach( (t, n) => {
                    let i = r.get(n);
                    i ? i.t.add(e) : n !== e && x(n, e, l)
                }
                ),
                O(e);
                let u = {
                    t: new Set(n && [n]),
                    l: new Set
                };
                if (r.set(e, u),
                t.add(e),
                s(e) && e.onMount) {
                    let {onMount: t} = e;
                    l.push( () => {
                        let n = t( (...t) => T(e, ...t));
                        n && (u.u = n)
                    }
                    )
                }
                return i || l.forEach(e => e()),
                u
            }
              , k = e => {
                var n;
                let i = null == (n = r.get(e)) ? void 0 : n.u;
                i && i(),
                r.delete(e),
                t.delete(e);
                let a = o(e);
                a ? (m(a) && c(a.v),
                a.d.forEach( (t, n) => {
                    if (n !== e) {
                        let t = r.get(n);
                        t && (t.t.delete(e),
                        S(n, t) && k(n))
                    }
                }
                )) : console.warn("[Bug] could not find atom state to unmount", e)
            }
              , N = (e, t, n) => {
                let i = new Set(t.d.keys());
                null == n || n.forEach( (t, n) => {
                    if (i.has(n)) {
                        i.delete(n);
                        return
                    }
                    let o = r.get(n);
                    o && (o.t.delete(e),
                    S(n, o) && k(n))
                }
                ),
                i.forEach(t => {
                    let n = r.get(t);
                    n ? n.t.add(e) : r.has(e) && x(t, e)
                }
                )
            }
              , C = () => {
                let e;
                for (e = new Set; i.size; ) {
                    let t = Array.from(i);
                    i.clear(),
                    t.forEach( ([t,n]) => {
                        let i = o(t);
                        if (i) {
                            let o = r.get(t);
                            o && i.d !== (null == n ? void 0 : n.d) && N(t, i, null == n ? void 0 : n.d),
                            o && !(n && !m(n) && (p(n, i) || g(n, i))) && (o.l.forEach(e => e()),
                            e.add(t))
                        } else
                            console.warn("[Bug] no atom state to flush")
                    }
                    )
                }
                return e
            }
            ;
            return {
                get: e => y(O(e)),
                set: T,
                sub: (t, n) => {
                    let r = A(t)
                      , i = C()
                      , o = r.l;
                    return o.add(n),
                    e.forEach(e => e({
                        type: "sub",
                        flushed: i
                    })),
                    () => {
                        o.delete(n),
                        P(t),
                        e.forEach(e => e({
                            type: "unsub"
                        }))
                    }
                }
                ,
                dev_subscribe_store: (t, n) => {
                    if (2 !== n)
                        throw Error("The current StoreListener revision is 2.");
                    return e.add(t),
                    () => {
                        e.delete(t)
                    }
                }
                ,
                dev_get_mounted_atoms: () => t.values(),
                dev_get_atom_state: e => n.get(e),
                dev_get_mounted: e => r.get(e),
                dev_restore_atoms: t => {
                    for (let[e,n] of t)
                        a(e) && (_(e, n),
                        R(e));
                    let n = C();
                    e.forEach(e => e({
                        type: "restore",
                        flushed: n
                    }))
                }
            }
        }
        ;
        "number" == typeof globalThis.__NUMBER_OF_JOTAI_INSTANCES__ ? ++globalThis.__NUMBER_OF_JOTAI_INSTANCES__ : globalThis.__NUMBER_OF_JOTAI_INSTANCES__ = 1;
        let E = () => (r || (1 !== globalThis.__NUMBER_OF_JOTAI_INSTANCES__ && console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"),
        r = b()),
        r)
    },
    67421: function(e, t, n) {
        "use strict";
        let r;
        n.d(t, {
            Db: function() {
                return w
            },
            $G: function() {
                return I
            }
        });
        var i = n(67294);
        n(71739),
        Object.create(null);
        let o = (...e) => {
            console?.warn && (f(e[0]) && (e[0] = `react-i18next:: ${e[0]}`),
            console.warn(...e))
        }
          , a = {}
          , s = (...e) => {
            f(e[0]) && a[e[0]] || (f(e[0]) && (a[e[0]] = new Date),
            o(...e))
        }
          , l = (e, t) => () => {
            if (e.isInitialized)
                t();
            else {
                let n = () => {
                    setTimeout( () => {
                        e.off("initialized", n)
                    }
                    , 0),
                    t()
                }
                ;
                e.on("initialized", n)
            }
        }
          , u = (e, t, n) => {
            e.loadNamespaces(t, l(e, n))
        }
          , c = (e, t, n, r) => {
            f(n) && (n = [n]),
            n.forEach(t => {
                0 > e.options.ns.indexOf(t) && e.options.ns.push(t)
            }
            ),
            e.loadLanguages(t, l(e, r))
        }
          , d = (e, t, n={}) => t.languages && t.languages.length ? t.hasLoadedNamespace(e, {
            lng: n.lng,
            precheck: (t, r) => {
                if (n.bindI18n?.indexOf("languageChanging") > -1 && t.services.backendConnector.backend && t.isLanguageChangingTo && !r(t.isLanguageChangingTo, e))
                    return !1
            }
        }) : (s("i18n.languages were undefined or empty", t.languages),
        !0)
          , f = e => "string" == typeof e
          , h = e => "object" == typeof e && null !== e
          , p = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g
          , g = {
            "&amp;": "&",
            "&#38;": "&",
            "&lt;": "<",
            "&#60;": "<",
            "&gt;": ">",
            "&#62;": ">",
            "&apos;": "'",
            "&#39;": "'",
            "&quot;": '"',
            "&#34;": '"',
            "&nbsp;": " ",
            "&#160;": " ",
            "&copy;": "\xa9",
            "&#169;": "\xa9",
            "&reg;": "\xae",
            "&#174;": "\xae",
            "&hellip;": "…",
            "&#8230;": "…",
            "&#x2F;": "/",
            "&#47;": "/"
        }
          , m = e => g[e]
          , v = {
            bindI18n: "languageChanged",
            bindI18nStore: "",
            transEmptyNodeValue: "",
            transSupportBasicHtmlNodes: !0,
            transWrapTextNodes: "",
            transKeepBasicHtmlNodesFor: ["br", "strong", "i", "p"],
            useSuspense: !0,
            unescape: e => e.replace(p, m)
        }
          , y = (e={}) => {
            v = {
                ...v,
                ...e
            }
        }
          , b = () => v
          , E = e => {
            r = e
        }
          , _ = () => r
          , w = {
            type: "3rdParty",
            init(e) {
                y(e.options.react),
                E(e)
            }
        }
          , O = (0,
        i.createContext)();
        class A {
            constructor() {
                this.usedNamespaces = {}
            }
            addUsedNamespaces(e) {
                e.forEach(e => {
                    this.usedNamespaces[e] ??= !0
                }
                )
            }
            getUsedNamespaces() {
                return Object.keys(this.usedNamespaces)
            }
        }
        let S = (e, t) => {
            let n = (0,
            i.useRef)();
            return (0,
            i.useEffect)( () => {
                n.current = t ? n.current : e
            }
            , [e, t]),
            n.current
        }
          , P = (e, t, n, r) => e.getFixedT(t, n, r)
          , R = (e, t, n, r) => (0,
        i.useCallback)(P(e, t, n, r), [e, t, n, r])
          , I = (e, t={}) => {
            let {i18n: n} = t
              , {i18n: r, defaultNS: o} = (0,
            i.useContext)(O) || {}
              , a = n || r || _();
            if (a && !a.reportNamespaces && (a.reportNamespaces = new A),
            !a) {
                s("You will need to pass in an i18next instance by using initReactI18next");
                let e = (e, t) => f(t) ? t : h(t) && f(t.defaultValue) ? t.defaultValue : Array.isArray(e) ? e[e.length - 1] : e
                  , t = [e, {}, !1];
                return t.t = e,
                t.i18n = {},
                t.ready = !1,
                t
            }
            a.options.react?.wait && s("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");
            let l = {
                ...b(),
                ...a.options.react,
                ...t
            }
              , {useSuspense: p, keyPrefix: g} = l
              , m = e || o || a.options?.defaultNS;
            m = f(m) ? [m] : m || ["translation"],
            a.reportNamespaces.addUsedNamespaces?.(m);
            let v = (a.isInitialized || a.initializedStoreOnce) && m.every(e => d(e, a, l))
              , y = R(a, t.lng || null, "fallback" === l.nsMode ? m : m[0], g)
              , E = () => y
              , w = () => P(a, t.lng || null, "fallback" === l.nsMode ? m : m[0], g)
              , [I,T] = (0,
            i.useState)(E)
              , x = m.join();
            t.lng && (x = `${t.lng}${x}`);
            let k = S(x)
              , N = (0,
            i.useRef)(!0);
            (0,
            i.useEffect)( () => {
                let {bindI18n: e, bindI18nStore: n} = l;
                N.current = !0,
                v || p || (t.lng ? c(a, t.lng, m, () => {
                    N.current && T(w)
                }
                ) : u(a, m, () => {
                    N.current && T(w)
                }
                )),
                v && k && k !== x && N.current && T(w);
                let r = () => {
                    N.current && T(w)
                }
                ;
                return e && a?.on(e, r),
                n && a?.store.on(n, r),
                () => {
                    N.current = !1,
                    a && e?.split(" ").forEach(e => a.off(e, r)),
                    n && a && n.split(" ").forEach(e => a.store.off(e, r))
                }
            }
            , [a, x]),
            (0,
            i.useEffect)( () => {
                N.current && v && T(E)
            }
            , [a, g, v]);
            let C = [I, a, v];
            if (C.t = I,
            C.i18n = a,
            C.ready = v,
            v || !v && !p)
                return C;
            throw new Promise(e => {
                t.lng ? c(a, t.lng, m, () => e()) : u(a, m, () => e())
            }
            )
        }
    }
}, function(e) {
    var t = function(t) {
        return e(e.s = t)
    };
    e.O(0, [774, 179], function() {
        return t(6840),
        t(26036)
    }),
    _N_E = e.O()
}
]);
